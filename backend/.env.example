
# ============================
# Human Verification (Cloudflare Turnstile)
# ============================
# Backend secret key used to verify Turnstile tokens server-side.
# If empty, verification is skipped (logged as warning) – do NOT leave empty in production.
TURNSTILE_SECRET_KEY=
# Allow TURNSTILE_SKIPPED dev tokens (true/false) - never enable in production
TURNSTILE_DEV_BYPASS=false
# Failed login attempt threshold before captcha required
LOGIN_FAILED_CAPTCHA_THRESHOLD=5
# Verbose Turnstile logs (true/false)
TURNSTILE_LOG_VERBOSE=false
# Database
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=moneyflow
DATABASE_PASSWORD=your_database_password
DATABASE_NAME=moneyflow_dev

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# JWT - GÜVENLİ ANAHTAR KULLANIN!
JWT_SECRET=your_super_secret_jwt_key_min_256_bits_long_very_secure_key_here
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your_refresh_token_secret_key_different_from_access_token
JWT_REFRESH_EXPIRES_IN=7d

# Admin Credentials - MUTLAKA HASH'LENMİŞ ŞİFRE KULLANIN!
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=$2b$10$hash_of_your_admin_password_here

# App
PORT=3000
NODE_ENV=development

# CORS (virgülle ayırın, sadece production'da kullanılır)
# Örnek: https://app.mycompany.com,https://admin.mycompany.com
CORS_ORIGINS=

# CSRF
# Production'da sabit ve güçlü bir değer sağlayın
CSRF_SECRET=

# ============================
# Email & Auth Flow Settings
# ============================
# E-posta sağlayıcısı: "mailersend" | "smtp" | "log"
MAIL_PROVIDER=mailersend
# Gönderici adresi (MailerSend domain'iniz doğrulanmış olmalı)
# Örn: Comptario <noreply@comptario.com>
MAIL_FROM=Comptario <noreply@comptario.com>
# Yanıt adresi (opsiyonel)
MAIL_REPLY_TO=support@comptario.com
# MailerSend API anahtarı (MAIL_PROVIDER=mailersend için gerekli)
MAILERSEND_API_KEY=your_mailersend_api_key_here
# MailerSend webhook paylaşılan gizli anahtarı (bounces/complaints için)
MAILERSEND_WEBHOOK_SECRET=optional_shared_secret

# Frontend temel URL (doğrulama/sıfırlama linkleri burada oluşturulur)
FRONTEND_URL=http://localhost:5174

# E-posta doğrulaması zorunlu mu?
EMAIL_VERIFICATION_REQUIRED=true

# Token ömürleri ve yeniden gönderim bekleme süresi
VERIFICATION_TOKEN_TTL_HOURS=24
RESET_TOKEN_TTL_MINUTES=60
RESEND_COOLDOWN_SECONDS=60

# Parola politikası
PASSWORD_MIN_LENGTH=12
PASSWORD_MIN_SCORE=3

# Auth endpoint rate limitleri (dakika başına, IP başına)
SIGNUP_RATE_LIMIT=5
FORGOT_RATE_LIMIT=5
RESET_RATE_LIMIT=5
VERIFY_RATE_LIMIT=10
RESEND_RATE_LIMIT=5
WEBHOOK_SNS_RATE_LIMIT=120

# MailerSend etkinlik webhook'u için shared secret (doküman: backend/MAILERSEND_WEBHOOKS.md)
# MAILERSEND_WEBHOOK_SECRET değerini burada veya secret store'da tutabilirsiniz.

# Admin suppression UI/endpoint (listeleme/silme)
ADMIN_ALLOWED_IPS=127.0.0.1,::1,localhost

# ============================
# Security Headers / CSP
# ============================
# Opsiyonel CSP nonce üretimi (script-src 'nonce-...') etkin olsun mu?