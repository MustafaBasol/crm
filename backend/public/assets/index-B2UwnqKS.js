(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))f(m);new MutationObserver(m=>{for(const d of m)if(d.type==="childList")for(const s of d.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&f(s)}).observe(document,{childList:!0,subtree:!0});function t(m){const d={};return m.integrity&&(d.integrity=m.integrity),m.referrerPolicy&&(d.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?d.credentials="include":m.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(m){if(m.ep)return;m.ep=!0;const d=t(m);fetch(m.href,d)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _x(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var Ru={exports:{}},Ko={},zu={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function Ex(){if(Of)return jr;Of=1;var k=Symbol.for("react.element"),x=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),n=Symbol.for("react.lazy"),l=Symbol.iterator;function o(I){return I===null||typeof I!="object"?null:(I=l&&I[l]||I["@@iterator"],typeof I=="function"?I:null)}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function h(I,L,G){this.props=I,this.context=L,this.refs=g,this.updater=G||c}h.prototype.isReactComponent={},h.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},h.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function y(){}y.prototype=h.prototype;function b(I,L,G){this.props=I,this.context=L,this.refs=g,this.updater=G||c}var C=b.prototype=new y;C.constructor=b,p(C,h.prototype),C.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function O(I,L,G){var X,re={},q=null,ee=null;if(L!=null)for(X in L.ref!==void 0&&(ee=L.ref),L.key!==void 0&&(q=""+L.key),L)D.call(L,X)&&!H.hasOwnProperty(X)&&(re[X]=L[X]);var R=arguments.length-2;if(R===1)re.children=G;else if(1<R){for(var z=Array(R),W=0;W<R;W++)z[W]=arguments[W+2];re.children=z}if(I&&I.defaultProps)for(X in R=I.defaultProps,R)re[X]===void 0&&(re[X]=R[X]);return{$$typeof:k,type:I,key:q,ref:ee,props:re,_owner:F.current}}function $(I,L){return{$$typeof:k,type:I.type,key:L,ref:I.ref,props:I.props,_owner:I._owner}}function B(I){return typeof I=="object"&&I!==null&&I.$$typeof===k}function K(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(G){return L[G]})}var U=/\/+/g;function _(I,L){return typeof I=="object"&&I!==null&&I.key!=null?K(""+I.key):L.toString(36)}function M(I,L,G,X,re){var q=typeof I;(q==="undefined"||q==="boolean")&&(I=null);var ee=!1;if(I===null)ee=!0;else switch(q){case"string":case"number":ee=!0;break;case"object":switch(I.$$typeof){case k:case x:ee=!0}}if(ee)return ee=I,re=re(ee),I=X===""?"."+_(ee,0):X,T(re)?(G="",I!=null&&(G=I.replace(U,"$&/")+"/"),M(re,L,G,"",function(W){return W})):re!=null&&(B(re)&&(re=$(re,G+(!re.key||ee&&ee.key===re.key?"":(""+re.key).replace(U,"$&/")+"/")+I)),L.push(re)),1;if(ee=0,X=X===""?".":X+":",T(I))for(var R=0;R<I.length;R++){q=I[R];var z=X+_(q,R);ee+=M(q,L,G,z,re)}else if(z=o(I),typeof z=="function")for(I=z.call(I),R=0;!(q=I.next()).done;)q=q.value,z=X+_(q,R++),ee+=M(q,L,G,z,re);else if(q==="object")throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ee}function A(I,L,G){if(I==null)return I;var X=[],re=0;return M(I,X,"","",function(q){return L.call(G,q,re++)}),X}function N(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(G){(I._status===0||I._status===-1)&&(I._status=1,I._result=G)},function(G){(I._status===0||I._status===-1)&&(I._status=2,I._result=G)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var S={current:null},w={transition:null},j={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:w,ReactCurrentOwner:F};function E(){throw Error("act(...) is not supported in production builds of React.")}return jr.Children={map:A,forEach:function(I,L,G){A(I,function(){L.apply(this,arguments)},G)},count:function(I){var L=0;return A(I,function(){L++}),L},toArray:function(I){return A(I,function(L){return L})||[]},only:function(I){if(!B(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},jr.Component=h,jr.Fragment=t,jr.Profiler=m,jr.PureComponent=b,jr.StrictMode=f,jr.Suspense=i,jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,jr.act=E,jr.cloneElement=function(I,L,G){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var X=p({},I.props),re=I.key,q=I.ref,ee=I._owner;if(L!=null){if(L.ref!==void 0&&(q=L.ref,ee=F.current),L.key!==void 0&&(re=""+L.key),I.type&&I.type.defaultProps)var R=I.type.defaultProps;for(z in L)D.call(L,z)&&!H.hasOwnProperty(z)&&(X[z]=L[z]===void 0&&R!==void 0?R[z]:L[z])}var z=arguments.length-2;if(z===1)X.children=G;else if(1<z){R=Array(z);for(var W=0;W<z;W++)R[W]=arguments[W+2];X.children=R}return{$$typeof:k,type:I.type,key:re,ref:q,props:X,_owner:ee}},jr.createContext=function(I){return I={$$typeof:s,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:d,_context:I},I.Consumer=I},jr.createElement=O,jr.createFactory=function(I){var L=O.bind(null,I);return L.type=I,L},jr.createRef=function(){return{current:null}},jr.forwardRef=function(I){return{$$typeof:a,render:I}},jr.isValidElement=B,jr.lazy=function(I){return{$$typeof:n,_payload:{_status:-1,_result:I},_init:N}},jr.memo=function(I,L){return{$$typeof:r,type:I,compare:L===void 0?null:L}},jr.startTransition=function(I){var L=w.transition;w.transition={};try{I()}finally{w.transition=L}},jr.unstable_act=E,jr.useCallback=function(I,L){return S.current.useCallback(I,L)},jr.useContext=function(I){return S.current.useContext(I)},jr.useDebugValue=function(){},jr.useDeferredValue=function(I){return S.current.useDeferredValue(I)},jr.useEffect=function(I,L){return S.current.useEffect(I,L)},jr.useId=function(){return S.current.useId()},jr.useImperativeHandle=function(I,L,G){return S.current.useImperativeHandle(I,L,G)},jr.useInsertionEffect=function(I,L){return S.current.useInsertionEffect(I,L)},jr.useLayoutEffect=function(I,L){return S.current.useLayoutEffect(I,L)},jr.useMemo=function(I,L){return S.current.useMemo(I,L)},jr.useReducer=function(I,L,G){return S.current.useReducer(I,L,G)},jr.useRef=function(I){return S.current.useRef(I)},jr.useState=function(I){return S.current.useState(I)},jr.useSyncExternalStore=function(I,L,G){return S.current.useSyncExternalStore(I,L,G)},jr.useTransition=function(){return S.current.useTransition()},jr.version="18.3.1",jr}var Lf;function Qc(){return Lf||(Lf=1,zu.exports=Ex()),zu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function Tx(){if(Ff)return Ko;Ff=1;var k=Qc(),x=Symbol.for("react.element"),t=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,m=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function s(a,i,r){var n,l={},o=null,c=null;r!==void 0&&(o=""+r),i.key!==void 0&&(o=""+i.key),i.ref!==void 0&&(c=i.ref);for(n in i)f.call(i,n)&&!d.hasOwnProperty(n)&&(l[n]=i[n]);if(a&&a.defaultProps)for(n in i=a.defaultProps,i)l[n]===void 0&&(l[n]=i[n]);return{$$typeof:x,type:a,key:o,ref:c,props:l,_owner:m.current}}return Ko.Fragment=t,Ko.jsx=s,Ko.jsxs=s,Ko}var Bf;function Px(){return Bf||(Bf=1,Ru.exports=Tx()),Ru.exports}var e=Px(),Z=Qc();const sr=_x(Z);var vc={},Ou={exports:{}},sn={},Lu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function Dx(){return Uf||(Uf=1,(function(k){function x(w,j){var E=w.length;w.push(j);e:for(;0<E;){var I=E-1>>>1,L=w[I];if(0<m(L,j))w[I]=j,w[E]=L,E=I;else break e}}function t(w){return w.length===0?null:w[0]}function f(w){if(w.length===0)return null;var j=w[0],E=w.pop();if(E!==j){w[0]=E;e:for(var I=0,L=w.length,G=L>>>1;I<G;){var X=2*(I+1)-1,re=w[X],q=X+1,ee=w[q];if(0>m(re,E))q<L&&0>m(ee,re)?(w[I]=ee,w[q]=E,I=q):(w[I]=re,w[X]=E,I=X);else if(q<L&&0>m(ee,E))w[I]=ee,w[q]=E,I=q;else break e}}return j}function m(w,j){var E=w.sortIndex-j.sortIndex;return E!==0?E:w.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;k.unstable_now=function(){return d.now()}}else{var s=Date,a=s.now();k.unstable_now=function(){return s.now()-a}}var i=[],r=[],n=1,l=null,o=3,c=!1,p=!1,g=!1,h=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(w){for(var j=t(r);j!==null;){if(j.callback===null)f(r);else if(j.startTime<=w)f(r),j.sortIndex=j.expirationTime,x(i,j);else break;j=t(r)}}function T(w){if(g=!1,C(w),!p)if(t(i)!==null)p=!0,N(D);else{var j=t(r);j!==null&&S(T,j.startTime-w)}}function D(w,j){p=!1,g&&(g=!1,y(O),O=-1),c=!0;var E=o;try{for(C(j),l=t(i);l!==null&&(!(l.expirationTime>j)||w&&!K());){var I=l.callback;if(typeof I=="function"){l.callback=null,o=l.priorityLevel;var L=I(l.expirationTime<=j);j=k.unstable_now(),typeof L=="function"?l.callback=L:l===t(i)&&f(i),C(j)}else f(i);l=t(i)}if(l!==null)var G=!0;else{var X=t(r);X!==null&&S(T,X.startTime-j),G=!1}return G}finally{l=null,o=E,c=!1}}var F=!1,H=null,O=-1,$=5,B=-1;function K(){return!(k.unstable_now()-B<$)}function U(){if(H!==null){var w=k.unstable_now();B=w;var j=!0;try{j=H(!0,w)}finally{j?_():(F=!1,H=null)}}else F=!1}var _;if(typeof b=="function")_=function(){b(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=U,_=function(){A.postMessage(null)}}else _=function(){h(U,0)};function N(w){H=w,F||(F=!0,_())}function S(w,j){O=h(function(){w(k.unstable_now())},j)}k.unstable_IdlePriority=5,k.unstable_ImmediatePriority=1,k.unstable_LowPriority=4,k.unstable_NormalPriority=3,k.unstable_Profiling=null,k.unstable_UserBlockingPriority=2,k.unstable_cancelCallback=function(w){w.callback=null},k.unstable_continueExecution=function(){p||c||(p=!0,N(D))},k.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<w?Math.floor(1e3/w):5},k.unstable_getCurrentPriorityLevel=function(){return o},k.unstable_getFirstCallbackNode=function(){return t(i)},k.unstable_next=function(w){switch(o){case 1:case 2:case 3:var j=3;break;default:j=o}var E=o;o=j;try{return w()}finally{o=E}},k.unstable_pauseExecution=function(){},k.unstable_requestPaint=function(){},k.unstable_runWithPriority=function(w,j){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var E=o;o=w;try{return j()}finally{o=E}},k.unstable_scheduleCallback=function(w,j,E){var I=k.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?I+E:I):E=I,w){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,w={id:n++,callback:j,priorityLevel:w,startTime:E,expirationTime:L,sortIndex:-1},E>I?(w.sortIndex=E,x(r,w),t(i)===null&&w===t(r)&&(g?(y(O),O=-1):g=!0,S(T,E-I))):(w.sortIndex=L,x(i,w),p||c||(p=!0,N(D))),w},k.unstable_shouldYield=K,k.unstable_wrapCallback=function(w){var j=o;return function(){var E=o;o=j;try{return w.apply(this,arguments)}finally{o=E}}}})(Fu)),Fu}var $f;function Ix(){return $f||($f=1,Lu.exports=Dx()),Lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function Mx(){if(Vf)return sn;Vf=1;var k=Qc(),x=Ix();function t(u){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+u,P=1;P<arguments.length;P++)v+="&args[]="+encodeURIComponent(arguments[P]);return"Minified React error #"+u+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,m={};function d(u,v){s(u,v),s(u+"Capture",v)}function s(u,v){for(m[u]=v,u=0;u<v.length;u++)f.add(v[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n={},l={};function o(u){return i.call(l,u)?!0:i.call(n,u)?!1:r.test(u)?l[u]=!0:(n[u]=!0,!1)}function c(u,v,P,V){if(P!==null&&P.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return V?!1:P!==null?!P.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function p(u,v,P,V){if(v===null||typeof v>"u"||c(u,v,P,V))return!0;if(V)return!1;if(P!==null)switch(P.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function g(u,v,P,V,Y,J,ue){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=V,this.attributeNamespace=Y,this.mustUseProperty=P,this.propertyName=u,this.type=v,this.sanitizeURL=J,this.removeEmptyString=ue}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){h[u]=new g(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var v=u[0];h[v]=new g(v,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){h[u]=new g(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){h[u]=new g(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){h[u]=new g(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){h[u]=new g(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){h[u]=new g(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){h[u]=new g(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){h[u]=new g(u,5,!1,u.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var v=u.replace(y,b);h[v]=new g(v,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var v=u.replace(y,b);h[v]=new g(v,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var v=u.replace(y,b);h[v]=new g(v,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){h[u]=new g(u,1,!1,u.toLowerCase(),null,!1,!1)}),h.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){h[u]=new g(u,1,!1,u.toLowerCase(),null,!0,!0)});function C(u,v,P,V){var Y=h.hasOwnProperty(v)?h[v]:null;(Y!==null?Y.type!==0:V||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(p(v,P,Y,V)&&(P=null),V||Y===null?o(v)&&(P===null?u.removeAttribute(v):u.setAttribute(v,""+P)):Y.mustUseProperty?u[Y.propertyName]=P===null?Y.type===3?!1:"":P:(v=Y.attributeName,V=Y.attributeNamespace,P===null?u.removeAttribute(v):(Y=Y.type,P=Y===3||Y===4&&P===!0?"":""+P,V?u.setAttributeNS(V,v,P):u.setAttribute(v,P))))}var T=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),K=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),w=Symbol.iterator;function j(u){return u===null||typeof u!="object"?null:(u=w&&u[w]||u["@@iterator"],typeof u=="function"?u:null)}var E=Object.assign,I;function L(u){if(I===void 0)try{throw Error()}catch(P){var v=P.stack.trim().match(/\n( *(at )?)/);I=v&&v[1]||""}return`
`+I+u}var G=!1;function X(u,v){if(!u||G)return"";G=!0;var P=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(et){var V=et}Reflect.construct(u,[],v)}else{try{v.call()}catch(et){V=et}u.call(v.prototype)}else{try{throw Error()}catch(et){V=et}u()}}catch(et){if(et&&V&&typeof et.stack=="string"){for(var Y=et.stack.split(`
`),J=V.stack.split(`
`),ue=Y.length-1,_e=J.length-1;1<=ue&&0<=_e&&Y[ue]!==J[_e];)_e--;for(;1<=ue&&0<=_e;ue--,_e--)if(Y[ue]!==J[_e]){if(ue!==1||_e!==1)do if(ue--,_e--,0>_e||Y[ue]!==J[_e]){var Oe=`
`+Y[ue].replace(" at new "," at ");return u.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",u.displayName)),Oe}while(1<=ue&&0<=_e);break}}}finally{G=!1,Error.prepareStackTrace=P}return(u=u?u.displayName||u.name:"")?L(u):""}function re(u){switch(u.tag){case 5:return L(u.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return u=X(u.type,!1),u;case 11:return u=X(u.type.render,!1),u;case 1:return u=X(u.type,!0),u;default:return""}}function q(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case H:return"Fragment";case F:return"Portal";case $:return"Profiler";case O:return"StrictMode";case _:return"Suspense";case M:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case K:return(u.displayName||"Context")+".Consumer";case B:return(u._context.displayName||"Context")+".Provider";case U:var v=u.render;return u=u.displayName,u||(u=v.displayName||v.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case A:return v=u.displayName||null,v!==null?v:q(u.type)||"Memo";case N:v=u._payload,u=u._init;try{return q(u(v))}catch{}}return null}function ee(u){var v=u.type;switch(u.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=v.render,u=u.displayName||u.name||"",v.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(v);case 8:return v===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function R(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function z(u){var v=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function W(u){var v=z(u)?"checked":"value",P=Object.getOwnPropertyDescriptor(u.constructor.prototype,v),V=""+u[v];if(!u.hasOwnProperty(v)&&typeof P<"u"&&typeof P.get=="function"&&typeof P.set=="function"){var Y=P.get,J=P.set;return Object.defineProperty(u,v,{configurable:!0,get:function(){return Y.call(this)},set:function(ue){V=""+ue,J.call(this,ue)}}),Object.defineProperty(u,v,{enumerable:P.enumerable}),{getValue:function(){return V},setValue:function(ue){V=""+ue},stopTracking:function(){u._valueTracker=null,delete u[v]}}}}function se(u){u._valueTracker||(u._valueTracker=W(u))}function he(u){if(!u)return!1;var v=u._valueTracker;if(!v)return!0;var P=v.getValue(),V="";return u&&(V=z(u)?u.checked?"true":"false":u.value),u=V,u!==P?(v.setValue(u),!0):!1}function ne(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function me(u,v){var P=v.checked;return E({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:P??u._wrapperState.initialChecked})}function Se(u,v){var P=v.defaultValue==null?"":v.defaultValue,V=v.checked!=null?v.checked:v.defaultChecked;P=R(v.value!=null?v.value:P),u._wrapperState={initialChecked:V,initialValue:P,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function Ee(u,v){v=v.checked,v!=null&&C(u,"checked",v,!1)}function le(u,v){Ee(u,v);var P=R(v.value),V=v.type;if(P!=null)V==="number"?(P===0&&u.value===""||u.value!=P)&&(u.value=""+P):u.value!==""+P&&(u.value=""+P);else if(V==="submit"||V==="reset"){u.removeAttribute("value");return}v.hasOwnProperty("value")?ce(u,v.type,P):v.hasOwnProperty("defaultValue")&&ce(u,v.type,R(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(u.defaultChecked=!!v.defaultChecked)}function ie(u,v,P){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var V=v.type;if(!(V!=="submit"&&V!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+u._wrapperState.initialValue,P||v===u.value||(u.value=v),u.defaultValue=v}P=u.name,P!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,P!==""&&(u.name=P)}function ce(u,v,P){(v!=="number"||ne(u.ownerDocument)!==u)&&(P==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+P&&(u.defaultValue=""+P))}var ae=Array.isArray;function ge(u,v,P,V){if(u=u.options,v){v={};for(var Y=0;Y<P.length;Y++)v["$"+P[Y]]=!0;for(P=0;P<u.length;P++)Y=v.hasOwnProperty("$"+u[P].value),u[P].selected!==Y&&(u[P].selected=Y),Y&&V&&(u[P].defaultSelected=!0)}else{for(P=""+R(P),v=null,Y=0;Y<u.length;Y++){if(u[Y].value===P){u[Y].selected=!0,V&&(u[Y].defaultSelected=!0);return}v!==null||u[Y].disabled||(v=u[Y])}v!==null&&(v.selected=!0)}}function pe(u,v){if(v.dangerouslySetInnerHTML!=null)throw Error(t(91));return E({},v,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Ae(u,v){var P=v.value;if(P==null){if(P=v.children,v=v.defaultValue,P!=null){if(v!=null)throw Error(t(92));if(ae(P)){if(1<P.length)throw Error(t(93));P=P[0]}v=P}v==null&&(v=""),P=v}u._wrapperState={initialValue:R(P)}}function fe(u,v){var P=R(v.value),V=R(v.defaultValue);P!=null&&(P=""+P,P!==u.value&&(u.value=P),v.defaultValue==null&&u.defaultValue!==P&&(u.defaultValue=P)),V!=null&&(u.defaultValue=""+V)}function te(u){var v=u.textContent;v===u._wrapperState.initialValue&&v!==""&&v!==null&&(u.value=v)}function ye(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(u,v){return u==null||u==="http://www.w3.org/1999/xhtml"?ye(v):u==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Ce,je=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,P,V,Y){MSApp.execUnsafeLocalFunction(function(){return u(v,P,V,Y)})}:u})(function(u,v){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=v;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ce.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;v.firstChild;)u.appendChild(v.firstChild)}});function tt(u,v){if(v){var P=u.firstChild;if(P&&P===u.lastChild&&P.nodeType===3){P.nodeValue=v;return}}u.textContent=v}var Pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(Pe).forEach(function(u){ke.forEach(function(v){v=v+u.charAt(0).toUpperCase()+u.substring(1),Pe[v]=Pe[u]})});function ze(u,v,P){return v==null||typeof v=="boolean"||v===""?"":P||typeof v!="number"||v===0||Pe.hasOwnProperty(u)&&Pe[u]?(""+v).trim():v+"px"}function qe(u,v){u=u.style;for(var P in v)if(v.hasOwnProperty(P)){var V=P.indexOf("--")===0,Y=ze(P,v[P],V);P==="float"&&(P="cssFloat"),V?u.setProperty(P,Y):u[P]=Y}}var Fe=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(u,v){if(v){if(Fe[u]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(t(137,u));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(t(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(t(61))}if(v.style!=null&&typeof v.style!="object")throw Error(t(62))}}function we(u,v){if(u.indexOf("-")===-1)return typeof v.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=null;function ut(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var be=null,Be=null,ot=null;function lt(u){if(u=Po(u)){if(typeof be!="function")throw Error(t(280));var v=u.stateNode;v&&(v=Rl(v),be(u.stateNode,u.type,v))}}function Et(u){Be?ot?ot.push(u):ot=[u]:Be=u}function Rt(){if(Be){var u=Be,v=ot;if(ot=Be=null,lt(u),v)for(u=0;u<v.length;u++)lt(v[u])}}function yt(u,v){return u(v)}function Ut(){}var $e=!1;function Ke(u,v,P){if($e)return u(v,P);$e=!0;try{return yt(u,v,P)}finally{$e=!1,(Be!==null||ot!==null)&&(Ut(),Rt())}}function ht(u,v){var P=u.stateNode;if(P===null)return null;var V=Rl(P);if(V===null)return null;P=V[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(u=u.type,V=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!V;break e;default:u=!1}if(u)return null;if(P&&typeof P!="function")throw Error(t(231,v,typeof P));return P}var St=!1;if(a)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){St=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{St=!1}function Ne(u,v,P,V,Y,J,ue,_e,Oe){var et=Array.prototype.slice.call(arguments,3);try{v.apply(P,et)}catch(kt){this.onError(kt)}}var Ie=!1,Ge=null,ct=!1,Mt=null,Ct={onError:function(u){Ie=!0,Ge=u}};function Jt(u,v,P,V,Y,J,ue,_e,Oe){Ie=!1,Ge=null,Ne.apply(Ct,arguments)}function Pt(u,v,P,V,Y,J,ue,_e,Oe){if(Jt.apply(this,arguments),Ie){if(Ie){var et=Ge;Ie=!1,Ge=null}else throw Error(t(198));ct||(ct=!0,Mt=et)}}function Ot(u){var v=u,P=u;if(u.alternate)for(;v.return;)v=v.return;else{u=v;do v=u,(v.flags&4098)!==0&&(P=v.return),u=v.return;while(u)}return v.tag===3?P:null}function tr(u){if(u.tag===13){var v=u.memoizedState;if(v===null&&(u=u.alternate,u!==null&&(v=u.memoizedState)),v!==null)return v.dehydrated}return null}function Wt(u){if(Ot(u)!==u)throw Error(t(188))}function Lt(u){var v=u.alternate;if(!v){if(v=Ot(u),v===null)throw Error(t(188));return v!==u?null:u}for(var P=u,V=v;;){var Y=P.return;if(Y===null)break;var J=Y.alternate;if(J===null){if(V=Y.return,V!==null){P=V;continue}break}if(Y.child===J.child){for(J=Y.child;J;){if(J===P)return Wt(Y),u;if(J===V)return Wt(Y),v;J=J.sibling}throw Error(t(188))}if(P.return!==V.return)P=Y,V=J;else{for(var ue=!1,_e=Y.child;_e;){if(_e===P){ue=!0,P=Y,V=J;break}if(_e===V){ue=!0,V=Y,P=J;break}_e=_e.sibling}if(!ue){for(_e=J.child;_e;){if(_e===P){ue=!0,P=J,V=Y;break}if(_e===V){ue=!0,V=J,P=Y;break}_e=_e.sibling}if(!ue)throw Error(t(189))}}if(P.alternate!==V)throw Error(t(190))}if(P.tag!==3)throw Error(t(188));return P.stateNode.current===P?u:v}function gr(u){return u=Lt(u),u!==null?pt(u):null}function pt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var v=pt(u);if(v!==null)return v;u=u.sibling}return null}var De=x.unstable_scheduleCallback,st=x.unstable_cancelCallback,At=x.unstable_shouldYield,ve=x.unstable_requestPaint,Re=x.unstable_now,nt=x.unstable_getCurrentPriorityLevel,dt=x.unstable_ImmediatePriority,Ft=x.unstable_UserBlockingPriority,bt=x.unstable_NormalPriority,Nt=x.unstable_LowPriority,Kt=x.unstable_IdlePriority,ir=null,rr=null;function nr(u){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(ir,u,void 0,(u.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:Lr,kr=Math.log,ar=Math.LN2;function Lr(u){return u>>>=0,u===0?32:31-(kr(u)/ar|0)|0}var Vr=64,qr=4194304;function os(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Os(u,v){var P=u.pendingLanes;if(P===0)return 0;var V=0,Y=u.suspendedLanes,J=u.pingedLanes,ue=P&268435455;if(ue!==0){var _e=ue&~Y;_e!==0?V=os(_e):(J&=ue,J!==0&&(V=os(J)))}else ue=P&~Y,ue!==0?V=os(ue):J!==0&&(V=os(J));if(V===0)return 0;if(v!==0&&v!==V&&(v&Y)===0&&(Y=V&-V,J=v&-v,Y>=J||Y===16&&(J&4194240)!==0))return v;if((V&4)!==0&&(V|=P&16),v=u.entangledLanes,v!==0)for(u=u.entanglements,v&=V;0<v;)P=31-ur(v),Y=1<<P,V|=u[P],v&=~Y;return V}function kn(u,v){switch(u){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(u,v){for(var P=u.suspendedLanes,V=u.pingedLanes,Y=u.expirationTimes,J=u.pendingLanes;0<J;){var ue=31-ur(J),_e=1<<ue,Oe=Y[ue];Oe===-1?((_e&P)===0||(_e&V)!==0)&&(Y[ue]=kn(_e,v)):Oe<=v&&(u.expiredLanes|=_e),J&=~_e}}function _s(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Sr(){var u=Vr;return Vr<<=1,(Vr&4194240)===0&&(Vr=64),u}function yr(u){for(var v=[],P=0;31>P;P++)v.push(u);return v}function ws(u,v,P){u.pendingLanes|=v,v!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,v=31-ur(v),u[v]=P}function In(u,v){var P=u.pendingLanes&~v;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=v,u.mutableReadLanes&=v,u.entangledLanes&=v,v=u.entanglements;var V=u.eventTimes;for(u=u.expirationTimes;0<P;){var Y=31-ur(P),J=1<<Y;v[Y]=0,V[Y]=-1,u[Y]=-1,P&=~J}}function Wn(u,v){var P=u.entangledLanes|=v;for(u=u.entanglements;P;){var V=31-ur(P),Y=1<<V;Y&v|u[V]&v&&(u[V]|=v),P&=~Y}}var pr=0;function Es(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var un,Xr,li,Mn,mn,ji=!1,Rn=[],Er=null,Ls=null,Fs=null,Yn=new Map,Nn=new Map,Bs=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bo(u,v){switch(u){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Yn.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(v.pointerId)}}function ta(u,v,P,V,Y,J){return u===null||u.nativeEvent!==J?(u={blockedOn:v,domEventName:P,eventSystemFlags:V,nativeEvent:J,targetContainers:[Y]},v!==null&&(v=Po(v),v!==null&&Xr(v)),u):(u.eventSystemFlags|=V,v=u.targetContainers,Y!==null&&v.indexOf(Y)===-1&&v.push(Y),u)}function od(u,v,P,V,Y){switch(v){case"focusin":return Er=ta(Er,u,v,P,V,Y),!0;case"dragenter":return Ls=ta(Ls,u,v,P,V,Y),!0;case"mouseover":return Fs=ta(Fs,u,v,P,V,Y),!0;case"pointerover":var J=Y.pointerId;return Yn.set(J,ta(Yn.get(J)||null,u,v,P,V,Y)),!0;case"gotpointercapture":return J=Y.pointerId,Nn.set(J,ta(Nn.get(J)||null,u,v,P,V,Y)),!0}return!1}function fl(u){var v=ia(u.target);if(v!==null){var P=Ot(v);if(P!==null){if(v=P.tag,v===13){if(v=tr(P),v!==null){u.blockedOn=v,mn(u.priority,function(){li(P)});return}}else if(v===3&&P.stateNode.current.memoizedState.isDehydrated){u.blockedOn=P.tag===3?P.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Aa(u){if(u.blockedOn!==null)return!1;for(var v=u.targetContainers;0<v.length;){var P=vo(u.domEventName,u.eventSystemFlags,v[0],u.nativeEvent);if(P===null){P=u.nativeEvent;var V=new P.constructor(P.type,P);Qe=V,P.target.dispatchEvent(V),Qe=null}else return v=Po(P),v!==null&&Xr(v),u.blockedOn=P,!1;v.shift()}return!0}function pl(u,v,P){Aa(u)&&P.delete(v)}function ld(){ji=!1,Er!==null&&Aa(Er)&&(Er=null),Ls!==null&&Aa(Ls)&&(Ls=null),Fs!==null&&Aa(Fs)&&(Fs=null),Yn.forEach(pl),Nn.forEach(pl)}function ra(u,v){u.blockedOn===v&&(u.blockedOn=null,ji||(ji=!0,x.unstable_scheduleCallback(x.unstable_NormalPriority,ld)))}function ci(u){function v(Y){return ra(Y,u)}if(0<Rn.length){ra(Rn[0],u);for(var P=1;P<Rn.length;P++){var V=Rn[P];V.blockedOn===u&&(V.blockedOn=null)}}for(Er!==null&&ra(Er,u),Ls!==null&&ra(Ls,u),Fs!==null&&ra(Fs,u),Yn.forEach(v),Nn.forEach(v),P=0;P<Bs.length;P++)V=Bs[P],V.blockedOn===u&&(V.blockedOn=null);for(;0<Bs.length&&(P=Bs[0],P.blockedOn===null);)fl(P),P.blockedOn===null&&Bs.shift()}var Si=T.ReactCurrentBatchConfig,_a=!0;function cd(u,v,P,V){var Y=pr,J=Si.transition;Si.transition=null;try{pr=1,Ea(u,v,P,V)}finally{pr=Y,Si.transition=J}}function jn(u,v,P,V){var Y=pr,J=Si.transition;Si.transition=null;try{pr=4,Ea(u,v,P,V)}finally{pr=Y,Si.transition=J}}function Ea(u,v,P,V){if(_a){var Y=vo(u,v,P,V);if(Y===null)Sd(u,v,V,Ta,P),bo(u,V);else if(od(Y,u,v,P,V))V.stopPropagation();else if(bo(u,V),v&4&&-1<ad.indexOf(u)){for(;Y!==null;){var J=Po(Y);if(J!==null&&un(J),J=vo(u,v,P,V),J===null&&Sd(u,v,V,Ta,P),J===Y)break;Y=J}Y!==null&&V.stopPropagation()}else Sd(u,v,V,null,P)}}var Ta=null;function vo(u,v,P,V){if(Ta=null,u=ut(V),u=ia(u),u!==null)if(v=Ot(u),v===null)u=null;else if(P=v.tag,P===13){if(u=tr(v),u!==null)return u;u=null}else if(P===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;u=null}else v!==u&&(u=null);return Ta=u,null}function gl(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nt()){case dt:return 1;case Ft:return 4;case bt:case Nt:return 16;case Kt:return 536870912;default:return 16}default:return 16}}var Xn=null,wo=null,di=null;function Pa(){if(di)return di;var u,v=wo,P=v.length,V,Y="value"in Xn?Xn.value:Xn.textContent,J=Y.length;for(u=0;u<P&&v[u]===Y[u];u++);var ue=P-u;for(V=1;V<=ue&&v[P-V]===Y[J-V];V++);return di=Y.slice(u,1<V?1-V:void 0)}function Us(u){var v=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&v===13&&(u=13)):u=v,u===10&&(u=13),32<=u||u===13?u:0}function Da(){return!0}function xl(){return!1}function $s(u){function v(P,V,Y,J,ue){this._reactName=P,this._targetInst=Y,this.type=V,this.nativeEvent=J,this.target=ue,this.currentTarget=null;for(var _e in u)u.hasOwnProperty(_e)&&(P=u[_e],this[_e]=P?P(J):J[_e]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Da:xl,this.isPropagationStopped=xl,this}return E(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var P=this.nativeEvent;P&&(P.preventDefault?P.preventDefault():typeof P.returnValue!="unknown"&&(P.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var P=this.nativeEvent;P&&(P.stopPropagation?P.stopPropagation():typeof P.cancelBubble!="unknown"&&(P.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),v}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=$s(Ci),hn=E({},Ci,{view:0,detail:0}),Ai=$s(hn),_i,No,sa,Ei=E({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==sa&&(sa&&u.type==="mousemove"?(_i=u.screenX-sa.screenX,No=u.screenY-sa.screenY):No=_i=0,sa=u),_i)},movementY:function(u){return"movementY"in u?u.movementY:No}}),jo=$s(Ei),yl=E({},Ei,{dataTransfer:0}),bl=$s(yl),vl=E({},hn,{relatedTarget:0}),Ia=$s(vl),wl=E({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),dd=$s(wl),kl=E({},Ci,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),ud=$s(kl),md=E({},Ci,{data:0}),Nl=$s(md),hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(u){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(u):(u=pd[u])?!!v[u]:!1}function Ti(){return gd}var xd=E({},hn,{key:function(u){if(u.key){var v=hd[u.key]||u.key;if(v!=="Unidentified")return v}return u.type==="keypress"?(u=Us(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?fd[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(u){return u.type==="keypress"?Us(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Us(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),jl=$s(xd),yd=E({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=$s(yd),Pi=E({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Di=$s(Pi),Ma=E({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ra=$s(Ma),za=E({},Ei,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),bd=$s(za),Co=[9,13,27,32],na=a&&"CompositionEvent"in window,Ii=null;a&&"documentMode"in document&&(Ii=document.documentMode);var vd=a&&"TextEvent"in window&&!Ii,Sl=a&&(!na||Ii&&8<Ii&&11>=Ii),Cl=" ",Al=!1;function Q(u,v){switch(u){case"keyup":return Co.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var de=!1;function xe(u,v){switch(u){case"compositionend":return oe(v);case"keypress":return v.which!==32?null:(Al=!0,Cl);case"textInput":return u=v.data,u===Cl&&Al?null:u;default:return null}}function Me(u,v){if(de)return u==="compositionend"||!na&&Q(u,v)?(u=Pa(),di=wo=Xn=null,de=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Sl&&v.locale!=="ko"?null:v.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(u){var v=u&&u.nodeName&&u.nodeName.toLowerCase();return v==="input"?!!Ve[u.type]:v==="textarea"}function Je(u,v,P,V){Et(V),v=Dl(v,"onChange"),0<v.length&&(P=new ko("onChange","change",null,P,V),u.push({event:P,listeners:v}))}var He=null,We=null;function Xe(u){Zm(u,0)}function gt(u){var v=Ua(u);if(he(v))return u}function jt(u,v){if(u==="change")return v}var ft=!1;if(a){var wt;if(a){var $t="oninput"in document;if(!$t){var Ht=document.createElement("div");Ht.setAttribute("oninput","return;"),$t=typeof Ht.oninput=="function"}wt=$t}else wt=!1;ft=wt&&(!document.documentMode||9<document.documentMode)}function br(){He&&(He.detachEvent("onpropertychange",Tt),We=He=null)}function Tt(u){if(u.propertyName==="value"&&gt(We)){var v=[];Je(v,We,u,ut(u)),Ke(Xe,v)}}function Yt(u,v,P){u==="focusin"?(br(),He=v,We=P,He.attachEvent("onpropertychange",Tt)):u==="focusout"&&br()}function Ir(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return gt(We)}function Nr(u,v){if(u==="click")return gt(v)}function Hr(u,v){if(u==="input"||u==="change")return gt(v)}function Xt(u,v){return u===v&&(u!==0||1/u===1/v)||u!==u&&v!==v}var cr=typeof Object.is=="function"?Object.is:Xt;function vr(u,v){if(cr(u,v))return!0;if(typeof u!="object"||u===null||typeof v!="object"||v===null)return!1;var P=Object.keys(u),V=Object.keys(v);if(P.length!==V.length)return!1;for(V=0;V<P.length;V++){var Y=P[V];if(!i.call(v,Y)||!cr(u[Y],v[Y]))return!1}return!0}function ks(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function fn(u,v){var P=ks(u);u=0;for(var V;P;){if(P.nodeType===3){if(V=u+P.textContent.length,u<=v&&V>=v)return{node:P,offset:v-u};u=V}e:{for(;P;){if(P.nextSibling){P=P.nextSibling;break e}P=P.parentNode}P=void 0}P=ks(P)}}function ls(u,v){return u&&v?u===v?!0:u&&u.nodeType===3?!1:v&&v.nodeType===3?ls(u,v.parentNode):"contains"in u?u.contains(v):u.compareDocumentPosition?!!(u.compareDocumentPosition(v)&16):!1:!1}function zn(){for(var u=window,v=ne();v instanceof u.HTMLIFrameElement;){try{var P=typeof v.contentWindow.location.href=="string"}catch{P=!1}if(P)u=v.contentWindow;else break;v=ne(u.document)}return v}function Ns(u){var v=u&&u.nodeName&&u.nodeName.toLowerCase();return v&&(v==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||v==="textarea"||u.contentEditable==="true")}function Qn(u){var v=zn(),P=u.focusedElem,V=u.selectionRange;if(v!==P&&P&&P.ownerDocument&&ls(P.ownerDocument.documentElement,P)){if(V!==null&&Ns(P)){if(v=V.start,u=V.end,u===void 0&&(u=v),"selectionStart"in P)P.selectionStart=v,P.selectionEnd=Math.min(u,P.value.length);else if(u=(v=P.ownerDocument||document)&&v.defaultView||window,u.getSelection){u=u.getSelection();var Y=P.textContent.length,J=Math.min(V.start,Y);V=V.end===void 0?J:Math.min(V.end,Y),!u.extend&&J>V&&(Y=V,V=J,J=Y),Y=fn(P,J);var ue=fn(P,V);Y&&ue&&(u.rangeCount!==1||u.anchorNode!==Y.node||u.anchorOffset!==Y.offset||u.focusNode!==ue.node||u.focusOffset!==ue.offset)&&(v=v.createRange(),v.setStart(Y.node,Y.offset),u.removeAllRanges(),J>V?(u.addRange(v),u.extend(ue.node,ue.offset)):(v.setEnd(ue.node,ue.offset),u.addRange(v)))}}for(v=[],u=P;u=u.parentNode;)u.nodeType===1&&v.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<v.length;P++)u=v[P],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Oa=a&&"documentMode"in document&&11>=document.documentMode,zt=null,Mr=null,Vs=null,zr=!1;function _l(u,v,P){var V=P.window===P?P.document:P.nodeType===9?P:P.ownerDocument;zr||zt==null||zt!==ne(V)||(V=zt,"selectionStart"in V&&Ns(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Vs&&vr(Vs,V)||(Vs=V,V=Dl(Mr,"onSelect"),0<V.length&&(v=new ko("onSelect","select",null,v,P),u.push({event:v,listeners:V}),v.target=zt)))}function El(u,v){var P={};return P[u.toLowerCase()]=v.toLowerCase(),P["Webkit"+u]="webkit"+v,P["Moz"+u]="moz"+v,P}var La={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},wd={},qm={};a&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Tl(u){if(wd[u])return wd[u];if(!La[u])return u;var v=La[u],P;for(P in v)if(v.hasOwnProperty(P)&&P in qm)return wd[u]=v[P];return u}var Hm=Tl("animationend"),Km=Tl("animationiteration"),Gm=Tl("animationstart"),Wm=Tl("transitionend"),Ym=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(u,v){Ym.set(u,v),d(v,[u])}for(var kd=0;kd<Xm.length;kd++){var Nd=Xm[kd],O0=Nd.toLowerCase(),L0=Nd[0].toUpperCase()+Nd.slice(1);Mi(O0,"on"+L0)}Mi(Hm,"onAnimationEnd"),Mi(Km,"onAnimationIteration"),Mi(Gm,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Wm,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function Qm(u,v,P){var V=u.type||"unknown-event";u.currentTarget=P,Pt(V,v,void 0,u),u.currentTarget=null}function Zm(u,v){v=(v&4)!==0;for(var P=0;P<u.length;P++){var V=u[P],Y=V.event;V=V.listeners;e:{var J=void 0;if(v)for(var ue=V.length-1;0<=ue;ue--){var _e=V[ue],Oe=_e.instance,et=_e.currentTarget;if(_e=_e.listener,Oe!==J&&Y.isPropagationStopped())break e;Qm(Y,_e,et),J=Oe}else for(ue=0;ue<V.length;ue++){if(_e=V[ue],Oe=_e.instance,et=_e.currentTarget,_e=_e.listener,Oe!==J&&Y.isPropagationStopped())break e;Qm(Y,_e,et),J=Oe}}}if(ct)throw u=Mt,ct=!1,Mt=null,u}function Kr(u,v){var P=v[Pd];P===void 0&&(P=v[Pd]=new Set);var V=u+"__bubble";P.has(V)||(Jm(v,u,2,!1),P.add(V))}function jd(u,v,P){var V=0;v&&(V|=4),Jm(P,u,V,v)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function _o(u){if(!u[Pl]){u[Pl]=!0,f.forEach(function(P){P!=="selectionchange"&&(F0.has(P)||jd(P,!1,u),jd(P,!0,u))});var v=u.nodeType===9?u:u.ownerDocument;v===null||v[Pl]||(v[Pl]=!0,jd("selectionchange",!1,v))}}function Jm(u,v,P,V){switch(gl(v)){case 1:var Y=cd;break;case 4:Y=jn;break;default:Y=Ea}P=Y.bind(null,v,P,u),Y=void 0,!St||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(Y=!0),V?Y!==void 0?u.addEventListener(v,P,{capture:!0,passive:Y}):u.addEventListener(v,P,!0):Y!==void 0?u.addEventListener(v,P,{passive:Y}):u.addEventListener(v,P,!1)}function Sd(u,v,P,V,Y){var J=V;if((v&1)===0&&(v&2)===0&&V!==null)e:for(;;){if(V===null)return;var ue=V.tag;if(ue===3||ue===4){var _e=V.stateNode.containerInfo;if(_e===Y||_e.nodeType===8&&_e.parentNode===Y)break;if(ue===4)for(ue=V.return;ue!==null;){var Oe=ue.tag;if((Oe===3||Oe===4)&&(Oe=ue.stateNode.containerInfo,Oe===Y||Oe.nodeType===8&&Oe.parentNode===Y))return;ue=ue.return}for(;_e!==null;){if(ue=ia(_e),ue===null)return;if(Oe=ue.tag,Oe===5||Oe===6){V=J=ue;continue e}_e=_e.parentNode}}V=V.return}Ke(function(){var et=J,kt=ut(P),_t=[];e:{var vt=Ym.get(u);if(vt!==void 0){var qt=ko,Qt=u;switch(u){case"keypress":if(Us(P)===0)break e;case"keydown":case"keyup":qt=jl;break;case"focusin":Qt="focus",qt=Ia;break;case"focusout":Qt="blur",qt=Ia;break;case"beforeblur":case"afterblur":qt=Ia;break;case"click":if(P.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=Di;break;case Hm:case Km:case Gm:qt=dd;break;case Wm:qt=Ra;break;case"scroll":qt=Ai;break;case"wheel":qt=bd;break;case"copy":case"cut":case"paste":qt=ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=So}var Zt=(v&4)!==0,rs=!Zt&&u==="scroll",Ye=Zt?vt!==null?vt+"Capture":null:vt;Zt=[];for(var Ue=et,Ze;Ue!==null;){Ze=Ue;var It=Ze.stateNode;if(Ze.tag===5&&It!==null&&(Ze=It,Ye!==null&&(It=ht(Ue,Ye),It!=null&&Zt.push(Eo(Ue,It,Ze)))),rs)break;Ue=Ue.return}0<Zt.length&&(vt=new qt(vt,Qt,null,P,kt),_t.push({event:vt,listeners:Zt}))}}if((v&7)===0){e:{if(vt=u==="mouseover"||u==="pointerover",qt=u==="mouseout"||u==="pointerout",vt&&P!==Qe&&(Qt=P.relatedTarget||P.fromElement)&&(ia(Qt)||Qt[ui]))break e;if((qt||vt)&&(vt=kt.window===kt?kt:(vt=kt.ownerDocument)?vt.defaultView||vt.parentWindow:window,qt?(Qt=P.relatedTarget||P.toElement,qt=et,Qt=Qt?ia(Qt):null,Qt!==null&&(rs=Ot(Qt),Qt!==rs||Qt.tag!==5&&Qt.tag!==6)&&(Qt=null)):(qt=null,Qt=et),qt!==Qt)){if(Zt=jo,It="onMouseLeave",Ye="onMouseEnter",Ue="mouse",(u==="pointerout"||u==="pointerover")&&(Zt=So,It="onPointerLeave",Ye="onPointerEnter",Ue="pointer"),rs=qt==null?vt:Ua(qt),Ze=Qt==null?vt:Ua(Qt),vt=new Zt(It,Ue+"leave",qt,P,kt),vt.target=rs,vt.relatedTarget=Ze,It=null,ia(kt)===et&&(Zt=new Zt(Ye,Ue+"enter",Qt,P,kt),Zt.target=Ze,Zt.relatedTarget=rs,It=Zt),rs=It,qt&&Qt)t:{for(Zt=qt,Ye=Qt,Ue=0,Ze=Zt;Ze;Ze=Fa(Ze))Ue++;for(Ze=0,It=Ye;It;It=Fa(It))Ze++;for(;0<Ue-Ze;)Zt=Fa(Zt),Ue--;for(;0<Ze-Ue;)Ye=Fa(Ye),Ze--;for(;Ue--;){if(Zt===Ye||Ye!==null&&Zt===Ye.alternate)break t;Zt=Fa(Zt),Ye=Fa(Ye)}Zt=null}else Zt=null;qt!==null&&eh(_t,vt,qt,Zt,!1),Qt!==null&&rs!==null&&eh(_t,rs,Qt,Zt,!0)}}e:{if(vt=et?Ua(et):window,qt=vt.nodeName&&vt.nodeName.toLowerCase(),qt==="select"||qt==="input"&&vt.type==="file")var er=jt;else if(Le(vt))if(ft)er=Hr;else{er=Ir;var or=Yt}else(qt=vt.nodeName)&&qt.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(er=Nr);if(er&&(er=er(u,et))){Je(_t,er,P,kt);break e}or&&or(u,vt,et),u==="focusout"&&(or=vt._wrapperState)&&or.controlled&&vt.type==="number"&&ce(vt,"number",vt.value)}switch(or=et?Ua(et):window,u){case"focusin":(Le(or)||or.contentEditable==="true")&&(zt=or,Mr=et,Vs=null);break;case"focusout":Vs=Mr=zt=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":zr=!1,_l(_t,P,kt);break;case"selectionchange":if(Oa)break;case"keydown":case"keyup":_l(_t,P,kt)}var lr;if(na)e:{switch(u){case"compositionstart":var mr="onCompositionStart";break e;case"compositionend":mr="onCompositionEnd";break e;case"compositionupdate":mr="onCompositionUpdate";break e}mr=void 0}else de?Q(u,P)&&(mr="onCompositionEnd"):u==="keydown"&&P.keyCode===229&&(mr="onCompositionStart");mr&&(Sl&&P.locale!=="ko"&&(de||mr!=="onCompositionStart"?mr==="onCompositionEnd"&&de&&(lr=Pa()):(Xn=kt,wo="value"in Xn?Xn.value:Xn.textContent,de=!0)),or=Dl(et,mr),0<or.length&&(mr=new Nl(mr,u,null,P,kt),_t.push({event:mr,listeners:or}),lr?mr.data=lr:(lr=oe(P),lr!==null&&(mr.data=lr)))),(lr=vd?xe(u,P):Me(u,P))&&(et=Dl(et,"onBeforeInput"),0<et.length&&(kt=new Nl("onBeforeInput","beforeinput",null,P,kt),_t.push({event:kt,listeners:et}),kt.data=lr))}Zm(_t,v)})}function Eo(u,v,P){return{instance:u,listener:v,currentTarget:P}}function Dl(u,v){for(var P=v+"Capture",V=[];u!==null;){var Y=u,J=Y.stateNode;Y.tag===5&&J!==null&&(Y=J,J=ht(u,P),J!=null&&V.unshift(Eo(u,J,Y)),J=ht(u,v),J!=null&&V.push(Eo(u,J,Y))),u=u.return}return V}function Fa(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function eh(u,v,P,V,Y){for(var J=v._reactName,ue=[];P!==null&&P!==V;){var _e=P,Oe=_e.alternate,et=_e.stateNode;if(Oe!==null&&Oe===V)break;_e.tag===5&&et!==null&&(_e=et,Y?(Oe=ht(P,J),Oe!=null&&ue.unshift(Eo(P,Oe,_e))):Y||(Oe=ht(P,J),Oe!=null&&ue.push(Eo(P,Oe,_e)))),P=P.return}ue.length!==0&&u.push({event:v,listeners:ue})}var B0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function th(u){return(typeof u=="string"?u:""+u).replace(B0,`
`).replace(U0,"")}function Il(u,v,P){if(v=th(v),th(u)!==v&&P)throw Error(t(425))}function Ml(){}var Cd=null,Ad=null;function _d(u,v){return u==="textarea"||u==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Ed=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(u){return rh.resolve(null).then(u).catch(q0)}:Ed;function q0(u){setTimeout(function(){throw u})}function Td(u,v){var P=v,V=0;do{var Y=P.nextSibling;if(u.removeChild(P),Y&&Y.nodeType===8)if(P=Y.data,P==="/$"){if(V===0){u.removeChild(Y),ci(v);return}V--}else P!=="$"&&P!=="$?"&&P!=="$!"||V++;P=Y}while(P);ci(v)}function Ri(u){for(;u!=null;u=u.nextSibling){var v=u.nodeType;if(v===1||v===3)break;if(v===8){if(v=u.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return u}function sh(u){u=u.previousSibling;for(var v=0;u;){if(u.nodeType===8){var P=u.data;if(P==="$"||P==="$!"||P==="$?"){if(v===0)return u;v--}else P==="/$"&&v++}u=u.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Ba,To="__reactProps$"+Ba,ui="__reactContainer$"+Ba,Pd="__reactEvents$"+Ba,H0="__reactListeners$"+Ba,K0="__reactHandles$"+Ba;function ia(u){var v=u[Zn];if(v)return v;for(var P=u.parentNode;P;){if(v=P[ui]||P[Zn]){if(P=v.alternate,v.child!==null||P!==null&&P.child!==null)for(u=sh(u);u!==null;){if(P=u[Zn])return P;u=sh(u)}return v}u=P,P=u.parentNode}return null}function Po(u){return u=u[Zn]||u[ui],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ua(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(t(33))}function Rl(u){return u[To]||null}var Dd=[],$a=-1;function zi(u){return{current:u}}function Gr(u){0>$a||(u.current=Dd[$a],Dd[$a]=null,$a--)}function Br(u,v){$a++,Dd[$a]=u.current,u.current=v}var Oi={},Ts=zi(Oi),Zs=zi(!1),aa=Oi;function Va(u,v){var P=u.type.contextTypes;if(!P)return Oi;var V=u.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===v)return V.__reactInternalMemoizedMaskedChildContext;var Y={},J;for(J in P)Y[J]=v[J];return V&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=v,u.__reactInternalMemoizedMaskedChildContext=Y),Y}function Js(u){return u=u.childContextTypes,u!=null}function zl(){Gr(Zs),Gr(Ts)}function nh(u,v,P){if(Ts.current!==Oi)throw Error(t(168));Br(Ts,v),Br(Zs,P)}function ih(u,v,P){var V=u.stateNode;if(v=v.childContextTypes,typeof V.getChildContext!="function")return P;V=V.getChildContext();for(var Y in V)if(!(Y in v))throw Error(t(108,ee(u)||"Unknown",Y));return E({},P,V)}function Ol(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Oi,aa=Ts.current,Br(Ts,u),Br(Zs,Zs.current),!0}function ah(u,v,P){var V=u.stateNode;if(!V)throw Error(t(169));P?(u=ih(u,v,aa),V.__reactInternalMemoizedMergedChildContext=u,Gr(Zs),Gr(Ts),Br(Ts,u)):Gr(Zs),Br(Zs,P)}var mi=null,Ll=!1,Id=!1;function oh(u){mi===null?mi=[u]:mi.push(u)}function G0(u){Ll=!0,oh(u)}function Li(){if(!Id&&mi!==null){Id=!0;var u=0,v=pr;try{var P=mi;for(pr=1;u<P.length;u++){var V=P[u];do V=V(!0);while(V!==null)}mi=null,Ll=!1}catch(Y){throw mi!==null&&(mi=mi.slice(u+1)),De(dt,Li),Y}finally{pr=v,Id=!1}}return null}var qa=[],Ha=0,Fl=null,Bl=0,Sn=[],Cn=0,oa=null,hi=1,fi="";function la(u,v){qa[Ha++]=Bl,qa[Ha++]=Fl,Fl=u,Bl=v}function lh(u,v,P){Sn[Cn++]=hi,Sn[Cn++]=fi,Sn[Cn++]=oa,oa=u;var V=hi;u=fi;var Y=32-ur(V)-1;V&=~(1<<Y),P+=1;var J=32-ur(v)+Y;if(30<J){var ue=Y-Y%5;J=(V&(1<<ue)-1).toString(32),V>>=ue,Y-=ue,hi=1<<32-ur(v)+Y|P<<Y|V,fi=J+u}else hi=1<<J|P<<Y|V,fi=u}function Md(u){u.return!==null&&(la(u,1),lh(u,1,0))}function Rd(u){for(;u===Fl;)Fl=qa[--Ha],qa[Ha]=null,Bl=qa[--Ha],qa[Ha]=null;for(;u===oa;)oa=Sn[--Cn],Sn[Cn]=null,fi=Sn[--Cn],Sn[Cn]=null,hi=Sn[--Cn],Sn[Cn]=null}var pn=null,gn=null,Yr=!1,On=null;function ch(u,v){var P=Tn(5,null,null,0);P.elementType="DELETED",P.stateNode=v,P.return=u,v=u.deletions,v===null?(u.deletions=[P],u.flags|=16):v.push(P)}function dh(u,v){switch(u.tag){case 5:var P=u.type;return v=v.nodeType!==1||P.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(u.stateNode=v,pn=u,gn=Ri(v.firstChild),!0):!1;case 6:return v=u.pendingProps===""||v.nodeType!==3?null:v,v!==null?(u.stateNode=v,pn=u,gn=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(P=oa!==null?{id:hi,overflow:fi}:null,u.memoizedState={dehydrated:v,treeContext:P,retryLane:1073741824},P=Tn(18,null,null,0),P.stateNode=v,P.return=u,u.child=P,pn=u,gn=null,!0):!1;default:return!1}}function zd(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Od(u){if(Yr){var v=gn;if(v){var P=v;if(!dh(u,v)){if(zd(u))throw Error(t(418));v=Ri(P.nextSibling);var V=pn;v&&dh(u,v)?ch(V,P):(u.flags=u.flags&-4097|2,Yr=!1,pn=u)}}else{if(zd(u))throw Error(t(418));u.flags=u.flags&-4097|2,Yr=!1,pn=u}}}function uh(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;pn=u}function Ul(u){if(u!==pn)return!1;if(!Yr)return uh(u),Yr=!0,!1;var v;if((v=u.tag!==3)&&!(v=u.tag!==5)&&(v=u.type,v=v!=="head"&&v!=="body"&&!_d(u.type,u.memoizedProps)),v&&(v=gn)){if(zd(u))throw mh(),Error(t(418));for(;v;)ch(u,v),v=Ri(v.nextSibling)}if(uh(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(t(317));e:{for(u=u.nextSibling,v=0;u;){if(u.nodeType===8){var P=u.data;if(P==="/$"){if(v===0){gn=Ri(u.nextSibling);break e}v--}else P!=="$"&&P!=="$!"&&P!=="$?"||v++}u=u.nextSibling}gn=null}}else gn=pn?Ri(u.stateNode.nextSibling):null;return!0}function mh(){for(var u=gn;u;)u=Ri(u.nextSibling)}function Ka(){gn=pn=null,Yr=!1}function Ld(u){On===null?On=[u]:On.push(u)}var W0=T.ReactCurrentBatchConfig;function Do(u,v,P){if(u=P.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(P._owner){if(P=P._owner,P){if(P.tag!==1)throw Error(t(309));var V=P.stateNode}if(!V)throw Error(t(147,u));var Y=V,J=""+u;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===J?v.ref:(v=function(ue){var _e=Y.refs;ue===null?delete _e[J]:_e[J]=ue},v._stringRef=J,v)}if(typeof u!="string")throw Error(t(284));if(!P._owner)throw Error(t(290,u))}return u}function $l(u,v){throw u=Object.prototype.toString.call(v),Error(t(31,u==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":u))}function hh(u){var v=u._init;return v(u._payload)}function fh(u){function v(Ye,Ue){if(u){var Ze=Ye.deletions;Ze===null?(Ye.deletions=[Ue],Ye.flags|=16):Ze.push(Ue)}}function P(Ye,Ue){if(!u)return null;for(;Ue!==null;)v(Ye,Ue),Ue=Ue.sibling;return null}function V(Ye,Ue){for(Ye=new Map;Ue!==null;)Ue.key!==null?Ye.set(Ue.key,Ue):Ye.set(Ue.index,Ue),Ue=Ue.sibling;return Ye}function Y(Ye,Ue){return Ye=Ki(Ye,Ue),Ye.index=0,Ye.sibling=null,Ye}function J(Ye,Ue,Ze){return Ye.index=Ze,u?(Ze=Ye.alternate,Ze!==null?(Ze=Ze.index,Ze<Ue?(Ye.flags|=2,Ue):Ze):(Ye.flags|=2,Ue)):(Ye.flags|=1048576,Ue)}function ue(Ye){return u&&Ye.alternate===null&&(Ye.flags|=2),Ye}function _e(Ye,Ue,Ze,It){return Ue===null||Ue.tag!==6?(Ue=Eu(Ze,Ye.mode,It),Ue.return=Ye,Ue):(Ue=Y(Ue,Ze),Ue.return=Ye,Ue)}function Oe(Ye,Ue,Ze,It){var er=Ze.type;return er===H?kt(Ye,Ue,Ze.props.children,It,Ze.key):Ue!==null&&(Ue.elementType===er||typeof er=="object"&&er!==null&&er.$$typeof===N&&hh(er)===Ue.type)?(It=Y(Ue,Ze.props),It.ref=Do(Ye,Ue,Ze),It.return=Ye,It):(It=mc(Ze.type,Ze.key,Ze.props,null,Ye.mode,It),It.ref=Do(Ye,Ue,Ze),It.return=Ye,It)}function et(Ye,Ue,Ze,It){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Ze.containerInfo||Ue.stateNode.implementation!==Ze.implementation?(Ue=Tu(Ze,Ye.mode,It),Ue.return=Ye,Ue):(Ue=Y(Ue,Ze.children||[]),Ue.return=Ye,Ue)}function kt(Ye,Ue,Ze,It,er){return Ue===null||Ue.tag!==7?(Ue=ga(Ze,Ye.mode,It,er),Ue.return=Ye,Ue):(Ue=Y(Ue,Ze),Ue.return=Ye,Ue)}function _t(Ye,Ue,Ze){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=Eu(""+Ue,Ye.mode,Ze),Ue.return=Ye,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case D:return Ze=mc(Ue.type,Ue.key,Ue.props,null,Ye.mode,Ze),Ze.ref=Do(Ye,null,Ue),Ze.return=Ye,Ze;case F:return Ue=Tu(Ue,Ye.mode,Ze),Ue.return=Ye,Ue;case N:var It=Ue._init;return _t(Ye,It(Ue._payload),Ze)}if(ae(Ue)||j(Ue))return Ue=ga(Ue,Ye.mode,Ze,null),Ue.return=Ye,Ue;$l(Ye,Ue)}return null}function vt(Ye,Ue,Ze,It){var er=Ue!==null?Ue.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return er!==null?null:_e(Ye,Ue,""+Ze,It);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case D:return Ze.key===er?Oe(Ye,Ue,Ze,It):null;case F:return Ze.key===er?et(Ye,Ue,Ze,It):null;case N:return er=Ze._init,vt(Ye,Ue,er(Ze._payload),It)}if(ae(Ze)||j(Ze))return er!==null?null:kt(Ye,Ue,Ze,It,null);$l(Ye,Ze)}return null}function qt(Ye,Ue,Ze,It,er){if(typeof It=="string"&&It!==""||typeof It=="number")return Ye=Ye.get(Ze)||null,_e(Ue,Ye,""+It,er);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case D:return Ye=Ye.get(It.key===null?Ze:It.key)||null,Oe(Ue,Ye,It,er);case F:return Ye=Ye.get(It.key===null?Ze:It.key)||null,et(Ue,Ye,It,er);case N:var or=It._init;return qt(Ye,Ue,Ze,or(It._payload),er)}if(ae(It)||j(It))return Ye=Ye.get(Ze)||null,kt(Ue,Ye,It,er,null);$l(Ue,It)}return null}function Qt(Ye,Ue,Ze,It){for(var er=null,or=null,lr=Ue,mr=Ue=0,ys=null;lr!==null&&mr<Ze.length;mr++){lr.index>mr?(ys=lr,lr=null):ys=lr.sibling;var Pr=vt(Ye,lr,Ze[mr],It);if(Pr===null){lr===null&&(lr=ys);break}u&&lr&&Pr.alternate===null&&v(Ye,lr),Ue=J(Pr,Ue,mr),or===null?er=Pr:or.sibling=Pr,or=Pr,lr=ys}if(mr===Ze.length)return P(Ye,lr),Yr&&la(Ye,mr),er;if(lr===null){for(;mr<Ze.length;mr++)lr=_t(Ye,Ze[mr],It),lr!==null&&(Ue=J(lr,Ue,mr),or===null?er=lr:or.sibling=lr,or=lr);return Yr&&la(Ye,mr),er}for(lr=V(Ye,lr);mr<Ze.length;mr++)ys=qt(lr,Ye,mr,Ze[mr],It),ys!==null&&(u&&ys.alternate!==null&&lr.delete(ys.key===null?mr:ys.key),Ue=J(ys,Ue,mr),or===null?er=ys:or.sibling=ys,or=ys);return u&&lr.forEach(function(Gi){return v(Ye,Gi)}),Yr&&la(Ye,mr),er}function Zt(Ye,Ue,Ze,It){var er=j(Ze);if(typeof er!="function")throw Error(t(150));if(Ze=er.call(Ze),Ze==null)throw Error(t(151));for(var or=er=null,lr=Ue,mr=Ue=0,ys=null,Pr=Ze.next();lr!==null&&!Pr.done;mr++,Pr=Ze.next()){lr.index>mr?(ys=lr,lr=null):ys=lr.sibling;var Gi=vt(Ye,lr,Pr.value,It);if(Gi===null){lr===null&&(lr=ys);break}u&&lr&&Gi.alternate===null&&v(Ye,lr),Ue=J(Gi,Ue,mr),or===null?er=Gi:or.sibling=Gi,or=Gi,lr=ys}if(Pr.done)return P(Ye,lr),Yr&&la(Ye,mr),er;if(lr===null){for(;!Pr.done;mr++,Pr=Ze.next())Pr=_t(Ye,Pr.value,It),Pr!==null&&(Ue=J(Pr,Ue,mr),or===null?er=Pr:or.sibling=Pr,or=Pr);return Yr&&la(Ye,mr),er}for(lr=V(Ye,lr);!Pr.done;mr++,Pr=Ze.next())Pr=qt(lr,Ye,mr,Pr.value,It),Pr!==null&&(u&&Pr.alternate!==null&&lr.delete(Pr.key===null?mr:Pr.key),Ue=J(Pr,Ue,mr),or===null?er=Pr:or.sibling=Pr,or=Pr);return u&&lr.forEach(function(Ax){return v(Ye,Ax)}),Yr&&la(Ye,mr),er}function rs(Ye,Ue,Ze,It){if(typeof Ze=="object"&&Ze!==null&&Ze.type===H&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case D:e:{for(var er=Ze.key,or=Ue;or!==null;){if(or.key===er){if(er=Ze.type,er===H){if(or.tag===7){P(Ye,or.sibling),Ue=Y(or,Ze.props.children),Ue.return=Ye,Ye=Ue;break e}}else if(or.elementType===er||typeof er=="object"&&er!==null&&er.$$typeof===N&&hh(er)===or.type){P(Ye,or.sibling),Ue=Y(or,Ze.props),Ue.ref=Do(Ye,or,Ze),Ue.return=Ye,Ye=Ue;break e}P(Ye,or);break}else v(Ye,or);or=or.sibling}Ze.type===H?(Ue=ga(Ze.props.children,Ye.mode,It,Ze.key),Ue.return=Ye,Ye=Ue):(It=mc(Ze.type,Ze.key,Ze.props,null,Ye.mode,It),It.ref=Do(Ye,Ue,Ze),It.return=Ye,Ye=It)}return ue(Ye);case F:e:{for(or=Ze.key;Ue!==null;){if(Ue.key===or)if(Ue.tag===4&&Ue.stateNode.containerInfo===Ze.containerInfo&&Ue.stateNode.implementation===Ze.implementation){P(Ye,Ue.sibling),Ue=Y(Ue,Ze.children||[]),Ue.return=Ye,Ye=Ue;break e}else{P(Ye,Ue);break}else v(Ye,Ue);Ue=Ue.sibling}Ue=Tu(Ze,Ye.mode,It),Ue.return=Ye,Ye=Ue}return ue(Ye);case N:return or=Ze._init,rs(Ye,Ue,or(Ze._payload),It)}if(ae(Ze))return Qt(Ye,Ue,Ze,It);if(j(Ze))return Zt(Ye,Ue,Ze,It);$l(Ye,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,Ue!==null&&Ue.tag===6?(P(Ye,Ue.sibling),Ue=Y(Ue,Ze),Ue.return=Ye,Ye=Ue):(P(Ye,Ue),Ue=Eu(Ze,Ye.mode,It),Ue.return=Ye,Ye=Ue),ue(Ye)):P(Ye,Ue)}return rs}var Ga=fh(!0),ph=fh(!1),Vl=zi(null),ql=null,Wa=null,Fd=null;function Bd(){Fd=Wa=ql=null}function Ud(u){var v=Vl.current;Gr(Vl),u._currentValue=v}function $d(u,v,P){for(;u!==null;){var V=u.alternate;if((u.childLanes&v)!==v?(u.childLanes|=v,V!==null&&(V.childLanes|=v)):V!==null&&(V.childLanes&v)!==v&&(V.childLanes|=v),u===P)break;u=u.return}}function Ya(u,v){ql=u,Fd=Wa=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&v)!==0&&(en=!0),u.firstContext=null)}function An(u){var v=u._currentValue;if(Fd!==u)if(u={context:u,memoizedValue:v,next:null},Wa===null){if(ql===null)throw Error(t(308));Wa=u,ql.dependencies={lanes:0,firstContext:u}}else Wa=Wa.next=u;return v}var ca=null;function Vd(u){ca===null?ca=[u]:ca.push(u)}function gh(u,v,P,V){var Y=v.interleaved;return Y===null?(P.next=P,Vd(v)):(P.next=Y.next,Y.next=P),v.interleaved=P,pi(u,V)}function pi(u,v){u.lanes|=v;var P=u.alternate;for(P!==null&&(P.lanes|=v),P=u,u=u.return;u!==null;)u.childLanes|=v,P=u.alternate,P!==null&&(P.childLanes|=v),P=u,u=u.return;return P.tag===3?P.stateNode:null}var Fi=!1;function qd(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(u,v){u=u.updateQueue,v.updateQueue===u&&(v.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function gi(u,v){return{eventTime:u,lane:v,tag:0,payload:null,callback:null,next:null}}function Bi(u,v,P){var V=u.updateQueue;if(V===null)return null;if(V=V.shared,(Tr&2)!==0){var Y=V.pending;return Y===null?v.next=v:(v.next=Y.next,Y.next=v),V.pending=v,pi(u,P)}return Y=V.interleaved,Y===null?(v.next=v,Vd(V)):(v.next=Y.next,Y.next=v),V.interleaved=v,pi(u,P)}function Hl(u,v,P){if(v=v.updateQueue,v!==null&&(v=v.shared,(P&4194240)!==0)){var V=v.lanes;V&=u.pendingLanes,P|=V,v.lanes=P,Wn(u,P)}}function yh(u,v){var P=u.updateQueue,V=u.alternate;if(V!==null&&(V=V.updateQueue,P===V)){var Y=null,J=null;if(P=P.firstBaseUpdate,P!==null){do{var ue={eventTime:P.eventTime,lane:P.lane,tag:P.tag,payload:P.payload,callback:P.callback,next:null};J===null?Y=J=ue:J=J.next=ue,P=P.next}while(P!==null);J===null?Y=J=v:J=J.next=v}else Y=J=v;P={baseState:V.baseState,firstBaseUpdate:Y,lastBaseUpdate:J,shared:V.shared,effects:V.effects},u.updateQueue=P;return}u=P.lastBaseUpdate,u===null?P.firstBaseUpdate=v:u.next=v,P.lastBaseUpdate=v}function Kl(u,v,P,V){var Y=u.updateQueue;Fi=!1;var J=Y.firstBaseUpdate,ue=Y.lastBaseUpdate,_e=Y.shared.pending;if(_e!==null){Y.shared.pending=null;var Oe=_e,et=Oe.next;Oe.next=null,ue===null?J=et:ue.next=et,ue=Oe;var kt=u.alternate;kt!==null&&(kt=kt.updateQueue,_e=kt.lastBaseUpdate,_e!==ue&&(_e===null?kt.firstBaseUpdate=et:_e.next=et,kt.lastBaseUpdate=Oe))}if(J!==null){var _t=Y.baseState;ue=0,kt=et=Oe=null,_e=J;do{var vt=_e.lane,qt=_e.eventTime;if((V&vt)===vt){kt!==null&&(kt=kt.next={eventTime:qt,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var Qt=u,Zt=_e;switch(vt=v,qt=P,Zt.tag){case 1:if(Qt=Zt.payload,typeof Qt=="function"){_t=Qt.call(qt,_t,vt);break e}_t=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Zt.payload,vt=typeof Qt=="function"?Qt.call(qt,_t,vt):Qt,vt==null)break e;_t=E({},_t,vt);break e;case 2:Fi=!0}}_e.callback!==null&&_e.lane!==0&&(u.flags|=64,vt=Y.effects,vt===null?Y.effects=[_e]:vt.push(_e))}else qt={eventTime:qt,lane:vt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},kt===null?(et=kt=qt,Oe=_t):kt=kt.next=qt,ue|=vt;if(_e=_e.next,_e===null){if(_e=Y.shared.pending,_e===null)break;vt=_e,_e=vt.next,vt.next=null,Y.lastBaseUpdate=vt,Y.shared.pending=null}}while(!0);if(kt===null&&(Oe=_t),Y.baseState=Oe,Y.firstBaseUpdate=et,Y.lastBaseUpdate=kt,v=Y.shared.interleaved,v!==null){Y=v;do ue|=Y.lane,Y=Y.next;while(Y!==v)}else J===null&&(Y.shared.lanes=0);ma|=ue,u.lanes=ue,u.memoizedState=_t}}function bh(u,v,P){if(u=v.effects,v.effects=null,u!==null)for(v=0;v<u.length;v++){var V=u[v],Y=V.callback;if(Y!==null){if(V.callback=null,V=P,typeof Y!="function")throw Error(t(191,Y));Y.call(V)}}}var Io={},Jn=zi(Io),Mo=zi(Io),Ro=zi(Io);function da(u){if(u===Io)throw Error(t(174));return u}function Hd(u,v){switch(Br(Ro,v),Br(Mo,u),Br(Jn,Io),u=v.nodeType,u){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Te(null,"");break;default:u=u===8?v.parentNode:v,v=u.namespaceURI||null,u=u.tagName,v=Te(v,u)}Gr(Jn),Br(Jn,v)}function Xa(){Gr(Jn),Gr(Mo),Gr(Ro)}function vh(u){da(Ro.current);var v=da(Jn.current),P=Te(v,u.type);v!==P&&(Br(Mo,u),Br(Jn,P))}function Kd(u){Mo.current===u&&(Gr(Jn),Gr(Mo))}var Qr=zi(0);function Gl(u){for(var v=u;v!==null;){if(v.tag===13){var P=v.memoizedState;if(P!==null&&(P=P.dehydrated,P===null||P.data==="$?"||P.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Gd=[];function Wd(){for(var u=0;u<Gd.length;u++)Gd[u]._workInProgressVersionPrimary=null;Gd.length=0}var Wl=T.ReactCurrentDispatcher,Yd=T.ReactCurrentBatchConfig,ua=0,Zr=null,cs=null,gs=null,Yl=!1,zo=!1,Oo=0,Y0=0;function Ps(){throw Error(t(321))}function Xd(u,v){if(v===null)return!1;for(var P=0;P<v.length&&P<u.length;P++)if(!cr(u[P],v[P]))return!1;return!0}function Qd(u,v,P,V,Y,J){if(ua=J,Zr=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Wl.current=u===null||u.memoizedState===null?J0:ex,u=P(V,Y),zo){J=0;do{if(zo=!1,Oo=0,25<=J)throw Error(t(301));J+=1,gs=cs=null,v.updateQueue=null,Wl.current=tx,u=P(V,Y)}while(zo)}if(Wl.current=Zl,v=cs!==null&&cs.next!==null,ua=0,gs=cs=Zr=null,Yl=!1,v)throw Error(t(300));return u}function Zd(){var u=Oo!==0;return Oo=0,u}function ei(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?Zr.memoizedState=gs=u:gs=gs.next=u,gs}function _n(){if(cs===null){var u=Zr.alternate;u=u!==null?u.memoizedState:null}else u=cs.next;var v=gs===null?Zr.memoizedState:gs.next;if(v!==null)gs=v,cs=u;else{if(u===null)throw Error(t(310));cs=u,u={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},gs===null?Zr.memoizedState=gs=u:gs=gs.next=u}return gs}function Lo(u,v){return typeof v=="function"?v(u):v}function Jd(u){var v=_n(),P=v.queue;if(P===null)throw Error(t(311));P.lastRenderedReducer=u;var V=cs,Y=V.baseQueue,J=P.pending;if(J!==null){if(Y!==null){var ue=Y.next;Y.next=J.next,J.next=ue}V.baseQueue=Y=J,P.pending=null}if(Y!==null){J=Y.next,V=V.baseState;var _e=ue=null,Oe=null,et=J;do{var kt=et.lane;if((ua&kt)===kt)Oe!==null&&(Oe=Oe.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),V=et.hasEagerState?et.eagerState:u(V,et.action);else{var _t={lane:kt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};Oe===null?(_e=Oe=_t,ue=V):Oe=Oe.next=_t,Zr.lanes|=kt,ma|=kt}et=et.next}while(et!==null&&et!==J);Oe===null?ue=V:Oe.next=_e,cr(V,v.memoizedState)||(en=!0),v.memoizedState=V,v.baseState=ue,v.baseQueue=Oe,P.lastRenderedState=V}if(u=P.interleaved,u!==null){Y=u;do J=Y.lane,Zr.lanes|=J,ma|=J,Y=Y.next;while(Y!==u)}else Y===null&&(P.lanes=0);return[v.memoizedState,P.dispatch]}function eu(u){var v=_n(),P=v.queue;if(P===null)throw Error(t(311));P.lastRenderedReducer=u;var V=P.dispatch,Y=P.pending,J=v.memoizedState;if(Y!==null){P.pending=null;var ue=Y=Y.next;do J=u(J,ue.action),ue=ue.next;while(ue!==Y);cr(J,v.memoizedState)||(en=!0),v.memoizedState=J,v.baseQueue===null&&(v.baseState=J),P.lastRenderedState=J}return[J,V]}function wh(){}function kh(u,v){var P=Zr,V=_n(),Y=v(),J=!cr(V.memoizedState,Y);if(J&&(V.memoizedState=Y,en=!0),V=V.queue,tu(Sh.bind(null,P,V,u),[u]),V.getSnapshot!==v||J||gs!==null&&gs.memoizedState.tag&1){if(P.flags|=2048,Fo(9,jh.bind(null,P,V,Y,v),void 0,null),xs===null)throw Error(t(349));(ua&30)!==0||Nh(P,v,Y)}return Y}function Nh(u,v,P){u.flags|=16384,u={getSnapshot:v,value:P},v=Zr.updateQueue,v===null?(v={lastEffect:null,stores:null},Zr.updateQueue=v,v.stores=[u]):(P=v.stores,P===null?v.stores=[u]:P.push(u))}function jh(u,v,P,V){v.value=P,v.getSnapshot=V,Ch(v)&&Ah(u)}function Sh(u,v,P){return P(function(){Ch(v)&&Ah(u)})}function Ch(u){var v=u.getSnapshot;u=u.value;try{var P=v();return!cr(u,P)}catch{return!0}}function Ah(u){var v=pi(u,1);v!==null&&Un(v,u,1,-1)}function _h(u){var v=ei();return typeof u=="function"&&(u=u()),v.memoizedState=v.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:u},v.queue=u,u=u.dispatch=Z0.bind(null,Zr,u),[v.memoizedState,u]}function Fo(u,v,P,V){return u={tag:u,create:v,destroy:P,deps:V,next:null},v=Zr.updateQueue,v===null?(v={lastEffect:null,stores:null},Zr.updateQueue=v,v.lastEffect=u.next=u):(P=v.lastEffect,P===null?v.lastEffect=u.next=u:(V=P.next,P.next=u,u.next=V,v.lastEffect=u)),u}function Eh(){return _n().memoizedState}function Xl(u,v,P,V){var Y=ei();Zr.flags|=u,Y.memoizedState=Fo(1|v,P,void 0,V===void 0?null:V)}function Ql(u,v,P,V){var Y=_n();V=V===void 0?null:V;var J=void 0;if(cs!==null){var ue=cs.memoizedState;if(J=ue.destroy,V!==null&&Xd(V,ue.deps)){Y.memoizedState=Fo(v,P,J,V);return}}Zr.flags|=u,Y.memoizedState=Fo(1|v,P,J,V)}function Th(u,v){return Xl(8390656,8,u,v)}function tu(u,v){return Ql(2048,8,u,v)}function Ph(u,v){return Ql(4,2,u,v)}function Dh(u,v){return Ql(4,4,u,v)}function Ih(u,v){if(typeof v=="function")return u=u(),v(u),function(){v(null)};if(v!=null)return u=u(),v.current=u,function(){v.current=null}}function Mh(u,v,P){return P=P!=null?P.concat([u]):null,Ql(4,4,Ih.bind(null,v,u),P)}function ru(){}function Rh(u,v){var P=_n();v=v===void 0?null:v;var V=P.memoizedState;return V!==null&&v!==null&&Xd(v,V[1])?V[0]:(P.memoizedState=[u,v],u)}function zh(u,v){var P=_n();v=v===void 0?null:v;var V=P.memoizedState;return V!==null&&v!==null&&Xd(v,V[1])?V[0]:(u=u(),P.memoizedState=[u,v],u)}function Oh(u,v,P){return(ua&21)===0?(u.baseState&&(u.baseState=!1,en=!0),u.memoizedState=P):(cr(P,v)||(P=Sr(),Zr.lanes|=P,ma|=P,u.baseState=!0),v)}function X0(u,v){var P=pr;pr=P!==0&&4>P?P:4,u(!0);var V=Yd.transition;Yd.transition={};try{u(!1),v()}finally{pr=P,Yd.transition=V}}function Lh(){return _n().memoizedState}function Q0(u,v,P){var V=qi(u);if(P={lane:V,action:P,hasEagerState:!1,eagerState:null,next:null},Fh(u))Bh(v,P);else if(P=gh(u,v,P,V),P!==null){var Y=Hs();Un(P,u,V,Y),Uh(P,v,V)}}function Z0(u,v,P){var V=qi(u),Y={lane:V,action:P,hasEagerState:!1,eagerState:null,next:null};if(Fh(u))Bh(v,Y);else{var J=u.alternate;if(u.lanes===0&&(J===null||J.lanes===0)&&(J=v.lastRenderedReducer,J!==null))try{var ue=v.lastRenderedState,_e=J(ue,P);if(Y.hasEagerState=!0,Y.eagerState=_e,cr(_e,ue)){var Oe=v.interleaved;Oe===null?(Y.next=Y,Vd(v)):(Y.next=Oe.next,Oe.next=Y),v.interleaved=Y;return}}catch{}finally{}P=gh(u,v,Y,V),P!==null&&(Y=Hs(),Un(P,u,V,Y),Uh(P,v,V))}}function Fh(u){var v=u.alternate;return u===Zr||v!==null&&v===Zr}function Bh(u,v){zo=Yl=!0;var P=u.pending;P===null?v.next=v:(v.next=P.next,P.next=v),u.pending=v}function Uh(u,v,P){if((P&4194240)!==0){var V=v.lanes;V&=u.pendingLanes,P|=V,v.lanes=P,Wn(u,P)}}var Zl={readContext:An,useCallback:Ps,useContext:Ps,useEffect:Ps,useImperativeHandle:Ps,useInsertionEffect:Ps,useLayoutEffect:Ps,useMemo:Ps,useReducer:Ps,useRef:Ps,useState:Ps,useDebugValue:Ps,useDeferredValue:Ps,useTransition:Ps,useMutableSource:Ps,useSyncExternalStore:Ps,useId:Ps,unstable_isNewReconciler:!1},J0={readContext:An,useCallback:function(u,v){return ei().memoizedState=[u,v===void 0?null:v],u},useContext:An,useEffect:Th,useImperativeHandle:function(u,v,P){return P=P!=null?P.concat([u]):null,Xl(4194308,4,Ih.bind(null,v,u),P)},useLayoutEffect:function(u,v){return Xl(4194308,4,u,v)},useInsertionEffect:function(u,v){return Xl(4,2,u,v)},useMemo:function(u,v){var P=ei();return v=v===void 0?null:v,u=u(),P.memoizedState=[u,v],u},useReducer:function(u,v,P){var V=ei();return v=P!==void 0?P(v):v,V.memoizedState=V.baseState=v,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:v},V.queue=u,u=u.dispatch=Q0.bind(null,Zr,u),[V.memoizedState,u]},useRef:function(u){var v=ei();return u={current:u},v.memoizedState=u},useState:_h,useDebugValue:ru,useDeferredValue:function(u){return ei().memoizedState=u},useTransition:function(){var u=_h(!1),v=u[0];return u=X0.bind(null,u[1]),ei().memoizedState=u,[v,u]},useMutableSource:function(){},useSyncExternalStore:function(u,v,P){var V=Zr,Y=ei();if(Yr){if(P===void 0)throw Error(t(407));P=P()}else{if(P=v(),xs===null)throw Error(t(349));(ua&30)!==0||Nh(V,v,P)}Y.memoizedState=P;var J={value:P,getSnapshot:v};return Y.queue=J,Th(Sh.bind(null,V,J,u),[u]),V.flags|=2048,Fo(9,jh.bind(null,V,J,P,v),void 0,null),P},useId:function(){var u=ei(),v=xs.identifierPrefix;if(Yr){var P=fi,V=hi;P=(V&~(1<<32-ur(V)-1)).toString(32)+P,v=":"+v+"R"+P,P=Oo++,0<P&&(v+="H"+P.toString(32)),v+=":"}else P=Y0++,v=":"+v+"r"+P.toString(32)+":";return u.memoizedState=v},unstable_isNewReconciler:!1},ex={readContext:An,useCallback:Rh,useContext:An,useEffect:tu,useImperativeHandle:Mh,useInsertionEffect:Ph,useLayoutEffect:Dh,useMemo:zh,useReducer:Jd,useRef:Eh,useState:function(){return Jd(Lo)},useDebugValue:ru,useDeferredValue:function(u){var v=_n();return Oh(v,cs.memoizedState,u)},useTransition:function(){var u=Jd(Lo)[0],v=_n().memoizedState;return[u,v]},useMutableSource:wh,useSyncExternalStore:kh,useId:Lh,unstable_isNewReconciler:!1},tx={readContext:An,useCallback:Rh,useContext:An,useEffect:tu,useImperativeHandle:Mh,useInsertionEffect:Ph,useLayoutEffect:Dh,useMemo:zh,useReducer:eu,useRef:Eh,useState:function(){return eu(Lo)},useDebugValue:ru,useDeferredValue:function(u){var v=_n();return cs===null?v.memoizedState=u:Oh(v,cs.memoizedState,u)},useTransition:function(){var u=eu(Lo)[0],v=_n().memoizedState;return[u,v]},useMutableSource:wh,useSyncExternalStore:kh,useId:Lh,unstable_isNewReconciler:!1};function Ln(u,v){if(u&&u.defaultProps){v=E({},v),u=u.defaultProps;for(var P in u)v[P]===void 0&&(v[P]=u[P]);return v}return v}function su(u,v,P,V){v=u.memoizedState,P=P(V,v),P=P==null?v:E({},v,P),u.memoizedState=P,u.lanes===0&&(u.updateQueue.baseState=P)}var Jl={isMounted:function(u){return(u=u._reactInternals)?Ot(u)===u:!1},enqueueSetState:function(u,v,P){u=u._reactInternals;var V=Hs(),Y=qi(u),J=gi(V,Y);J.payload=v,P!=null&&(J.callback=P),v=Bi(u,J,Y),v!==null&&(Un(v,u,Y,V),Hl(v,u,Y))},enqueueReplaceState:function(u,v,P){u=u._reactInternals;var V=Hs(),Y=qi(u),J=gi(V,Y);J.tag=1,J.payload=v,P!=null&&(J.callback=P),v=Bi(u,J,Y),v!==null&&(Un(v,u,Y,V),Hl(v,u,Y))},enqueueForceUpdate:function(u,v){u=u._reactInternals;var P=Hs(),V=qi(u),Y=gi(P,V);Y.tag=2,v!=null&&(Y.callback=v),v=Bi(u,Y,V),v!==null&&(Un(v,u,V,P),Hl(v,u,V))}};function $h(u,v,P,V,Y,J,ue){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(V,J,ue):v.prototype&&v.prototype.isPureReactComponent?!vr(P,V)||!vr(Y,J):!0}function Vh(u,v,P){var V=!1,Y=Oi,J=v.contextType;return typeof J=="object"&&J!==null?J=An(J):(Y=Js(v)?aa:Ts.current,V=v.contextTypes,J=(V=V!=null)?Va(u,Y):Oi),v=new v(P,J),u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Jl,u.stateNode=v,v._reactInternals=u,V&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=Y,u.__reactInternalMemoizedMaskedChildContext=J),v}function qh(u,v,P,V){u=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(P,V),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(P,V),v.state!==u&&Jl.enqueueReplaceState(v,v.state,null)}function nu(u,v,P,V){var Y=u.stateNode;Y.props=P,Y.state=u.memoizedState,Y.refs={},qd(u);var J=v.contextType;typeof J=="object"&&J!==null?Y.context=An(J):(J=Js(v)?aa:Ts.current,Y.context=Va(u,J)),Y.state=u.memoizedState,J=v.getDerivedStateFromProps,typeof J=="function"&&(su(u,v,J,P),Y.state=u.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(v=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),v!==Y.state&&Jl.enqueueReplaceState(Y,Y.state,null),Kl(u,P,Y,V),Y.state=u.memoizedState),typeof Y.componentDidMount=="function"&&(u.flags|=4194308)}function Qa(u,v){try{var P="",V=v;do P+=re(V),V=V.return;while(V);var Y=P}catch(J){Y=`
Error generating stack: `+J.message+`
`+J.stack}return{value:u,source:v,stack:Y,digest:null}}function iu(u,v,P){return{value:u,source:null,stack:P??null,digest:v??null}}function au(u,v){try{console.error(v.value)}catch(P){setTimeout(function(){throw P})}}var rx=typeof WeakMap=="function"?WeakMap:Map;function Hh(u,v,P){P=gi(-1,P),P.tag=3,P.payload={element:null};var V=v.value;return P.callback=function(){ac||(ac=!0,wu=V),au(u,v)},P}function Kh(u,v,P){P=gi(-1,P),P.tag=3;var V=u.type.getDerivedStateFromError;if(typeof V=="function"){var Y=v.value;P.payload=function(){return V(Y)},P.callback=function(){au(u,v)}}var J=u.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(P.callback=function(){au(u,v),typeof V!="function"&&($i===null?$i=new Set([this]):$i.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})}),P}function Gh(u,v,P){var V=u.pingCache;if(V===null){V=u.pingCache=new rx;var Y=new Set;V.set(v,Y)}else Y=V.get(v),Y===void 0&&(Y=new Set,V.set(v,Y));Y.has(P)||(Y.add(P),u=gx.bind(null,u,v,P),v.then(u,u))}function Wh(u){do{var v;if((v=u.tag===13)&&(v=u.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return u;u=u.return}while(u!==null);return null}function Yh(u,v,P,V,Y){return(u.mode&1)===0?(u===v?u.flags|=65536:(u.flags|=128,P.flags|=131072,P.flags&=-52805,P.tag===1&&(P.alternate===null?P.tag=17:(v=gi(-1,1),v.tag=2,Bi(P,v,1))),P.lanes|=1),u):(u.flags|=65536,u.lanes=Y,u)}var sx=T.ReactCurrentOwner,en=!1;function qs(u,v,P,V){v.child=u===null?ph(v,null,P,V):Ga(v,u.child,P,V)}function Xh(u,v,P,V,Y){P=P.render;var J=v.ref;return Ya(v,Y),V=Qd(u,v,P,V,J,Y),P=Zd(),u!==null&&!en?(v.updateQueue=u.updateQueue,v.flags&=-2053,u.lanes&=~Y,xi(u,v,Y)):(Yr&&P&&Md(v),v.flags|=1,qs(u,v,V,Y),v.child)}function Qh(u,v,P,V,Y){if(u===null){var J=P.type;return typeof J=="function"&&!_u(J)&&J.defaultProps===void 0&&P.compare===null&&P.defaultProps===void 0?(v.tag=15,v.type=J,Zh(u,v,J,V,Y)):(u=mc(P.type,null,V,v,v.mode,Y),u.ref=v.ref,u.return=v,v.child=u)}if(J=u.child,(u.lanes&Y)===0){var ue=J.memoizedProps;if(P=P.compare,P=P!==null?P:vr,P(ue,V)&&u.ref===v.ref)return xi(u,v,Y)}return v.flags|=1,u=Ki(J,V),u.ref=v.ref,u.return=v,v.child=u}function Zh(u,v,P,V,Y){if(u!==null){var J=u.memoizedProps;if(vr(J,V)&&u.ref===v.ref)if(en=!1,v.pendingProps=V=J,(u.lanes&Y)!==0)(u.flags&131072)!==0&&(en=!0);else return v.lanes=u.lanes,xi(u,v,Y)}return ou(u,v,P,V,Y)}function Jh(u,v,P){var V=v.pendingProps,Y=V.children,J=u!==null?u.memoizedState:null;if(V.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(Ja,xn),xn|=P;else{if((P&1073741824)===0)return u=J!==null?J.baseLanes|P:P,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:u,cachePool:null,transitions:null},v.updateQueue=null,Br(Ja,xn),xn|=u,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=J!==null?J.baseLanes:P,Br(Ja,xn),xn|=V}else J!==null?(V=J.baseLanes|P,v.memoizedState=null):V=P,Br(Ja,xn),xn|=V;return qs(u,v,Y,P),v.child}function ef(u,v){var P=v.ref;(u===null&&P!==null||u!==null&&u.ref!==P)&&(v.flags|=512,v.flags|=2097152)}function ou(u,v,P,V,Y){var J=Js(P)?aa:Ts.current;return J=Va(v,J),Ya(v,Y),P=Qd(u,v,P,V,J,Y),V=Zd(),u!==null&&!en?(v.updateQueue=u.updateQueue,v.flags&=-2053,u.lanes&=~Y,xi(u,v,Y)):(Yr&&V&&Md(v),v.flags|=1,qs(u,v,P,Y),v.child)}function tf(u,v,P,V,Y){if(Js(P)){var J=!0;Ol(v)}else J=!1;if(Ya(v,Y),v.stateNode===null)tc(u,v),Vh(v,P,V),nu(v,P,V,Y),V=!0;else if(u===null){var ue=v.stateNode,_e=v.memoizedProps;ue.props=_e;var Oe=ue.context,et=P.contextType;typeof et=="object"&&et!==null?et=An(et):(et=Js(P)?aa:Ts.current,et=Va(v,et));var kt=P.getDerivedStateFromProps,_t=typeof kt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";_t||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(_e!==V||Oe!==et)&&qh(v,ue,V,et),Fi=!1;var vt=v.memoizedState;ue.state=vt,Kl(v,V,ue,Y),Oe=v.memoizedState,_e!==V||vt!==Oe||Zs.current||Fi?(typeof kt=="function"&&(su(v,P,kt,V),Oe=v.memoizedState),(_e=Fi||$h(v,P,_e,V,vt,Oe,et))?(_t||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=V,v.memoizedState=Oe),ue.props=V,ue.state=Oe,ue.context=et,V=_e):(typeof ue.componentDidMount=="function"&&(v.flags|=4194308),V=!1)}else{ue=v.stateNode,xh(u,v),_e=v.memoizedProps,et=v.type===v.elementType?_e:Ln(v.type,_e),ue.props=et,_t=v.pendingProps,vt=ue.context,Oe=P.contextType,typeof Oe=="object"&&Oe!==null?Oe=An(Oe):(Oe=Js(P)?aa:Ts.current,Oe=Va(v,Oe));var qt=P.getDerivedStateFromProps;(kt=typeof qt=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(_e!==_t||vt!==Oe)&&qh(v,ue,V,Oe),Fi=!1,vt=v.memoizedState,ue.state=vt,Kl(v,V,ue,Y);var Qt=v.memoizedState;_e!==_t||vt!==Qt||Zs.current||Fi?(typeof qt=="function"&&(su(v,P,qt,V),Qt=v.memoizedState),(et=Fi||$h(v,P,et,V,vt,Qt,Oe)||!1)?(kt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(V,Qt,Oe),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(V,Qt,Oe)),typeof ue.componentDidUpdate=="function"&&(v.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ue.componentDidUpdate!="function"||_e===u.memoizedProps&&vt===u.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||_e===u.memoizedProps&&vt===u.memoizedState||(v.flags|=1024),v.memoizedProps=V,v.memoizedState=Qt),ue.props=V,ue.state=Qt,ue.context=Oe,V=et):(typeof ue.componentDidUpdate!="function"||_e===u.memoizedProps&&vt===u.memoizedState||(v.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||_e===u.memoizedProps&&vt===u.memoizedState||(v.flags|=1024),V=!1)}return lu(u,v,P,V,J,Y)}function lu(u,v,P,V,Y,J){ef(u,v);var ue=(v.flags&128)!==0;if(!V&&!ue)return Y&&ah(v,P,!1),xi(u,v,J);V=v.stateNode,sx.current=v;var _e=ue&&typeof P.getDerivedStateFromError!="function"?null:V.render();return v.flags|=1,u!==null&&ue?(v.child=Ga(v,u.child,null,J),v.child=Ga(v,null,_e,J)):qs(u,v,_e,J),v.memoizedState=V.state,Y&&ah(v,P,!0),v.child}function rf(u){var v=u.stateNode;v.pendingContext?nh(u,v.pendingContext,v.pendingContext!==v.context):v.context&&nh(u,v.context,!1),Hd(u,v.containerInfo)}function sf(u,v,P,V,Y){return Ka(),Ld(Y),v.flags|=256,qs(u,v,P,V),v.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function du(u){return{baseLanes:u,cachePool:null,transitions:null}}function nf(u,v,P){var V=v.pendingProps,Y=Qr.current,J=!1,ue=(v.flags&128)!==0,_e;if((_e=ue)||(_e=u!==null&&u.memoizedState===null?!1:(Y&2)!==0),_e?(J=!0,v.flags&=-129):(u===null||u.memoizedState!==null)&&(Y|=1),Br(Qr,Y&1),u===null)return Od(v),u=v.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((v.mode&1)===0?v.lanes=1:u.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(ue=V.children,u=V.fallback,J?(V=v.mode,J=v.child,ue={mode:"hidden",children:ue},(V&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=ue):J=hc(ue,V,0,null),u=ga(u,V,P,null),J.return=v,u.return=v,J.sibling=u,v.child=J,v.child.memoizedState=du(P),v.memoizedState=cu,u):uu(v,ue));if(Y=u.memoizedState,Y!==null&&(_e=Y.dehydrated,_e!==null))return nx(u,v,ue,V,_e,Y,P);if(J){J=V.fallback,ue=v.mode,Y=u.child,_e=Y.sibling;var Oe={mode:"hidden",children:V.children};return(ue&1)===0&&v.child!==Y?(V=v.child,V.childLanes=0,V.pendingProps=Oe,v.deletions=null):(V=Ki(Y,Oe),V.subtreeFlags=Y.subtreeFlags&14680064),_e!==null?J=Ki(_e,J):(J=ga(J,ue,P,null),J.flags|=2),J.return=v,V.return=v,V.sibling=J,v.child=V,V=J,J=v.child,ue=u.child.memoizedState,ue=ue===null?du(P):{baseLanes:ue.baseLanes|P,cachePool:null,transitions:ue.transitions},J.memoizedState=ue,J.childLanes=u.childLanes&~P,v.memoizedState=cu,V}return J=u.child,u=J.sibling,V=Ki(J,{mode:"visible",children:V.children}),(v.mode&1)===0&&(V.lanes=P),V.return=v,V.sibling=null,u!==null&&(P=v.deletions,P===null?(v.deletions=[u],v.flags|=16):P.push(u)),v.child=V,v.memoizedState=null,V}function uu(u,v){return v=hc({mode:"visible",children:v},u.mode,0,null),v.return=u,u.child=v}function ec(u,v,P,V){return V!==null&&Ld(V),Ga(v,u.child,null,P),u=uu(v,v.pendingProps.children),u.flags|=2,v.memoizedState=null,u}function nx(u,v,P,V,Y,J,ue){if(P)return v.flags&256?(v.flags&=-257,V=iu(Error(t(422))),ec(u,v,ue,V)):v.memoizedState!==null?(v.child=u.child,v.flags|=128,null):(J=V.fallback,Y=v.mode,V=hc({mode:"visible",children:V.children},Y,0,null),J=ga(J,Y,ue,null),J.flags|=2,V.return=v,J.return=v,V.sibling=J,v.child=V,(v.mode&1)!==0&&Ga(v,u.child,null,ue),v.child.memoizedState=du(ue),v.memoizedState=cu,J);if((v.mode&1)===0)return ec(u,v,ue,null);if(Y.data==="$!"){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var _e=V.dgst;return V=_e,J=Error(t(419)),V=iu(J,V,void 0),ec(u,v,ue,V)}if(_e=(ue&u.childLanes)!==0,en||_e){if(V=xs,V!==null){switch(ue&-ue){case 4:Y=2;break;case 16:Y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Y=32;break;case 536870912:Y=268435456;break;default:Y=0}Y=(Y&(V.suspendedLanes|ue))!==0?0:Y,Y!==0&&Y!==J.retryLane&&(J.retryLane=Y,pi(u,Y),Un(V,u,Y,-1))}return Au(),V=iu(Error(t(421))),ec(u,v,ue,V)}return Y.data==="$?"?(v.flags|=128,v.child=u.child,v=xx.bind(null,u),Y._reactRetry=v,null):(u=J.treeContext,gn=Ri(Y.nextSibling),pn=v,Yr=!0,On=null,u!==null&&(Sn[Cn++]=hi,Sn[Cn++]=fi,Sn[Cn++]=oa,hi=u.id,fi=u.overflow,oa=v),v=uu(v,V.children),v.flags|=4096,v)}function af(u,v,P){u.lanes|=v;var V=u.alternate;V!==null&&(V.lanes|=v),$d(u.return,v,P)}function mu(u,v,P,V,Y){var J=u.memoizedState;J===null?u.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:V,tail:P,tailMode:Y}:(J.isBackwards=v,J.rendering=null,J.renderingStartTime=0,J.last=V,J.tail=P,J.tailMode=Y)}function of(u,v,P){var V=v.pendingProps,Y=V.revealOrder,J=V.tail;if(qs(u,v,V.children,P),V=Qr.current,(V&2)!==0)V=V&1|2,v.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=v.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&af(u,P,v);else if(u.tag===19)af(u,P,v);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===v)break e;for(;u.sibling===null;){if(u.return===null||u.return===v)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}V&=1}if(Br(Qr,V),(v.mode&1)===0)v.memoizedState=null;else switch(Y){case"forwards":for(P=v.child,Y=null;P!==null;)u=P.alternate,u!==null&&Gl(u)===null&&(Y=P),P=P.sibling;P=Y,P===null?(Y=v.child,v.child=null):(Y=P.sibling,P.sibling=null),mu(v,!1,Y,P,J);break;case"backwards":for(P=null,Y=v.child,v.child=null;Y!==null;){if(u=Y.alternate,u!==null&&Gl(u)===null){v.child=Y;break}u=Y.sibling,Y.sibling=P,P=Y,Y=u}mu(v,!0,P,null,J);break;case"together":mu(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function tc(u,v){(v.mode&1)===0&&u!==null&&(u.alternate=null,v.alternate=null,v.flags|=2)}function xi(u,v,P){if(u!==null&&(v.dependencies=u.dependencies),ma|=v.lanes,(P&v.childLanes)===0)return null;if(u!==null&&v.child!==u.child)throw Error(t(153));if(v.child!==null){for(u=v.child,P=Ki(u,u.pendingProps),v.child=P,P.return=v;u.sibling!==null;)u=u.sibling,P=P.sibling=Ki(u,u.pendingProps),P.return=v;P.sibling=null}return v.child}function ix(u,v,P){switch(v.tag){case 3:rf(v),Ka();break;case 5:vh(v);break;case 1:Js(v.type)&&Ol(v);break;case 4:Hd(v,v.stateNode.containerInfo);break;case 10:var V=v.type._context,Y=v.memoizedProps.value;Br(Vl,V._currentValue),V._currentValue=Y;break;case 13:if(V=v.memoizedState,V!==null)return V.dehydrated!==null?(Br(Qr,Qr.current&1),v.flags|=128,null):(P&v.child.childLanes)!==0?nf(u,v,P):(Br(Qr,Qr.current&1),u=xi(u,v,P),u!==null?u.sibling:null);Br(Qr,Qr.current&1);break;case 19:if(V=(P&v.childLanes)!==0,(u.flags&128)!==0){if(V)return of(u,v,P);v.flags|=128}if(Y=v.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),Br(Qr,Qr.current),V)break;return null;case 22:case 23:return v.lanes=0,Jh(u,v,P)}return xi(u,v,P)}var lf,hu,cf,df;lf=function(u,v){for(var P=v.child;P!==null;){if(P.tag===5||P.tag===6)u.appendChild(P.stateNode);else if(P.tag!==4&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===v)break;for(;P.sibling===null;){if(P.return===null||P.return===v)return;P=P.return}P.sibling.return=P.return,P=P.sibling}},hu=function(){},cf=function(u,v,P,V){var Y=u.memoizedProps;if(Y!==V){u=v.stateNode,da(Jn.current);var J=null;switch(P){case"input":Y=me(u,Y),V=me(u,V),J=[];break;case"select":Y=E({},Y,{value:void 0}),V=E({},V,{value:void 0}),J=[];break;case"textarea":Y=pe(u,Y),V=pe(u,V),J=[];break;default:typeof Y.onClick!="function"&&typeof V.onClick=="function"&&(u.onclick=Ml)}at(P,V);var ue;P=null;for(et in Y)if(!V.hasOwnProperty(et)&&Y.hasOwnProperty(et)&&Y[et]!=null)if(et==="style"){var _e=Y[et];for(ue in _e)_e.hasOwnProperty(ue)&&(P||(P={}),P[ue]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(m.hasOwnProperty(et)?J||(J=[]):(J=J||[]).push(et,null));for(et in V){var Oe=V[et];if(_e=Y?.[et],V.hasOwnProperty(et)&&Oe!==_e&&(Oe!=null||_e!=null))if(et==="style")if(_e){for(ue in _e)!_e.hasOwnProperty(ue)||Oe&&Oe.hasOwnProperty(ue)||(P||(P={}),P[ue]="");for(ue in Oe)Oe.hasOwnProperty(ue)&&_e[ue]!==Oe[ue]&&(P||(P={}),P[ue]=Oe[ue])}else P||(J||(J=[]),J.push(et,P)),P=Oe;else et==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,_e=_e?_e.__html:void 0,Oe!=null&&_e!==Oe&&(J=J||[]).push(et,Oe)):et==="children"?typeof Oe!="string"&&typeof Oe!="number"||(J=J||[]).push(et,""+Oe):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(m.hasOwnProperty(et)?(Oe!=null&&et==="onScroll"&&Kr("scroll",u),J||_e===Oe||(J=[])):(J=J||[]).push(et,Oe))}P&&(J=J||[]).push("style",P);var et=J;(v.updateQueue=et)&&(v.flags|=4)}},df=function(u,v,P,V){P!==V&&(v.flags|=4)};function Bo(u,v){if(!Yr)switch(u.tailMode){case"hidden":v=u.tail;for(var P=null;v!==null;)v.alternate!==null&&(P=v),v=v.sibling;P===null?u.tail=null:P.sibling=null;break;case"collapsed":P=u.tail;for(var V=null;P!==null;)P.alternate!==null&&(V=P),P=P.sibling;V===null?v||u.tail===null?u.tail=null:u.tail.sibling=null:V.sibling=null}}function Ds(u){var v=u.alternate!==null&&u.alternate.child===u.child,P=0,V=0;if(v)for(var Y=u.child;Y!==null;)P|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags&14680064,V|=Y.flags&14680064,Y.return=u,Y=Y.sibling;else for(Y=u.child;Y!==null;)P|=Y.lanes|Y.childLanes,V|=Y.subtreeFlags,V|=Y.flags,Y.return=u,Y=Y.sibling;return u.subtreeFlags|=V,u.childLanes=P,v}function ax(u,v,P){var V=v.pendingProps;switch(Rd(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ds(v),null;case 1:return Js(v.type)&&zl(),Ds(v),null;case 3:return V=v.stateNode,Xa(),Gr(Zs),Gr(Ts),Wd(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(u===null||u.child===null)&&(Ul(v)?v.flags|=4:u===null||u.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,On!==null&&(ju(On),On=null))),hu(u,v),Ds(v),null;case 5:Kd(v);var Y=da(Ro.current);if(P=v.type,u!==null&&v.stateNode!=null)cf(u,v,P,V,Y),u.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!V){if(v.stateNode===null)throw Error(t(166));return Ds(v),null}if(u=da(Jn.current),Ul(v)){V=v.stateNode,P=v.type;var J=v.memoizedProps;switch(V[Zn]=v,V[To]=J,u=(v.mode&1)!==0,P){case"dialog":Kr("cancel",V),Kr("close",V);break;case"iframe":case"object":case"embed":Kr("load",V);break;case"video":case"audio":for(Y=0;Y<Ao.length;Y++)Kr(Ao[Y],V);break;case"source":Kr("error",V);break;case"img":case"image":case"link":Kr("error",V),Kr("load",V);break;case"details":Kr("toggle",V);break;case"input":Se(V,J),Kr("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!J.multiple},Kr("invalid",V);break;case"textarea":Ae(V,J),Kr("invalid",V)}at(P,J),Y=null;for(var ue in J)if(J.hasOwnProperty(ue)){var _e=J[ue];ue==="children"?typeof _e=="string"?V.textContent!==_e&&(J.suppressHydrationWarning!==!0&&Il(V.textContent,_e,u),Y=["children",_e]):typeof _e=="number"&&V.textContent!==""+_e&&(J.suppressHydrationWarning!==!0&&Il(V.textContent,_e,u),Y=["children",""+_e]):m.hasOwnProperty(ue)&&_e!=null&&ue==="onScroll"&&Kr("scroll",V)}switch(P){case"input":se(V),ie(V,J,!0);break;case"textarea":se(V),te(V);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(V.onclick=Ml)}V=Y,v.updateQueue=V,V!==null&&(v.flags|=4)}else{ue=Y.nodeType===9?Y:Y.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=ye(P)),u==="http://www.w3.org/1999/xhtml"?P==="script"?(u=ue.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof V.is=="string"?u=ue.createElement(P,{is:V.is}):(u=ue.createElement(P),P==="select"&&(ue=u,V.multiple?ue.multiple=!0:V.size&&(ue.size=V.size))):u=ue.createElementNS(u,P),u[Zn]=v,u[To]=V,lf(u,v,!1,!1),v.stateNode=u;e:{switch(ue=we(P,V),P){case"dialog":Kr("cancel",u),Kr("close",u),Y=V;break;case"iframe":case"object":case"embed":Kr("load",u),Y=V;break;case"video":case"audio":for(Y=0;Y<Ao.length;Y++)Kr(Ao[Y],u);Y=V;break;case"source":Kr("error",u),Y=V;break;case"img":case"image":case"link":Kr("error",u),Kr("load",u),Y=V;break;case"details":Kr("toggle",u),Y=V;break;case"input":Se(u,V),Y=me(u,V),Kr("invalid",u);break;case"option":Y=V;break;case"select":u._wrapperState={wasMultiple:!!V.multiple},Y=E({},V,{value:void 0}),Kr("invalid",u);break;case"textarea":Ae(u,V),Y=pe(u,V),Kr("invalid",u);break;default:Y=V}at(P,Y),_e=Y;for(J in _e)if(_e.hasOwnProperty(J)){var Oe=_e[J];J==="style"?qe(u,Oe):J==="dangerouslySetInnerHTML"?(Oe=Oe?Oe.__html:void 0,Oe!=null&&je(u,Oe)):J==="children"?typeof Oe=="string"?(P!=="textarea"||Oe!=="")&&tt(u,Oe):typeof Oe=="number"&&tt(u,""+Oe):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(m.hasOwnProperty(J)?Oe!=null&&J==="onScroll"&&Kr("scroll",u):Oe!=null&&C(u,J,Oe,ue))}switch(P){case"input":se(u),ie(u,V,!1);break;case"textarea":se(u),te(u);break;case"option":V.value!=null&&u.setAttribute("value",""+R(V.value));break;case"select":u.multiple=!!V.multiple,J=V.value,J!=null?ge(u,!!V.multiple,J,!1):V.defaultValue!=null&&ge(u,!!V.multiple,V.defaultValue,!0);break;default:typeof Y.onClick=="function"&&(u.onclick=Ml)}switch(P){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Ds(v),null;case 6:if(u&&v.stateNode!=null)df(u,v,u.memoizedProps,V);else{if(typeof V!="string"&&v.stateNode===null)throw Error(t(166));if(P=da(Ro.current),da(Jn.current),Ul(v)){if(V=v.stateNode,P=v.memoizedProps,V[Zn]=v,(J=V.nodeValue!==P)&&(u=pn,u!==null))switch(u.tag){case 3:Il(V.nodeValue,P,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Il(V.nodeValue,P,(u.mode&1)!==0)}J&&(v.flags|=4)}else V=(P.nodeType===9?P:P.ownerDocument).createTextNode(V),V[Zn]=v,v.stateNode=V}return Ds(v),null;case 13:if(Gr(Qr),V=v.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Yr&&gn!==null&&(v.mode&1)!==0&&(v.flags&128)===0)mh(),Ka(),v.flags|=98560,J=!1;else if(J=Ul(v),V!==null&&V.dehydrated!==null){if(u===null){if(!J)throw Error(t(318));if(J=v.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(t(317));J[Zn]=v}else Ka(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;Ds(v),J=!1}else On!==null&&(ju(On),On=null),J=!0;if(!J)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=P,v):(V=V!==null,V!==(u!==null&&u.memoizedState!==null)&&V&&(v.child.flags|=8192,(v.mode&1)!==0&&(u===null||(Qr.current&1)!==0?ds===0&&(ds=3):Au())),v.updateQueue!==null&&(v.flags|=4),Ds(v),null);case 4:return Xa(),hu(u,v),u===null&&_o(v.stateNode.containerInfo),Ds(v),null;case 10:return Ud(v.type._context),Ds(v),null;case 17:return Js(v.type)&&zl(),Ds(v),null;case 19:if(Gr(Qr),J=v.memoizedState,J===null)return Ds(v),null;if(V=(v.flags&128)!==0,ue=J.rendering,ue===null)if(V)Bo(J,!1);else{if(ds!==0||u!==null&&(u.flags&128)!==0)for(u=v.child;u!==null;){if(ue=Gl(u),ue!==null){for(v.flags|=128,Bo(J,!1),V=ue.updateQueue,V!==null&&(v.updateQueue=V,v.flags|=4),v.subtreeFlags=0,V=P,P=v.child;P!==null;)J=P,u=V,J.flags&=14680066,ue=J.alternate,ue===null?(J.childLanes=0,J.lanes=u,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=ue.childLanes,J.lanes=ue.lanes,J.child=ue.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=ue.memoizedProps,J.memoizedState=ue.memoizedState,J.updateQueue=ue.updateQueue,J.type=ue.type,u=ue.dependencies,J.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),P=P.sibling;return Br(Qr,Qr.current&1|2),v.child}u=u.sibling}J.tail!==null&&Re()>eo&&(v.flags|=128,V=!0,Bo(J,!1),v.lanes=4194304)}else{if(!V)if(u=Gl(ue),u!==null){if(v.flags|=128,V=!0,P=u.updateQueue,P!==null&&(v.updateQueue=P,v.flags|=4),Bo(J,!0),J.tail===null&&J.tailMode==="hidden"&&!ue.alternate&&!Yr)return Ds(v),null}else 2*Re()-J.renderingStartTime>eo&&P!==1073741824&&(v.flags|=128,V=!0,Bo(J,!1),v.lanes=4194304);J.isBackwards?(ue.sibling=v.child,v.child=ue):(P=J.last,P!==null?P.sibling=ue:v.child=ue,J.last=ue)}return J.tail!==null?(v=J.tail,J.rendering=v,J.tail=v.sibling,J.renderingStartTime=Re(),v.sibling=null,P=Qr.current,Br(Qr,V?P&1|2:P&1),v):(Ds(v),null);case 22:case 23:return Cu(),V=v.memoizedState!==null,u!==null&&u.memoizedState!==null!==V&&(v.flags|=8192),V&&(v.mode&1)!==0?(xn&1073741824)!==0&&(Ds(v),v.subtreeFlags&6&&(v.flags|=8192)):Ds(v),null;case 24:return null;case 25:return null}throw Error(t(156,v.tag))}function ox(u,v){switch(Rd(v),v.tag){case 1:return Js(v.type)&&zl(),u=v.flags,u&65536?(v.flags=u&-65537|128,v):null;case 3:return Xa(),Gr(Zs),Gr(Ts),Wd(),u=v.flags,(u&65536)!==0&&(u&128)===0?(v.flags=u&-65537|128,v):null;case 5:return Kd(v),null;case 13:if(Gr(Qr),u=v.memoizedState,u!==null&&u.dehydrated!==null){if(v.alternate===null)throw Error(t(340));Ka()}return u=v.flags,u&65536?(v.flags=u&-65537|128,v):null;case 19:return Gr(Qr),null;case 4:return Xa(),null;case 10:return Ud(v.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var rc=!1,Is=!1,lx=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Za(u,v){var P=u.ref;if(P!==null)if(typeof P=="function")try{P(null)}catch(V){es(u,v,V)}else P.current=null}function fu(u,v,P){try{P()}catch(V){es(u,v,V)}}var uf=!1;function cx(u,v){if(Cd=_a,u=zn(),Ns(u)){if("selectionStart"in u)var P={start:u.selectionStart,end:u.selectionEnd};else e:{P=(P=u.ownerDocument)&&P.defaultView||window;var V=P.getSelection&&P.getSelection();if(V&&V.rangeCount!==0){P=V.anchorNode;var Y=V.anchorOffset,J=V.focusNode;V=V.focusOffset;try{P.nodeType,J.nodeType}catch{P=null;break e}var ue=0,_e=-1,Oe=-1,et=0,kt=0,_t=u,vt=null;t:for(;;){for(var qt;_t!==P||Y!==0&&_t.nodeType!==3||(_e=ue+Y),_t!==J||V!==0&&_t.nodeType!==3||(Oe=ue+V),_t.nodeType===3&&(ue+=_t.nodeValue.length),(qt=_t.firstChild)!==null;)vt=_t,_t=qt;for(;;){if(_t===u)break t;if(vt===P&&++et===Y&&(_e=ue),vt===J&&++kt===V&&(Oe=ue),(qt=_t.nextSibling)!==null)break;_t=vt,vt=_t.parentNode}_t=qt}P=_e===-1||Oe===-1?null:{start:_e,end:Oe}}else P=null}P=P||{start:0,end:0}}else P=null;for(Ad={focusedElem:u,selectionRange:P},_a=!1,Gt=v;Gt!==null;)if(v=Gt,u=v.child,(v.subtreeFlags&1028)!==0&&u!==null)u.return=v,Gt=u;else for(;Gt!==null;){v=Gt;try{var Qt=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(Qt!==null){var Zt=Qt.memoizedProps,rs=Qt.memoizedState,Ye=v.stateNode,Ue=Ye.getSnapshotBeforeUpdate(v.elementType===v.type?Zt:Ln(v.type,Zt),rs);Ye.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var Ze=v.stateNode.containerInfo;Ze.nodeType===1?Ze.textContent="":Ze.nodeType===9&&Ze.documentElement&&Ze.removeChild(Ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(It){es(v,v.return,It)}if(u=v.sibling,u!==null){u.return=v.return,Gt=u;break}Gt=v.return}return Qt=uf,uf=!1,Qt}function Uo(u,v,P){var V=v.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var Y=V=V.next;do{if((Y.tag&u)===u){var J=Y.destroy;Y.destroy=void 0,J!==void 0&&fu(v,P,J)}Y=Y.next}while(Y!==V)}}function sc(u,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var P=v=v.next;do{if((P.tag&u)===u){var V=P.create;P.destroy=V()}P=P.next}while(P!==v)}}function pu(u){var v=u.ref;if(v!==null){var P=u.stateNode;switch(u.tag){case 5:u=P;break;default:u=P}typeof v=="function"?v(u):v.current=u}}function mf(u){var v=u.alternate;v!==null&&(u.alternate=null,mf(v)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(v=u.stateNode,v!==null&&(delete v[Zn],delete v[To],delete v[Pd],delete v[H0],delete v[K0])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function hf(u){return u.tag===5||u.tag===3||u.tag===4}function ff(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||hf(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function gu(u,v,P){var V=u.tag;if(V===5||V===6)u=u.stateNode,v?P.nodeType===8?P.parentNode.insertBefore(u,v):P.insertBefore(u,v):(P.nodeType===8?(v=P.parentNode,v.insertBefore(u,P)):(v=P,v.appendChild(u)),P=P._reactRootContainer,P!=null||v.onclick!==null||(v.onclick=Ml));else if(V!==4&&(u=u.child,u!==null))for(gu(u,v,P),u=u.sibling;u!==null;)gu(u,v,P),u=u.sibling}function xu(u,v,P){var V=u.tag;if(V===5||V===6)u=u.stateNode,v?P.insertBefore(u,v):P.appendChild(u);else if(V!==4&&(u=u.child,u!==null))for(xu(u,v,P),u=u.sibling;u!==null;)xu(u,v,P),u=u.sibling}var js=null,Fn=!1;function Ui(u,v,P){for(P=P.child;P!==null;)pf(u,v,P),P=P.sibling}function pf(u,v,P){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(ir,P)}catch{}switch(P.tag){case 5:Is||Za(P,v);case 6:var V=js,Y=Fn;js=null,Ui(u,v,P),js=V,Fn=Y,js!==null&&(Fn?(u=js,P=P.stateNode,u.nodeType===8?u.parentNode.removeChild(P):u.removeChild(P)):js.removeChild(P.stateNode));break;case 18:js!==null&&(Fn?(u=js,P=P.stateNode,u.nodeType===8?Td(u.parentNode,P):u.nodeType===1&&Td(u,P),ci(u)):Td(js,P.stateNode));break;case 4:V=js,Y=Fn,js=P.stateNode.containerInfo,Fn=!0,Ui(u,v,P),js=V,Fn=Y;break;case 0:case 11:case 14:case 15:if(!Is&&(V=P.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){Y=V=V.next;do{var J=Y,ue=J.destroy;J=J.tag,ue!==void 0&&((J&2)!==0||(J&4)!==0)&&fu(P,v,ue),Y=Y.next}while(Y!==V)}Ui(u,v,P);break;case 1:if(!Is&&(Za(P,v),V=P.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=P.memoizedProps,V.state=P.memoizedState,V.componentWillUnmount()}catch(_e){es(P,v,_e)}Ui(u,v,P);break;case 21:Ui(u,v,P);break;case 22:P.mode&1?(Is=(V=Is)||P.memoizedState!==null,Ui(u,v,P),Is=V):Ui(u,v,P);break;default:Ui(u,v,P)}}function gf(u){var v=u.updateQueue;if(v!==null){u.updateQueue=null;var P=u.stateNode;P===null&&(P=u.stateNode=new lx),v.forEach(function(V){var Y=yx.bind(null,u,V);P.has(V)||(P.add(V),V.then(Y,Y))})}}function Bn(u,v){var P=v.deletions;if(P!==null)for(var V=0;V<P.length;V++){var Y=P[V];try{var J=u,ue=v,_e=ue;e:for(;_e!==null;){switch(_e.tag){case 5:js=_e.stateNode,Fn=!1;break e;case 3:js=_e.stateNode.containerInfo,Fn=!0;break e;case 4:js=_e.stateNode.containerInfo,Fn=!0;break e}_e=_e.return}if(js===null)throw Error(t(160));pf(J,ue,Y),js=null,Fn=!1;var Oe=Y.alternate;Oe!==null&&(Oe.return=null),Y.return=null}catch(et){es(Y,v,et)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)xf(v,u),v=v.sibling}function xf(u,v){var P=u.alternate,V=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Bn(v,u),ti(u),V&4){try{Uo(3,u,u.return),sc(3,u)}catch(Zt){es(u,u.return,Zt)}try{Uo(5,u,u.return)}catch(Zt){es(u,u.return,Zt)}}break;case 1:Bn(v,u),ti(u),V&512&&P!==null&&Za(P,P.return);break;case 5:if(Bn(v,u),ti(u),V&512&&P!==null&&Za(P,P.return),u.flags&32){var Y=u.stateNode;try{tt(Y,"")}catch(Zt){es(u,u.return,Zt)}}if(V&4&&(Y=u.stateNode,Y!=null)){var J=u.memoizedProps,ue=P!==null?P.memoizedProps:J,_e=u.type,Oe=u.updateQueue;if(u.updateQueue=null,Oe!==null)try{_e==="input"&&J.type==="radio"&&J.name!=null&&Ee(Y,J),we(_e,ue);var et=we(_e,J);for(ue=0;ue<Oe.length;ue+=2){var kt=Oe[ue],_t=Oe[ue+1];kt==="style"?qe(Y,_t):kt==="dangerouslySetInnerHTML"?je(Y,_t):kt==="children"?tt(Y,_t):C(Y,kt,_t,et)}switch(_e){case"input":le(Y,J);break;case"textarea":fe(Y,J);break;case"select":var vt=Y._wrapperState.wasMultiple;Y._wrapperState.wasMultiple=!!J.multiple;var qt=J.value;qt!=null?ge(Y,!!J.multiple,qt,!1):vt!==!!J.multiple&&(J.defaultValue!=null?ge(Y,!!J.multiple,J.defaultValue,!0):ge(Y,!!J.multiple,J.multiple?[]:"",!1))}Y[To]=J}catch(Zt){es(u,u.return,Zt)}}break;case 6:if(Bn(v,u),ti(u),V&4){if(u.stateNode===null)throw Error(t(162));Y=u.stateNode,J=u.memoizedProps;try{Y.nodeValue=J}catch(Zt){es(u,u.return,Zt)}}break;case 3:if(Bn(v,u),ti(u),V&4&&P!==null&&P.memoizedState.isDehydrated)try{ci(v.containerInfo)}catch(Zt){es(u,u.return,Zt)}break;case 4:Bn(v,u),ti(u);break;case 13:Bn(v,u),ti(u),Y=u.child,Y.flags&8192&&(J=Y.memoizedState!==null,Y.stateNode.isHidden=J,!J||Y.alternate!==null&&Y.alternate.memoizedState!==null||(vu=Re())),V&4&&gf(u);break;case 22:if(kt=P!==null&&P.memoizedState!==null,u.mode&1?(Is=(et=Is)||kt,Bn(v,u),Is=et):Bn(v,u),ti(u),V&8192){if(et=u.memoizedState!==null,(u.stateNode.isHidden=et)&&!kt&&(u.mode&1)!==0)for(Gt=u,kt=u.child;kt!==null;){for(_t=Gt=kt;Gt!==null;){switch(vt=Gt,qt=vt.child,vt.tag){case 0:case 11:case 14:case 15:Uo(4,vt,vt.return);break;case 1:Za(vt,vt.return);var Qt=vt.stateNode;if(typeof Qt.componentWillUnmount=="function"){V=vt,P=vt.return;try{v=V,Qt.props=v.memoizedProps,Qt.state=v.memoizedState,Qt.componentWillUnmount()}catch(Zt){es(V,P,Zt)}}break;case 5:Za(vt,vt.return);break;case 22:if(vt.memoizedState!==null){vf(_t);continue}}qt!==null?(qt.return=vt,Gt=qt):vf(_t)}kt=kt.sibling}e:for(kt=null,_t=u;;){if(_t.tag===5){if(kt===null){kt=_t;try{Y=_t.stateNode,et?(J=Y.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(_e=_t.stateNode,Oe=_t.memoizedProps.style,ue=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null,_e.style.display=ze("display",ue))}catch(Zt){es(u,u.return,Zt)}}}else if(_t.tag===6){if(kt===null)try{_t.stateNode.nodeValue=et?"":_t.memoizedProps}catch(Zt){es(u,u.return,Zt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===u)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===u)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===u)break e;kt===_t&&(kt=null),_t=_t.return}kt===_t&&(kt=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:Bn(v,u),ti(u),V&4&&gf(u);break;case 21:break;default:Bn(v,u),ti(u)}}function ti(u){var v=u.flags;if(v&2){try{e:{for(var P=u.return;P!==null;){if(hf(P)){var V=P;break e}P=P.return}throw Error(t(160))}switch(V.tag){case 5:var Y=V.stateNode;V.flags&32&&(tt(Y,""),V.flags&=-33);var J=ff(u);xu(u,J,Y);break;case 3:case 4:var ue=V.stateNode.containerInfo,_e=ff(u);gu(u,_e,ue);break;default:throw Error(t(161))}}catch(Oe){es(u,u.return,Oe)}u.flags&=-3}v&4096&&(u.flags&=-4097)}function dx(u,v,P){Gt=u,yf(u)}function yf(u,v,P){for(var V=(u.mode&1)!==0;Gt!==null;){var Y=Gt,J=Y.child;if(Y.tag===22&&V){var ue=Y.memoizedState!==null||rc;if(!ue){var _e=Y.alternate,Oe=_e!==null&&_e.memoizedState!==null||Is;_e=rc;var et=Is;if(rc=ue,(Is=Oe)&&!et)for(Gt=Y;Gt!==null;)ue=Gt,Oe=ue.child,ue.tag===22&&ue.memoizedState!==null?wf(Y):Oe!==null?(Oe.return=ue,Gt=Oe):wf(Y);for(;J!==null;)Gt=J,yf(J),J=J.sibling;Gt=Y,rc=_e,Is=et}bf(u)}else(Y.subtreeFlags&8772)!==0&&J!==null?(J.return=Y,Gt=J):bf(u)}}function bf(u){for(;Gt!==null;){var v=Gt;if((v.flags&8772)!==0){var P=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:Is||sc(5,v);break;case 1:var V=v.stateNode;if(v.flags&4&&!Is)if(P===null)V.componentDidMount();else{var Y=v.elementType===v.type?P.memoizedProps:Ln(v.type,P.memoizedProps);V.componentDidUpdate(Y,P.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var J=v.updateQueue;J!==null&&bh(v,J,V);break;case 3:var ue=v.updateQueue;if(ue!==null){if(P=null,v.child!==null)switch(v.child.tag){case 5:P=v.child.stateNode;break;case 1:P=v.child.stateNode}bh(v,ue,P)}break;case 5:var _e=v.stateNode;if(P===null&&v.flags&4){P=_e;var Oe=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Oe.autoFocus&&P.focus();break;case"img":Oe.src&&(P.src=Oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var et=v.alternate;if(et!==null){var kt=et.memoizedState;if(kt!==null){var _t=kt.dehydrated;_t!==null&&ci(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Is||v.flags&512&&pu(v)}catch(vt){es(v,v.return,vt)}}if(v===u){Gt=null;break}if(P=v.sibling,P!==null){P.return=v.return,Gt=P;break}Gt=v.return}}function vf(u){for(;Gt!==null;){var v=Gt;if(v===u){Gt=null;break}var P=v.sibling;if(P!==null){P.return=v.return,Gt=P;break}Gt=v.return}}function wf(u){for(;Gt!==null;){var v=Gt;try{switch(v.tag){case 0:case 11:case 15:var P=v.return;try{sc(4,v)}catch(Oe){es(v,P,Oe)}break;case 1:var V=v.stateNode;if(typeof V.componentDidMount=="function"){var Y=v.return;try{V.componentDidMount()}catch(Oe){es(v,Y,Oe)}}var J=v.return;try{pu(v)}catch(Oe){es(v,J,Oe)}break;case 5:var ue=v.return;try{pu(v)}catch(Oe){es(v,ue,Oe)}}}catch(Oe){es(v,v.return,Oe)}if(v===u){Gt=null;break}var _e=v.sibling;if(_e!==null){_e.return=v.return,Gt=_e;break}Gt=v.return}}var ux=Math.ceil,nc=T.ReactCurrentDispatcher,yu=T.ReactCurrentOwner,En=T.ReactCurrentBatchConfig,Tr=0,xs=null,is=null,Ss=0,xn=0,Ja=zi(0),ds=0,$o=null,ma=0,ic=0,bu=0,Vo=null,tn=null,vu=0,eo=1/0,yi=null,ac=!1,wu=null,$i=null,oc=!1,Vi=null,lc=0,qo=0,ku=null,cc=-1,dc=0;function Hs(){return(Tr&6)!==0?Re():cc!==-1?cc:cc=Re()}function qi(u){return(u.mode&1)===0?1:(Tr&2)!==0&&Ss!==0?Ss&-Ss:W0.transition!==null?(dc===0&&(dc=Sr()),dc):(u=pr,u!==0||(u=window.event,u=u===void 0?16:gl(u.type)),u)}function Un(u,v,P,V){if(50<qo)throw qo=0,ku=null,Error(t(185));ws(u,P,V),((Tr&2)===0||u!==xs)&&(u===xs&&((Tr&2)===0&&(ic|=P),ds===4&&Hi(u,Ss)),rn(u,V),P===1&&Tr===0&&(v.mode&1)===0&&(eo=Re()+500,Ll&&Li()))}function rn(u,v){var P=u.callbackNode;Bt(u,v);var V=Os(u,u===xs?Ss:0);if(V===0)P!==null&&st(P),u.callbackNode=null,u.callbackPriority=0;else if(v=V&-V,u.callbackPriority!==v){if(P!=null&&st(P),v===1)u.tag===0?G0(Nf.bind(null,u)):oh(Nf.bind(null,u)),V0(function(){(Tr&6)===0&&Li()}),P=null;else{switch(Es(V)){case 1:P=dt;break;case 4:P=Ft;break;case 16:P=bt;break;case 536870912:P=Kt;break;default:P=bt}P=Pf(P,kf.bind(null,u))}u.callbackPriority=v,u.callbackNode=P}}function kf(u,v){if(cc=-1,dc=0,(Tr&6)!==0)throw Error(t(327));var P=u.callbackNode;if(to()&&u.callbackNode!==P)return null;var V=Os(u,u===xs?Ss:0);if(V===0)return null;if((V&30)!==0||(V&u.expiredLanes)!==0||v)v=uc(u,V);else{v=V;var Y=Tr;Tr|=2;var J=Sf();(xs!==u||Ss!==v)&&(yi=null,eo=Re()+500,fa(u,v));do try{fx();break}catch(_e){jf(u,_e)}while(!0);Bd(),nc.current=J,Tr=Y,is!==null?v=0:(xs=null,Ss=0,v=ds)}if(v!==0){if(v===2&&(Y=_s(u),Y!==0&&(V=Y,v=Nu(u,Y))),v===1)throw P=$o,fa(u,0),Hi(u,V),rn(u,Re()),P;if(v===6)Hi(u,V);else{if(Y=u.current.alternate,(V&30)===0&&!mx(Y)&&(v=uc(u,V),v===2&&(J=_s(u),J!==0&&(V=J,v=Nu(u,J))),v===1))throw P=$o,fa(u,0),Hi(u,V),rn(u,Re()),P;switch(u.finishedWork=Y,u.finishedLanes=V,v){case 0:case 1:throw Error(t(345));case 2:pa(u,tn,yi);break;case 3:if(Hi(u,V),(V&130023424)===V&&(v=vu+500-Re(),10<v)){if(Os(u,0)!==0)break;if(Y=u.suspendedLanes,(Y&V)!==V){Hs(),u.pingedLanes|=u.suspendedLanes&Y;break}u.timeoutHandle=Ed(pa.bind(null,u,tn,yi),v);break}pa(u,tn,yi);break;case 4:if(Hi(u,V),(V&4194240)===V)break;for(v=u.eventTimes,Y=-1;0<V;){var ue=31-ur(V);J=1<<ue,ue=v[ue],ue>Y&&(Y=ue),V&=~J}if(V=Y,V=Re()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*ux(V/1960))-V,10<V){u.timeoutHandle=Ed(pa.bind(null,u,tn,yi),V);break}pa(u,tn,yi);break;case 5:pa(u,tn,yi);break;default:throw Error(t(329))}}}return rn(u,Re()),u.callbackNode===P?kf.bind(null,u):null}function Nu(u,v){var P=Vo;return u.current.memoizedState.isDehydrated&&(fa(u,v).flags|=256),u=uc(u,v),u!==2&&(v=tn,tn=P,v!==null&&ju(v)),u}function ju(u){tn===null?tn=u:tn.push.apply(tn,u)}function mx(u){for(var v=u;;){if(v.flags&16384){var P=v.updateQueue;if(P!==null&&(P=P.stores,P!==null))for(var V=0;V<P.length;V++){var Y=P[V],J=Y.getSnapshot;Y=Y.value;try{if(!cr(J(),Y))return!1}catch{return!1}}}if(P=v.child,v.subtreeFlags&16384&&P!==null)P.return=v,v=P;else{if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Hi(u,v){for(v&=~bu,v&=~ic,u.suspendedLanes|=v,u.pingedLanes&=~v,u=u.expirationTimes;0<v;){var P=31-ur(v),V=1<<P;u[P]=-1,v&=~V}}function Nf(u){if((Tr&6)!==0)throw Error(t(327));to();var v=Os(u,0);if((v&1)===0)return rn(u,Re()),null;var P=uc(u,v);if(u.tag!==0&&P===2){var V=_s(u);V!==0&&(v=V,P=Nu(u,V))}if(P===1)throw P=$o,fa(u,0),Hi(u,v),rn(u,Re()),P;if(P===6)throw Error(t(345));return u.finishedWork=u.current.alternate,u.finishedLanes=v,pa(u,tn,yi),rn(u,Re()),null}function Su(u,v){var P=Tr;Tr|=1;try{return u(v)}finally{Tr=P,Tr===0&&(eo=Re()+500,Ll&&Li())}}function ha(u){Vi!==null&&Vi.tag===0&&(Tr&6)===0&&to();var v=Tr;Tr|=1;var P=En.transition,V=pr;try{if(En.transition=null,pr=1,u)return u()}finally{pr=V,En.transition=P,Tr=v,(Tr&6)===0&&Li()}}function Cu(){xn=Ja.current,Gr(Ja)}function fa(u,v){u.finishedWork=null,u.finishedLanes=0;var P=u.timeoutHandle;if(P!==-1&&(u.timeoutHandle=-1,$0(P)),is!==null)for(P=is.return;P!==null;){var V=P;switch(Rd(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&zl();break;case 3:Xa(),Gr(Zs),Gr(Ts),Wd();break;case 5:Kd(V);break;case 4:Xa();break;case 13:Gr(Qr);break;case 19:Gr(Qr);break;case 10:Ud(V.type._context);break;case 22:case 23:Cu()}P=P.return}if(xs=u,is=u=Ki(u.current,null),Ss=xn=v,ds=0,$o=null,bu=ic=ma=0,tn=Vo=null,ca!==null){for(v=0;v<ca.length;v++)if(P=ca[v],V=P.interleaved,V!==null){P.interleaved=null;var Y=V.next,J=P.pending;if(J!==null){var ue=J.next;J.next=Y,V.next=ue}P.pending=V}ca=null}return u}function jf(u,v){do{var P=is;try{if(Bd(),Wl.current=Zl,Yl){for(var V=Zr.memoizedState;V!==null;){var Y=V.queue;Y!==null&&(Y.pending=null),V=V.next}Yl=!1}if(ua=0,gs=cs=Zr=null,zo=!1,Oo=0,yu.current=null,P===null||P.return===null){ds=1,$o=v,is=null;break}e:{var J=u,ue=P.return,_e=P,Oe=v;if(v=Ss,_e.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var et=Oe,kt=_e,_t=kt.tag;if((kt.mode&1)===0&&(_t===0||_t===11||_t===15)){var vt=kt.alternate;vt?(kt.updateQueue=vt.updateQueue,kt.memoizedState=vt.memoizedState,kt.lanes=vt.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var qt=Wh(ue);if(qt!==null){qt.flags&=-257,Yh(qt,ue,_e,J,v),qt.mode&1&&Gh(J,et,v),v=qt,Oe=et;var Qt=v.updateQueue;if(Qt===null){var Zt=new Set;Zt.add(Oe),v.updateQueue=Zt}else Qt.add(Oe);break e}else{if((v&1)===0){Gh(J,et,v),Au();break e}Oe=Error(t(426))}}else if(Yr&&_e.mode&1){var rs=Wh(ue);if(rs!==null){(rs.flags&65536)===0&&(rs.flags|=256),Yh(rs,ue,_e,J,v),Ld(Qa(Oe,_e));break e}}J=Oe=Qa(Oe,_e),ds!==4&&(ds=2),Vo===null?Vo=[J]:Vo.push(J),J=ue;do{switch(J.tag){case 3:J.flags|=65536,v&=-v,J.lanes|=v;var Ye=Hh(J,Oe,v);yh(J,Ye);break e;case 1:_e=Oe;var Ue=J.type,Ze=J.stateNode;if((J.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&($i===null||!$i.has(Ze)))){J.flags|=65536,v&=-v,J.lanes|=v;var It=Kh(J,_e,v);yh(J,It);break e}}J=J.return}while(J!==null)}Af(P)}catch(er){v=er,is===P&&P!==null&&(is=P=P.return);continue}break}while(!0)}function Sf(){var u=nc.current;return nc.current=Zl,u===null?Zl:u}function Au(){(ds===0||ds===3||ds===2)&&(ds=4),xs===null||(ma&268435455)===0&&(ic&268435455)===0||Hi(xs,Ss)}function uc(u,v){var P=Tr;Tr|=2;var V=Sf();(xs!==u||Ss!==v)&&(yi=null,fa(u,v));do try{hx();break}catch(Y){jf(u,Y)}while(!0);if(Bd(),Tr=P,nc.current=V,is!==null)throw Error(t(261));return xs=null,Ss=0,ds}function hx(){for(;is!==null;)Cf(is)}function fx(){for(;is!==null&&!At();)Cf(is)}function Cf(u){var v=Tf(u.alternate,u,xn);u.memoizedProps=u.pendingProps,v===null?Af(u):is=v,yu.current=null}function Af(u){var v=u;do{var P=v.alternate;if(u=v.return,(v.flags&32768)===0){if(P=ax(P,v,xn),P!==null){is=P;return}}else{if(P=ox(P,v),P!==null){P.flags&=32767,is=P;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{ds=6,is=null;return}}if(v=v.sibling,v!==null){is=v;return}is=v=u}while(v!==null);ds===0&&(ds=5)}function pa(u,v,P){var V=pr,Y=En.transition;try{En.transition=null,pr=1,px(u,v,P,V)}finally{En.transition=Y,pr=V}return null}function px(u,v,P,V){do to();while(Vi!==null);if((Tr&6)!==0)throw Error(t(327));P=u.finishedWork;var Y=u.finishedLanes;if(P===null)return null;if(u.finishedWork=null,u.finishedLanes=0,P===u.current)throw Error(t(177));u.callbackNode=null,u.callbackPriority=0;var J=P.lanes|P.childLanes;if(In(u,J),u===xs&&(is=xs=null,Ss=0),(P.subtreeFlags&2064)===0&&(P.flags&2064)===0||oc||(oc=!0,Pf(bt,function(){return to(),null})),J=(P.flags&15990)!==0,(P.subtreeFlags&15990)!==0||J){J=En.transition,En.transition=null;var ue=pr;pr=1;var _e=Tr;Tr|=4,yu.current=null,cx(u,P),xf(P,u),Qn(Ad),_a=!!Cd,Ad=Cd=null,u.current=P,dx(P),ve(),Tr=_e,pr=ue,En.transition=J}else u.current=P;if(oc&&(oc=!1,Vi=u,lc=Y),J=u.pendingLanes,J===0&&($i=null),nr(P.stateNode),rn(u,Re()),v!==null)for(V=u.onRecoverableError,P=0;P<v.length;P++)Y=v[P],V(Y.value,{componentStack:Y.stack,digest:Y.digest});if(ac)throw ac=!1,u=wu,wu=null,u;return(lc&1)!==0&&u.tag!==0&&to(),J=u.pendingLanes,(J&1)!==0?u===ku?qo++:(qo=0,ku=u):qo=0,Li(),null}function to(){if(Vi!==null){var u=Es(lc),v=En.transition,P=pr;try{if(En.transition=null,pr=16>u?16:u,Vi===null)var V=!1;else{if(u=Vi,Vi=null,lc=0,(Tr&6)!==0)throw Error(t(331));var Y=Tr;for(Tr|=4,Gt=u.current;Gt!==null;){var J=Gt,ue=J.child;if((Gt.flags&16)!==0){var _e=J.deletions;if(_e!==null){for(var Oe=0;Oe<_e.length;Oe++){var et=_e[Oe];for(Gt=et;Gt!==null;){var kt=Gt;switch(kt.tag){case 0:case 11:case 15:Uo(8,kt,J)}var _t=kt.child;if(_t!==null)_t.return=kt,Gt=_t;else for(;Gt!==null;){kt=Gt;var vt=kt.sibling,qt=kt.return;if(mf(kt),kt===et){Gt=null;break}if(vt!==null){vt.return=qt,Gt=vt;break}Gt=qt}}}var Qt=J.alternate;if(Qt!==null){var Zt=Qt.child;if(Zt!==null){Qt.child=null;do{var rs=Zt.sibling;Zt.sibling=null,Zt=rs}while(Zt!==null)}}Gt=J}}if((J.subtreeFlags&2064)!==0&&ue!==null)ue.return=J,Gt=ue;else e:for(;Gt!==null;){if(J=Gt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:Uo(9,J,J.return)}var Ye=J.sibling;if(Ye!==null){Ye.return=J.return,Gt=Ye;break e}Gt=J.return}}var Ue=u.current;for(Gt=Ue;Gt!==null;){ue=Gt;var Ze=ue.child;if((ue.subtreeFlags&2064)!==0&&Ze!==null)Ze.return=ue,Gt=Ze;else e:for(ue=Ue;Gt!==null;){if(_e=Gt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:sc(9,_e)}}catch(er){es(_e,_e.return,er)}if(_e===ue){Gt=null;break e}var It=_e.sibling;if(It!==null){It.return=_e.return,Gt=It;break e}Gt=_e.return}}if(Tr=Y,Li(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(ir,u)}catch{}V=!0}return V}finally{pr=P,En.transition=v}}return!1}function _f(u,v,P){v=Qa(P,v),v=Hh(u,v,1),u=Bi(u,v,1),v=Hs(),u!==null&&(ws(u,1,v),rn(u,v))}function es(u,v,P){if(u.tag===3)_f(u,u,P);else for(;v!==null;){if(v.tag===3){_f(v,u,P);break}else if(v.tag===1){var V=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&($i===null||!$i.has(V))){u=Qa(P,u),u=Kh(v,u,1),v=Bi(v,u,1),u=Hs(),v!==null&&(ws(v,1,u),rn(v,u));break}}v=v.return}}function gx(u,v,P){var V=u.pingCache;V!==null&&V.delete(v),v=Hs(),u.pingedLanes|=u.suspendedLanes&P,xs===u&&(Ss&P)===P&&(ds===4||ds===3&&(Ss&130023424)===Ss&&500>Re()-vu?fa(u,0):bu|=P),rn(u,v)}function Ef(u,v){v===0&&((u.mode&1)===0?v=1:(v=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var P=Hs();u=pi(u,v),u!==null&&(ws(u,v,P),rn(u,P))}function xx(u){var v=u.memoizedState,P=0;v!==null&&(P=v.retryLane),Ef(u,P)}function yx(u,v){var P=0;switch(u.tag){case 13:var V=u.stateNode,Y=u.memoizedState;Y!==null&&(P=Y.retryLane);break;case 19:V=u.stateNode;break;default:throw Error(t(314))}V!==null&&V.delete(v),Ef(u,P)}var Tf;Tf=function(u,v,P){if(u!==null)if(u.memoizedProps!==v.pendingProps||Zs.current)en=!0;else{if((u.lanes&P)===0&&(v.flags&128)===0)return en=!1,ix(u,v,P);en=(u.flags&131072)!==0}else en=!1,Yr&&(v.flags&1048576)!==0&&lh(v,Bl,v.index);switch(v.lanes=0,v.tag){case 2:var V=v.type;tc(u,v),u=v.pendingProps;var Y=Va(v,Ts.current);Ya(v,P),Y=Qd(null,v,V,u,Y,P);var J=Zd();return v.flags|=1,typeof Y=="object"&&Y!==null&&typeof Y.render=="function"&&Y.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Js(V)?(J=!0,Ol(v)):J=!1,v.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,qd(v),Y.updater=Jl,v.stateNode=Y,Y._reactInternals=v,nu(v,V,u,P),v=lu(null,v,V,!0,J,P)):(v.tag=0,Yr&&J&&Md(v),qs(null,v,Y,P),v=v.child),v;case 16:V=v.elementType;e:{switch(tc(u,v),u=v.pendingProps,Y=V._init,V=Y(V._payload),v.type=V,Y=v.tag=vx(V),u=Ln(V,u),Y){case 0:v=ou(null,v,V,u,P);break e;case 1:v=tf(null,v,V,u,P);break e;case 11:v=Xh(null,v,V,u,P);break e;case 14:v=Qh(null,v,V,Ln(V.type,u),P);break e}throw Error(t(306,V,""))}return v;case 0:return V=v.type,Y=v.pendingProps,Y=v.elementType===V?Y:Ln(V,Y),ou(u,v,V,Y,P);case 1:return V=v.type,Y=v.pendingProps,Y=v.elementType===V?Y:Ln(V,Y),tf(u,v,V,Y,P);case 3:e:{if(rf(v),u===null)throw Error(t(387));V=v.pendingProps,J=v.memoizedState,Y=J.element,xh(u,v),Kl(v,V,null,P);var ue=v.memoizedState;if(V=ue.element,J.isDehydrated)if(J={element:V,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},v.updateQueue.baseState=J,v.memoizedState=J,v.flags&256){Y=Qa(Error(t(423)),v),v=sf(u,v,V,P,Y);break e}else if(V!==Y){Y=Qa(Error(t(424)),v),v=sf(u,v,V,P,Y);break e}else for(gn=Ri(v.stateNode.containerInfo.firstChild),pn=v,Yr=!0,On=null,P=ph(v,null,V,P),v.child=P;P;)P.flags=P.flags&-3|4096,P=P.sibling;else{if(Ka(),V===Y){v=xi(u,v,P);break e}qs(u,v,V,P)}v=v.child}return v;case 5:return vh(v),u===null&&Od(v),V=v.type,Y=v.pendingProps,J=u!==null?u.memoizedProps:null,ue=Y.children,_d(V,Y)?ue=null:J!==null&&_d(V,J)&&(v.flags|=32),ef(u,v),qs(u,v,ue,P),v.child;case 6:return u===null&&Od(v),null;case 13:return nf(u,v,P);case 4:return Hd(v,v.stateNode.containerInfo),V=v.pendingProps,u===null?v.child=Ga(v,null,V,P):qs(u,v,V,P),v.child;case 11:return V=v.type,Y=v.pendingProps,Y=v.elementType===V?Y:Ln(V,Y),Xh(u,v,V,Y,P);case 7:return qs(u,v,v.pendingProps,P),v.child;case 8:return qs(u,v,v.pendingProps.children,P),v.child;case 12:return qs(u,v,v.pendingProps.children,P),v.child;case 10:e:{if(V=v.type._context,Y=v.pendingProps,J=v.memoizedProps,ue=Y.value,Br(Vl,V._currentValue),V._currentValue=ue,J!==null)if(cr(J.value,ue)){if(J.children===Y.children&&!Zs.current){v=xi(u,v,P);break e}}else for(J=v.child,J!==null&&(J.return=v);J!==null;){var _e=J.dependencies;if(_e!==null){ue=J.child;for(var Oe=_e.firstContext;Oe!==null;){if(Oe.context===V){if(J.tag===1){Oe=gi(-1,P&-P),Oe.tag=2;var et=J.updateQueue;if(et!==null){et=et.shared;var kt=et.pending;kt===null?Oe.next=Oe:(Oe.next=kt.next,kt.next=Oe),et.pending=Oe}}J.lanes|=P,Oe=J.alternate,Oe!==null&&(Oe.lanes|=P),$d(J.return,P,v),_e.lanes|=P;break}Oe=Oe.next}}else if(J.tag===10)ue=J.type===v.type?null:J.child;else if(J.tag===18){if(ue=J.return,ue===null)throw Error(t(341));ue.lanes|=P,_e=ue.alternate,_e!==null&&(_e.lanes|=P),$d(ue,P,v),ue=J.sibling}else ue=J.child;if(ue!==null)ue.return=J;else for(ue=J;ue!==null;){if(ue===v){ue=null;break}if(J=ue.sibling,J!==null){J.return=ue.return,ue=J;break}ue=ue.return}J=ue}qs(u,v,Y.children,P),v=v.child}return v;case 9:return Y=v.type,V=v.pendingProps.children,Ya(v,P),Y=An(Y),V=V(Y),v.flags|=1,qs(u,v,V,P),v.child;case 14:return V=v.type,Y=Ln(V,v.pendingProps),Y=Ln(V.type,Y),Qh(u,v,V,Y,P);case 15:return Zh(u,v,v.type,v.pendingProps,P);case 17:return V=v.type,Y=v.pendingProps,Y=v.elementType===V?Y:Ln(V,Y),tc(u,v),v.tag=1,Js(V)?(u=!0,Ol(v)):u=!1,Ya(v,P),Vh(v,V,Y),nu(v,V,Y,P),lu(null,v,V,!0,u,P);case 19:return of(u,v,P);case 22:return Jh(u,v,P)}throw Error(t(156,v.tag))};function Pf(u,v){return De(u,v)}function bx(u,v,P,V){this.tag=u,this.key=P,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(u,v,P,V){return new bx(u,v,P,V)}function _u(u){return u=u.prototype,!(!u||!u.isReactComponent)}function vx(u){if(typeof u=="function")return _u(u)?1:0;if(u!=null){if(u=u.$$typeof,u===U)return 11;if(u===A)return 14}return 2}function Ki(u,v){var P=u.alternate;return P===null?(P=Tn(u.tag,v,u.key,u.mode),P.elementType=u.elementType,P.type=u.type,P.stateNode=u.stateNode,P.alternate=u,u.alternate=P):(P.pendingProps=v,P.type=u.type,P.flags=0,P.subtreeFlags=0,P.deletions=null),P.flags=u.flags&14680064,P.childLanes=u.childLanes,P.lanes=u.lanes,P.child=u.child,P.memoizedProps=u.memoizedProps,P.memoizedState=u.memoizedState,P.updateQueue=u.updateQueue,v=u.dependencies,P.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},P.sibling=u.sibling,P.index=u.index,P.ref=u.ref,P}function mc(u,v,P,V,Y,J){var ue=2;if(V=u,typeof u=="function")_u(u)&&(ue=1);else if(typeof u=="string")ue=5;else e:switch(u){case H:return ga(P.children,Y,J,v);case O:ue=8,Y|=8;break;case $:return u=Tn(12,P,v,Y|2),u.elementType=$,u.lanes=J,u;case _:return u=Tn(13,P,v,Y),u.elementType=_,u.lanes=J,u;case M:return u=Tn(19,P,v,Y),u.elementType=M,u.lanes=J,u;case S:return hc(P,Y,J,v);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case B:ue=10;break e;case K:ue=9;break e;case U:ue=11;break e;case A:ue=14;break e;case N:ue=16,V=null;break e}throw Error(t(130,u==null?u:typeof u,""))}return v=Tn(ue,P,v,Y),v.elementType=u,v.type=V,v.lanes=J,v}function ga(u,v,P,V){return u=Tn(7,u,V,v),u.lanes=P,u}function hc(u,v,P,V){return u=Tn(22,u,V,v),u.elementType=S,u.lanes=P,u.stateNode={isHidden:!1},u}function Eu(u,v,P){return u=Tn(6,u,null,v),u.lanes=P,u}function Tu(u,v,P){return v=Tn(4,u.children!==null?u.children:[],u.key,v),v.lanes=P,v.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},v}function wx(u,v,P,V,Y){this.tag=v,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yr(0),this.expirationTimes=yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.identifierPrefix=V,this.onRecoverableError=Y,this.mutableSourceEagerHydrationData=null}function Pu(u,v,P,V,Y,J,ue,_e,Oe){return u=new wx(u,v,P,_e,Oe),v===1?(v=1,J===!0&&(v|=8)):v=0,J=Tn(3,null,null,v),u.current=J,J.stateNode=u,J.memoizedState={element:V,isDehydrated:P,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(J),u}function kx(u,v,P){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:V==null?null:""+V,children:u,containerInfo:v,implementation:P}}function Df(u){if(!u)return Oi;u=u._reactInternals;e:{if(Ot(u)!==u||u.tag!==1)throw Error(t(170));var v=u;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Js(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(t(171))}if(u.tag===1){var P=u.type;if(Js(P))return ih(u,P,v)}return v}function If(u,v,P,V,Y,J,ue,_e,Oe){return u=Pu(P,V,!0,u,Y,J,ue,_e,Oe),u.context=Df(null),P=u.current,V=Hs(),Y=qi(P),J=gi(V,Y),J.callback=v??null,Bi(P,J,Y),u.current.lanes=Y,ws(u,Y,V),rn(u,V),u}function fc(u,v,P,V){var Y=v.current,J=Hs(),ue=qi(Y);return P=Df(P),v.context===null?v.context=P:v.pendingContext=P,v=gi(J,ue),v.payload={element:u},V=V===void 0?null:V,V!==null&&(v.callback=V),u=Bi(Y,v,ue),u!==null&&(Un(u,Y,ue,J),Hl(u,Y,ue)),ue}function pc(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function Mf(u,v){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var P=u.retryLane;u.retryLane=P!==0&&P<v?P:v}}function Du(u,v){Mf(u,v),(u=u.alternate)&&Mf(u,v)}function Nx(){return null}var Rf=typeof reportError=="function"?reportError:function(u){console.error(u)};function Iu(u){this._internalRoot=u}gc.prototype.render=Iu.prototype.render=function(u){var v=this._internalRoot;if(v===null)throw Error(t(409));fc(u,v,null,null)},gc.prototype.unmount=Iu.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var v=u.containerInfo;ha(function(){fc(null,u,null,null)}),v[ui]=null}};function gc(u){this._internalRoot=u}gc.prototype.unstable_scheduleHydration=function(u){if(u){var v=Mn();u={blockedOn:null,target:u,priority:v};for(var P=0;P<Bs.length&&v!==0&&v<Bs[P].priority;P++);Bs.splice(P,0,u),P===0&&fl(u)}};function Mu(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function xc(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function zf(){}function jx(u,v,P,V,Y){if(Y){if(typeof V=="function"){var J=V;V=function(){var et=pc(ue);J.call(et)}}var ue=If(v,V,u,0,null,!1,!1,"",zf);return u._reactRootContainer=ue,u[ui]=ue.current,_o(u.nodeType===8?u.parentNode:u),ha(),ue}for(;Y=u.lastChild;)u.removeChild(Y);if(typeof V=="function"){var _e=V;V=function(){var et=pc(Oe);_e.call(et)}}var Oe=Pu(u,0,!1,null,null,!1,!1,"",zf);return u._reactRootContainer=Oe,u[ui]=Oe.current,_o(u.nodeType===8?u.parentNode:u),ha(function(){fc(v,Oe,P,V)}),Oe}function yc(u,v,P,V,Y){var J=P._reactRootContainer;if(J){var ue=J;if(typeof Y=="function"){var _e=Y;Y=function(){var Oe=pc(ue);_e.call(Oe)}}fc(v,ue,u,Y)}else ue=jx(P,v,u,Y,V);return pc(ue)}un=function(u){switch(u.tag){case 3:var v=u.stateNode;if(v.current.memoizedState.isDehydrated){var P=os(v.pendingLanes);P!==0&&(Wn(v,P|1),rn(v,Re()),(Tr&6)===0&&(eo=Re()+500,Li()))}break;case 13:ha(function(){var V=pi(u,1);if(V!==null){var Y=Hs();Un(V,u,1,Y)}}),Du(u,1)}},Xr=function(u){if(u.tag===13){var v=pi(u,134217728);if(v!==null){var P=Hs();Un(v,u,134217728,P)}Du(u,134217728)}},li=function(u){if(u.tag===13){var v=qi(u),P=pi(u,v);if(P!==null){var V=Hs();Un(P,u,v,V)}Du(u,v)}},Mn=function(){return pr},mn=function(u,v){var P=pr;try{return pr=u,v()}finally{pr=P}},be=function(u,v,P){switch(v){case"input":if(le(u,P),v=P.name,P.type==="radio"&&v!=null){for(P=u;P.parentNode;)P=P.parentNode;for(P=P.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<P.length;v++){var V=P[v];if(V!==u&&V.form===u.form){var Y=Rl(V);if(!Y)throw Error(t(90));he(V),le(V,Y)}}}break;case"textarea":fe(u,P);break;case"select":v=P.value,v!=null&&ge(u,!!P.multiple,v,!1)}},yt=Su,Ut=ha;var Sx={usingClientEntryPoint:!1,Events:[Po,Ua,Rl,Et,Rt,Su]},Ho={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cx={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=gr(u),u===null?null:u.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||Nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ir=bc.inject(Cx),rr=bc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx,sn.createPortal=function(u,v){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mu(v))throw Error(t(200));return kx(u,v,null,P)},sn.createRoot=function(u,v){if(!Mu(u))throw Error(t(299));var P=!1,V="",Y=Rf;return v!=null&&(v.unstable_strictMode===!0&&(P=!0),v.identifierPrefix!==void 0&&(V=v.identifierPrefix),v.onRecoverableError!==void 0&&(Y=v.onRecoverableError)),v=Pu(u,1,!1,null,null,P,!1,V,Y),u[ui]=v.current,_o(u.nodeType===8?u.parentNode:u),new Iu(v)},sn.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var v=u._reactInternals;if(v===void 0)throw typeof u.render=="function"?Error(t(188)):(u=Object.keys(u).join(","),Error(t(268,u)));return u=gr(v),u=u===null?null:u.stateNode,u},sn.flushSync=function(u){return ha(u)},sn.hydrate=function(u,v,P){if(!xc(v))throw Error(t(200));return yc(null,u,v,!0,P)},sn.hydrateRoot=function(u,v,P){if(!Mu(u))throw Error(t(405));var V=P!=null&&P.hydratedSources||null,Y=!1,J="",ue=Rf;if(P!=null&&(P.unstable_strictMode===!0&&(Y=!0),P.identifierPrefix!==void 0&&(J=P.identifierPrefix),P.onRecoverableError!==void 0&&(ue=P.onRecoverableError)),v=If(v,null,u,1,P??null,Y,!1,J,ue),u[ui]=v.current,_o(u),V)for(u=0;u<V.length;u++)P=V[u],Y=P._getVersion,Y=Y(P._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[P,Y]:v.mutableSourceEagerHydrationData.push(P,Y);return new gc(v)},sn.render=function(u,v,P){if(!xc(v))throw Error(t(200));return yc(null,u,v,!1,P)},sn.unmountComponentAtNode=function(u){if(!xc(u))throw Error(t(40));return u._reactRootContainer?(ha(function(){yc(null,null,u,!1,function(){u._reactRootContainer=null,u[ui]=null})}),!0):!1},sn.unstable_batchedUpdates=Su,sn.unstable_renderSubtreeIntoContainer=function(u,v,P,V){if(!xc(P))throw Error(t(200));if(u==null||u._reactInternals===void 0)throw Error(t(38));return yc(u,v,P,!1,V)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var qf;function Rx(){if(qf)return Ou.exports;qf=1;function k(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k)}catch(x){console.error(x)}}return k(),Ou.exports=Mx(),Ou.exports}var Hf;function zx(){if(Hf)return vc;Hf=1;var k=Rx();return vc.createRoot=k.createRoot,vc.hydrateRoot=k.hydrateRoot,vc}var Ox=zx();const Lx="modulepreload",Fx=function(k){return"/"+k},Kf={},_r=function(x,t,f){let m=Promise.resolve();if(t&&t.length>0){let i=function(r){return Promise.all(r.map(n=>Promise.resolve(n).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");m=i(t.map(r=>{if(r=Fx(r),r in Kf)return;Kf[r]=!0;const n=r.endsWith(".css"),l=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const o=document.createElement("link");if(o.rel=n?"stylesheet":Lx,n||(o.as="script"),o.crossOrigin="",o.href=r,a&&o.setAttribute("nonce",a),document.head.appendChild(o),n)return new Promise((c,p)=>{o.addEventListener("load",c),o.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})}))}function d(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return m.then(s=>{for(const a of s||[])a.status==="rejected"&&d(a.reason);return x().catch(d)})};function vg(k,x){return function(){return k.apply(x,arguments)}}const{toString:Bx}=Object.prototype,{getPrototypeOf:Tm}=Object,{iterator:Zc,toStringTag:wg}=Symbol,Jc=(k=>x=>{const t=Bx.call(x);return k[t]||(k[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Gn=k=>(k=k.toLowerCase(),x=>Jc(x)===k),ed=k=>x=>typeof x===k,{isArray:po}=Array,ho=ed("undefined");function ll(k){return k!==null&&!ho(k)&&k.constructor!==null&&!ho(k.constructor)&&an(k.constructor.isBuffer)&&k.constructor.isBuffer(k)}const kg=Gn("ArrayBuffer");function Ux(k){let x;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?x=ArrayBuffer.isView(k):x=k&&k.buffer&&kg(k.buffer),x}const $x=ed("string"),an=ed("function"),Ng=ed("number"),cl=k=>k!==null&&typeof k=="object",Vx=k=>k===!0||k===!1,Mc=k=>{if(Jc(k)!=="object")return!1;const x=Tm(k);return(x===null||x===Object.prototype||Object.getPrototypeOf(x)===null)&&!(wg in k)&&!(Zc in k)},qx=k=>{if(!cl(k)||ll(k))return!1;try{return Object.keys(k).length===0&&Object.getPrototypeOf(k)===Object.prototype}catch{return!1}},Hx=Gn("Date"),Kx=Gn("File"),Gx=Gn("Blob"),Wx=Gn("FileList"),Yx=k=>cl(k)&&an(k.pipe),Xx=k=>{let x;return k&&(typeof FormData=="function"&&k instanceof FormData||an(k.append)&&((x=Jc(k))==="formdata"||x==="object"&&an(k.toString)&&k.toString()==="[object FormData]"))},Qx=Gn("URLSearchParams"),[Zx,Jx,ey,ty]=["ReadableStream","Request","Response","Headers"].map(Gn),ry=k=>k.trim?k.trim():k.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(k,x,{allOwnKeys:t=!1}={}){if(k===null||typeof k>"u")return;let f,m;if(typeof k!="object"&&(k=[k]),po(k))for(f=0,m=k.length;f<m;f++)x.call(null,k[f],f,k);else{if(ll(k))return;const d=t?Object.getOwnPropertyNames(k):Object.keys(k),s=d.length;let a;for(f=0;f<s;f++)a=d[f],x.call(null,k[a],a,k)}}function jg(k,x){if(ll(k))return null;x=x.toLowerCase();const t=Object.keys(k);let f=t.length,m;for(;f-- >0;)if(m=t[f],x===m.toLowerCase())return m;return null}const ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sg=k=>!ho(k)&&k!==ba;function um(){const{caseless:k,skipUndefined:x}=Sg(this)&&this||{},t={},f=(m,d)=>{const s=k&&jg(t,d)||d;Mc(t[s])&&Mc(m)?t[s]=um(t[s],m):Mc(m)?t[s]=um({},m):po(m)?t[s]=m.slice():(!x||!ho(m))&&(t[s]=m)};for(let m=0,d=arguments.length;m<d;m++)arguments[m]&&dl(arguments[m],f);return t}const sy=(k,x,t,{allOwnKeys:f}={})=>(dl(x,(m,d)=>{t&&an(m)?k[d]=vg(m,t):k[d]=m},{allOwnKeys:f}),k),ny=k=>(k.charCodeAt(0)===65279&&(k=k.slice(1)),k),iy=(k,x,t,f)=>{k.prototype=Object.create(x.prototype,f),k.prototype.constructor=k,Object.defineProperty(k,"super",{value:x.prototype}),t&&Object.assign(k.prototype,t)},ay=(k,x,t,f)=>{let m,d,s;const a={};if(x=x||{},k==null)return x;do{for(m=Object.getOwnPropertyNames(k),d=m.length;d-- >0;)s=m[d],(!f||f(s,k,x))&&!a[s]&&(x[s]=k[s],a[s]=!0);k=t!==!1&&Tm(k)}while(k&&(!t||t(k,x))&&k!==Object.prototype);return x},oy=(k,x,t)=>{k=String(k),(t===void 0||t>k.length)&&(t=k.length),t-=x.length;const f=k.indexOf(x,t);return f!==-1&&f===t},ly=k=>{if(!k)return null;if(po(k))return k;let x=k.length;if(!Ng(x))return null;const t=new Array(x);for(;x-- >0;)t[x]=k[x];return t},cy=(k=>x=>k&&x instanceof k)(typeof Uint8Array<"u"&&Tm(Uint8Array)),dy=(k,x)=>{const f=(k&&k[Zc]).call(k);let m;for(;(m=f.next())&&!m.done;){const d=m.value;x.call(k,d[0],d[1])}},uy=(k,x)=>{let t;const f=[];for(;(t=k.exec(x))!==null;)f.push(t);return f},my=Gn("HTMLFormElement"),hy=k=>k.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,f,m){return f.toUpperCase()+m}),Gf=(({hasOwnProperty:k})=>(x,t)=>k.call(x,t))(Object.prototype),fy=Gn("RegExp"),Cg=(k,x)=>{const t=Object.getOwnPropertyDescriptors(k),f={};dl(t,(m,d)=>{let s;(s=x(m,d,k))!==!1&&(f[d]=s||m)}),Object.defineProperties(k,f)},py=k=>{Cg(k,(x,t)=>{if(an(k)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const f=k[t];if(an(f)){if(x.enumerable=!1,"writable"in x){x.writable=!1;return}x.set||(x.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},gy=(k,x)=>{const t={},f=m=>{m.forEach(d=>{t[d]=!0})};return po(k)?f(k):f(String(k).split(x)),t},xy=()=>{},yy=(k,x)=>k!=null&&Number.isFinite(k=+k)?k:x;function by(k){return!!(k&&an(k.append)&&k[wg]==="FormData"&&k[Zc])}const vy=k=>{const x=new Array(10),t=(f,m)=>{if(cl(f)){if(x.indexOf(f)>=0)return;if(ll(f))return f;if(!("toJSON"in f)){x[m]=f;const d=po(f)?[]:{};return dl(f,(s,a)=>{const i=t(s,m+1);!ho(i)&&(d[a]=i)}),x[m]=void 0,d}}return f};return t(k,0)},wy=Gn("AsyncFunction"),ky=k=>k&&(cl(k)||an(k))&&an(k.then)&&an(k.catch),Ag=((k,x)=>k?setImmediate:x?((t,f)=>(ba.addEventListener("message",({source:m,data:d})=>{m===ba&&d===t&&f.length&&f.shift()()},!1),m=>{f.push(m),ba.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",an(ba.postMessage)),Ny=typeof queueMicrotask<"u"?queueMicrotask.bind(ba):typeof process<"u"&&process.nextTick||Ag,jy=k=>k!=null&&an(k[Zc]),rt={isArray:po,isArrayBuffer:kg,isBuffer:ll,isFormData:Xx,isArrayBufferView:Ux,isString:$x,isNumber:Ng,isBoolean:Vx,isObject:cl,isPlainObject:Mc,isEmptyObject:qx,isReadableStream:Zx,isRequest:Jx,isResponse:ey,isHeaders:ty,isUndefined:ho,isDate:Hx,isFile:Kx,isBlob:Gx,isRegExp:fy,isFunction:an,isStream:Yx,isURLSearchParams:Qx,isTypedArray:cy,isFileList:Wx,forEach:dl,merge:um,extend:sy,trim:ry,stripBOM:ny,inherits:iy,toFlatObject:ay,kindOf:Jc,kindOfTest:Gn,endsWith:oy,toArray:ly,forEachEntry:dy,matchAll:uy,isHTMLForm:my,hasOwnProperty:Gf,hasOwnProp:Gf,reduceDescriptors:Cg,freezeMethods:py,toObjectSet:gy,toCamelCase:hy,noop:xy,toFiniteNumber:yy,findKey:jg,global:ba,isContextDefined:Sg,isSpecCompliantForm:by,toJSONObject:vy,isAsyncFn:wy,isThenable:ky,setImmediate:Ag,asap:Ny,isIterable:jy};function xr(k,x,t,f,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=k,this.name="AxiosError",x&&(this.code=x),t&&(this.config=t),f&&(this.request=f),m&&(this.response=m,this.status=m.status?m.status:null)}rt.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const _g=xr.prototype,Eg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(k=>{Eg[k]={value:k}});Object.defineProperties(xr,Eg);Object.defineProperty(_g,"isAxiosError",{value:!0});xr.from=(k,x,t,f,m,d)=>{const s=Object.create(_g);rt.toFlatObject(k,s,function(n){return n!==Error.prototype},r=>r!=="isAxiosError");const a=k&&k.message?k.message:"Error",i=x==null&&k?k.code:x;return xr.call(s,a,i,t,f,m),k&&s.cause==null&&Object.defineProperty(s,"cause",{value:k,configurable:!0}),s.name=k&&k.name||"Error",d&&Object.assign(s,d),s};const Sy=null;function mm(k){return rt.isPlainObject(k)||rt.isArray(k)}function Tg(k){return rt.endsWith(k,"[]")?k.slice(0,-2):k}function Wf(k,x,t){return k?k.concat(x).map(function(m,d){return m=Tg(m),!t&&d?"["+m+"]":m}).join(t?".":""):x}function Cy(k){return rt.isArray(k)&&!k.some(mm)}const Ay=rt.toFlatObject(rt,{},null,function(x){return/^is[A-Z]/.test(x)});function td(k,x,t){if(!rt.isObject(k))throw new TypeError("target must be an object");x=x||new FormData,t=rt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,h){return!rt.isUndefined(h[g])});const f=t.metaTokens,m=t.visitor||n,d=t.dots,s=t.indexes,i=(t.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(x);if(!rt.isFunction(m))throw new TypeError("visitor must be a function");function r(p){if(p===null)return"";if(rt.isDate(p))return p.toISOString();if(rt.isBoolean(p))return p.toString();if(!i&&rt.isBlob(p))throw new xr("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(p)||rt.isTypedArray(p)?i&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function n(p,g,h){let y=p;if(p&&!h&&typeof p=="object"){if(rt.endsWith(g,"{}"))g=f?g:g.slice(0,-2),p=JSON.stringify(p);else if(rt.isArray(p)&&Cy(p)||(rt.isFileList(p)||rt.endsWith(g,"[]"))&&(y=rt.toArray(p)))return g=Tg(g),y.forEach(function(C,T){!(rt.isUndefined(C)||C===null)&&x.append(s===!0?Wf([g],T,d):s===null?g:g+"[]",r(C))}),!1}return mm(p)?!0:(x.append(Wf(h,g,d),r(p)),!1)}const l=[],o=Object.assign(Ay,{defaultVisitor:n,convertValue:r,isVisitable:mm});function c(p,g){if(!rt.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));l.push(p),rt.forEach(p,function(y,b){(!(rt.isUndefined(y)||y===null)&&m.call(x,y,rt.isString(b)?b.trim():b,g,o))===!0&&c(y,g?g.concat(b):[b])}),l.pop()}}if(!rt.isObject(k))throw new TypeError("data must be an object");return c(k),x}function Yf(k){const x={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(k).replace(/[!'()~]|%20|%00/g,function(f){return x[f]})}function Pm(k,x){this._pairs=[],k&&td(k,this,x)}const Pg=Pm.prototype;Pg.append=function(x,t){this._pairs.push([x,t])};Pg.toString=function(x){const t=x?function(f){return x.call(this,f,Yf)}:Yf;return this._pairs.map(function(m){return t(m[0])+"="+t(m[1])},"").join("&")};function _y(k){return encodeURIComponent(k).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dg(k,x,t){if(!x)return k;const f=t&&t.encode||_y;rt.isFunction(t)&&(t={serialize:t});const m=t&&t.serialize;let d;if(m?d=m(x,t):d=rt.isURLSearchParams(x)?x.toString():new Pm(x,t).toString(f),d){const s=k.indexOf("#");s!==-1&&(k=k.slice(0,s)),k+=(k.indexOf("?")===-1?"?":"&")+d}return k}class Xf{constructor(){this.handlers=[]}use(x,t,f){return this.handlers.push({fulfilled:x,rejected:t,synchronous:f?f.synchronous:!1,runWhen:f?f.runWhen:null}),this.handlers.length-1}eject(x){this.handlers[x]&&(this.handlers[x]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(x){rt.forEach(this.handlers,function(f){f!==null&&x(f)})}}const Ig={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ey=typeof URLSearchParams<"u"?URLSearchParams:Pm,Ty=typeof FormData<"u"?FormData:null,Py=typeof Blob<"u"?Blob:null,Dy={isBrowser:!0,classes:{URLSearchParams:Ey,FormData:Ty,Blob:Py},protocols:["http","https","file","blob","url","data"]},Dm=typeof window<"u"&&typeof document<"u",hm=typeof navigator=="object"&&navigator||void 0,Iy=Dm&&(!hm||["ReactNative","NativeScript","NS"].indexOf(hm.product)<0),My=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ry=Dm&&window.location.href||"http://localhost",zy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dm,hasStandardBrowserEnv:Iy,hasStandardBrowserWebWorkerEnv:My,navigator:hm,origin:Ry},Symbol.toStringTag,{value:"Module"})),zs={...zy,...Dy};function Oy(k,x){return td(k,new zs.classes.URLSearchParams,{visitor:function(t,f,m,d){return zs.isNode&&rt.isBuffer(t)?(this.append(f,t.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...x})}function Ly(k){return rt.matchAll(/\w+|\[(\w*)]/g,k).map(x=>x[0]==="[]"?"":x[1]||x[0])}function Fy(k){const x={},t=Object.keys(k);let f;const m=t.length;let d;for(f=0;f<m;f++)d=t[f],x[d]=k[d];return x}function Mg(k){function x(t,f,m,d){let s=t[d++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),i=d>=t.length;return s=!s&&rt.isArray(m)?m.length:s,i?(rt.hasOwnProp(m,s)?m[s]=[m[s],f]:m[s]=f,!a):((!m[s]||!rt.isObject(m[s]))&&(m[s]=[]),x(t,f,m[s],d)&&rt.isArray(m[s])&&(m[s]=Fy(m[s])),!a)}if(rt.isFormData(k)&&rt.isFunction(k.entries)){const t={};return rt.forEachEntry(k,(f,m)=>{x(Ly(f),m,t,0)}),t}return null}function By(k,x,t){if(rt.isString(k))try{return(x||JSON.parse)(k),rt.trim(k)}catch(f){if(f.name!=="SyntaxError")throw f}return(t||JSON.stringify)(k)}const ul={transitional:Ig,adapter:["xhr","http","fetch"],transformRequest:[function(x,t){const f=t.getContentType()||"",m=f.indexOf("application/json")>-1,d=rt.isObject(x);if(d&&rt.isHTMLForm(x)&&(x=new FormData(x)),rt.isFormData(x))return m?JSON.stringify(Mg(x)):x;if(rt.isArrayBuffer(x)||rt.isBuffer(x)||rt.isStream(x)||rt.isFile(x)||rt.isBlob(x)||rt.isReadableStream(x))return x;if(rt.isArrayBufferView(x))return x.buffer;if(rt.isURLSearchParams(x))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),x.toString();let a;if(d){if(f.indexOf("application/x-www-form-urlencoded")>-1)return Oy(x,this.formSerializer).toString();if((a=rt.isFileList(x))||f.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return td(a?{"files[]":x}:x,i&&new i,this.formSerializer)}}return d||m?(t.setContentType("application/json",!1),By(x)):x}],transformResponse:[function(x){const t=this.transitional||ul.transitional,f=t&&t.forcedJSONParsing,m=this.responseType==="json";if(rt.isResponse(x)||rt.isReadableStream(x))return x;if(x&&rt.isString(x)&&(f&&!this.responseType||m)){const s=!(t&&t.silentJSONParsing)&&m;try{return JSON.parse(x,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?xr.from(a,xr.ERR_BAD_RESPONSE,this,null,this.response):a}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],k=>{ul.headers[k]={}});const Uy=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$y=k=>{const x={};let t,f,m;return k&&k.split(`
`).forEach(function(s){m=s.indexOf(":"),t=s.substring(0,m).trim().toLowerCase(),f=s.substring(m+1).trim(),!(!t||x[t]&&Uy[t])&&(t==="set-cookie"?x[t]?x[t].push(f):x[t]=[f]:x[t]=x[t]?x[t]+", "+f:f)}),x},Qf=Symbol("internals");function Go(k){return k&&String(k).trim().toLowerCase()}function Rc(k){return k===!1||k==null?k:rt.isArray(k)?k.map(Rc):String(k)}function Vy(k){const x=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let f;for(;f=t.exec(k);)x[f[1]]=f[2];return x}const qy=k=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(k.trim());function Bu(k,x,t,f,m){if(rt.isFunction(f))return f.call(this,x,t);if(m&&(x=t),!!rt.isString(x)){if(rt.isString(f))return x.indexOf(f)!==-1;if(rt.isRegExp(f))return f.test(x)}}function Hy(k){return k.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(x,t,f)=>t.toUpperCase()+f)}function Ky(k,x){const t=rt.toCamelCase(" "+x);["get","set","has"].forEach(f=>{Object.defineProperty(k,f+t,{value:function(m,d,s){return this[f].call(this,x,m,d,s)},configurable:!0})})}let on=class{constructor(x){x&&this.set(x)}set(x,t,f){const m=this;function d(a,i,r){const n=Go(i);if(!n)throw new Error("header name must be a non-empty string");const l=rt.findKey(m,n);(!l||m[l]===void 0||r===!0||r===void 0&&m[l]!==!1)&&(m[l||i]=Rc(a))}const s=(a,i)=>rt.forEach(a,(r,n)=>d(r,n,i));if(rt.isPlainObject(x)||x instanceof this.constructor)s(x,t);else if(rt.isString(x)&&(x=x.trim())&&!qy(x))s($y(x),t);else if(rt.isObject(x)&&rt.isIterable(x)){let a={},i,r;for(const n of x){if(!rt.isArray(n))throw TypeError("Object iterator must return a key-value pair");a[r=n[0]]=(i=a[r])?rt.isArray(i)?[...i,n[1]]:[i,n[1]]:n[1]}s(a,t)}else x!=null&&d(t,x,f);return this}get(x,t){if(x=Go(x),x){const f=rt.findKey(this,x);if(f){const m=this[f];if(!t)return m;if(t===!0)return Vy(m);if(rt.isFunction(t))return t.call(this,m,f);if(rt.isRegExp(t))return t.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(x,t){if(x=Go(x),x){const f=rt.findKey(this,x);return!!(f&&this[f]!==void 0&&(!t||Bu(this,this[f],f,t)))}return!1}delete(x,t){const f=this;let m=!1;function d(s){if(s=Go(s),s){const a=rt.findKey(f,s);a&&(!t||Bu(f,f[a],a,t))&&(delete f[a],m=!0)}}return rt.isArray(x)?x.forEach(d):d(x),m}clear(x){const t=Object.keys(this);let f=t.length,m=!1;for(;f--;){const d=t[f];(!x||Bu(this,this[d],d,x,!0))&&(delete this[d],m=!0)}return m}normalize(x){const t=this,f={};return rt.forEach(this,(m,d)=>{const s=rt.findKey(f,d);if(s){t[s]=Rc(m),delete t[d];return}const a=x?Hy(d):String(d).trim();a!==d&&delete t[d],t[a]=Rc(m),f[a]=!0}),this}concat(...x){return this.constructor.concat(this,...x)}toJSON(x){const t=Object.create(null);return rt.forEach(this,(f,m)=>{f!=null&&f!==!1&&(t[m]=x&&rt.isArray(f)?f.join(", "):f)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([x,t])=>x+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(x){return x instanceof this?x:new this(x)}static concat(x,...t){const f=new this(x);return t.forEach(m=>f.set(m)),f}static accessor(x){const f=(this[Qf]=this[Qf]={accessors:{}}).accessors,m=this.prototype;function d(s){const a=Go(s);f[a]||(Ky(m,s),f[a]=!0)}return rt.isArray(x)?x.forEach(d):d(x),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(on.prototype,({value:k},x)=>{let t=x[0].toUpperCase()+x.slice(1);return{get:()=>k,set(f){this[t]=f}}});rt.freezeMethods(on);function Uu(k,x){const t=this||ul,f=x||t,m=on.from(f.headers);let d=f.data;return rt.forEach(k,function(a){d=a.call(t,d,m.normalize(),x?x.status:void 0)}),m.normalize(),d}function Rg(k){return!!(k&&k.__CANCEL__)}function go(k,x,t){xr.call(this,k??"canceled",xr.ERR_CANCELED,x,t),this.name="CanceledError"}rt.inherits(go,xr,{__CANCEL__:!0});function zg(k,x,t){const f=t.config.validateStatus;!t.status||!f||f(t.status)?k(t):x(new xr("Request failed with status code "+t.status,[xr.ERR_BAD_REQUEST,xr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Gy(k){const x=/^([-+\w]{1,25})(:?\/\/|:)/.exec(k);return x&&x[1]||""}function Wy(k,x){k=k||10;const t=new Array(k),f=new Array(k);let m=0,d=0,s;return x=x!==void 0?x:1e3,function(i){const r=Date.now(),n=f[d];s||(s=r),t[m]=i,f[m]=r;let l=d,o=0;for(;l!==m;)o+=t[l++],l=l%k;if(m=(m+1)%k,m===d&&(d=(d+1)%k),r-s<x)return;const c=n&&r-n;return c?Math.round(o*1e3/c):void 0}}function Yy(k,x){let t=0,f=1e3/x,m,d;const s=(r,n=Date.now())=>{t=n,m=null,d&&(clearTimeout(d),d=null),k(...r)};return[(...r)=>{const n=Date.now(),l=n-t;l>=f?s(r,n):(m=r,d||(d=setTimeout(()=>{d=null,s(m)},f-l)))},()=>m&&s(m)]}const Uc=(k,x,t=3)=>{let f=0;const m=Wy(50,250);return Yy(d=>{const s=d.loaded,a=d.lengthComputable?d.total:void 0,i=s-f,r=m(i),n=s<=a;f=s;const l={loaded:s,total:a,progress:a?s/a:void 0,bytes:i,rate:r||void 0,estimated:r&&a&&n?(a-s)/r:void 0,event:d,lengthComputable:a!=null,[x?"download":"upload"]:!0};k(l)},t)},Zf=(k,x)=>{const t=k!=null;return[f=>x[0]({lengthComputable:t,total:k,loaded:f}),x[1]]},Jf=k=>(...x)=>rt.asap(()=>k(...x)),Xy=zs.hasStandardBrowserEnv?((k,x)=>t=>(t=new URL(t,zs.origin),k.protocol===t.protocol&&k.host===t.host&&(x||k.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,Qy=zs.hasStandardBrowserEnv?{write(k,x,t,f,m,d){const s=[k+"="+encodeURIComponent(x)];rt.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),rt.isString(f)&&s.push("path="+f),rt.isString(m)&&s.push("domain="+m),d===!0&&s.push("secure"),document.cookie=s.join("; ")},read(k){const x=document.cookie.match(new RegExp("(^|;\\s*)("+k+")=([^;]*)"));return x?decodeURIComponent(x[3]):null},remove(k){this.write(k,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zy(k){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(k)}function Jy(k,x){return x?k.replace(/\/?\/$/,"")+"/"+x.replace(/^\/+/,""):k}function Og(k,x,t){let f=!Zy(x);return k&&(f||t==!1)?Jy(k,x):x}const ep=k=>k instanceof on?{...k}:k;function Na(k,x){x=x||{};const t={};function f(r,n,l,o){return rt.isPlainObject(r)&&rt.isPlainObject(n)?rt.merge.call({caseless:o},r,n):rt.isPlainObject(n)?rt.merge({},n):rt.isArray(n)?n.slice():n}function m(r,n,l,o){if(rt.isUndefined(n)){if(!rt.isUndefined(r))return f(void 0,r,l,o)}else return f(r,n,l,o)}function d(r,n){if(!rt.isUndefined(n))return f(void 0,n)}function s(r,n){if(rt.isUndefined(n)){if(!rt.isUndefined(r))return f(void 0,r)}else return f(void 0,n)}function a(r,n,l){if(l in x)return f(r,n);if(l in k)return f(void 0,r)}const i={url:d,method:d,data:d,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(r,n,l)=>m(ep(r),ep(n),l,!0)};return rt.forEach(Object.keys({...k,...x}),function(n){const l=i[n]||m,o=l(k[n],x[n],n);rt.isUndefined(o)&&l!==a||(t[n]=o)}),t}const Lg=k=>{const x=Na({},k);let{data:t,withXSRFToken:f,xsrfHeaderName:m,xsrfCookieName:d,headers:s,auth:a}=x;if(x.headers=s=on.from(s),x.url=Dg(Og(x.baseURL,x.url,x.allowAbsoluteUrls),k.params,k.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),rt.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(rt.isFunction(t.getHeaders)){const i=t.getHeaders(),r=["content-type","content-length"];Object.entries(i).forEach(([n,l])=>{r.includes(n.toLowerCase())&&s.set(n,l)})}}if(zs.hasStandardBrowserEnv&&(f&&rt.isFunction(f)&&(f=f(x)),f||f!==!1&&Xy(x.url))){const i=m&&d&&Qy.read(d);i&&s.set(m,i)}return x},eb=typeof XMLHttpRequest<"u",tb=eb&&function(k){return new Promise(function(t,f){const m=Lg(k);let d=m.data;const s=on.from(m.headers).normalize();let{responseType:a,onUploadProgress:i,onDownloadProgress:r}=m,n,l,o,c,p;function g(){c&&c(),p&&p(),m.cancelToken&&m.cancelToken.unsubscribe(n),m.signal&&m.signal.removeEventListener("abort",n)}let h=new XMLHttpRequest;h.open(m.method.toUpperCase(),m.url,!0),h.timeout=m.timeout;function y(){if(!h)return;const C=on.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:C,config:k,request:h};zg(function(H){t(H),g()},function(H){f(H),g()},D),h=null}"onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(f(new xr("Request aborted",xr.ECONNABORTED,k,h)),h=null)},h.onerror=function(T){const D=T&&T.message?T.message:"Network Error",F=new xr(D,xr.ERR_NETWORK,k,h);F.event=T||null,f(F),h=null},h.ontimeout=function(){let T=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const D=m.transitional||Ig;m.timeoutErrorMessage&&(T=m.timeoutErrorMessage),f(new xr(T,D.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,k,h)),h=null},d===void 0&&s.setContentType(null),"setRequestHeader"in h&&rt.forEach(s.toJSON(),function(T,D){h.setRequestHeader(D,T)}),rt.isUndefined(m.withCredentials)||(h.withCredentials=!!m.withCredentials),a&&a!=="json"&&(h.responseType=m.responseType),r&&([o,p]=Uc(r,!0),h.addEventListener("progress",o)),i&&h.upload&&([l,c]=Uc(i),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(m.cancelToken||m.signal)&&(n=C=>{h&&(f(!C||C.type?new go(null,k,h):C),h.abort(),h=null)},m.cancelToken&&m.cancelToken.subscribe(n),m.signal&&(m.signal.aborted?n():m.signal.addEventListener("abort",n)));const b=Gy(m.url);if(b&&zs.protocols.indexOf(b)===-1){f(new xr("Unsupported protocol "+b+":",xr.ERR_BAD_REQUEST,k));return}h.send(d||null)})},rb=(k,x)=>{const{length:t}=k=k?k.filter(Boolean):[];if(x||t){let f=new AbortController,m;const d=function(r){if(!m){m=!0,a();const n=r instanceof Error?r:this.reason;f.abort(n instanceof xr?n:new go(n instanceof Error?n.message:n))}};let s=x&&setTimeout(()=>{s=null,d(new xr(`timeout ${x} of ms exceeded`,xr.ETIMEDOUT))},x);const a=()=>{k&&(s&&clearTimeout(s),s=null,k.forEach(r=>{r.unsubscribe?r.unsubscribe(d):r.removeEventListener("abort",d)}),k=null)};k.forEach(r=>r.addEventListener("abort",d));const{signal:i}=f;return i.unsubscribe=()=>rt.asap(a),i}},sb=function*(k,x){let t=k.byteLength;if(t<x){yield k;return}let f=0,m;for(;f<t;)m=f+x,yield k.slice(f,m),f=m},nb=async function*(k,x){for await(const t of ib(k))yield*sb(t,x)},ib=async function*(k){if(k[Symbol.asyncIterator]){yield*k;return}const x=k.getReader();try{for(;;){const{done:t,value:f}=await x.read();if(t)break;yield f}}finally{await x.cancel()}},tp=(k,x,t,f)=>{const m=nb(k,x);let d=0,s,a=i=>{s||(s=!0,f&&f(i))};return new ReadableStream({async pull(i){try{const{done:r,value:n}=await m.next();if(r){a(),i.close();return}let l=n.byteLength;if(t){let o=d+=l;t(o)}i.enqueue(new Uint8Array(n))}catch(r){throw a(r),r}},cancel(i){return a(i),m.return()}},{highWaterMark:2})},rp=64*1024,{isFunction:wc}=rt,ab=(({Request:k,Response:x})=>({Request:k,Response:x}))(rt.global),{ReadableStream:sp,TextEncoder:np}=rt.global,ip=(k,...x)=>{try{return!!k(...x)}catch{return!1}},ob=k=>{k=rt.merge.call({skipUndefined:!0},ab,k);const{fetch:x,Request:t,Response:f}=k,m=x?wc(x):typeof fetch=="function",d=wc(t),s=wc(f);if(!m)return!1;const a=m&&wc(sp),i=m&&(typeof np=="function"?(p=>g=>p.encode(g))(new np):async p=>new Uint8Array(await new t(p).arrayBuffer())),r=d&&a&&ip(()=>{let p=!1;const g=new t(zs.origin,{body:new sp,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),n=s&&a&&ip(()=>rt.isReadableStream(new f("").body)),l={stream:n&&(p=>p.body)};m&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!l[p]&&(l[p]=(g,h)=>{let y=g&&g[p];if(y)return y.call(g);throw new xr(`Response type '${p}' is not supported`,xr.ERR_NOT_SUPPORT,h)})});const o=async p=>{if(p==null)return 0;if(rt.isBlob(p))return p.size;if(rt.isSpecCompliantForm(p))return(await new t(zs.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(p)||rt.isArrayBuffer(p))return p.byteLength;if(rt.isURLSearchParams(p)&&(p=p+""),rt.isString(p))return(await i(p)).byteLength},c=async(p,g)=>{const h=rt.toFiniteNumber(p.getContentLength());return h??o(g)};return async p=>{let{url:g,method:h,data:y,signal:b,cancelToken:C,timeout:T,onDownloadProgress:D,onUploadProgress:F,responseType:H,headers:O,withCredentials:$="same-origin",fetchOptions:B}=Lg(p),K=x||fetch;H=H?(H+"").toLowerCase():"text";let U=rb([b,C&&C.toAbortSignal()],T),_=null;const M=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let A;try{if(F&&r&&h!=="get"&&h!=="head"&&(A=await c(O,y))!==0){let I=new t(g,{method:"POST",body:y,duplex:"half"}),L;if(rt.isFormData(y)&&(L=I.headers.get("content-type"))&&O.setContentType(L),I.body){const[G,X]=Zf(A,Uc(Jf(F)));y=tp(I.body,rp,G,X)}}rt.isString($)||($=$?"include":"omit");const N=d&&"credentials"in t.prototype,S={...B,signal:U,method:h.toUpperCase(),headers:O.normalize().toJSON(),body:y,duplex:"half",credentials:N?$:void 0};_=d&&new t(g,S);let w=await(d?K(_,B):K(g,S));const j=n&&(H==="stream"||H==="response");if(n&&(D||j&&M)){const I={};["status","statusText","headers"].forEach(re=>{I[re]=w[re]});const L=rt.toFiniteNumber(w.headers.get("content-length")),[G,X]=D&&Zf(L,Uc(Jf(D),!0))||[];w=new f(tp(w.body,rp,G,()=>{X&&X(),M&&M()}),I)}H=H||"text";let E=await l[rt.findKey(l,H)||"text"](w,p);return!j&&M&&M(),await new Promise((I,L)=>{zg(I,L,{data:E,headers:on.from(w.headers),status:w.status,statusText:w.statusText,config:p,request:_})})}catch(N){throw M&&M(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new xr("Network Error",xr.ERR_NETWORK,p,_),{cause:N.cause||N}):xr.from(N,N&&N.code,p,_)}}},lb=new Map,Fg=k=>{let x=k?k.env:{};const{fetch:t,Request:f,Response:m}=x,d=[f,m,t];let s=d.length,a=s,i,r,n=lb;for(;a--;)i=d[a],r=n.get(i),r===void 0&&n.set(i,r=a?new Map:ob(x)),n=r;return r};Fg();const fm={http:Sy,xhr:tb,fetch:{get:Fg}};rt.forEach(fm,(k,x)=>{if(k){try{Object.defineProperty(k,"name",{value:x})}catch{}Object.defineProperty(k,"adapterName",{value:x})}});const ap=k=>`- ${k}`,cb=k=>rt.isFunction(k)||k===null||k===!1,Bg={getAdapter:(k,x)=>{k=rt.isArray(k)?k:[k];const{length:t}=k;let f,m;const d={};for(let s=0;s<t;s++){f=k[s];let a;if(m=f,!cb(f)&&(m=fm[(a=String(f)).toLowerCase()],m===void 0))throw new xr(`Unknown adapter '${a}'`);if(m&&(rt.isFunction(m)||(m=m.get(x))))break;d[a||"#"+s]=m}if(!m){const s=Object.entries(d).map(([i,r])=>`adapter ${i} `+(r===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(ap).join(`
`):" "+ap(s[0]):"as no adapter specified";throw new xr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return m},adapters:fm};function $u(k){if(k.cancelToken&&k.cancelToken.throwIfRequested(),k.signal&&k.signal.aborted)throw new go(null,k)}function op(k){return $u(k),k.headers=on.from(k.headers),k.data=Uu.call(k,k.transformRequest),["post","put","patch"].indexOf(k.method)!==-1&&k.headers.setContentType("application/x-www-form-urlencoded",!1),Bg.getAdapter(k.adapter||ul.adapter,k)(k).then(function(f){return $u(k),f.data=Uu.call(k,k.transformResponse,f),f.headers=on.from(f.headers),f},function(f){return Rg(f)||($u(k),f&&f.response&&(f.response.data=Uu.call(k,k.transformResponse,f.response),f.response.headers=on.from(f.response.headers))),Promise.reject(f)})}const Ug="1.12.2",rd={};["object","boolean","number","function","string","symbol"].forEach((k,x)=>{rd[k]=function(f){return typeof f===k||"a"+(x<1?"n ":" ")+k}});const lp={};rd.transitional=function(x,t,f){function m(d,s){return"[Axios v"+Ug+"] Transitional option '"+d+"'"+s+(f?". "+f:"")}return(d,s,a)=>{if(x===!1)throw new xr(m(s," has been removed"+(t?" in "+t:"")),xr.ERR_DEPRECATED);return t&&!lp[s]&&(lp[s]=!0,console.warn(m(s," has been deprecated since v"+t+" and will be removed in the near future"))),x?x(d,s,a):!0}};rd.spelling=function(x){return(t,f)=>(console.warn(`${f} is likely a misspelling of ${x}`),!0)};function db(k,x,t){if(typeof k!="object")throw new xr("options must be an object",xr.ERR_BAD_OPTION_VALUE);const f=Object.keys(k);let m=f.length;for(;m-- >0;){const d=f[m],s=x[d];if(s){const a=k[d],i=a===void 0||s(a,d,k);if(i!==!0)throw new xr("option "+d+" must be "+i,xr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xr("Unknown option "+d,xr.ERR_BAD_OPTION)}}const zc={assertOptions:db,validators:rd},ri=zc.validators;let wa=class{constructor(x){this.defaults=x||{},this.interceptors={request:new Xf,response:new Xf}}async request(x,t){try{return await this._request(x,t)}catch(f){if(f instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const d=m.stack?m.stack.replace(/^.+\n/,""):"";try{f.stack?d&&!String(f.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(f.stack+=`
`+d):f.stack=d}catch{}}throw f}}_request(x,t){typeof x=="string"?(t=t||{},t.url=x):t=x||{},t=Na(this.defaults,t);const{transitional:f,paramsSerializer:m,headers:d}=t;f!==void 0&&zc.assertOptions(f,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),m!=null&&(rt.isFunction(m)?t.paramsSerializer={serialize:m}:zc.assertOptions(m,{encode:ri.function,serialize:ri.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),zc.assertOptions(t,{baseUrl:ri.spelling("baseURL"),withXsrfToken:ri.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=d&&rt.merge(d.common,d[t.method]);d&&rt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete d[p]}),t.headers=on.concat(s,d);const a=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(i=i&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const r=[];this.interceptors.response.forEach(function(g){r.push(g.fulfilled,g.rejected)});let n,l=0,o;if(!i){const p=[op.bind(this),void 0];for(p.unshift(...a),p.push(...r),o=p.length,n=Promise.resolve(t);l<o;)n=n.then(p[l++],p[l++]);return n}o=a.length;let c=t;for(;l<o;){const p=a[l++],g=a[l++];try{c=p(c)}catch(h){g.call(this,h);break}}try{n=op.call(this,c)}catch(p){return Promise.reject(p)}for(l=0,o=r.length;l<o;)n=n.then(r[l++],r[l++]);return n}getUri(x){x=Na(this.defaults,x);const t=Og(x.baseURL,x.url,x.allowAbsoluteUrls);return Dg(t,x.params,x.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(x){wa.prototype[x]=function(t,f){return this.request(Na(f||{},{method:x,url:t,data:(f||{}).data}))}});rt.forEach(["post","put","patch"],function(x){function t(f){return function(d,s,a){return this.request(Na(a||{},{method:x,headers:f?{"Content-Type":"multipart/form-data"}:{},url:d,data:s}))}}wa.prototype[x]=t(),wa.prototype[x+"Form"]=t(!0)});let ub=class $g{constructor(x){if(typeof x!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(d){t=d});const f=this;this.promise.then(m=>{if(!f._listeners)return;let d=f._listeners.length;for(;d-- >0;)f._listeners[d](m);f._listeners=null}),this.promise.then=m=>{let d;const s=new Promise(a=>{f.subscribe(a),d=a}).then(m);return s.cancel=function(){f.unsubscribe(d)},s},x(function(d,s,a){f.reason||(f.reason=new go(d,s,a),t(f.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(x){if(this.reason){x(this.reason);return}this._listeners?this._listeners.push(x):this._listeners=[x]}unsubscribe(x){if(!this._listeners)return;const t=this._listeners.indexOf(x);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const x=new AbortController,t=f=>{x.abort(f)};return this.subscribe(t),x.signal.unsubscribe=()=>this.unsubscribe(t),x.signal}static source(){let x;return{token:new $g(function(m){x=m}),cancel:x}}};function mb(k){return function(t){return k.apply(null,t)}}function hb(k){return rt.isObject(k)&&k.isAxiosError===!0}const pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pm).forEach(([k,x])=>{pm[x]=k});function Vg(k){const x=new wa(k),t=vg(wa.prototype.request,x);return rt.extend(t,wa.prototype,x,{allOwnKeys:!0}),rt.extend(t,x,null,{allOwnKeys:!0}),t.create=function(m){return Vg(Na(k,m))},t}const ns=Vg(ul);ns.Axios=wa;ns.CanceledError=go;ns.CancelToken=ub;ns.isCancel=Rg;ns.VERSION=Ug;ns.toFormData=td;ns.AxiosError=xr;ns.Cancel=ns.CanceledError;ns.all=function(x){return Promise.all(x)};ns.spread=mb;ns.isAxiosError=hb;ns.mergeConfig=Na;ns.AxiosHeaders=on;ns.formToJSON=k=>Mg(rt.isHTMLForm(k)?new FormData(k):k);ns.getAdapter=Bg.getAdapter;ns.HttpStatusCode=pm;ns.default=ns;const{Axios:F6,AxiosError:B6,CanceledError:U6,isCancel:$6,CancelToken:V6,VERSION:q6,all:H6,Cancel:K6,isAxiosError:G6,spread:W6,toFormData:Y6,AxiosHeaders:X6,HttpStatusCode:Q6,formToJSON:Z6,getAdapter:J6,mergeConfig:e5}=ns,wr={debug:(...k)=>{},info:(...k)=>{},warn:(...k)=>console.warn(...k),error:(...k)=>console.error(...k),installConsoleMute:()=>{console.log=()=>{},console.debug=()=>{}}},fb="/api";let gm=null;const it=ns.create({baseURL:fb,timeout:3e4,headers:{"Content-Type":"application/json"},validateStatus:k=>k>=200&&k<300});it.interceptors.request.use(k=>{const x=localStorage.getItem("auth_token"),t=k.url||"",f=typeof t=="string"&&(t.startsWith("/public/")||t.startsWith("/auth/public")||t.includes("/public/"));x&&k.headers&&!f&&(k.headers.Authorization=`Bearer ${x}`);const m=(k.method||"get").toLowerCase();return["post","put","patch","delete"].includes(m)&&gm&&k.headers&&(k.headers["X-CSRF-Token"]=gm),k},k=>(wr.error(" Request Error:",k),Promise.reject(k)));it.interceptors.response.use(k=>{const x=k.headers?.["x-csrf-token"];return x&&(gm=x),k},async k=>{const x=k.config?.url||"";if(k.response?.status===404&&typeof x=="string"&&/^\/admin\/tenant\/.+\/invoices/.test(x)||wr.error(" API Error:",{message:k.message,code:k.code,url:k.config?.url,status:k.response?.status}),k.code==="ERR_NETWORK"||k.code==="ECONNREFUSED")return wr.error("Network error - Backend unavailable:",k.config?.url),Promise.reject({message:"Backend servisi eriilebilir deil. Port 3000 kontrol edin.",code:"NETWORK_ERROR",originalError:k});try{const m=k.response?.status,d=k.response?.data?.message;typeof window<"u"&&m===400&&typeof d=="string"&&d.includes("Plan limitine ulald")&&window.dispatchEvent(new CustomEvent("showToast",{detail:{message:d,tone:"error"}}))}catch{}if(k.response?.status===401){const m=k.config?.url||"";if(m.startsWith("/admin"))try{localStorage.removeItem("admin-token"),typeof window<"u"&&window.dispatchEvent(new CustomEvent("adminAuthExpired"))}catch{}if(localStorage.getItem("auth_token")&&!m.includes("/auth/"))return localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("tenant"),typeof window<"u"&&(window.location.href="/"),Promise.reject(k)}return Promise.reject(k)});const Ws={async register(k){try{return(await it.post("/auth/register",k)).data}catch(x){const t=x?.response?.data?.message||"Kayt srasnda hata olutu";throw new Error(t)}},async login(k){try{wr.debug(" auth.login called");const x=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(wr.debug(" Fetch response status:",x.status),!x.ok){const m=(await x.json().catch(()=>({}))).message||"Geersiz email veya ifre";throw new Error(m)}const t=await x.json();return wr.debug(" Auth service response received"),t}catch(x){throw wr.error(" Auth service error:",x),x}},async getProfile(){return(await it.get("/auth/me")).data},async refresh(){try{return(await it.post("/auth/refresh-token",{})).data}catch{return(await it.post("/auth/refresh",{})).data}},async resendVerification(k){return(await it.post("/auth/resend-verification",{email:k})).data},async verifyEmail(k){return(await it.get("/auth/verify-email",{params:{token:k}})).data},async verifyEmailHashed(k,x){return(await it.get("/auth/verify",{params:{token:k,u:x}})).data},async forgotPassword(k){return(await it.post("/auth/forgot-password",{email:k})).data},async resetPassword(k,x){return(await it.post("/auth/reset-password",{token:k,newPassword:x})).data},async resetPasswordHashed(k,x,t){return(await it.post("/auth/reset",{token:k,u:x,newPassword:t})).data},async signup(k){return(await it.post("/auth/signup",k)).data},logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("tenant"),localStorage.removeItem("tenantId"),localStorage.removeItem("bankAccounts"),localStorage.removeItem("customers_cache"),localStorage.removeItem("suppliers_cache"),localStorage.removeItem("products_cache"),localStorage.removeItem("invoices_cache"),localStorage.removeItem("expenses_cache"),localStorage.removeItem("notifications")}},qg=Object.freeze(Object.defineProperty({__proto__:null,authService:Ws},Symbol.toStringTag,{value:"Module"})),pb={};class gb{lastActiveAt=Date.now();intervalId=null;options;getToken;setToken;onLogout;boundActivityHandler;stopped=!0;constructor(x,t,f,m){this.getToken=x,this.setToken=t,this.onLogout=f,this.options={idleTimeoutMinutes:Number(pb?.VITE_IDLE_TIMEOUT_MINUTES)||30,refreshBeforeSeconds:300,checkIntervalSeconds:60,...m||{}},this.boundActivityHandler=this.recordActivity.bind(this)}start(){if(!this.stopped)return;this.stopped=!1,this.lastActiveAt=Date.now(),["click","keydown","mousemove","scroll","touchstart","visibilitychange","hashchange"].forEach(t=>window.addEventListener(t,this.boundActivityHandler,{passive:!0})),this.intervalId=window.setInterval(()=>this.tick(),this.options.checkIntervalSeconds*1e3),wr.info(" SessionManager started",this.options)}stop(){if(this.stopped)return;this.stopped=!0,["click","keydown","mousemove","scroll","touchstart","visibilitychange","hashchange"].forEach(t=>window.removeEventListener(t,this.boundActivityHandler)),this.intervalId!=null&&(clearInterval(this.intervalId),this.intervalId=null)}recordActivity(){this.lastActiveAt=Date.now()}decodeJwtExp(x){if(!x)return null;try{const t=x.split(".");if(t.length!==3)return null;const f=JSON.parse(atob(t[1]));return!f||typeof f.exp!="number"?null:f.exp*1e3}catch{return null}}async tick(){try{const x=Date.now(),t=this.options.idleTimeoutMinutes*60*1e3;if(x-this.lastActiveAt>t){wr.info(" Idle timeout reached. Logging out."),this.stop(),this.onLogout();return}const f=this.getToken();if(!f)return;const m=x-this.lastActiveAt<300*1e3;if(document.visibilityState==="hidden"||!m)return;const d=this.decodeJwtExp(f);if(!d)return;const s=Math.floor((d-x)/1e3);if(s<=this.options.refreshBeforeSeconds){wr.debug(` Refreshing token. Seconds left: ${s}`);try{const a=await Ws.refresh();a?.token&&(this.setToken(a.token),wr.info(" Token refreshed"))}catch(a){wr.error(" Token refresh failed",a)}}}catch{}}}const xb=(k,x,t,f)=>new gb(k,x,t,f),yb={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:3000",VITE_APP_NAME:"Comptario",VITE_APP_VERSION:"2.0.0",VITE_DEBUG_MODE:"false",VITE_DEMO_EMAIL:"demo@moneyflow.com",VITE_DEMO_PASSWORD:"demo123",VITE_EMAIL_VERIFICATION_REQUIRED:"true",VITE_ENABLE_CSP_REPORTING:"true",VITE_ENABLE_ENCRYPTION:"true",VITE_ENABLE_RATE_LIMITING:"true",VITE_ENCRYPTION_KEY:"development_encryption_key_32_chars_long_change_in_production_env",VITE_LOGIN_URL:"/login",VITE_LOG_LEVEL:"error",VITE_USE_SECURE_CRYPTO:"true"},Hg=Z.createContext(void 0);function bb({children:k}){const[x,t]=Z.useState(null),[f,m]=Z.useState(null),[d,s]=Z.useState(!0),a=Z.useRef(null);Z.useEffect(()=>{const p=localStorage.getItem("auth_token"),g=localStorage.getItem("user"),h=localStorage.getItem("tenant");return(async()=>{try{if(g&&g!=="undefined"&&g!=="null")try{const b=JSON.parse(g);t(b),wr.info(" User localStorage'dan yklendi:",b?.email)}catch(b){console.error(" User parse hatas (yoksaylp yenisi ekilecek):",b),localStorage.removeItem("user")}if(h&&h!=="undefined"&&h!=="null")try{const b=JSON.parse(h);m(b),wr.info(" Tenant localStorage'dan yklendi:",b?.name)}catch(b){console.error(" Tenant parse hatas:",b),localStorage.removeItem("tenant")}if(p)try{wr.info(" Backend'den gncel user bilgisi ekiliyor...");const b=await Ws.getProfile(),C=b?.user||b,T=b?.tenant;C&&(t(C),localStorage.setItem("user",JSON.stringify(C)),wr.info(" User bilgisi backend'den gncellendi")),T&&(m(T),localStorage.setItem("tenant",JSON.stringify(T)))}catch(b){console.error(" Backend'den profil ekilemedi:",b)}}finally{s(!1)}})(),()=>{try{a.current?.stop()}catch{}}},[]);const i=p=>{if(!p||!p.user||!p.token)throw console.error(" Invalid auth data:",p),new Error("Geersiz auth verisi alnd");localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("tenant"),localStorage.setItem("auth_token",p.token),localStorage.setItem("user",JSON.stringify(p.user)),t(p.user),p.tenant&&(localStorage.setItem("tenant",JSON.stringify(p.tenant)),m(p.tenant));try{a.current?.stop(),a.current=xb(()=>localStorage.getItem("auth_token"),g=>localStorage.setItem("auth_token",g),()=>o(),{idleTimeoutMinutes:Number(yb?.VITE_IDLE_TIMEOUT_MINUTES)||30}),a.current.start()}catch{}wr.info(" Yeni kullanc girii:",{email:p.user?.email,tenantId:p.user?.tenantId,tenant:p.tenant?.name});try{const g=sessionStorage.getItem("pending_invite_token")||localStorage.getItem("pending_invite_token");g&&_r(()=>Promise.resolve().then(()=>FS),void 0).then(async h=>{try{await h.organizationsApi.acceptInvite({token:g}),sessionStorage.removeItem("pending_invite_token"),localStorage.removeItem("pending_invite_token");try{await c()}catch{}try{window.dispatchEvent(new Event("org-invite-accepted"))}catch{}}catch(y){console.error("Invite accept after login failed:",y)}})}catch{}},r=async(p,g)=>{try{wr.info(" Login balatlyor:",{email:p});const h=await Ws.login({email:p,password:g});wr.debug(" Login response:",h),i(h),wr.info(" Login tamamland")}catch(h){console.error(" Login failed:",h);const b=(typeof h=="object"&&h!==null?h:void 0)?.response?.data?.message,C=typeof b=="string"?b:h instanceof Error?h.message:"Giri srasnda bir hata olutu";throw new Error(C)}},n=async p=>{try{const g=p.name.trim().split(" "),h=g[0]||"",y=g.slice(1).join(" ")||"",b={email:p.email,password:p.password,firstName:h,lastName:y,companyName:p.company},C="true".toLowerCase()==="true";if(C){await Ws.signup(b);try{sessionStorage.setItem("pending_verification_email",p.email)}catch{}}else{const T=await Ws.register(b);i(T)}C&&(window.location.hash="verify-notice")}catch(g){console.error("Registration failed:",g);const h=g?.response?.status,y=g?.response?.data?.message||g?.message||"Kayt srasnda bir hata olutu";if(h===409){const b=new Error("EMAIL_IN_USE");throw b.status=409,b}throw new Error(y)}},l=()=>{wr.warn(" Corrupted localStorage data temizleniyor..."),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("tenant"),localStorage.removeItem("tenantId"),localStorage.removeItem("customers_cache"),localStorage.removeItem("suppliers_cache"),localStorage.removeItem("products_cache"),localStorage.removeItem("invoices_cache"),localStorage.removeItem("expenses_cache"),localStorage.removeItem("bankAccounts");try{const p=["customers_cache_","suppliers_cache_","products_cache_","invoices_cache_","expenses_cache_","sales_","sales_cache_","sales_backup_","sales_last_seen_ts_","bankAccounts_","quotes_cache_"],g=Object.keys(localStorage);for(const h of g)p.some(y=>h.startsWith(y))&&localStorage.removeItem(h)}catch{}},o=async()=>{try{await Ws.logout()}catch(p){console.error("Logout error:",p)}finally{try{a.current?.stop()}catch{}t(null),m(null),l();try{sessionStorage.removeItem("pending_verification_email")}catch{}}},c=async()=>{try{if(!localStorage.getItem("auth_token")){wr.warn(" Token yok, refreshUser iptal");return}wr.info(" Backend'den gncel user bilgisi alnyor...");const g=await Ws.getProfile();wr.info(" User bilgisi backend'den gncellendi:",g),wr.debug(" Detay - firstName:",g?.user?.firstName,"lastName:",g?.user?.lastName);try{wr.info(" Email dorulama durumu:",g?.user?.isEmailVerified)}catch{}g?.user&&t(g.user),g?.tenant&&m(g.tenant),g?.user&&localStorage.setItem("user",JSON.stringify(g.user)),g?.tenant&&localStorage.setItem("tenant",JSON.stringify(g.tenant)),wr.debug(" localStorage user/tenant gncellendi")}catch(p){console.error(" HATA: User refresh baarsz oldu!",p),p instanceof Error&&console.error(" Error message:",p.message)}};return e.jsx(Hg.Provider,{value:{user:x,tenant:f,isAuthenticated:!!x,isLoading:d,login:r,register:n,logout:o,refreshUser:c},children:k})}function wn(){const k=Z.useContext(Hg);if(k===void 0)throw new Error("useAuth must be used within an AuthProvider");return k}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=k=>k.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mt=(k,x)=>{const t=Z.forwardRef(({color:f="currentColor",size:m=24,strokeWidth:d=2,absoluteStrokeWidth:s,className:a="",children:i,...r},n)=>Z.createElement("svg",{ref:n,...vb,width:m,height:m,stroke:f,strokeWidth:s?Number(d)*24/Number(m):d,className:["lucide",`lucide-${wb(k)}`,a].join(" "),...r},[...x.map(([l,o])=>Z.createElement(l,o)),...Array.isArray(i)?i:[i]]));return t.displayName=`${k}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=mt("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=mt("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=mt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=mt("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=mt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=mt("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=mt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=mt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=mt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=mt("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=mt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=mt("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=mt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=mt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=mt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=mt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=mt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=mt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=mt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=mt("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=mt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=mt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=mt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=mt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=mt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=mt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=mt("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=mt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=mt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=mt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=mt("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=mt("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=mt("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=mt("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=mt("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=mt("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=mt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=mt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=mt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=mt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=mt("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=mt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=mt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=mt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=mt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=mt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=mt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=mt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=mt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=mt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=mt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=mt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=mt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=mt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=mt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=mt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=mt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=mt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=mt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=mt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=mt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=mt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=mt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=mt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=mt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=mt("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=mt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=mt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=mt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),n0=Z.createContext(void 0),mv=({children:k})=>{const[x,t]=Z.useState(()=>localStorage.getItem("currency")||"TRY");Z.useEffect(()=>{localStorage.setItem("currency",x)},[x]);const f=a=>{t(a)},m=a=>{switch(a??x){case"TRY":return"";case"USD":return"$";case"EUR":return"";case"GBP":return"";default:return""}},s={currency:x,setCurrency:f,formatCurrency:(a,i)=>{const r=typeof a=="number"?a:0,n=i??x,l=m(n);switch(n){case"TRY":return`${l}${r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"USD":case"EUR":return`${l}${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"GBP":return`${l}${r.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`;default:return`${l}${r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}},getCurrencySymbol:m};return e.jsx(n0.Provider,{value:s,children:k})},$r=()=>{const k=Z.useContext(n0);if(!k)throw new Error("useCurrency must be used within a CurrencyProvider");return k},hr=k=>typeof k=="string",Wo=()=>{let k,x;const t=new Promise((f,m)=>{k=f,x=m});return t.resolve=k,t.reject=x,t},hp=k=>k==null?"":""+k,hv=(k,x,t)=>{k.forEach(f=>{x[f]&&(t[f]=x[f])})},fv=/###/g,fp=k=>k&&k.indexOf("###")>-1?k.replace(fv,"."):k,pp=k=>!k||hr(k),sl=(k,x,t)=>{const f=hr(x)?x.split("."):x;let m=0;for(;m<f.length-1;){if(pp(k))return{};const d=fp(f[m]);!k[d]&&t&&(k[d]=new t),Object.prototype.hasOwnProperty.call(k,d)?k=k[d]:k={},++m}return pp(k)?{}:{obj:k,k:fp(f[m])}},gp=(k,x,t)=>{const{obj:f,k:m}=sl(k,x,Object);if(f!==void 0||x.length===1){f[m]=t;return}let d=x[x.length-1],s=x.slice(0,x.length-1),a=sl(k,s,Object);for(;a.obj===void 0&&s.length;)d=`${s[s.length-1]}.${d}`,s=s.slice(0,s.length-1),a=sl(k,s,Object),a?.obj&&typeof a.obj[`${a.k}.${d}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${d}`]=t},pv=(k,x,t,f)=>{const{obj:m,k:d}=sl(k,x,Object);m[d]=m[d]||[],m[d].push(t)},Kc=(k,x)=>{const{obj:t,k:f}=sl(k,x);if(t&&Object.prototype.hasOwnProperty.call(t,f))return t[f]},gv=(k,x,t)=>{const f=Kc(k,t);return f!==void 0?f:Kc(x,t)},i0=(k,x,t)=>{for(const f in x)f!=="__proto__"&&f!=="constructor"&&(f in k?hr(k[f])||k[f]instanceof String||hr(x[f])||x[f]instanceof String?t&&(k[f]=x[f]):i0(k[f],x[f],t):k[f]=x[f]);return k},ro=k=>k.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yv=k=>hr(k)?k.replace(/[&<>"'\/]/g,x=>xv[x]):k;class bv{constructor(x){this.capacity=x,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(x){const t=this.regExpMap.get(x);if(t!==void 0)return t;const f=new RegExp(x);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(x,f),this.regExpQueue.push(x),f}}const vv=[" ",",","?","!",";"],wv=new bv(20),kv=(k,x,t)=>{x=x||"",t=t||"";const f=vv.filter(s=>x.indexOf(s)<0&&t.indexOf(s)<0);if(f.length===0)return!0;const m=wv.getRegExp(`(${f.map(s=>s==="?"?"\\?":s).join("|")})`);let d=!m.test(k);if(!d){const s=k.indexOf(t);s>0&&!m.test(k.substring(0,s))&&(d=!0)}return d},wm=(k,x,t=".")=>{if(!k)return;if(k[x])return Object.prototype.hasOwnProperty.call(k,x)?k[x]:void 0;const f=x.split(t);let m=k;for(let d=0;d<f.length;){if(!m||typeof m!="object")return;let s,a="";for(let i=d;i<f.length;++i)if(i!==d&&(a+=t),a+=f[i],s=m[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&i<f.length-1)continue;d+=i-d+1;break}m=s}return m},al=k=>k?.replace("_","-"),Nv={type:"logger",log(k){this.output("log",k)},warn(k){this.output("warn",k)},error(k){this.output("error",k)},output(k,x){console?.[k]?.apply?.(console,x)}};class Gc{constructor(x,t={}){this.init(x,t)}init(x,t={}){this.prefix=t.prefix||"i18next:",this.logger=x||Nv,this.options=t,this.debug=t.debug}log(...x){return this.forward(x,"log","",!0)}warn(...x){return this.forward(x,"warn","",!0)}error(...x){return this.forward(x,"error","")}deprecate(...x){return this.forward(x,"warn","WARNING DEPRECATED: ",!0)}forward(x,t,f,m){return m&&!this.debug?null:(hr(x[0])&&(x[0]=`${f}${this.prefix} ${x[0]}`),this.logger[t](x))}create(x){return new Gc(this.logger,{prefix:`${this.prefix}:${x}:`,...this.options})}clone(x){return x=x||this.options,x.prefix=x.prefix||this.prefix,new Gc(this.logger,x)}}var ni=new Gc;class id{constructor(){this.observers={}}on(x,t){return x.split(" ").forEach(f=>{this.observers[f]||(this.observers[f]=new Map);const m=this.observers[f].get(t)||0;this.observers[f].set(t,m+1)}),this}off(x,t){if(this.observers[x]){if(!t){delete this.observers[x];return}this.observers[x].delete(t)}}emit(x,...t){this.observers[x]&&Array.from(this.observers[x].entries()).forEach(([m,d])=>{for(let s=0;s<d;s++)m(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([m,d])=>{for(let s=0;s<d;s++)m.apply(m,[x,...t])})}}class xp extends id{constructor(x,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=x||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(x){this.options.ns.indexOf(x)<0&&this.options.ns.push(x)}removeNamespaces(x){const t=this.options.ns.indexOf(x);t>-1&&this.options.ns.splice(t,1)}getResource(x,t,f,m={}){const d=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator,s=m.ignoreJSONStructure!==void 0?m.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;x.indexOf(".")>-1?a=x.split("."):(a=[x,t],f&&(Array.isArray(f)?a.push(...f):hr(f)&&d?a.push(...f.split(d)):a.push(f)));const i=Kc(this.data,a);return!i&&!t&&!f&&x.indexOf(".")>-1&&(x=a[0],t=a[1],f=a.slice(2).join(".")),i||!s||!hr(f)?i:wm(this.data?.[x]?.[t],f,d)}addResource(x,t,f,m,d={silent:!1}){const s=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let a=[x,t];f&&(a=a.concat(s?f.split(s):f)),x.indexOf(".")>-1&&(a=x.split("."),m=t,t=a[1]),this.addNamespaces(t),gp(this.data,a,m),d.silent||this.emit("added",x,t,f,m)}addResources(x,t,f,m={silent:!1}){for(const d in f)(hr(f[d])||Array.isArray(f[d]))&&this.addResource(x,t,d,f[d],{silent:!0});m.silent||this.emit("added",x,t,f)}addResourceBundle(x,t,f,m,d,s={silent:!1,skipCopy:!1}){let a=[x,t];x.indexOf(".")>-1&&(a=x.split("."),m=f,f=t,t=a[1]),this.addNamespaces(t);let i=Kc(this.data,a)||{};s.skipCopy||(f=JSON.parse(JSON.stringify(f))),m?i0(i,f,d):i={...i,...f},gp(this.data,a,i),s.silent||this.emit("added",x,t,f)}removeResourceBundle(x,t){this.hasResourceBundle(x,t)&&delete this.data[x][t],this.removeNamespaces(t),this.emit("removed",x,t)}hasResourceBundle(x,t){return this.getResource(x,t)!==void 0}getResourceBundle(x,t){return t||(t=this.options.defaultNS),this.getResource(x,t)}getDataByLanguage(x){return this.data[x]}hasLanguageSomeTranslations(x){const t=this.getDataByLanguage(x);return!!(t&&Object.keys(t)||[]).find(m=>t[m]&&Object.keys(t[m]).length>0)}toJSON(){return this.data}}var a0={processors:{},addPostProcessor(k){this.processors[k.name]=k},handle(k,x,t,f,m){return k.forEach(d=>{x=this.processors[d]?.process(x,t,f,m)??x}),x}};const o0=Symbol("i18next/PATH_KEY");function jv(){const k=[],x=Object.create(null);let t;return x.get=(f,m)=>(t?.revoke?.(),m===o0?k:(k.push(m),t=Proxy.revocable(f,x),t.proxy)),Proxy.revocable(Object.create(null),x).proxy}function km(k,x){const{[o0]:t}=k(jv());return t.join(x?.keySeparator??".")}const yp={},Vu=k=>!hr(k)&&typeof k!="boolean"&&typeof k!="number";class Wc extends id{constructor(x,t={}){super(),hv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],x,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ni.create("translator")}changeLanguage(x){x&&(this.language=x)}exists(x,t={interpolation:{}}){const f={...t};if(x==null)return!1;const m=this.resolve(x,f);if(m?.res===void 0)return!1;const d=Vu(m.res);return!(f.returnObjects===!1&&d)}extractFromKey(x,t){let f=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const m=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let d=t.ns||this.options.defaultNS||[];const s=f&&x.indexOf(f)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!kv(x,f,m);if(s&&!a){const i=x.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:x,namespaces:hr(d)?[d]:d};const r=x.split(f);(f!==m||f===m&&this.options.ns.indexOf(r[0])>-1)&&(d=r.shift()),x=r.join(m)}return{key:x,namespaces:hr(d)?[d]:d}}translate(x,t,f){let m=typeof t=="object"?{...t}:t;if(typeof m!="object"&&this.options.overloadTranslationOptionHandler&&(m=this.options.overloadTranslationOptionHandler(arguments)),typeof m=="object"&&(m={...m}),m||(m={}),x==null)return"";typeof x=="function"&&(x=km(x,{...this.options,...m})),Array.isArray(x)||(x=[String(x)]);const d=m.returnDetails!==void 0?m.returnDetails:this.options.returnDetails,s=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator,{key:a,namespaces:i}=this.extractFromKey(x[x.length-1],m),r=i[i.length-1];let n=m.nsSeparator!==void 0?m.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const l=m.lng||this.language,o=m.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l?.toLowerCase()==="cimode")return o?d?{res:`${r}${n}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:r,usedParams:this.getUsedParamsDetails(m)}:`${r}${n}${a}`:d?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:r,usedParams:this.getUsedParamsDetails(m)}:a;const c=this.resolve(x,m);let p=c?.res;const g=c?.usedKey||a,h=c?.exactUsedKey||a,y=["[object Number]","[object Function]","[object RegExp]"],b=m.joinArrays!==void 0?m.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,T=m.count!==void 0&&!hr(m.count),D=Wc.hasDefaultValue(m),F=T?this.pluralResolver.getSuffix(l,m.count,m):"",H=m.ordinal&&T?this.pluralResolver.getSuffix(l,m.count,{ordinal:!1}):"",O=T&&!m.ordinal&&m.count===0,$=O&&m[`defaultValue${this.options.pluralSeparator}zero`]||m[`defaultValue${F}`]||m[`defaultValue${H}`]||m.defaultValue;let B=p;C&&!p&&D&&(B=$);const K=Vu(B),U=Object.prototype.toString.apply(B);if(C&&B&&K&&y.indexOf(U)<0&&!(hr(b)&&Array.isArray(B))){if(!m.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,B,{...m,ns:i}):`key '${a} (${this.language})' returned an object instead of string.`;return d?(c.res=_,c.usedParams=this.getUsedParamsDetails(m),c):_}if(s){const _=Array.isArray(B),M=_?[]:{},A=_?h:g;for(const N in B)if(Object.prototype.hasOwnProperty.call(B,N)){const S=`${A}${s}${N}`;D&&!p?M[N]=this.translate(S,{...m,defaultValue:Vu($)?$[N]:void 0,joinArrays:!1,ns:i}):M[N]=this.translate(S,{...m,joinArrays:!1,ns:i}),M[N]===S&&(M[N]=B[N])}p=M}}else if(C&&hr(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,x,m,f));else{let _=!1,M=!1;!this.isValidLookup(p)&&D&&(_=!0,p=$),this.isValidLookup(p)||(M=!0,p=a);const N=(m.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:p,S=D&&$!==p&&this.options.updateMissing;if(M||_||S){if(this.logger.log(S?"updateKey":"missingKey",l,r,a,S?$:p),s){const I=this.resolve(a,{...m,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let w=[];const j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,m.lng||this.language);if(this.options.saveMissingTo==="fallback"&&j&&j[0])for(let I=0;I<j.length;I++)w.push(j[I]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(m.lng||this.language):w.push(m.lng||this.language);const E=(I,L,G)=>{const X=D&&G!==p?G:N;this.options.missingKeyHandler?this.options.missingKeyHandler(I,r,L,X,S,m):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(I,r,L,X,S,m),this.emit("missingKey",I,r,L,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?w.forEach(I=>{const L=this.pluralResolver.getSuffixes(I,m);O&&m[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(G=>{E([I],a+G,m[`defaultValue${G}`]||$)})}):E(w,a,$))}p=this.extendTranslation(p,x,m,c,f),M&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${r}${n}${a}`),(M||_)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${r}${n}${a}`:a,_?p:void 0,m))}return d?(c.res=p,c.usedParams=this.getUsedParamsDetails(m),c):p}extendTranslation(x,t,f,m,d){if(this.i18nFormat?.parse)x=this.i18nFormat.parse(x,{...this.options.interpolation.defaultVariables,...f},f.lng||this.language||m.usedLng,m.usedNS,m.usedKey,{resolved:m});else if(!f.skipInterpolation){f.interpolation&&this.interpolator.init({...f,interpolation:{...this.options.interpolation,...f.interpolation}});const i=hr(x)&&(f?.interpolation?.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let r;if(i){const l=x.match(this.interpolator.nestingRegexp);r=l&&l.length}let n=f.replace&&!hr(f.replace)?f.replace:f;if(this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),x=this.interpolator.interpolate(x,n,f.lng||this.language||m.usedLng,f),i){const l=x.match(this.interpolator.nestingRegexp),o=l&&l.length;r<o&&(f.nest=!1)}!f.lng&&m&&m.res&&(f.lng=this.language||m.usedLng),f.nest!==!1&&(x=this.interpolator.nest(x,(...l)=>d?.[0]===l[0]&&!f.context?(this.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${t[0]}`),null):this.translate(...l,t),f)),f.interpolation&&this.interpolator.reset()}const s=f.postProcess||this.options.postProcess,a=hr(s)?[s]:s;return x!=null&&a?.length&&f.applyPostProcessor!==!1&&(x=a0.handle(a,x,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...m,usedParams:this.getUsedParamsDetails(f)},...f}:f,this)),x}resolve(x,t={}){let f,m,d,s,a;return hr(x)&&(x=[x]),x.forEach(i=>{if(this.isValidLookup(f))return;const r=this.extractFromKey(i,t),n=r.key;m=n;let l=r.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const o=t.count!==void 0&&!hr(t.count),c=o&&!t.ordinal&&t.count===0,p=t.context!==void 0&&(hr(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);l.forEach(h=>{this.isValidLookup(f)||(a=h,!yp[`${g[0]}-${h}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(yp[`${g[0]}-${h}`]=!0,this.logger.warn(`key "${m}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(f))return;s=y;const b=[n];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(b,n,y,h,t);else{let T;o&&(T=this.pluralResolver.getSuffix(y,t.count,t));const D=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(o&&(t.ordinal&&T.indexOf(F)===0&&b.push(n+T.replace(F,this.options.pluralSeparator)),b.push(n+T),c&&b.push(n+D)),p){const H=`${n}${this.options.contextSeparator||"_"}${t.context}`;b.push(H),o&&(t.ordinal&&T.indexOf(F)===0&&b.push(H+T.replace(F,this.options.pluralSeparator)),b.push(H+T),c&&b.push(H+D))}}let C;for(;C=b.pop();)this.isValidLookup(f)||(d=C,f=this.getResource(y,h,C,t))}))})}),{res:f,usedKey:m,exactUsedKey:d,usedLng:s,usedNS:a}}isValidLookup(x){return x!==void 0&&!(!this.options.returnNull&&x===null)&&!(!this.options.returnEmptyString&&x==="")}getResource(x,t,f,m={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(x,t,f,m):this.resourceStore.getResource(x,t,f,m)}getUsedParamsDetails(x={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],f=x.replace&&!hr(x.replace);let m=f?x.replace:x;if(f&&typeof x.count<"u"&&(m.count=x.count),this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),!f){m={...m};for(const d of t)delete m[d]}return m}static hasDefaultValue(x){const t="defaultValue";for(const f in x)if(Object.prototype.hasOwnProperty.call(x,f)&&t===f.substring(0,t.length)&&x[f]!==void 0)return!0;return!1}}class bp{constructor(x){this.options=x,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ni.create("languageUtils")}getScriptPartFromCode(x){if(x=al(x),!x||x.indexOf("-")<0)return null;const t=x.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(x){if(x=al(x),!x||x.indexOf("-")<0)return x;const t=x.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(x){if(hr(x)&&x.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(x)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?x.toLowerCase():x)}return this.options.cleanCode||this.options.lowerCaseLng?x.toLowerCase():x}isSupportedCode(x){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(x=this.getLanguagePartFromCode(x)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(x)>-1}getBestMatchFromCodes(x){if(!x)return null;let t;return x.forEach(f=>{if(t)return;const m=this.formatLanguageCode(f);(!this.options.supportedLngs||this.isSupportedCode(m))&&(t=m)}),!t&&this.options.supportedLngs&&x.forEach(f=>{if(t)return;const m=this.getScriptPartFromCode(f);if(this.isSupportedCode(m))return t=m;const d=this.getLanguagePartFromCode(f);if(this.isSupportedCode(d))return t=d;t=this.options.supportedLngs.find(s=>{if(s===d)return s;if(!(s.indexOf("-")<0&&d.indexOf("-")<0)&&(s.indexOf("-")>0&&d.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===d||s.indexOf(d)===0&&d.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(x,t){if(!x)return[];if(typeof x=="function"&&(x=x(t)),hr(x)&&(x=[x]),Array.isArray(x))return x;if(!t)return x.default||[];let f=x[t];return f||(f=x[this.getScriptPartFromCode(t)]),f||(f=x[this.formatLanguageCode(t)]),f||(f=x[this.getLanguagePartFromCode(t)]),f||(f=x.default),f||[]}toResolveHierarchy(x,t){const f=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],x),m=[],d=s=>{s&&(this.isSupportedCode(s)?m.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return hr(x)&&(x.indexOf("-")>-1||x.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(x)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(x)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(x))):hr(x)&&d(this.formatLanguageCode(x)),f.forEach(s=>{m.indexOf(s)<0&&d(this.formatLanguageCode(s))}),m}}const vp={zero:0,one:1,two:2,few:3,many:4,other:5},wp={select:k=>k===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Sv{constructor(x,t={}){this.languageUtils=x,this.options=t,this.logger=ni.create("pluralResolver"),this.pluralRulesCache={}}addRule(x,t){this.rules[x]=t}clearCache(){this.pluralRulesCache={}}getRule(x,t={}){const f=al(x==="dev"?"en":x),m=t.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:f,type:m});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let s;try{s=new Intl.PluralRules(f,{type:m})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),wp;if(!x.match(/-|_/))return wp;const i=this.languageUtils.getLanguagePartFromCode(x);s=this.getRule(i,t)}return this.pluralRulesCache[d]=s,s}needsPlural(x,t={}){let f=this.getRule(x,t);return f||(f=this.getRule("dev",t)),f?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(x,t,f={}){return this.getSuffixes(x,f).map(m=>`${t}${m}`)}getSuffixes(x,t={}){let f=this.getRule(x,t);return f||(f=this.getRule("dev",t)),f?f.resolvedOptions().pluralCategories.sort((m,d)=>vp[m]-vp[d]).map(m=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${m}`):[]}getSuffix(x,t,f={}){const m=this.getRule(x,f);return m?`${this.options.prepend}${f.ordinal?`ordinal${this.options.prepend}`:""}${m.select(t)}`:(this.logger.warn(`no plural rule found for: ${x}`),this.getSuffix("dev",t,f))}}const kp=(k,x,t,f=".",m=!0)=>{let d=gv(k,x,t);return!d&&m&&hr(t)&&(d=wm(k,t,f),d===void 0&&(d=wm(x,t,f))),d},qu=k=>k.replace(/\$/g,"$$$$");class Cv{constructor(x={}){this.logger=ni.create("interpolator"),this.options=x,this.format=x?.interpolation?.format||(t=>t),this.init(x)}init(x={}){x.interpolation||(x.interpolation={escapeValue:!0});const{escape:t,escapeValue:f,useRawValueToEscape:m,prefix:d,prefixEscaped:s,suffix:a,suffixEscaped:i,formatSeparator:r,unescapeSuffix:n,unescapePrefix:l,nestingPrefix:o,nestingPrefixEscaped:c,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:h,maxReplaces:y,alwaysFormat:b}=x.interpolation;this.escape=t!==void 0?t:yv,this.escapeValue=f!==void 0?f:!0,this.useRawValueToEscape=m!==void 0?m:!1,this.prefix=d?ro(d):s||"{{",this.suffix=a?ro(a):i||"}}",this.formatSeparator=r||",",this.unescapePrefix=n?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":n||"",this.nestingPrefix=o?ro(o):c||ro("$t("),this.nestingSuffix=p?ro(p):g||ro(")"),this.nestingOptionsSeparator=h||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const x=(t,f)=>t?.source===f?(t.lastIndex=0,t):new RegExp(f,"g");this.regexp=x(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=x(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=x(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(x,t,f,m){let d,s,a;const i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},r=c=>{if(c.indexOf(this.formatSeparator)<0){const y=kp(t,i,c,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,f,{...m,...t,interpolationkey:c}):y}const p=c.split(this.formatSeparator),g=p.shift().trim(),h=p.join(this.formatSeparator).trim();return this.format(kp(t,i,g,this.options.keySeparator,this.options.ignoreJSONStructure),h,f,{...m,...t,interpolationkey:g})};this.resetRegExp();const n=m?.missingInterpolationHandler||this.options.missingInterpolationHandler,l=m?.interpolation?.skipOnVariables!==void 0?m.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:c=>qu(c)},{regex:this.regexp,safeValue:c=>this.escapeValue?qu(this.escape(c)):qu(c)}].forEach(c=>{for(a=0;d=c.regex.exec(x);){const p=d[1].trim();if(s=r(p),s===void 0)if(typeof n=="function"){const h=n(x,d,m);s=hr(h)?h:""}else if(m&&Object.prototype.hasOwnProperty.call(m,p))s="";else if(l){s=d[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${x}`),s="";else!hr(s)&&!this.useRawValueToEscape&&(s=hp(s));const g=c.safeValue(s);if(x=x.replace(d[0],g),l?(c.regex.lastIndex+=s.length,c.regex.lastIndex-=d[0].length):c.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),x}nest(x,t,f={}){let m,d,s;const a=(i,r)=>{const n=this.nestingOptionsSeparator;if(i.indexOf(n)<0)return i;const l=i.split(new RegExp(`${n}[ ]*{`));let o=`{${l[1]}`;i=l[0],o=this.interpolate(o,s);const c=o.match(/'/g),p=o.match(/"/g);((c?.length??0)%2===0&&!p||p.length%2!==0)&&(o=o.replace(/'/g,'"'));try{s=JSON.parse(o),r&&(s={...r,...s})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,g),`${i}${n}${o}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,i};for(;m=this.nestingRegexp.exec(x);){let i=[];s={...f},s=s.replace&&!hr(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const r=/{.*}/.test(m[1])?m[1].lastIndexOf("}")+1:m[1].indexOf(this.formatSeparator);if(r!==-1&&(i=m[1].slice(r).split(this.formatSeparator).map(n=>n.trim()).filter(Boolean),m[1]=m[1].slice(0,r)),d=t(a.call(this,m[1].trim(),s),s),d&&m[0]===x&&!hr(d))return d;hr(d)||(d=hp(d)),d||(this.logger.warn(`missed to resolve ${m[1]} for nesting ${x}`),d=""),i.length&&(d=i.reduce((n,l)=>this.format(n,l,f.lng,{...f,interpolationkey:m[1].trim()}),d.trim())),x=x.replace(m[0],d),this.regexp.lastIndex=0}return x}}const Av=k=>{let x=k.toLowerCase().trim();const t={};if(k.indexOf("(")>-1){const f=k.split("(");x=f[0].toLowerCase().trim();const m=f[1].substring(0,f[1].length-1);x==="currency"&&m.indexOf(":")<0?t.currency||(t.currency=m.trim()):x==="relativetime"&&m.indexOf(":")<0?t.range||(t.range=m.trim()):m.split(";").forEach(s=>{if(s){const[a,...i]=s.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),n=a.trim();t[n]||(t[n]=r),r==="false"&&(t[n]=!1),r==="true"&&(t[n]=!0),isNaN(r)||(t[n]=parseInt(r,10))}})}return{formatName:x,formatOptions:t}},Np=k=>{const x={};return(t,f,m)=>{let d=m;m&&m.interpolationkey&&m.formatParams&&m.formatParams[m.interpolationkey]&&m[m.interpolationkey]&&(d={...d,[m.interpolationkey]:void 0});const s=f+JSON.stringify(d);let a=x[s];return a||(a=k(al(f),m),x[s]=a),a(t)}},_v=k=>(x,t,f)=>k(al(t),f)(x);class Ev{constructor(x={}){this.logger=ni.create("formatter"),this.options=x,this.init(x)}init(x,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const f=t.cacheInBuiltFormats?Np:_v;this.formats={number:f((m,d)=>{const s=new Intl.NumberFormat(m,{...d});return a=>s.format(a)}),currency:f((m,d)=>{const s=new Intl.NumberFormat(m,{...d,style:"currency"});return a=>s.format(a)}),datetime:f((m,d)=>{const s=new Intl.DateTimeFormat(m,{...d});return a=>s.format(a)}),relativetime:f((m,d)=>{const s=new Intl.RelativeTimeFormat(m,{...d});return a=>s.format(a,d.range||"day")}),list:f((m,d)=>{const s=new Intl.ListFormat(m,{...d});return a=>s.format(a)})}}add(x,t){this.formats[x.toLowerCase().trim()]=t}addCached(x,t){this.formats[x.toLowerCase().trim()]=Np(t)}format(x,t,f,m={}){const d=t.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(a=>a.indexOf(")")>-1)){const a=d.findIndex(i=>i.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,a)].join(this.formatSeparator)}return d.reduce((a,i)=>{const{formatName:r,formatOptions:n}=Av(i);if(this.formats[r]){let l=a;try{const o=m?.formatParams?.[m.interpolationkey]||{},c=o.locale||o.lng||m.locale||m.lng||f;l=this.formats[r](a,c,{...n,...m,...o})}catch(o){this.logger.warn(o)}return l}else this.logger.warn(`there was no format function for ${r}`);return a},x)}}const Tv=(k,x)=>{k.pending[x]!==void 0&&(delete k.pending[x],k.pendingCount--)};class Pv extends id{constructor(x,t,f,m={}){super(),this.backend=x,this.store=t,this.services=f,this.languageUtils=f.languageUtils,this.options=m,this.logger=ni.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=m.maxParallelReads||10,this.readingCalls=0,this.maxRetries=m.maxRetries>=0?m.maxRetries:5,this.retryTimeout=m.retryTimeout>=1?m.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(f,m.backend,m)}queueLoad(x,t,f,m){const d={},s={},a={},i={};return x.forEach(r=>{let n=!0;t.forEach(l=>{const o=`${r}|${l}`;!f.reload&&this.store.hasResourceBundle(r,l)?this.state[o]=2:this.state[o]<0||(this.state[o]===1?s[o]===void 0&&(s[o]=!0):(this.state[o]=1,n=!1,s[o]===void 0&&(s[o]=!0),d[o]===void 0&&(d[o]=!0),i[l]===void 0&&(i[l]=!0)))}),n||(a[r]=!0)}),(Object.keys(d).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:m}),{toLoad:Object.keys(d),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(i)}}loaded(x,t,f){const m=x.split("|"),d=m[0],s=m[1];t&&this.emit("failedLoading",d,s,t),!t&&f&&this.store.addResourceBundle(d,s,f,void 0,void 0,{skipCopy:!0}),this.state[x]=t?-1:2,t&&f&&(this.state[x]=0);const a={};this.queue.forEach(i=>{pv(i.loaded,[d],s),Tv(i,x),t&&i.errors.push(t),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(r=>{a[r]||(a[r]={});const n=i.loaded[r];n.length&&n.forEach(l=>{a[r][l]===void 0&&(a[r][l]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(i=>!i.done)}read(x,t,f,m=0,d=this.retryTimeout,s){if(!x.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:x,ns:t,fcName:f,tried:m,wait:d,callback:s});return}this.readingCalls++;const a=(r,n)=>{if(this.readingCalls--,this.waitingReads.length>0){const l=this.waitingReads.shift();this.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}if(r&&n&&m<this.maxRetries){setTimeout(()=>{this.read.call(this,x,t,f,m+1,d*2,s)},d);return}s(r,n)},i=this.backend[f].bind(this.backend);if(i.length===2){try{const r=i(x,t);r&&typeof r.then=="function"?r.then(n=>a(null,n)).catch(a):a(null,r)}catch(r){a(r)}return}return i(x,t,a)}prepareLoading(x,t,f={},m){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),m&&m();hr(x)&&(x=this.languageUtils.toResolveHierarchy(x)),hr(t)&&(t=[t]);const d=this.queueLoad(x,t,f,m);if(!d.toLoad.length)return d.pending.length||m(),null;d.toLoad.forEach(s=>{this.loadOne(s)})}load(x,t,f){this.prepareLoading(x,t,{},f)}reload(x,t,f){this.prepareLoading(x,t,{reload:!0},f)}loadOne(x,t=""){const f=x.split("|"),m=f[0],d=f[1];this.read(m,d,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${d} for language ${m} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${d} for language ${m}`,a),this.loaded(x,s,a)})}saveMissing(x,t,f,m,d,s={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${f}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(f==null||f==="")){if(this.backend?.create){const i={...s,isUpdate:d},r=this.backend.create.bind(this.backend);if(r.length<6)try{let n;r.length===5?n=r(x,t,f,m,i):n=r(x,t,f,m),n&&typeof n.then=="function"?n.then(l=>a(null,l)).catch(a):a(null,n)}catch(n){a(n)}else r(x,t,f,m,a,i)}!x||!x[0]||this.store.addResource(x[0],t,f,m)}}}const jp=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:k=>{let x={};if(typeof k[1]=="object"&&(x=k[1]),hr(k[1])&&(x.defaultValue=k[1]),hr(k[2])&&(x.tDescription=k[2]),typeof k[2]=="object"||typeof k[3]=="object"){const t=k[3]||k[2];Object.keys(t).forEach(f=>{x[f]=t[f]})}return x},interpolation:{escapeValue:!0,format:k=>k,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Sp=k=>(hr(k.ns)&&(k.ns=[k.ns]),hr(k.fallbackLng)&&(k.fallbackLng=[k.fallbackLng]),hr(k.fallbackNS)&&(k.fallbackNS=[k.fallbackNS]),k.supportedLngs?.indexOf?.("cimode")<0&&(k.supportedLngs=k.supportedLngs.concat(["cimode"])),typeof k.initImmediate=="boolean"&&(k.initAsync=k.initImmediate),k),kc=()=>{},Dv=k=>{Object.getOwnPropertyNames(Object.getPrototypeOf(k)).forEach(t=>{typeof k[t]=="function"&&(k[t]=k[t].bind(k))})};class ol extends id{constructor(x={},t){if(super(),this.options=Sp(x),this.services={},this.logger=ni,this.modules={external:[]},Dv(this),t&&!this.isInitialized&&!x.isClone){if(!this.options.initAsync)return this.init(x,t),this;setTimeout(()=>{this.init(x,t)},0)}}init(x={},t){this.isInitializing=!0,typeof x=="function"&&(t=x,x={}),x.defaultNS==null&&x.ns&&(hr(x.ns)?x.defaultNS=x.ns:x.ns.indexOf("translation")<0&&(x.defaultNS=x.ns[0]));const f=jp();this.options={...f,...this.options,...Sp(x)},this.options.interpolation={...f.interpolation,...this.options.interpolation},x.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=x.keySeparator),x.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=x.nsSeparator);const m=r=>r?typeof r=="function"?new r:r:null;if(!this.options.isClone){this.modules.logger?ni.init(m(this.modules.logger),this.options):ni.init(null,this.options);let r;this.modules.formatter?r=this.modules.formatter:r=Ev;const n=new bp(this.options);this.store=new xp(this.options.resources,this.options);const l=this.services;l.logger=ni,l.resourceStore=this.store,l.languageUtils=n,l.pluralResolver=new Sv(n,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==f.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),r&&(!this.options.interpolation.format||this.options.interpolation.format===f.interpolation.format)&&(l.formatter=m(r),l.formatter.init&&l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Cv(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Pv(m(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(c,...p)=>{this.emit(c,...p)}),this.modules.languageDetector&&(l.languageDetector=m(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=m(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new Wc(this.services,this.options),this.translator.on("*",(c,...p)=>{this.emit(c,...p)}),this.modules.external.forEach(c=>{c.init&&c.init(this)})}if(this.format=this.options.interpolation.format,t||(t=kc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.length>0&&r[0]!=="dev"&&(this.options.lng=r[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(r=>{this[r]=(...n)=>this.store[r](...n)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(r=>{this[r]=(...n)=>(this.store[r](...n),this)});const a=Wo(),i=()=>{const r=(n,l)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(l),t(n,l)};if(this.languages&&!this.isInitialized)return r(null,this.t.bind(this));this.changeLanguage(this.options.lng,r)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),a}loadResources(x,t=kc){let f=t;const m=hr(x)?x:this.language;if(typeof x=="function"&&(f=x),!this.options.resources||this.options.partialBundledLanguages){if(m?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return f();const d=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(r=>{r!=="cimode"&&d.indexOf(r)<0&&d.push(r)})};m?s(m):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>s(i)),this.options.preload?.forEach?.(a=>s(a)),this.services.backendConnector.load(d,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),f(a)})}else f(null)}reloadResources(x,t,f){const m=Wo();return typeof x=="function"&&(f=x,x=void 0),typeof t=="function"&&(f=t,t=void 0),x||(x=this.languages),t||(t=this.options.ns),f||(f=kc),this.services.backendConnector.reload(x,t,d=>{m.resolve(),f(d)}),m}use(x){if(!x)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!x.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return x.type==="backend"&&(this.modules.backend=x),(x.type==="logger"||x.log&&x.warn&&x.error)&&(this.modules.logger=x),x.type==="languageDetector"&&(this.modules.languageDetector=x),x.type==="i18nFormat"&&(this.modules.i18nFormat=x),x.type==="postProcessor"&&a0.addPostProcessor(x),x.type==="formatter"&&(this.modules.formatter=x),x.type==="3rdParty"&&this.modules.external.push(x),this}setResolvedLanguage(x){if(!(!x||!this.languages)&&!(["cimode","dev"].indexOf(x)>-1)){for(let t=0;t<this.languages.length;t++){const f=this.languages[t];if(!(["cimode","dev"].indexOf(f)>-1)&&this.store.hasLanguageSomeTranslations(f)){this.resolvedLanguage=f;break}}!this.resolvedLanguage&&this.languages.indexOf(x)<0&&this.store.hasLanguageSomeTranslations(x)&&(this.resolvedLanguage=x,this.languages.unshift(x))}}changeLanguage(x,t){this.isLanguageChangingTo=x;const f=Wo();this.emit("languageChanging",x);const m=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},d=(a,i)=>{i?this.isLanguageChangingTo===x&&(m(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,f.resolve((...r)=>this.t(...r)),t&&t(a,(...r)=>this.t(...r))},s=a=>{!x&&!a&&this.services.languageDetector&&(a=[]);const i=hr(a)?a:a&&a[0],r=this.store.hasLanguageSomeTranslations(i)?i:this.services.languageUtils.getBestMatchFromCodes(hr(a)?[a]:a);r&&(this.language||m(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,n=>{d(n,r)})};return!x&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!x&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(x),f}getFixedT(x,t,f){const m=(d,s,...a)=>{let i;typeof s!="object"?i=this.options.overloadTranslationOptionHandler([d,s].concat(a)):i={...s},i.lng=i.lng||m.lng,i.lngs=i.lngs||m.lngs,i.ns=i.ns||m.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||f||m.keyPrefix);const r=this.options.keySeparator||".";let n;return i.keyPrefix&&Array.isArray(d)?n=d.map(l=>(typeof l=="function"&&(l=km(l,{...this.options,...s})),`${i.keyPrefix}${r}${l}`)):(typeof d=="function"&&(d=km(d,{...this.options,...s})),n=i.keyPrefix?`${i.keyPrefix}${r}${d}`:d),this.t(n,i)};return hr(x)?m.lng=x:m.lngs=x,m.ns=t,m.keyPrefix=f,m}t(...x){return this.translator?.translate(...x)}exists(...x){return this.translator?.exists(...x)}setDefaultNamespace(x){this.options.defaultNS=x}hasLoadedNamespace(x,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const f=t.lng||this.resolvedLanguage||this.languages[0],m=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(f.toLowerCase()==="cimode")return!0;const s=(a,i)=>{const r=this.services.backendConnector.state[`${a}|${i}`];return r===-1||r===0||r===2};if(t.precheck){const a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(f,x)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(f,x)&&(!m||s(d,x)))}loadNamespaces(x,t){const f=Wo();return this.options.ns?(hr(x)&&(x=[x]),x.forEach(m=>{this.options.ns.indexOf(m)<0&&this.options.ns.push(m)}),this.loadResources(m=>{f.resolve(),t&&t(m)}),f):(t&&t(),Promise.resolve())}loadLanguages(x,t){const f=Wo();hr(x)&&(x=[x]);const m=this.options.preload||[],d=x.filter(s=>m.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return d.length?(this.options.preload=m.concat(d),this.loadResources(s=>{f.resolve(),t&&t(s)}),f):(t&&t(),Promise.resolve())}dir(x){if(x||(x=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!x)return"rtl";try{const m=new Intl.Locale(x);if(m&&m.getTextInfo){const d=m.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],f=this.services?.languageUtils||new bp(jp());return x.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(f.getLanguagePartFromCode(x))>-1||x.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(x={},t){return new ol(x,t)}cloneInstance(x={},t=kc){const f=x.forkResourceStore;f&&delete x.forkResourceStore;const m={...this.options,...x,isClone:!0},d=new ol(m);if((x.debug!==void 0||x.prefix!==void 0)&&(d.logger=d.logger.clone(x)),["store","services","language"].forEach(a=>{d[a]=this[a]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},f){const a=Object.keys(this.store.data).reduce((i,r)=>(i[r]={...this.store.data[r]},i[r]=Object.keys(i[r]).reduce((n,l)=>(n[l]={...i[r][l]},n),i[r]),i),{});d.store=new xp(a,m),d.services.resourceStore=d.store}return d.translator=new Wc(d.services,m),d.translator.on("*",(a,...i)=>{d.emit(a,...i)}),d.init(m,t),d.translator.options=m,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jr=ol.createInstance();Jr.createInstance=ol.createInstance;Jr.createInstance;Jr.dir;Jr.init;Jr.loadResources;Jr.reloadResources;Jr.use;Jr.changeLanguage;Jr.getFixedT;Jr.t;Jr.exists;Jr.setDefaultNamespace;Jr.hasLoadedNamespace;Jr.loadNamespaces;Jr.loadLanguages;const Iv=(k,x,t,f)=>{const m=[t,{code:x,...f||{}}];if(k?.services?.logger?.forward)return k.services.logger.forward(m,"warn","react-i18next::",!0);ja(m[0])&&(m[0]=`react-i18next:: ${m[0]}`),k?.services?.logger?.warn?k.services.logger.warn(...m):console?.warn&&console.warn(...m)},Cp={},l0=(k,x,t,f)=>{ja(t)&&Cp[t]||(ja(t)&&(Cp[t]=new Date),Iv(k,x,t,f))},c0=(k,x)=>()=>{if(k.isInitialized)x();else{const t=()=>{setTimeout(()=>{k.off("initialized",t)},0),x()};k.on("initialized",t)}},Nm=(k,x,t)=>{k.loadNamespaces(x,c0(k,t))},Ap=(k,x,t,f)=>{if(ja(t)&&(t=[t]),k.options.preload&&k.options.preload.indexOf(x)>-1)return Nm(k,t,f);t.forEach(m=>{k.options.ns.indexOf(m)<0&&k.options.ns.push(m)}),k.loadLanguages(x,c0(k,f))},Mv=(k,x,t={})=>!x.languages||!x.languages.length?(l0(x,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:x.languages}),!0):x.hasLoadedNamespace(k,{lng:t.lng,precheck:(f,m)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!m(f.isLanguageChangingTo,k))return!1}}),ja=k=>typeof k=="string",Rv=k=>typeof k=="object"&&k!==null,zv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ov={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Lv=k=>Ov[k],Fv=k=>k.replace(zv,Lv);let jm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Fv};const Bv=(k={})=>{jm={...jm,...k}},Uv=()=>jm;let d0;const $v=k=>{d0=k},Vv=()=>d0,qv={type:"3rdParty",init(k){Bv(k.options.react),$v(k)}},Hv=Z.createContext();class Kv{constructor(){this.usedNamespaces={}}addUsedNamespaces(x){x.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Hu={exports:{}},Ku={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Gv(){if(_p)return Ku;_p=1;var k=Qc();function x(l,o){return l===o&&(l!==0||1/l===1/o)||l!==l&&o!==o}var t=typeof Object.is=="function"?Object.is:x,f=k.useState,m=k.useEffect,d=k.useLayoutEffect,s=k.useDebugValue;function a(l,o){var c=o(),p=f({inst:{value:c,getSnapshot:o}}),g=p[0].inst,h=p[1];return d(function(){g.value=c,g.getSnapshot=o,i(g)&&h({inst:g})},[l,c,o]),m(function(){return i(g)&&h({inst:g}),l(function(){i(g)&&h({inst:g})})},[l]),s(c),c}function i(l){var o=l.getSnapshot;l=l.value;try{var c=o();return!t(l,c)}catch{return!0}}function r(l,o){return o()}var n=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:a;return Ku.useSyncExternalStore=k.useSyncExternalStore!==void 0?k.useSyncExternalStore:n,Ku}var Ep;function Wv(){return Ep||(Ep=1,Hu.exports=Gv()),Hu.exports}var Yv=Wv();const Xv=(k,x)=>ja(x)?x:Rv(x)&&ja(x.defaultValue)?x.defaultValue:Array.isArray(k)?k[k.length-1]:k,Qv={t:Xv,ready:!1},Zv=()=>()=>{},Vt=(k,x={})=>{const{i18n:t}=x,{i18n:f,defaultNS:m}=Z.useContext(Hv)||{},d=t||f||Vv();d&&!d.reportNamespaces&&(d.reportNamespaces=new Kv),d||l0(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=Z.useMemo(()=>({...Uv(),...d?.options?.react,...x}),[d,x]),{useSuspense:a,keyPrefix:i}=s,r=Z.useMemo(()=>{const T=k||m||d?.options?.defaultNS;return ja(T)?[T]:T||["translation"]},[k,m,d]);d?.reportNamespaces?.addUsedNamespaces?.(r);const n=Z.useRef(0),l=Z.useCallback(T=>{if(!d)return Zv;const{bindI18n:D,bindI18nStore:F}=s,H=()=>{n.current+=1,T()};return D&&d.on(D,H),F&&d.store.on(F,H),()=>{D&&D.split(" ").forEach(O=>d.off(O,H)),F&&F.split(" ").forEach(O=>d.store.off(O,H))}},[d,s]),o=Z.useRef(),c=Z.useCallback(()=>{if(!d)return Qv;const T=!!(d.isInitialized||d.initializedStoreOnce)&&r.every(B=>Mv(B,d,s)),D=x.lng||d.language,F=n.current,H=o.current;if(H&&H.ready===T&&H.lng===D&&H.keyPrefix===i&&H.revision===F)return H;const $={t:d.getFixedT(D,s.nsMode==="fallback"?r:r[0],i),ready:T,lng:D,keyPrefix:i,revision:F};return o.current=$,$},[d,r,i,s,x.lng]),[p,g]=Z.useState(0),{t:h,ready:y}=Yv.useSyncExternalStore(l,c,c);Z.useEffect(()=>{if(d&&!y&&!a){const T=()=>g(D=>D+1);x.lng?Ap(d,x.lng,r,T):Nm(d,r,T)}},[d,x.lng,r,y,a,p]);const b=d||{},C=Z.useMemo(()=>{const T=[h,b,y];return T.t=h,T.i18n=b,T.ready=y,T},[h,b,y]);if(d&&a&&!y)throw new Promise(T=>{const D=()=>T();x.lng?Ap(d,x.lng,r,D):Nm(d,r,D)});return C},u0=Z.createContext(void 0);function Jv({children:k}){const{i18n:x}=Vt(),[t,f]=Z.useState(()=>localStorage.getItem("i18nextLng")||"tr"),m=[{code:"tr",name:"Trke",flag:""},{code:"en",name:"English",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"fr",name:"Franais",flag:""}],d=s=>{x.changeLanguage(s),f(s),localStorage.setItem("i18nextLng",s)};return Z.useEffect(()=>{x.changeLanguage(t)},[t,x]),e.jsx(u0.Provider,{value:{currentLanguage:t,changeLanguage:d,languages:m},children:k})}function Ca(){const k=Z.useContext(u0);if(k===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return k}class uo{static instance;consent=null;config={};constructor(){}static getInstance(){return uo.instance||(uo.instance=new uo),uo.instance}setConfig(x){this.config=x}updateConsent(x){const t=this.consent;this.consent=x,(!t||t.analytics!==x.analytics)&&(x.analytics?this.enableAnalytics():this.disableAnalytics()),(!t||t.marketing!==x.marketing)&&(x.marketing?this.enableMarketingTracking():this.disableMarketingTracking())}enableAnalytics(){this.config.googleAnalytics?.enabled&&this.config.googleAnalytics.measurementId&&this.loadGoogleAnalytics(this.config.googleAnalytics.measurementId),this.config.matomo?.enabled&&this.config.matomo.siteId&&this.config.matomo.url&&this.loadMatomo(this.config.matomo.siteId,this.config.matomo.url)}disableAnalytics(){this.disableGoogleAnalytics(),this.disableMatomo(),wr.warn(" Analytics disabled")}enableMarketingTracking(){this.config.hotjar?.enabled&&this.config.hotjar.hjid&&this.config.hotjar.hjsv&&this.loadHotjar(this.config.hotjar.hjid,this.config.hotjar.hjsv)}disableMarketingTracking(){this.disableHotjar(),wr.warn(" Marketing tracking disabled")}loadGoogleAnalytics(x){if(document.querySelector(`script[src*="googletagmanager.com/gtag/js?id=${x}"]`))return;const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${x}`,document.head.appendChild(t),t.onload=()=>{const f=window;f.dataLayer=f.dataLayer||[];function m(...d){f.dataLayer.push(d)}m("js",new Date),m("config",x,{anonymize_ip:!0,cookie_expires:63072e3}),window.gtag=m}}disableGoogleAnalytics(){const x=this.config.googleAnalytics?.measurementId;x&&(window[`ga-disable-${x}`]=!0),this.clearCookies(["_ga","_ga_*","_gid","_gat_gtag_*"])}loadMatomo(x,t){if(window._paq)return;const f=window;f._paq=f._paq||{push:()=>{}},f._paq?.push(["trackPageView"]),f._paq?.push(["enableLinkTracking"]);const m=document.createElement("script");m.async=!0,m.src=`${t}/matomo.js`,document.head.appendChild(m),m.onload=()=>{const d=window;d._paq?.push(["setTrackerUrl",`${t}/matomo.php`]),d._paq?.push(["setSiteId",x])}}disableMatomo(){window._paq&&window._paq?.push(["optUserOut"]),this.clearCookies(["_pk_id*","_pk_ses*"])}loadHotjar(x,t){if(window.hj)return;const f=window;f.hj=f.hj||(function(...d){const s=f.hj;(s.q=s.q||[]).push(d)}),f._hjSettings={hjid:x,hjsv:t};const m=document.createElement("script");m.async=!0,m.src=`https://static.hotjar.com/c/hotjar-${x}.js?sv=${t}`,document.head.appendChild(m)}disableHotjar(){window.hj&&window.hj?.("stateChange","/cookie-opt-out"),this.clearCookies(["_hjid","_hjFirstSeen","_hjIncludedInSessionSample_*","_hjSession_*","_hjSessionUser_*"])}clearCookies(x){x.forEach(t=>{if(t.includes("*")){const f=t.replace("*","");document.cookie.split(";").forEach(m=>{const d=m.split("=")[0].trim();d.startsWith(f)&&this.deleteCookie(d)})}else this.deleteCookie(t)})}deleteCookie(x){document.cookie=`${x}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;const t=window.location.hostname;document.cookie=`${x}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${t};`,document.cookie=`${x}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${t};`}trackEvent(x,t,f,m){if(!this.consent?.analytics){console.warn(" Analytics tracking blocked - no consent");return}window.gtag&&window.gtag?.("event",x,{event_category:t,event_label:f,value:m}),window._paq&&window._paq?.push(["trackEvent",t,x,f,m])}trackPageView(x){if(!this.consent?.analytics){console.warn(" Page view tracking blocked - no consent");return}window.gtag&&window.gtag?.("config",this.config.googleAnalytics?.measurementId,{page_path:x||window.location.pathname}),window._paq&&(x&&window._paq?.push(["setCustomUrl",x]),window._paq?.push(["trackPageView"]))}hasAnalyticsConsent(){return this.consent?.analytics??!1}hasMarketingConsent(){return this.consent?.marketing??!1}}const Sm=uo.getInstance(),m0=Z.createContext(void 0),Yc=1,Gu=`cookie_consent_v${Yc}`,Wu={necessary:!0,analytics:!1,marketing:!1,version:Yc},e1=({children:k})=>{const[x,t]=Z.useState(null),[f,m]=Z.useState(!1),[d,s]=Z.useState(!1),[a,i]=Z.useState(!1);Z.useEffect(()=>{try{window.location.hash==="#cookie-preferences"&&i(!0)}catch{}const b=()=>{try{const F=window.location.hash;console.debug("[cookie] hashchange ->",F),F==="#cookie-preferences"?(console.debug("[cookie] setting showModal true via hash"),i(!0)):F!=="#cookie-preferences"&&(console.debug("[cookie] non-preferences hash, ensure modal closed"),i(!1))}catch(F){console.warn("[cookie] hash listener error",F)}};window.addEventListener("hashchange",b);const C=()=>{console.debug("[cookie] open-cookie-preferences event"),i(!0)},T=()=>{console.debug("[cookie] close-cookie-preferences event"),i(!1)};window.addEventListener("open-cookie-preferences",C),window.addEventListener("close-cookie-preferences",T);const D=localStorage.getItem(Gu);if(D)try{const F=JSON.parse(D);F.version===Yc?(t(F),m(!0),s(!1),Sm.updateConsent(F),wr.info(" Cookie consent loaded from storage:",F)):(wr.warn(" Cookie consent version mismatch, showing banner"),s(!0))}catch(F){console.error("Error parsing cookie consent:",F),s(!0)}else s(!0);return()=>{window.removeEventListener("hashchange",b),window.removeEventListener("open-cookie-preferences",C),window.removeEventListener("close-cookie-preferences",T)}},[]);const r=b=>{const C={...b,timestamp:Date.now(),version:Yc};localStorage.setItem(Gu,JSON.stringify(C)),t(C),m(!0),s(!1),i(!1);try{if(typeof window<"u"&&window.location.hash==="#cookie-preferences"){const T=window.location.pathname+window.location.search;window.history.replaceState(null,"",T),console.debug("[cookie] cleared hash after save")}}catch{}Sm.updateConsent(C),C.analytics&&x?.analytics,C.marketing&&x?.marketing},y={consent:x,hasConsent:f,showBanner:d,showModal:a,updateConsent:b=>{const C={...Wu,...x,...b,necessary:!0,timestamp:Date.now()};r(C)},acceptAll:()=>{const b={...Wu,analytics:!0,marketing:!0,timestamp:Date.now()};r(b)},rejectAll:()=>{const b={...Wu,analytics:!1,marketing:!1,timestamp:Date.now()};r(b)},openModal:()=>{try{console.debug("[cookie] openModal called")}catch{}i(!0)},closeModal:()=>{try{console.debug("[cookie] closeModal called")}catch{}i(!1);try{if(typeof window<"u"&&window.location.hash==="#cookie-preferences"){const b=window.location.pathname+window.location.search;window.history.replaceState(null,"",b),console.debug("[cookie] cleared hash on close")}}catch{}try{window.dispatchEvent(new Event("close-cookie-preferences"))}catch{}},closeBanner:()=>{s(!1)},resetConsent:()=>{localStorage.removeItem(Gu),t(null),m(!1),s(!0),i(!1),wr.warn(" Cookie consent reset")}};return e.jsx(m0.Provider,{value:y,children:k})},Lm=()=>{const k=Z.useContext(m0);if(!k)throw new Error("useCookieConsent must be used within a CookieConsentProvider");return k},va={getProfile:async()=>(await it.get("/users/me")).data,updateProfile:async k=>(await it.put("/users/me",k)).data,getNotificationPreferences:async()=>(await it.get("/users/me/notification-preferences")).data||{},updateNotificationPreferences:async k=>(await it.put("/users/me/notification-preferences",k)).data,changePassword:async(k,x)=>(await it.put("/users/me/password",{currentPassword:k,newPassword:x})).data},h0=Z.createContext(void 0),Yu="notif_prefs_cache_last",Nc={invoiceReminders:!0,expenseAlerts:!0,salesNotifications:!0,lowStockAlerts:!0,quoteReminders:!0},t1=({children:k})=>{const[x,t]=Z.useState(Nc),[f,m]=Z.useState(!0),[d]=Z.useState(300*1e3),{isAuthenticated:s}=wn(),a=()=>{try{const l=localStorage.getItem(Yu);if(!l)return null;const o=JSON.parse(l);if(o&&typeof o=="object")return{...Nc,...o}}catch{}return null},i=l=>{try{localStorage.setItem(Yu,JSON.stringify(l))}catch{}},r=Z.useCallback(async()=>{if(!s){const l=a();l&&t(l),m(!1);return}m(!0);try{const l=await va.getNotificationPreferences(),o=()=>{try{const h=localStorage.getItem("tenantId")||"default";let y="anon";try{const C=localStorage.getItem("user");if(C){const T=JSON.parse(C);y=T?.id||T?._id||y}}catch{}const b=[`notif_prefs:${h}:${y}`,`notif_prefs:default:${y}`];for(const C of b){const T=localStorage.getItem(C);if(T)try{const D=JSON.parse(T);if(D&&typeof D=="object")return D}catch{}}}catch{}return null};let c={...Nc,...l};const p=o();if(!Object.values(l||{}).some(h=>typeof h=="boolean")&&p)try{const h={...Nc,...p};await va.updateNotificationPreferences(h),c=h}catch{}t(c),i(c)}catch{const l=a();l&&t(l)}finally{m(!1)}},[s]);Z.useEffect(()=>{r()},[r,s]),Z.useEffect(()=>{const l=s?setInterval(()=>{r()},d):null,o=c=>{if(c.key===Yu)try{const p=JSON.parse(c.newValue||"{}");p&&typeof p=="object"&&t(g=>({...g,...p}))}catch{}};return window.addEventListener("storage",o),()=>{l&&clearInterval(l),window.removeEventListener("storage",o)}},[d,r,s]);const n=Z.useCallback(async(l,o)=>{t(c=>{const p={...c,[l]:o};return i(p),p});try{const c={...x,[l]:o};await va.updateNotificationPreferences(c)}catch{t(p=>({...p,[l]:!o}))}},[x]);return e.jsx(h0.Provider,{value:{prefs:x,loading:f,refresh:r,updatePref:n},children:k})},f0=()=>{const k=Z.useContext(h0);if(!k)throw new Error("useNotificationPreferences must be used within NotificationPreferencesProvider");return k},r1=async(k,x)=>{if(!k)return"";try{const t=new TextEncoder,f=t.encode(k),m=crypto.getRandomValues(new Uint8Array(16)),d=await crypto.subtle.importKey("raw",t.encode(x),"PBKDF2",!1,["deriveKey"]),s=await crypto.subtle.deriveKey({name:"PBKDF2",salt:m,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!1,["encrypt"]),a=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},s,f),r=new Uint8Array(m.length+a.length+i.byteLength);r.set(m),r.set(a,m.length),r.set(new Uint8Array(i),m.length+a.length);let n="";const l=32768;for(let o=0;o<r.length;o+=l){const c=r.subarray(o,o+l);n+=String.fromCharCode(...c)}return btoa(n)}catch(t){return console.error("Encryption failed:",t),""}},p0=k=>!k||k.trim().startsWith("{")||k.trim().startsWith("[")||k.includes(':"')||!/^[A-Za-z0-9+/=\s]+$/.test(k)?!1:k.replace(/\s+/g,"").length%4===0,s1=async(k,x)=>{if(!k)return"";try{if(!p0(k))return"";const t=new TextEncoder,f=new TextDecoder,m=new Uint8Array(atob(k).split("").map(l=>l.charCodeAt(0))),d=m.slice(0,16),s=m.slice(16,28),a=m.slice(28),i=await crypto.subtle.importKey("raw",t.encode(x),"PBKDF2",!1,["deriveKey"]),r=await crypto.subtle.deriveKey({name:"PBKDF2",salt:d,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["decrypt"]),n=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},r,a);return f.decode(n)}catch{return""}},n1=(k,x)=>{if(!k)return"";let t="";for(let f=0;f<k.length;f++)t+=String.fromCharCode(k.charCodeAt(f)^x.charCodeAt(f%x.length));return btoa(t)},Tp=(k,x)=>{if(!k)return"";try{const t=atob(k);let f="";for(let m=0;m<t.length;m++)f+=String.fromCharCode(t.charCodeAt(m)^x.charCodeAt(m%x.length));return f}catch{return""}},Yo="development_encryption_key_32_chars_long_change_in_production_env",Pp=!0,Dp=!0,Qi={setItem:async(k,x)=>{try{let t;Dp&&window.crypto&&window.crypto.subtle?t=await r1(x,Yo):t=n1(x,Yo),localStorage.setItem(k,t)}catch(t){console.error("Storage setItem failed:",t)}},getItem:async k=>{try{const x=localStorage.getItem(k);return x?p0(x)?Dp&&window.crypto&&window.crypto.subtle&&await s1(x,Yo)||Tp(x,Yo):x:null}catch(x){return console.error("Storage getItem failed:",x),null}},removeItem:k=>{try{localStorage.removeItem(k)}catch(x){console.error("Storage removeItem failed:",x)}},setJSON:async(k,x)=>{try{const t=JSON.stringify(x);await Qi.setItem(k,t)}catch(t){console.error("Storage setJSON failed:",t)}},getJSON:async k=>{try{const x=await Qi.getItem(k);return x?JSON.parse(x):null}catch(x){return console.error("Storage getJSON failed:",x),null}}},{slice:i1,forEach:a1}=[];function o1(k){return a1.call(i1.call(arguments,1),x=>{if(x)for(const t in x)k[t]===void 0&&(k[t]=x[t])}),k}function l1(k){return typeof k!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(k))}const Ip=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c1=function(k,x){const f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},m=encodeURIComponent(x);let d=`${k}=${m}`;if(f.maxAge>0){const s=f.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(s)}`}if(f.domain){if(!Ip.test(f.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${f.domain}`}if(f.path){if(!Ip.test(f.path))throw new TypeError("option path is invalid");d+=`; Path=${f.path}`}if(f.expires){if(typeof f.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${f.expires.toUTCString()}`}if(f.httpOnly&&(d+="; HttpOnly"),f.secure&&(d+="; Secure"),f.sameSite)switch(typeof f.sameSite=="string"?f.sameSite.toLowerCase():f.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return f.partitioned&&(d+="; Partitioned"),d},Mp={create(k,x,t,f){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(m.expires=new Date,m.expires.setTime(m.expires.getTime()+t*60*1e3)),f&&(m.domain=f),document.cookie=c1(k,x,m)},read(k){const x=`${k}=`,t=document.cookie.split(";");for(let f=0;f<t.length;f++){let m=t[f];for(;m.charAt(0)===" ";)m=m.substring(1,m.length);if(m.indexOf(x)===0)return m.substring(x.length,m.length)}return null},remove(k,x){this.create(k,"",-1,x)}};var d1={name:"cookie",lookup(k){let{lookupCookie:x}=k;if(x&&typeof document<"u")return Mp.read(x)||void 0},cacheUserLanguage(k,x){let{lookupCookie:t,cookieMinutes:f,cookieDomain:m,cookieOptions:d}=x;t&&typeof document<"u"&&Mp.create(t,k,f,m,d)}},u1={name:"querystring",lookup(k){let{lookupQuerystring:x}=k,t;if(typeof window<"u"){let{search:f}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(f=window.location.hash.substring(window.location.hash.indexOf("?")));const d=f.substring(1).split("&");for(let s=0;s<d.length;s++){const a=d[s].indexOf("=");a>0&&d[s].substring(0,a)===x&&(t=d[s].substring(a+1))}}return t}},m1={name:"hash",lookup(k){let{lookupHash:x,lookupFromHashIndex:t}=k,f;if(typeof window<"u"){const{hash:m}=window.location;if(m&&m.length>2){const d=m.substring(1);if(x){const s=d.split("&");for(let a=0;a<s.length;a++){const i=s[a].indexOf("=");i>0&&s[a].substring(0,i)===x&&(f=s[a].substring(i+1))}}if(f)return f;if(!f&&t>-1){const s=m.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return f}};let so=null;const Rp=()=>{if(so!==null)return so;try{if(so=typeof window<"u"&&window.localStorage!==null,!so)return!1;const k="i18next.translate.boo";window.localStorage.setItem(k,"foo"),window.localStorage.removeItem(k)}catch{so=!1}return so};var h1={name:"localStorage",lookup(k){let{lookupLocalStorage:x}=k;if(x&&Rp())return window.localStorage.getItem(x)||void 0},cacheUserLanguage(k,x){let{lookupLocalStorage:t}=x;t&&Rp()&&window.localStorage.setItem(t,k)}};let no=null;const zp=()=>{if(no!==null)return no;try{if(no=typeof window<"u"&&window.sessionStorage!==null,!no)return!1;const k="i18next.translate.boo";window.sessionStorage.setItem(k,"foo"),window.sessionStorage.removeItem(k)}catch{no=!1}return no};var f1={name:"sessionStorage",lookup(k){let{lookupSessionStorage:x}=k;if(x&&zp())return window.sessionStorage.getItem(x)||void 0},cacheUserLanguage(k,x){let{lookupSessionStorage:t}=x;t&&zp()&&window.sessionStorage.setItem(t,k)}},p1={name:"navigator",lookup(k){const x=[];if(typeof navigator<"u"){const{languages:t,userLanguage:f,language:m}=navigator;if(t)for(let d=0;d<t.length;d++)x.push(t[d]);f&&x.push(f),m&&x.push(m)}return x.length>0?x:void 0}},g1={name:"htmlTag",lookup(k){let{htmlTag:x}=k,t;const f=x||(typeof document<"u"?document.documentElement:null);return f&&typeof f.getAttribute=="function"&&(t=f.getAttribute("lang")),t}},x1={name:"path",lookup(k){let{lookupFromPathIndex:x}=k;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof x=="number"?x:0]?.replace("/",""):void 0}},y1={name:"subdomain",lookup(k){let{lookupFromSubdomainIndex:x}=k;const t=typeof x=="number"?x+1:1,f=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(f)return f[t]}};let g0=!1;try{document.cookie,g0=!0}catch{}const x0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];g0||x0.splice(1,1);const b1=()=>({order:x0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:k=>k});class y0{constructor(x){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(x,t)}init(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=x,this.options=o1(t,this.options||{},b1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=m=>m.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=f,this.addDetector(d1),this.addDetector(u1),this.addDetector(h1),this.addDetector(f1),this.addDetector(p1),this.addDetector(g1),this.addDetector(x1),this.addDetector(y1),this.addDetector(m1)}addDetector(x){return this.detectors[x.name]=x,this}detect(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return x.forEach(f=>{if(this.detectors[f]){let m=this.detectors[f].lookup(this.options);m&&typeof m=="string"&&(m=[m]),m&&(t=t.concat(m))}}),t=t.filter(f=>f!=null&&!l1(f)).map(f=>this.options.convertDetectedLanguage(f)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(x){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(x)>-1||t.forEach(f=>{this.detectors[f]&&this.detectors[f].cacheUserLanguage(x,this.options)}))}}y0.type="languageDetector";const v1={name:"comptario",subtitle:"Muhasebe Sistemi"},w1=JSON.parse(`{"nav.features":"zellikler","nav.pricing":"Fiyatlar","nav.faq":"SSS","nav.contact":"letiim","cta.try":"cretsiz Deneyin","cta.signin":"Giri Yapn","cta.watchDemo":"Demo zleyin","hero.title":"n muhasebenizde hz, netlik ve kontrol.","hero.sub":"Faturalar, giderleri ve KDV'yi tek ve basit bir alma alanndan ynetin. oklu para birimi (EUR/TRY), kategori bazl KDV oranlar ve PDF fatura oluturma.","features.title":"n muhasebe iin ihtiyacnz olan her ey","features.inv.title":"Faturalandrma","features.inv.desc":"Numaralandrma, mteriler, PDF/HTML da aktarma ve e-posta teslimat.","features.exp.title":"Giderler","features.exp.desc":"Dosya ykleme, OCR (yaknda), kategori bazl KDV (r. %20 FR, %18 TR).","features.vat.title":"KDV ve Vergi zetleri","features.vat.desc":"Girdi/kt KDV vurgular ile net dnem raporlar.","features.fx.title":"oklu Para Birimi","features.fx.desc":"Kur girii ve yuvarlama seenekleri ile EUR ve TRY.","value.title":"Serbest alanlardan KOB'lere kadar leklenir","security.title":"Gvenlik ve Uyumluluk","security.items":"AB barndrma (placeholder), aktarm ve dinlenimde ifreleme, otomatik yedeklemeler.","testimonials.title":"Kullanclarmz ne diyor","pricing.title":"Basit fiyatlandrma","pricing.starter":"Balang","pricing.pro":"Pro","pricing.business":"letme","pricing.price.free":"0/ay","pricing.price.pro":"29/ay","pricing.price.biz":"Bize ulan","pricing.annualLine.free":"","pricing.annualLine.pro":"Yllk pein: 290/yl (2 ay cretsiz)","pricing.annualLine.biz":"","pricing.cta":"imdi Balayn","pricing.ctaContact":"Bize ulan","faq.title":"Sk sorulan sorular","faq.q1":"cretsiz olarak balayabilir miyim?","faq.a1":"Evet, Balang plan snrl fatura dzenlemenizi cretsiz salar.","faq.q2":"KDV destei var m?","faq.a2":"Evet, kategori bazl KDV ve basit zetlerle.","faq.q3":"Teklif destei var m?","faq.a3":"Teklifler yaknda geliyor  henz etkin deil.","faq.q4":"Birden fazla para birimini destekliyor musunuz?","faq.a4":"Evet, manuel kur girii ile EUR ve TRY.","faq.q5":"Nasl iptal edebilirim?","faq.a5":"Fatura ayarlarndan istediiniz zaman iptal edebilirsiniz.","faq.q6":"Verilerim nerede barndrlyor?","faq.a6":"AB'de (placeholder), ifreleme ve dzenli yedeklemelerle.","finalCta.title":"n muhasebeyi basit hale getirin.","finalCta.cta":"cretsiz Deneyin","seo.title":"Comptario  n Muhasebe Yazlm","seo.description":"Comptario fatura, gider ve KDV'yi oklu para birimi destei ve PDF fatura oluturma ile basit, gvenli bir alma alannda ynetmenize yardmc olur.","hero.badge":"Comptario  n Muhasebe Yazlm","hero.features.pdf":"PDF Fatura Oluturma","hero.features.currency":"oklu Para Birimi (EUR/TRY)","hero.features.vat":"KDV Ynetimi","hero.mockup.revenue":"Aylk Gelir","hero.mockup.expenses":"Aylk Giderler","hero.mockup.vat":"denecek KDV","hero.mockup.rate":"Kur","features.subtitle":"Modern iletmeler iin tasarlanm kapsaml ara setimizi kullanarak n muhasebenizi gvenle ynetin.","value.subtitle":"Yeni balyor olun veya kkl bir iletme yrtyor olun, Comptario ihtiyalarnza uyum salar.","value.freelancers.title":"Serbest alanlar in","value.freelancers.desc":"inizi organize tutmak iin basit faturalandrma ve gider takibi","value.freelancers.basic":"Temel faturalandrma","value.freelancers.expense":"Gider ynetimi","value.freelancers.tax":"Vergi zetleri","value.small.title":"Kk letmeler in","value.small.desc":"inizle birlikte byyen kapsaml n muhasebe aralar","value.small.currency":"oklu para birimi destei","value.small.customer":"Mteri ynetimi","value.small.reporting":"Gelimi raporlama","value.growing.title":"Byyen irketler in","value.growing.desc":"Genileyen operasyonlarnza uyum salayan leklenebilir zmler","value.growing.team":"Takm ibirlii","value.growing.api":"API entegrasyonlar","value.growing.support":"ncelikli destek","value.cta.title":"n muhasebenizi dzenlemeye hazr msnz?","value.cta.subtitle":"Finanslarn verimli bir ekilde ynetmek iin Comptario'ya gvenen binlerce iletmeye katln.","value.cta.trial":"cretsiz Deneme Balat","value.cta.demo":"Demo Planla","value.stats.users":"Aktif Kullanc","value.stats.invoices":"Oluturulan Fatura","value.stats.uptime":"alma Sresi","security.badge":"Kurumsal Dzey Gvenlik","finalCta.subtitle":"n muhasebeliini Comptario ile dzenlemi binlerce iletmeye katln. Bugn cretsiz denemenizi balatn  kredi kart gerekmez.","finalCta.trial":"30 gn cretsiz deneme","finalCta.noSetup":"Kurulum creti yok","finalCta.cancel":"stediiniz zaman iptal edin","finalCta.stats.countries":"Hizmet Verilen lke","security.features.hosting.title":"AB Veri Barndrma","security.features.hosting.desc":"Verileriniz GDPR uyumlu gvenli AB veri merkezlerinde barndrlr","security.features.encryption.title":"Utan Uca ifreleme","security.features.encryption.desc":"Tm veriler endstri standard protokoller kullanlarak aktarm ve dinlenimde ifrelenir","security.features.backups.title":"Otomatik Yedeklemeler","security.features.backups.desc":"Gnlk otomatik yedeklemeler verilerinizin her zaman gvende ve kurtarlabilir olmasn salar","security.features.gdpr.title":"GDPR Uyumlu","security.features.gdpr.desc":"Avrupa veri koruma dzenlemeleriyle tam uyumluluk","security.features.monitoring.title":"7/24 zleme","security.features.monitoring.desc":"Srekli gvenlik izleme ve tehdit tespiti","security.features.uptime.title":"99.9% alma Sresi","security.features.uptime.desc":"Garantili alma sresi SLA's ile gvenilir altyap","security.trusted.title":"Avrupa genelinde iletmelerin gvendii","security.trusted.gdpr":"Uyumlu","security.trusted.iso":"Sertifikal","security.trusted.soc":"Tip II","security.trusted.ssl":"ifrelenmi","security.trusted.desc":"Finansal verileriniz bankalar ve finansal kurumlar tarafndan kullanlan ayn gvenlik standartlaryla korunur. Verilerinizi asla nc taraflarla paylamayz ve bilgileriniz zerinde tam kontrole sahip olursunuz.","testimonials.subtitle":"Sadece bizim szmze gvenmeyin. Kullanclarmzn Comptario deneyimleri hakknda sylediklerini grn.","testimonials.sarah.content":"Comptario faturalandrma srecimi tamamen basitletirdi. Artk dakikalar iinde profesyonel faturalar oluturabiliyor ve giderlerimi zahmetsizce takip edebiliyorum.","testimonials.sarah.role":"Serbest Tasarmc","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"oklu para birimi zellii uluslararas mterilerimiz iin hayat kurtarc. KDV hesaplamalar otomatik ve doru, saatlerce manuel almay kaydediyor.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"Kk bir iletme olarak basit ama gl bir eye ihtiyacmz vard. Comptario bize kurumsal yazlmn karmakl olmadan ihtiyacmz olan her eyi veriyor.","testimonials.elena.role":"Kk letme Sahibi","testimonials.elena.company":"Yerel Frn","testimonials.stats.rating":"Ortalama Deerlendirme","testimonials.stats.customers":"Mutlu Mteri","testimonials.stats.countries":"lke","pricing.subtitle":" ihtiyalarnza uygun plan sein. cretsiz balayn ve bydke ykseltin.","faq.support.title":"Hala sorularnz m var?","faq.support.desc":"Destek ekibimiz Comptario'dan en iyi ekilde yararlanmanz iin burada size yardmc olmak iin.","faq.support.contact":"Destek letiim","faq.support.demo":"Demo Planla","pricing.popular":"En Popler","pricing.plans.starter.desc":"Serbest alanlar ve kk projeler iin mkemmel","pricing.plans.pro.desc":"Byyen iletmeler iin ideal","pricing.plans.business.desc":"Kkl irketler iin","pricing.features.users1":"1 kullanc","pricing.features.users3":"3 kullanc","pricing.features.usersUnlimited":"Snrsz kullanc","pricing.features.invoices5":"Ayda 5 fatura","pricing.features.expenses5":"Ayda 5 gider","pricing.features.bank1":"1 banka hesab","pricing.features.bankUnlimited":"Snrsz banka hesab","pricing.features.customerSupplier1":"1 mteri ve 1 tedariki","pricing.features.customerSupplierUnlimited":"Snrsz mteri ve tedariki","pricing.features.unlimitedInvoicesExpenses":"Snrsz fatura ve gider","pricing.features.vat":"Kategori bazl KDV","pricing.features.pdf":"PDF fatura ve teklif","pricing.features.emailSupport":"E-posta destei","pricing.features.quotesBasic":"Teklif oluturma ve paylalabilir link","pricing.features.quotesAdvanced":"Teklif: grntlendi/kabul/red, PDF","pricing.features.multiCurrency":"oklu para birimi (TRY/EUR/USD/GBP)","pricing.features.products":"rn ve stok ynetimi","pricing.features.reports":"Raporlar ve igrler","pricing.features.prioritySupport":"ncelikli destek","pricing.features.everythingPro":"Pro'daki her ey","pricing.features.teamCollaboration":"Takm ibirlii (ok kullanc)","pricing.features.dedicatedSupport":"zel destek","pricing.features.noCredit":"Kredi kart gerekmez","pricing.notes.vatAndCurrency":"Fiyatlara KDV dahil deildir. EUR ve TRY faturalama desteklenir.","pricing.notes.cancelAnytime":"stediiniz zaman iptal edin.","pricing.pro.extraUser":"+ her ek kullanc 5/ay","pricing.trust":"Freelancer, ajans ve KOB'ler tarafndan gvenilir.","pricing.questions":"Fiyatlandrma hakknda sorularnz m var?","pricing.checkFaq":"SSS'imize bakn","pricing.or":"veya","pricing.contactSupport":"destek ile iletiime gein","pricing.guarantee":"Tm cretli planlarda 30 gnlk para iade garantisi","faq.subtitle":"Comptario hakknda bilmeniz gereken her ey. Aradnz cevab bulamyor musunuz? Bizimle iletiime gemekten ekinmeyin.","faq.contactUs":"bize ulan","footer.product":"RN","footer.company":"RKET","footer.support":"DESTEK","footer.legal":"HUKUK","footer.features":"zellikler","footer.pricing":"Fiyatlar","footer.security":"Gvenlik","footer.api":"API","footer.about":"Hakknda","footer.blog":"Blog","footer.careers":"Kariyer","footer.press":"Basn","footer.helpCenter":"Yardm Merkezi","footer.contactUs":"letiim","footer.status":"Durum","footer.community":"Topluluk","footer.privacy":"Gizlilik Politikas","footer.terms":"Hizmet artlar","footer.gdpr":"GDPR","footer.cookies":"erez Politikas","footer.imprint":"Knye","footer.description":"Modern iletmeler iin basit, gvenli n muhasebe yazlm. Faturalar, giderleri ve KDV'yi gvenle ynetin.","footer.stayUpdated":"Gncel kaln","footer.updatesDesc":"Yeni zellikler ve en iyi uygulamalar hakknda gncellemeler aln.","footer.email":"support@comptario.com","footer.languages":"4 dilde mevcut","footer.gdprCompliant":"GDPR Uyumlu","footer.emailPlaceholder":"E-posta adresinizi girin","footer.subscribe":"Abone Ol","footer.copyright":" {{year}} Comptario. Tm haklar sakldr.","footer.madeWith":"Avrupa'da  ile yapld"}`),k1={welcomeTitle:"Ho Geldiniz",welcomeSubtitle:"Devam etmek iin hesabnza giri yapn",validUntil:"Geerlilik Tarihi",emailPlaceholder:"ad@ornek.com",password:"ifre",version:"v{{n}}",passwordPlaceholder:"",rememberMe:"Beni hatrla",forgotPassword:"ifremi unuttum",forgotPasswordHelp:"E-postanz girin, sfrlama balants gnderelim.",resetEmailSent:"Eer bu e-posta kaytlysa sfrlama balants gnderildi.",emailAddress:"E-posta Adresi",sendResetLink:"Balant Gnder",resendIn:"Tekrar gndermek iin bekleyin: {{seconds}}s",signIn:"Giri Yap",demoAccount:"Demo Hesap:",email:"E-posta",resendEmail:"E-postay yeniden gnder",revise:"Revize Et",adminLogin:"Ynetici Girii",noAccount:"Hesabnz yok mu?",createFreeAccount:"cretsiz hesap oluturun",registerTitle:"Hesap Olutur",registerSubtitle:"cretsiz hesabnz oluturun ve hemen balayn",fullName:"Ad Soyad",fullNamePlaceholder:"Adnz ve soyadnz girin",companyName:"irket Ad",companyPlaceholder:"irket adnz (opsiyonel)",phone:"Telefon",phonePlaceholder:"(opsiyonel)",passwordHint:"En az 6 karakter",passwordConfirm:"ifre Onay",passwordConfirmPlaceholder:"ifrenizi tekrar girin",termsText:{prefix:"unlar kabul ederim: ",suffix:""},and:" ve ",dataProcessing:"Veri leme Szlemesi",registerCta:"Hesap Olutur",alreadyHaveAccount:"Zaten hesabnz var m?",goToLogin:"Giri yapn"},N1={itemsPerPage:"Sayfa bana",previous:"nceki",next:"Sonraki",range:"{{start}}-{{end}} / {{total}}"},j1={title:"Mali Dnemler",subtitle:"Mali dnem ayarlarnz ynetin",newPeriod:"Yeni Dnem",search:"Dnem ara...",periodsRegistered:"dnem kaytl",noPeriods:"Henz mali dnem yok",noPeriodsFound:"Mali dnem bulunamad",noPeriodsDesc:"lk mali dneminizi oluturarak balayn.",noPeriodsFoundDesc:"Arama kriterlerinizle eleen mali dnem yok.",createFirstPeriod:"lk Mali Dnem Olutur",periodName:"Dnem Ad",startDate:"Balang Tarihi",endDate:"Biti Tarihi",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",lock:"Kilitle",unlock:"Kilit A",delete:"Sil",viewPeriod:"Mali dnemi grntle",editPeriod:"Mali Dnemi Dzenle",addPeriod:"Mali Dnem Ekle",enterPeriodInfo:"Mali dnem bilgilerini girin",periodNamePlaceholder:"rn: 2024 Yl",periodDuration:"dnem sresi",days:"gn",locked:"Kilitli",active:"Aktif",planned:"Planl",statusLabels:{active:"Aktif",locked:"Kilitli",planned:"Planl"},lockPeriod:"Mali dnemi kilitle",unlockPeriod:"Mali dnem kilidini a",lockConfirm:"Bu mali dnemi kilitlemek istediinizden emin misiniz? Kilitlenmi dnemler dzenlenemez.",unlockConfirm:"Bu mali dnemin kilidini amak istediinizden emin misiniz?",deleteConfirm:"Bu mali dnemi silmek istediinizden emin misiniz?",validation:{nameRequired:"Dnem ad gereklidir",startDateRequired:"Balang tarihi gereklidir",endDateRequired:"Biti tarihi gereklidir",endDateAfterStart:"Biti tarihi balang tarihinden sonra olmaldr",periodOverlap:"Bu tarihler mevcut bir dnemle akyor",minimumDuration:"Mali dnem en az 1 gn olmaldr"},errors:{createFailed:"Mali dnem oluturulamad",updateFailed:"Mali dnem gncellenemedi",deleteFailed:"Mali dnem silinemedi",lockFailed:"Mali dnem kilitlenemedi",unlockFailed:"Mali dnem kilidi alamad",loadFailed:"Mali dnemler yklenemedi",periodLocked:"Bu mali dnem kilitli ve deitirilemez",periodNotFound:"Mali dnem bulunamad",operationNotAllowed:"Bu ilem iin mali dnem kilitli"},success:{created:"Mali dnem baaryla oluturuldu",updated:"Mali dnem baaryla gncellendi",deleted:"Mali dnem baaryla silindi",locked:"Mali dnem baaryla kilitlendi",unlocked:"Mali dnem kilidi baaryla ald"},widget:{title:"Mali Dnemler",activePeriod:"Aktif Dnem",totalPeriods:"Toplam Dnem",lockedPeriods:"Kilitli Dnem",daysRemaining:"Kalan Gn",noActivePeriod:"Aktif dnem yok",periodsOverlapping:"akan dnemler var",allPeriodsLocked:"Tm dnemler kilitli",createActivePeriod:"Aktif dnem oluturun",managePeriods:"Dnemleri Ynet",warnings:{overlapping:"Baz mali dnemler akyor",noActive:"u anda aktif mali dnem yok",allLocked:"Tm mali dnemler kilitli"}},filters:{showVoided:"ptal edilenleri gster",hideVoided:"ptal edilenleri gizle",voidedRecords:"iptal edilmi kayt"}},S1={back:"Geri",save:"Kaydet",cancel:"ptal",delete:"Sil",edit:"Dzenle",view:"Grntle",update:"Gncelle",add:"Ekle",search:"Ara",close:"Kapat",backToHome:"Anasayfaya Dn",yes:"Evet",no:"Hayr",loading:"Ykleniyor...",error:"Hata",success:"Baarl",warning:"Uyar",ok:"Tamam",periodLockedError:"Bu kayt kilitli mali dnemde yer ald iin silinemez",monthlyIncomeExpense:"Aylk Gelir/Gider",last6MonthsPerformance:"Son 6 ay performans (en yeni  en eski)",allCategories:"Tm kategoriler",dateRanges:{thisMonth:"Bu ay",last30Days:"Son 30 gn",thisYear:"Bu yl"},filters:{status:"Durum",filterByStatus:"Duruma gre filtrele"},actions:{clear:"Temizle",view:"Grntle",copyLink:"Balanty kopyala",downloadPDF:"PDF indir"},exportCSV:"CSVe aktar","dateRanges.thisMonth":"Bu ay","dateRanges.last30Days":"Son 30 gn","dateRanges.thisYear":"Bu yl","common.total":"Toplam","common.exportCSV":"CSVe aktar","filters.status":"Durum","filters.filterByStatus":"Duruma gre filtrele","actions.clear":"Temizle","actions.view":"Grntle","actions.copyLink":"Balanty kopyala","actions.downloadPDF":"PDF indir",allStock:"Tm stoklar",newest:"En yeni",income:"Gelir",expense:"Gider",hideChart:"Grafii Gizle",showChart:"Grafii Gster",chartHidden:"Grafik gizlendi",incomeLabel:"Gelir",expenseLabel:"Gider",description:"Aklama",dueDate:"Vade Tarihi",startDate:"Balang Tarihi",endDate:"Biti Tarihi",allStatuses:"Tm Durumlar",allAccounts:"Tm Hesaplar",cash:"Nakit",card:"Kart",transfer:"Transfer",check:"ek",email:"E-posta",quantity:"Miktar",status:"Durum",notes:"Notlar"},C1={TRY:"Trk Liras",USD:"Amerikan Dolar",EUR:"Euro",GBP:"ngiliz Sterlini"},A1={newInvoice:"Yeni Fatura",newSale:"Yeni Sat",search:"Ara...",language:"Dil",notifications:"Bildirimler",noNotifications:"Yeni bildirim yok.",settings:"Ayarlar",logout:"k Yap"},_1={title:"Ana Sayfa",overview:"Genel Bak",revenue:"Gelir",expense:"Gider",profit:"Kar",unpaidInvoices:"denmemi Faturalar",recentActivity:"Son Aktiviteler",totalRevenue:"Toplam Gelir",totalExpense:"Toplam Gider",pendingInvoices:"Bekleyen Faturalar",activeCustomers:"Aktif Mteriler",quickActions:"Hzl lemler",recentTransactions:"Son lemler",quickAccess:"Hzl Eriim",lastTransactions:"Son {count} ileminiz",allGood:"Her ey yolunda!",noAlerts:"Bekleyen grev veya uyar yok.",viewAll:"Tmn Gster"},E1={newInvoice:"Yeni Fatura",newInvoiceDesc:"Mteri faturas olutur",newExpense:"Yeni Gider",newExpenseDesc:"Gider kayd ekle",newSale:"Yeni Sat",newSaleDesc:"Sat ilemi kaydet",newQuote:"Yeni Teklif",newQuoteDesc:"Mteri iin teklif olutur",newCustomer:"Yeni Mteri",newCustomerDesc:"Mteri bilgisi ekle",newProduct:"Yeni rn",newProductDesc:"rn bilgisi ekle",customers:"Mteriler",suppliers:"Tedarikiler",banks:"Banka Hesaplar",products:"rnler"},T1={invoice:"Fatura",expense:"Gider",sale:"Sat",paid:"dendi",unpaid:"denmedi",pending:"Bekliyor",actions:"lemler",transaction:"lem",customerDescription:"Mteri/Aklama",amount:"Tutar",status:"Durum",date:"Tarih",noTransactions:"Henz ilem yok"},P1={overdueInvoices:"Gecikmi Faturalar",overdueDesc:"Gecikmi fatura",dueSoon:"Yaknda Vadesi Dolan",dueSoonDesc:"7 gn iinde vadesi dolan",pendingExpenses:"Bekleyen Giderler",pendingExpensesDesc:"Onay bekleyen gider",allGood:"Her ey Yolunda!",noAlerts:"Bekleyen grev veya uyar yok.",attentionRequired:"Dikkat Gerekli"},D1={short:{jan:"Oca",feb:"ub",mar:"Mar",apr:"Nis",may:"May",jun:"Haz",jul:"Tem",aug:"Au",sep:"Eyl",oct:"Eki",nov:"Kas",dec:"Ara"}},I1={dashboard:"Ana Sayfa",invoices:"Faturalar",expenses:"Giderler",customers:"Mteriler",products:"rnler",suppliers:"Tedarikiler",banks:"Bankalar",sales:"Satlar",quotes:"Teklifler",reports:"Raporlar",accounting:"Muhasebe",chartOfAccounts:"Hesap Plan",archive:"Ariv",organization:"Organizasyon",settings:"Ayarlar",close:"Kapat"},M1={title:"Teklifler",newQuote:"Yeni Teklif",comingSoon:"Teklifler modl iin temel sayfa hazr. Gelimi liste, durumlar ve PDF ablonlar srada.",placeholderDescription:"Teklif oluturma, gnderme, mteri tarafndan grntleme ve kabul/ret aklar bu sayfada yer alacaktr. imdilik ynlendirme ve men entegrasyonu tamamland.",search:"Teklif ara...",filterAll:"Tm Durumlar",viewModal:{details:"Teklif Detaylar"},validUntil:"Geerlilik Tarihi",expiresIn:"({{days}} gn iinde sona erer)",expiredOn:"({{date}} tarihinde sona erdi)",version:"v{{n}}",confirmAccept:"Teklifi kabul etmek istediinizden emin misiniz?",acceptedThanks:"Teekkrler, teklif kabul edildi.",confirmDecline:"Teklifi reddetmek istediinizden emin misiniz?",declinedInfo:"Teklif reddedildi.",duplicateConfirm:"Yinele ilemine devam edilsin mi?",reviseConfirm:"Bu teklifi revize etmek istiyor musunuz? Mevcut srm gemie tanacak ve yeni bir srm oluturulacak.",actions:{send:"Gnder",accept:"Kabul Et",decline:"Reddet",downloadPdf:"PDF ndir",copyLink:"Genel balanty kopyala",copyPublicLink:"Balanty Kopyala",copyPublicLinkSuccess:"Balant kopyaland.",resendEmail:"E-postay yeniden gnder",revise:"Revize Et",duplicate:"Yinele"},editModal:{title:"Teklifi Dzenle",subtitle:"Teklif bilgilerini gncelleyin",quoteNumber:"Teklif No"},table:{quote:"Teklif",customer:"Mteri",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler"},noQuotes:"Henz teklif yok",noQuotesDesc:"lk teklifinizi oluturarak balayn.",noQuotesFound:"Teklif bulunamad",noQuotesFoundDesc:"Arama kriterlerinizle eleen teklif yok.",createFirstQuote:"lk Teklifi Olutur",view:"Grntle",edit:"Dzenle",delete:"Sil",statusLabels:{viewed:"Grntlendi",accepted:"Kabul Edildi",declined:"Reddedildi",expired:"Sresi Doldu"},createModal:{title:"Teklif Olutur",customer:"Mteri",customerPlaceholder:"Mteri ad girin",currency:"Para Birimi",date:"Dzenleme Tarihi",amount:"Tutar",create:"Olutur"},scopeOfWork:{title:"in Kapsam",placeholder:"Proje kapsam, teslimatlar, varsaymlar ve hariler...",note:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."}},R1={thisMonth:"bu ay",all:"tm"},z1={paid:"dendi",unpaid:"denmedi",pending:"Bekliyor",overdue:"Gecikmi",draft:"Taslak",sent:"Gnderildi",approved:"Onayland",rejected:"Reddedildi",cancelled:"ptal Edildi",completed:"Tamamland",active:"Aktif",inactive:"Pasif",viewed:"Grntlendi",accepted:"Kabul Edildi",declined:"Reddedildi",expired:"Sresi Doldu",invoiced:"Faturaland",created:"Oluturuldu",refunded:"ade Edildi"},O1={details:"Fatura Detaylar",downloadPdf:"PDF ndir",information:"Fatura Bilgileri",type:"Fatura Tr",productSale:"rn Sat",serviceSale:"Hizmet Sat",issueDate:"Dzenleme Tarihi",dueDate:"Vade Tarihi",customerInfo:"Mteri Bilgileri",itemsServices:"rnler/Hizmetler",generalSale:"Genel",description:"Aklama",quantity:"Miktar",unitPrice:"Birim Fiyat",total:"Toplam",subtotal:"Ara Toplam",vat:"KDV",grandTotal:"Genel Toplam",notes:"Notlar"},L1={details:"Gider Detaylar",information:"Gider Bilgileri",number:"Gider No",date:"Gider Tarihi",category:"Kategori",supplier:"Tedariki",amount:"Tutar",receipt:"Fi",viewReceipt:"Fi Grntle"},F1={history:"lem Gemii",transactions:"ilem bulundu",noHistory:"Henz lem Gemii Yok",noHistoryDesc:"henz fatura veya ilem kayd bulunmuyor.",tip:"pucu:",tipDesc:"Bu mteri iin yeni bir fatura oluturarak ilem gemiini balatabilirsiniz.",createInvoice:"Fatura Olutur",sale:"Sat",completed:"Tamamland",waiting:"Bekliyor",historyPageTitle:"Mteri Gemii",historySubtitle:"{{name}} iin tm gemi ilemler",historyColumns:{name:"lem Ad/No",date:"Tarih",status:"Durum",createdBy:"Oluturan",type:"Tr",description:"Aklama"}},B1={expenseHistory:"Gider Gemii",expensesFound:"gider bulundu",noExpenseHistory:"Henz Gider Gemii Yok",noExpenseHistoryDesc:"henz gider kayd bulunmuyor.",tip:"pucu:",tipDesc:"Bu tedariki iin yeni bir gider oluturarak ilem gemiini balatabilirsiniz.",createExpense:"Gider Olutur",viewExpense:"Gider grntle"},U1={title:"rnler",newProduct:"Yeni rn",search:"rn ara...",filterCategory:"Tm Kategoriler",name:"rn Ad",category:"Kategori",price:"Fiyat",stock:"Stok",status:"Durum",actions:"lemler",noProducts:"Henz rn yok",addFirstProduct:"lk rnnz ekleyin",edit:"Dzenle",delete:"Sil",deleteConfirm:"Bu rn silmek istediinizden emin misiniz?",manageCategories:"Kategorileri Ynet",totalProducts:"Toplam rn",stockValue:"Stok Deeri",totalStock:"Toplam Stok",lowStock:"Dk Stok",activeProductsDesc:"Aktif olarak satlan rn says",totalStockCostDesc:"Tahmini toplam stok maliyeti",totalUnitsDesc:"Depodaki toplam adet",criticalLevelDesc:"Kritik seviyenin altndaki rnler",productCategories:"rn Kategorileri",archivedCategories:"Arivlenmi Kategoriler",showArchived:"Arivlenmileri gster",hideArchived:"Arivlenmileri gizle",activate:"Aktif Et",noArchivedCategories:"Arivlenmi kategori yok",addCategory:"Kategori ekle",categoriesCount:"kategori",allProducts:"Tm rnler",noCategories:"Henz kategori yok.",mainCategoriesTitle:"Ana Kategoriler",subCategories:"Alt Kategoriler",editCategory:"Dzenle",deleteCategory:"Sil",editCategoryTooltip:"Kategoriyi dzenle",mainCategoryEditTooltip:"Ana kategorilerin sadece KDV'si deitirilebilir",generalCategoryCannotDelete:"Genel kategorisi silinemez",mainCategoryCannotDelete:"Ana kategori silinemez",deleteCategoryConfirm:"Bu kategoriyi silmek istediinizden emin misiniz?",deleteCategoryWithProducts:'Bu kategoride {count} rn var. Silerseniz rnler "{defaultCategory}" kategorisine tanacak. Devam etmek istiyor musunuz?',cannotArchiveCategoryWithProducts:"Bu kategoride {{count}} rn var. Arivlemeden nce rnleri baka bir kategoriye tayn veya silin.",categoryCannotDeleteProtected:'"{category}" ana kategori olduu iin silinemez.',generalCategoryCannotDeleteAlert:"Genel kategorisi silinemez.",updatePrice:"Fiyat gncelle",assignCategory:"Kategori ata",archive:"Arivle",archiveConfirm:"Bu kategoriyi arivlemek istediinize emin misiniz?",noProductsYet:"Henz rn yok",costPrice:"Maliyet",unit:"Birim",productsCount:"rn",allStock:"Tm stok",lowStockFilter:"Dk stok",outOfStock:"Tkendi",overstock:"Fazla stok",newest:"En yeni",priceHighLow:"Fiyat (Yksek-Dk)",priceLowHigh:"Fiyat (Dk-Yksek)",stockHighLow:"Stok (Yksek-Dk)",stockLowHigh:"Stok (Dk-Yksek)",inStock:"Stokta",critical:"Kritik",depleted:"Tkendi",cost:"Maliyet",minStock:"Min. Stok",view:"Grntle",viewProduct:"rn grntle",mainCategories:{products:"rnler",services:"Hizmetler"},editProduct:"rn Dzenle",enterProductInfo:"rn bilgilerini doldurun ve stok durumunu gncelleyin",productServiceName:"rn/Hizmet Ad",selectFromList:"Listeden rn sein",productsFound:"rn bulundu",createCategoryFirst:"nce yeni bir kategori oluturmanz gerekiyor.",generalInfo:"GENEL BLGLER",priceAndStock:"FYAT VE STOK",notes:"NOTLAR",namePlaceholder:"rn/hizmet ad",unitPlaceholder:"Birim (rn: adet, kg, saat)",descriptionPlaceholder:"rn zellikleri, garanti bilgisi vb.",useCustomTax:"zel KDV oran kullan",customTaxNote:"Bu rn iin farkl bir KDV oran belirleyebilirsiniz. Bo braklrsa kategori KDV'si kullanlr.",categoryTax:"Kategori KDV",salePrice:"Sat fiyat",stockQuantity:"Stok adedi",criticalStock:"Kritik stok",customTaxRate:"zel KDV Oran",taxRatePlaceholder:"18.0",customTaxRateHelper:"Bu rn iin zel KDV oran. Kategori KDV'sini geersiz klar.",noCategoriesFound:"Kategori bulunamad",useCustomTaxRate:"zel KDV oran kullan",description:"Aklama"},$1={title:"Hesap Plan",subtitle:"Muhasebe hesap plannz ynetin",newAccount:"Yeni Hesap",search:"Hesap kodu veya adyla ara...",code:"Kod",accountName:"Hesap Ad",type:"Tip",balance:"Bakiye",status:"Durum",actions:"lemler",accountsRegistered:"hesap kaytl",clickToEdit:"Dzenlemek iin hesap ad, kod veya bakiyeye tklayn",addAccountTip:"Yeni hesap eklemek iin yukardaki dmeyi kullann",active:"Aktif",passive:"Pasif",allSummed:"tm topland",accountTypes:{all:"Tm",asset:"Varlk",liability:"Ykmllk",equity:"zkaynaklar",revenue:"Gelir",expense:"Gider"},accountTypesPlural:{asset:"Varlklar",liability:"Ykmllkler",equity:"zkaynaklar",revenue:"Gelirler",expense:"Giderler"},statusLabels:{active:"Aktif",inactive:"Pasif"},tooltips:{editHint:"Dzenlemek iin hesap satrna tklayn"},accountNames:{100:"DNEN VARLIKLAR",101:"Kasa",102:"Bankalar",120:"Alclar",150:"DURAN VARLIKLAR",200:"KISA VADEL YKMLLKLER",201:"Satclar",300:"ZKAYNAKLAR",600:"GELRLER",601:"Sat Gelirleri",602:"Hizmet Gelirleri",700:"GDERLER",701:"Kira Giderleri",702:"Personel Giderleri",703:"Fatura Giderleri"},accountTypeLabels:{asset:"Varlk",liability:"Ykmllk",equity:"zkaynaklar",revenue:"Gelir",expense:"Gider"}},V1={title:"Faturalar",newInvoice:"Yeni Fatura",search:"Fatura numaras veya mteri ara...",filterAll:"Tm Durumlar",invoicesRegistered:"fatura kaytl",inArchive:"arivde",noInvoices:"Henz fatura yok",noInvoicesFound:"Fatura bulunamad",showVoided:"ptal Edilenleri Gster",hideVoided:"ptal Edilenleri Gizle",noInvoicesDesc:"lk faturanz oluturarak balayn.",noInvoicesFoundDesc:"Arama kriterlerinizle eleen fatura yok.",createFirstInvoice:"lk Fatura Olutur",invoiceNumber:"Fatura",customer:"Mteri",date:"Tarih",amount:"Tutar",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",download:"ndir",delete:"Sil",viewInvoice:"Faturay grntle",editInvoice:"Faturay Dzenle",createInvoice:"Fatura Olutur",enterInvoiceInfo:"Mteri bilgilerini ve rn detaylarn girin",selectInvoiceType:"Fatura trn sein",newSale:"Yeni Sat",newSaleDescription:"Yeni bir sat kayd oluturup fatura kesin",newSaleNote:"Sat ve fatura otomatik olarak oluturulur",existingSale:"Mevcut Sat",existingSaleDescription:"Daha nce yaplm satlardan birine fatura kesin",existingSaleNote:"Sadece fatura bilgileri dzenlenebilir",returnInvoice:"ade Faturas",returnInvoiceDescription:"Daha nce kesilen bir fatura iin iade/iade faturas oluturun",returnInvoiceNote:"Mevcut faturadan seim yaparak iade oluturulur",invoiceNumberAutoGenerated:"Fatura numaras otomatik oluturulur",invoiceType:"Fatura Tr",productInvoice:"rn Faturas (Normal)",selectInvoiceToReturn:"-- ade edilecek faturay sein --",invoiceToReturn:"ade Edilecek Fatura (zorunlu)",returnInvoiceAutoLoad:" Seilen faturann rnleri otomatik olarak negatif miktarlarla yklenecektir.",issueDate:"Dzenleme Tarihi",dueDate:"Vade Tarihi",customerName:"Mteri Ad",customerSearchPlaceholder:"Mteri ara veya yeni mteri ad girin",productsAndServices:"rn ve Hizmetler",addLine:"Satr Ekle",description:"Aklama",quantity:"Miktar",unitPriceExclVAT:"Birim Fiyat (KDV Hari)",totalInclVAT:"Toplam (KDV Dahil)",notes:"Notlar",notesPlaceholder:"Sat ile ilgili ek notlar",autoGenerated:"Otomatik oluturulacak",statusCompleted:"Tamamland",statusPending:"Bekliyor",statusCancelled:"ptal",enterSaleInfo:"Sat bilgilerini girin",productServiceDescription:"rn veya hizmet aklamas",subtotalExclVAT:"Ara Toplam (KDV Hari)",vat:"KDV",grandTotalInclVAT:"Genel Toplam (KDV Dahil)",grandTotalExclVAT:"Genel Toplam (KDV Hari)",createInvoiceFromSale:"Sata Fatura Kes",completeInvoiceInfo:"Fatura bilgilerini tamamlayn"},q1={title:"Giderler",newExpense:"Yeni Gider",deleteConfirm:"Bu gideri silmek istediinizden emin misiniz?",deleteSuccess:"Gider silindi",deleteError:"Gider silinemedi",search:"Gider aklamas veya tedariki ara...",filterAll:"Tm Durumlar",expensesRegistered:"gider kaytl",noExpenses:"Henz gider yok",noExpensesFound:"Gider bulunamad",noExpensesDesc:"lk giderinizi kaydederek balayn.",noExpensesFoundDesc:"Arama kriterlerinizle eleen gider yok.",createFirstExpense:"lk Gider Olutur",description:"Aklama",supplier:"Tedariki",category:"Kategori",date:"Tarih",amount:"Tutar",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",download:"ndir",delete:"Sil",viewExpense:"Gideri grntle",enterExpenseDetails:"Gider bilgilerini girin",editExpense:"Gideri Dzenle",addExpense:"Gider Ekle",enterExpenseInfo:"Gider bilgilerini girin",expenseNumber:"Gider Numaras",expenseDate:"Gider Tarihi",paymentDate:"deme Tarihi",totalExpense:"Toplam Gider",receiptUrl:"Fi/Fatura URL'si",receiptUrlHelper:"Fi veya fatura grselinin/PDF'inin balantsn ekleyebilirsiniz",descriptionPlaceholder:"Gider aklamas...",supplierPlaceholder:"Tedariki ad yazn..."},H1={descriptionRequired:"Ltfen aklama girin",amountRequired:"Ltfen geerli bir tutar girin",categoryRequired:"Ltfen kategori sein",dueDateRequired:"Ltfen vade tarihi sein",saleDateRequired:"Sat tarihi gereklidir",unitPriceRequired:"Birim fiyat sfrdan byk olmaldr",quantityRequired:"Miktar sfrdan byk olmaldr",customerNameRequired:"Mteri ad gereklidir",customerNotFound:"Mteri sistemde bulunamad. Ltfen listeden sein.",productNameRequired:"rn veya hizmet ad gereklidir",productNotFound:"rn sistemde bulunamad. Ltfen listeden sein.",skuRequired:"SKU zorunlu",validPriceRequired:"Geerli bir fiyat girin",validStockRequired:"Geerli stok adedi girin"},K1={title:"Mteriler",newCustomer:"Yeni Mteri",search:"Mteri ara...",customersRegistered:"mteri kaytl",noCustomers:"Henz mteri yok",noCustomersFound:"Mteri bulunamad",noCustomersDesc:"lk mterinizi ekleyerek balayn.",noCustomersFoundDesc:"Arama kriterlerinizle eleen mteri yok.",createFirstCustomer:"lk Mteri Ekle",name:"Ad",email:"E-posta",phone:"Telefon",totalInvoices:"Toplam Fatura",totalAmount:"Toplam Tutar",actions:"lemler",importCSV:"CSV/Excel e Aktar",downloadTemplate:"ablon ndir",editCustomer:"Mteriyi Dzenle",addCustomer:"Mteri Ekle",selectFromList:"Listeden mteri sein",customersFound:"mteri bulundu",enterCustomerInfo:"Mteri bilgilerini girin",address:"Adres",emailPlaceholder:"musteri@example.com",addressPlaceholder:"Tam adres bilgisi...",taxNumber:"Vergi Numaras",company:"irket Ad",namePlaceholder:"Ahmet Ylmaz",companyPlaceholder:"ABC Teknoloji Ltd.",duplicate:{title:"Ayn E-posta ile Kayt Var",message:"Bu e-posta ({{email}}) ile zaten bir mteri kaytl: {{name}}. Ltfen listeden mevcut kayd sein veya dzenleyin.",openExisting:"Mevcut mteriyi a"},import:{noDataFound:"Dosyada veri bulunamad.",noCustomersFound:"Dosyada aktarlacak mteri bulunamad.",success:"{{count}} mteri baaryla ie aktarld!",error:"e aktarma srasnda hata olutu."}},G1={title:"Tedarikiler",newSupplier:"Yeni Tedariki",search:"Tedariki ara...",suppliersRegistered:"tedariki kaytl",noSuppliers:"Henz tedariki yok",noSuppliersFound:"Tedariki bulunamad",noSuppliersDesc:"lk tedarikinizi ekleyerek balayn.",noSuppliersFoundDesc:"Arama kriterlerinizle eleen tedariki yok.",createFirstSupplier:"lk Tedariki Ekle",name:"Ad",email:"E-posta",phone:"Telefon",totalExpenses:"Toplam Gider",totalAmount:"Toplam Tutar",actions:"lemler"},W1={title:"Banka Hesaplar",newAccount:"Yeni Hesap",search:"Banka ad, hesap ad veya numaras ara...",filterAll:"Tm Hesaplar",accountsRegistered:"hesap kaytl",totalBalance:"Toplam bakiye",noBanks:"Henz banka hesab yok",noBanksFound:"Hesap bulunamad",noBanksDesc:"lk banka hesabnz ekleyerek balayn.",noBanksFoundDesc:"Arama kriterlerinizle eleen hesap yok.",createFirstAccount:"lk Hesap Ekle",bankName:"Banka",accountName:"Hesap Ad",accountNumber:"Hesap No",balance:"Bakiye",status:"Durum",actions:"lemler",editAccount:"Hesab Dzenle",enterAccountInfo:"Banka hesap bilgilerini girin",selectBank:"Banka sein",accountNamePlaceholder:"irket Ad veya Kii Ad",accountType:"Hesap Tr",accountTypes:{checking:"Vadesiz Hesap",savings:"Vadeli Hesap",business:"Ticari Hesap"},ibanAutoFormat:"IBAN otomatik olarak formatlanacaktr",currentBalance:"Mevcut Bakiye",currency:"Para Birimi",accountActive:"Hesap aktif",addAccount:"Hesap Ekle",routingNumber:"Routing Numaras (ABA)",swiftBic:"SWIFT/BIC",branchCode:"ube Kodu"},Y1={title:"Ayarlar",subtitle:"Sistem ve hesap ayarlarnz ynetin",save:"Kaydet",cancel:"ptal",profile:"Profil",company:"irket Bilgileri",system:"Sistem Ayarlar",security:"Gvenlik",data:"Veri Ynetimi",currency:"Para Birimi",language:"Dil",notifications:"Bildirimler",theme:"Tema",success:"Baarl",error:"Hata",saved:"Ayarlar kaydedildi",saveFailed:"Ayarlar kaydedilemedi"},X1={title:"Satlar",newSale:"Yeni Sat",totalSales:"Toplam Sat",totalSalesCount:"Toplam Sat Adedi",completed:"Tamamland",salesList:"Sat Listesi",salesRegistered:"sat kaytl",search:"Sat numaras, mteri veya rne gre ara...",noSales:"Henz sat yok",noSalesFound:"Sat bulunamad",noSalesDesc:"lk satnz ekleyerek balayn.",noSalesFoundDesc:"Arama kriterlerinizle eleen sat yok.",createFirstSale:"lk Sat Ekle",sale:"Sat",customer:"Mteri",productService:"rn/Hizmet",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler",viewSale:"Sat grntle",editSale:"Sat Dzenle",deleteSale:"Sat sil",deleteConfirm:"Bu sat silmek istediinizden emin misiniz?",createInvoice:"Fatura Olutur",download:"ndir",subtitle:"Sat kaytlarnz ynetin",saleCompleted:"Sat Tamamland!",saleCompletedDesc:"Sat baaryla kaydedildi.",createInvoiceQuestion:"Fatura oluturmak ister misiniz?",autoGenerated:"Otomatik oluturulacak",statusCompleted:"Tamamland",statusPending:"Bekliyor",statusCancelled:"ptal",saleNumber:"Sat No",saleDate:"Sat Tarihi",autoNumberNote:"Numara kaydedilirken otomatik oluturulacak",unitPriceInclVAT:"Birim Fiyat (KDV Dahil)",totalInclVAT:"Toplam (KDV Dahil)",unitPriceExclVAT:"Birim Fiyat (KDV Hari)",totalExclVAT:"Toplam (KDV Hari)",notesPlaceholder:"Sat ile ilgili ek notlar",addSale:"Sat Ekle",saleSummary:"Sat zeti",invoiceWillBeDownloaded:"Fatura oluturulursa, PDF formatnda otomatik olarak indirilecektir.",confirmInvoiceCreation:"Fatura oluturulsun mu?",invoiceWillOpen:"Fatura oluturulduktan sonra grntleme penceresinde alacaktr.",enterSaleInfo:"Sat bilgilerini girin",selectExistingSale:"Mevcut Sat Se",selectSaleForInvoice:"Fatura oluturmak iin bir sat sein",searchSalesPlaceholder:"Sat numaras, mteri veya rne gre ara...",noInvoiceableSales:"Faturalanabilir sat bulunamad",changeSearchCriteria:"Arama kriterlerinizi deitirmeyi deneyin",allSalesInvoiced:"Tm satlar faturaland",pieces:"adet",saleInfo:"Sat Bilgileri",salesWaitingForInvoice:"Fatura bekleyen sat: {{count}}"},Q1={method:"deme Yntemi",cash:"Nakit",card:"Kredi/Banka Kart",transfer:"Havale/EFT",check:"ek"},Z1={title:"Raporlar",subtitle:"letmeniz iin detayl analiz raporlar",reportDate:"Rapor Tarihi",overview:"Genel Bak",basicMetrics:"Temel Metrikler",totalIncome:"Toplam Gelir",totalExpense:"Toplam Gider",netProfit:"Net Kar",totalCustomers:"Toplam Mteri",net:"Net",last6MonthsPerformance:"Son 6 ay performans (en yeni  en eski)",financialHealth:"Mali Durum",profitMargin:"Kar Marj",growthRate:"Byme Oran",averageSale:"Ortalama Sat",activeCustomers:"Aktif Mteriler",paymentStatusAnalysis:"deme Durumu Analizi",invoiceStatuses:"Fatura Durumlar",expenseStatuses:"Gider Durumlar",revenueAnalysis:"Gelir Analizi",productBasedSales:"rn Bazl Satlar",sales:"sat",avg:"Ort",monthlyRevenueTrend:"Aylk Gelir Trendi",expenseAnalysis:"Gider Analizi",categoryBasedExpenses:"Kategori Bazl Giderler",expenses:"gider",monthlyExpenseTrend:"Aylk Gider Trendi",topSuppliers:"Gidere Gre En ok Tedarikiler",lastExpense:"Son",recentExpenses:"Son Giderler",expenseCategoryDistribution:"Gider Kategori Dalm",customerAnalysis:"Mteri Analizi",topCustomers:"En yi Mteriler",purchases:"alveri",last:"Son",customerStatistics:"Mteri statistikleri",activeCustomersCount:"Aktif Mteriler",revenuePerCustomer:"Mteri Bana Gelir",salesPerCustomer:"Mteri Bana Sat",averagePurchases:"Ortalama Alveri",maxPurchases:"Maksimum Alveri",performanceReports:"Performans Raporlar",kpiDashboard:"KPI Dashboard",increase:"Art",decrease:"Azal",monthlyPerformanceTable:"Aylk Performans Tablosu",total6Months:"Toplam (6 Ay)",totalIncome6Months:"Toplam Gelir (6 Ay)",totalExpense6Months:"Toplam Gider (6 Ay)",netProfit6Months:"Net Kar (6 Ay)",month:"Ay",profit:"Kar",profitMarginPercent:"Kar Marj",expenseRatio:"Gider Oran",expenseEfficiency:"Gider Verimlilii Analizi",expenseCategoryPerformance:"Gider Kategori Performans",noSupplier:"Tedariki Yok",noCustomer:"Mteri Yok"},J1={equipment:"Ekipman",utilities:"Faturalar",rent:"Kira",salaries:"Maalar",personnel:"Personel",supplies:"Malzemeler",marketing:"Pazarlama",travel:"Seyahat",insurance:"Sigorta",taxes:"Vergiler",other:"Dier"},ew={title:"Ariv",subtitle:"Tamamlanm ve gemi kaytlarnz",totalArchive:"Toplam Ariv",archivedInvoices:"Arivlenmi Faturalar",archivedExpenses:"Arivlenmi Giderler",archivedSales:"Arivlenmi Satlar",totalContacts:"Toplam Kiiler",searchPlaceholder:"Arivde ara...",clearFilters:"Filtreleri Temizle",tabs:{all:"Tm",invoices:"Faturalar",expenses:"Giderler",sales:"Satlar",contacts:"Kiiler"},sections:{archivedInvoices:"Arivlenmi Faturalar",archivedExpenses:"Arivlenmi Giderler",archivedSales:"Arivlenmi Satlar",customers:"Mteriler",suppliers:"Tedarikiler",archiveSummary:"Ariv zeti"},empty:{invoices:"Arivlenmi fatura yok",invoicesHelper:"denmi veya gecikmi faturalar burada grnecek",expenses:"Arivlenmi gider yok",expensesHelper:"denmi giderler burada grnecek",sales:"Arivlenmi sat yok",salesHelper:"Tamamlanm satlar burada grnecek",customers:"Mteri bulunamad",suppliers:"Tedariki bulunamad"},table:{invoice:"Fatura",customer:"Mteri",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler",expense:"Gider",supplier:"Tedariki",category:"Kategori",sale:"Sat",product:"rn/Hizmet",registered:"Kaytl"},actions:{view:"Grntle",download:"ndir"},summary:{financial:"Mali zet",totalIncome:"Toplam Arivlenmi Gelir",totalExpense:"Toplam Arivlenmi Gider",netArchive:"Net Ariv",recordCounts:"Kayt Saylar"},info:{title:"Ariv Hakknda",description:"Ariv sayfas tamamlanm ilemlerinizi saklar. denmi faturalar, onaylanm giderler ve tamamlanm satlar otomatik olarak burada listelenir. Bu kaytlar salt okunur ve gemi analiz ve denetim amalar iin kullanlabilir."}},tw=JSON.parse(`{"backToApp":"Uygulamaya Geri Dn","contact":{"title":"letiim Bilgileri","email":"E-posta","address":"Adres","addressValue":"Comptario GmbH, Musterstrasse 123, 10115 Berlin, Deutschland","company":"irket","companyValue":"Comptario GmbH"},"terms":{"title":"Kullanm artlar","subtitle":"Comptario hizmetlerini kullanrken uymanz gereken artlar ve koullar","lastUpdated":"Son gncelleme: 29 Ekim 2025","sections":{"acceptance":{"title":"artlarn Kabul","content":"Bu hizmeti kullanarak, bu kullanm artlarn kabul etmi saylrsnz. Bu artlar kabul etmiyorsanz, ltfen hizmeti kullanmayn."},"service":{"title":"Hizmet Aklamas","content":"Comptario, iletmeler iin muhasebe ve finansal ynetim zmleri sunan bir SaaS platformudur. Hizmetimiz unlar ierir:","features":{"invoicing":"Fatura oluturma ve ynetimi","expenses":"Gider takibi ve kategorilendirme","reporting":"Finansal raporlar ve analizler","multiTenant":"ok kiracl gvenli veri saklama"}},"responsibilities":{"title":"Kullanc Sorumluluklar","content":"Hizmeti kullanrken aadaki sorumluluklarnz bulunmaktadr:","items":{"accuracy":"Girdiiniz verilerin doruluunu salamak","compliance":"Yerel yasalara ve dzenlemelere uymak","security":"Hesap gvenliinizi korumak","backups":"nemli verilerinizi yedeklemek"}},"dataProtection":{"title":"Veri Koruma","content":"Verilerinizin gvenlii ve gizlilii bizim iin nceliklidir. GDPR ve dier veri koruma dzenlemelerine tam uyum salyoruz."},"liability":{"title":"Sorumluluk Snrlar","content":"Hizmetimizi olduu gibi sunuyoruz. Dolayl zararlar iin sorumlu deiliz. Toplam sorumluluumuz denen cretle snrldr."},"termination":{"title":"Hizmet Sonlandrma","content":"Bu anlamay istediiniz zaman sonlandrabilirsiniz. Hesabnz kapattnzda verileriniz gvenli ekilde silinir."},"changes":{"title":"artlarda Deiiklik","content":"Bu artlar zaman zaman gncelleyebiliriz. nemli deiiklikler iin size bildirimde bulunacaz."}}},"privacy":{"title":"Gizlilik Politikas","subtitle":"Kiisel verilerinizi nasl topladmz, kullandmz ve koruduumuz hakknda","sections":{"introduction":{"title":"Giri","content":"Bu gizlilik politikas, Comptario olarak kiisel verilerinizi nasl ilediimizi aklar. GDPR'ye tam uyum salyoruz."},"dataCollection":{"title":"Topladmz Veriler","personal":{"title":"Kiisel Bilgiler","name":"Ad ve soyadnz","email":"E-posta adresiniz","company":"irket bilgileriniz","phone":"Telefon numaranz (istee bal)"},"business":{"title":" Verileri","invoices":"Fatura ve mteri bilgileri","expenses":"Gider kaytlar","customers":"Mteri veritaban","financial":"Finansal ilem verileri"},"technical":{"title":"Teknik Veriler","ip":"IP adresi ve konum bilgisi","browser":"Tarayc ve cihaz bilgisi","usage":"Hizmet kullanm istatistikleri","cookies":"erezler ve benzeri teknolojiler"}},"dataUse":{"title":"Verileri Nasl Kullanyoruz","service":"Hizmet sunumu ve hesap ynetimi","support":"Mteri destei ve teknik yardm","improvements":"Hizmet gelitirme ve optimizasyon","compliance":"Yasal ykmllklerin yerine getirilmesi","communications":"nemli bildirimlerin gnderilmesi"},"legalBasis":{"title":"Hukuki Dayanak (GDPR)","gdprNote":"GDPR Madde 6 uyarnca veri ileme dayanaklarmz:","contract":{"title":"Szleme","desc":"Hizmet sunumu iin gerekli ilemler"},"legitimate":{"title":"Meru Menfaat","desc":"Hizmet gelitirme ve gvenlik"},"consent":{"title":"Rza","desc":"Pazarlama ve istee bal zellikler"},"legal":{"title":"Yasal Ykmllk","desc":"Vergi ve muhasebe kaytlar"}},"security":{"title":"Veri Gvenlii","content":"Verilerinizi korumak iin en ileri gvenlik nlemlerini kullanyoruz:","measures":{"encryption":"AES-256 ifreleme (aktarm ve depolama)","access":"ok faktrl kimlik dorulama","monitoring":"7/24 gvenlik izleme","backups":"ifrelenmi otomatik yedeklemeler","incident":"Olay mdahale prosedrleri"}},"rights":{"title":"GDPR Haklarnz","access":{"title":"Eriim Hakk","desc":"Hangi verilerimizi ilediimizi renebilirsiniz"},"rectification":{"title":"Dzeltme Hakk","desc":"Yanl verilerin dzeltilmesini isteyebilirsiniz"},"erasure":{"title":"Silme Hakk","desc":"Verilerinizin silinmesini talep edebilirsiniz"},"portability":{"title":"Tanabilirlik Hakk","desc":"Verilerinizi baka platformlara aktarabilirsiniz"},"objection":{"title":"tiraz Hakk","desc":"Belirli ilemlere itiraz edebilirsiniz"}},"retention":{"title":"Veri Saklama","content":"Verilerinizi yasal gereklilikler ve i ihtiyalar dorultusunda saklarz. Hesabnz kapattnzda, verileriniz 30 gn iinde gvenli ekilde silinir."},"transfers":{"title":"Uluslararas Veri Transferleri","content":"Verileriniz ncelikle AB iinde ilenir. AB dna transfer gerektiinde, uygun gvenceler (SCC, Adequacy Decision) kullanlr."},"contact":{"title":"letiim","dpo":"Veri Koruma Sorumlusu","email":"Gizlilik E-postas","address":"Posta Adresi"}}},"cookies":{"title":"erez Politikas","subtitle":"Web sitemizde erezleri nasl kullandmz ve tercihlerinizi nasl ynetebileceiniz","required":"Gerekli","preferences":{"title":"erez Tercihleri","saved":"erez tercihleri kaydedildi!","acceptAll":"Tmn Kabul Et","rejectAll":"Tmn Reddet","savePreferences":"Tercihleri Kaydet"},"types":{"necessary":{"title":"Gerekli erezler","description":"Bu erezler web sitesinin dzgn almas iin gereklidir ve devre d braklamaz.","examples":"Oturum ID, gvenlik token'lar, dil tercihi"},"analytics":{"title":"Analitik erezler","description":"Web sitesinin nasl kullanldn anlamamza yardmc olur ve performans iyiletirmemizi salar.","examples":"Google Analytics, sayfa grntleme istatistikleri"},"marketing":{"title":"Pazarlama erezleri","description":"Size daha alakal reklamlar gstermek iin kullanlr.","examples":"Facebook Pixel, Google Ads erezleri"},"preferences":{"title":"Tercih erezleri","description":"Web sitesinin davrann ve grnmn tercihlerinize gre hatrlar.","examples":"Dil seimi, tema tercihi, blge ayarlar"}},"sections":{"whatAre":{"title":"erezler Nedir?","content":"erezler, web sitesini ziyaret ettiinizde taraycnza kaydedilen kk metin dosyalardr. Web sitesinin sizi tanmasn ve tercihlerinizi hatrlamasn salar."},"howWeUse":{"title":"erezleri Nasl Kullanyoruz?","content":"erezleri web sitesinin ilevselliini salamak, gvenlii artrmak ve kullanc deneyimini iyiletirmek iin kullanyoruz."},"thirdParty":{"title":"nc Taraf erezleri","content":"Baz erezler, web sitemizdeki hizmetleri salayan nc taraf irketler tarafndan ayarlanr:","partners":{"title":" Ortaklarmz","analytics":"Web sitesi analitikleri","payments":"deme ilemleri","support":"Mteri destei"}},"managing":{"title":"erezleri Ynetme","content":"erez tercihlerinizi yukardaki panel zerinden ynetebilir veya tarayc ayarlarnzdan deitirebilirsiniz:","browsers":{"chrome":"Ayarlar > Gizlilik ve gvenlik > erezler","firefox":"Seenekler > Gizlilik ve Gvenlik > erezler","safari":"Tercihler > Gizlilik > erezleri ynet","edge":"Ayarlar > Site izinleri > erezler"}}},"contact":{"title":"letiim","email":"E-posta","cmp":"Onay Ynetim Platformu","cmpNote":"Bu sayfa basit bir onay ynetim arayz salar"}},"dpa":{"title":"Veri leme Szlemesi","subtitle":"GDPR Madde 28 uyarnca veri ileme koullar ve gvenceleri","download":"DPA'y ndir","acceptance":{"title":"DPA Kabul","description":"letme verilerini Comptario'da saklamak iin bu Veri leme Szlemesi'ni kabul etmeniz gerekmektedir.","checkbox":"Veri leme Szlemesi'ni okudum ve kabul ediyorum","button":"DPA'y Kabul Et","confirmed":"DPA baaryla kabul edildi ve kaydedildi!","status":{"accepted":"DPA Kabul Edildi","date":"Kabul Tarihi"}},"sections":{"introduction":{"title":"Giri","content":"Bu Veri leme Szlemesi (DPA), GDPR Madde 28 gereklilikleri uyarnca, Comptario ile mteriler arasndaki veri ileme ilikisini dzenler.","note":{"title":"nemli Not","content":"Bu szleme, mterinin veri sorumlusu, Comptario'nun ise veri ileyicisi olduu durumlar kapsar."}},"definitions":{"title":"Tanmlar","controller":{"title":"Veri Sorumlusu","desc":"Kiisel verilerin ilenme amalarn ve yntemlerini belirleyen mteri"},"processor":{"title":"Veri leyicisi","desc":"Veri sorumlusu adna kiisel verileri ileyen Comptario"},"personalData":{"title":"Kiisel Veri","desc":"Kimlii belirli veya belirlenebilir gerek kiilere ilikin her trl bilgi"}},"processing":{"title":"leme Detaylar","subject":{"title":"leme Konusu","desc":"Muhasebe ve finansal ynetim hizmetleri"},"duration":{"title":"leme Sresi","desc":"Hizmet szlemesi sresince ve sonrasnda yasal saklama sreleri"},"purpose":{"title":"leme Amalar","service":"Comptario hizmetlerinin sunulmas","support":"Teknik destek ve mteri hizmetleri","security":"Veri gvenlii ve sistem korunmas","compliance":"Yasal ykmllklerin yerine getirilmesi"}},"dataCategories":{"title":"Veri Kategorileri","personal":{"title":"Kiisel Veriler","name":"Ad, soyad","email":"E-posta adresi","phone":"Telefon numaras","company":"irket bilgileri"},"technical":{"title":"Teknik Veriler","ip":"IP adresi","logs":"Sistem gnlkleri","usage":"Kullanm verileri","device":"Cihaz bilgileri"}},"security":{"title":"Gvenlik nlemleri","content":"Comptario, kiisel verilerin gvenliini salamak iin aadaki teknik ve organizasyonel nlemleri uygular:","measures":{"technical":{"title":"Teknik nlemler","encryption":"AES-256 ifreleme","access":"ok faktrl kimlik dorulama","monitoring":"Srekli gvenlik izleme"},"organizational":{"title":"Organizasyonel nlemler","training":"Personel gvenlik eitimi","policies":"Veri koruma politikalar","incident":"Olay mdahale prosedrleri"}}},"subprocessors":{"title":"Alt leyiciler","content":"Comptario, belirli hizmetler iin onaylanm alt ileyiciler kullanabilir. Gncel liste aadaki balantda mevcuttur:","list":{"title":"Alt leyici Listesi","desc":"Gncel listeyi grntlemek iin","link":"buraya tklayn"}},"dataSubjectRights":{"title":"Veri Sahibi Haklar","content":"Comptario, veri sorumlusunun veri sahibi haklarna ilikin taleplerine destek olur ve gerekli teknik nlemleri alr."},"dataBreach":{"title":"Veri hlali","content":"Kiisel veri ihlali durumunda Comptario, veri sorumlusunu gecikmeksizin bilgilendirir ve gerekli nlemleri alr.","notification":{"title":"Bildirim Sresi","content":"Veri ihlali tespit edildiinde 72 saat iinde bildirim yaplr"}}}},"subprocessors":{"title":"Alt leyiciler Listesi","subtitle":"Comptario hizmetlerinin sunulmasnda kullanlan nc taraf veri ileyicileri ve gvenceleri","lastUpdated":"Son gncelleme: 29 Ekim 2025","currentList":"Mevcut Alt leyiciler","overview":{"title":"Genel Bak","content":"Bu sayfa, Comptario hizmetlerinin sunulmas srasnda kiisel verilerinizi ileyebilecek tm alt ileyicileri listeler. Her alt ileyici GDPR gerekliliklerine uygun olarak seilmi ve szlemeye balanmtr.","notification":{"title":"Deiiklik Bildirimi","content":"Alt ileyici listesindeki deiiklikler iin 30 gn nceden bildirimde bulunulur"}},"list":{"aws":{"purpose":"Bulut altyaps ve veri depolama"},"stripe":{"purpose":"deme ileme ve fatura ynetimi"},"sendgrid":{"purpose":"E-posta gnderimi ve bildirimler"},"intercom":{"purpose":"Mteri destei ve canl sohbet"},"analytics":{"purpose":"Web sitesi analitikleri ve performans izleme"}},"safeguards":{"title":"Gvenceler","adequacyDecision":"AB Yeterlilik Karar","dataTransferAgreement":"Veri Transfer Szlemesi","dataMinimization":"Veri Minimizasyon lkesi"},"dataTransfers":{"title":"Veri Transferleri","content":"AB dna veri transferleri iin aadaki hukuki mekanizmalar kullanyoruz:","mechanisms":{"adequacy":"AB Yeterlilik Kararlar","scc":"Standart Szleme Hkmleri (SCC)","bcr":"Balayc Kurumsal Kurallar (BCR)"}},"monitoring":{"title":"zleme ve Denetim","content":"Alt ileyicilerimizi dzenli olarak izler ve denetleriz:","activities":{"audit":"Yllk gvenlik denetimleri","certification":"ISO 27001, SOC 2 sertifikalar","review":"nc taraf gvenlik deerlendirmeleri"}},"contact":{"title":"letiim","content":"Alt ileyicilerle ilgili sorularnz iin bizimle iletiime geebilirsiniz:","email":"E-posta","notificationPeriod":"Bildirim Sresi","notificationPeriodValue":"Deiiklikler iin 30 gn nceden"}}}`),rw={banner:{title:"erez Tercihleri",description:"Bu web sitesi deneyiminizi iyiletirmek iin erezler kullanr. Hangi erezlerin kullanlacan seebilirsiniz.",acceptAll:"Tmn Kabul Et",rejectAll:"Tmn Reddet",managePreferences:"Tercihleri Ynet",savePreferences:"Tercihleri Kaydet",close:"Kapat"},modal:{title:"erez Tercihleri",description:"erez kategorilerini inceleyip tercihlerinizi belirleyebilirsiniz. Her kategorinin aklamasn okuyarak hangi erezlerin kullanlacana karar verebilirsiniz.",necessary:{title:"Zorunlu erezler",description:"Bu erezler web sitesinin dzgn almas iin gereklidir ve devre d braklamaz. Genellikle giri yapma, form doldurma gibi ilemlerinize yant olarak ayarlanr.",alwaysActive:"Her zaman aktif"},analytics:{title:"Analitik erezler",description:"Bu erezler web sitesinin nasl kullanldn anlamamza yardmc olur. Hangi sayfalarn daha ok ziyaret edildii ve kullanclarn sitede nasl gezindii hakknda bilgi toplar.",enabled:"Etkin",disabled:"Devre d"},marketing:{title:"Pazarlama erezler",description:"Bu erezler size daha alakal reklamlar gstermek iin kullanlr. Reklam ortaklarmzn ilgi alanlarnz hakknda bir profil oluturmasna yardmc olabilir.",enabled:"Etkin",disabled:"Devre d"},acceptSelected:"Seilenleri Kabul Et",acceptAll:"Tmn Kabul Et",rejectAll:"Tmn Reddet",cancel:"ptal"},notice:{updated:"erez tercihleriniz gncellendi.",saved:"erez tercihleri kaydedildi."},categories:{necessary:"Zorunlu",analytics:"Analitik",marketing:"Pazarlama"}},sw={members:{title:"yeler",subtitle:"Organizasyonunuzdaki yeleri ynetin",memberCount:"{{count}} ye",roles:{OWNER:"Sahip",ADMIN:"Ynetici",MEMBER:"ye"},inviteButton:"Davet Gnder",status:{active:"Aktif",pending:"Bekliyor"},table:{name:"Ad",email:"E-posta",role:"Rol",status:"Durum",joinedAt:"Katlma Tarihi",actions:"lemler"},invite:{title:"ye Davet Et",button:"Davet Gnder",form:{email:"E-posta Adresi",emailPlaceholder:"ornek@email.com",role:"Rol",rolePlaceholder:"Rol sein",message:"Davet Mesaj (stee bal)",messagePlaceholder:"Organizasyonumuza katlmanz iin sizi davet ediyoruz..."},success:"Davet baaryla gnderildi",error:"Davet gnderilirken hata olutu",duplicate:"Bu e-posta adresi zaten davet edilmi",limitReached:"Plan limiti ald. Daha fazla ye davet etmek iin plannz ykseltin."},remove:{title:"yeyi kar",message:"{{name}} kiisini organizasyondan karmak istediinizden emin misiniz?",warning:"Bu ilem geri alnamaz.",confirm:"Evet, kar",cancel:"ptal",success:"ye baaryla karld",error:"ye karlrken hata olutu",cannotRemoveOwner:"Sahip rolndeki ye karlamaz"},validation:{emailRequired:"E-posta gerekli",emailInvalid:"Geerli bir e-posta adresi girin",emailExists:"Bu e-posta zaten davetli veya ye"},tryAgain:"Tekrar Dene",organization:"Organizasyon",membersLabel:"yeler",plan:"Plan",youLabel:"Siz",makeAdmin:"Ynetici Yap",makeMember:"ye Yap",limitFull:"Limit Doldu",sending:"Gnderiliyor...",updateRole:{success:"ye rol gncellendi",error:"Rol gncellenirken hata olutu"},empty:{title:"Henz ye yok",subtitle:"lk yenizi davet ederek balayn",action:"ye Davet Et"},pendingInvites:{title:"Bekleyen Davetler",count:"{{count}} bekleyen davet",resend:"Tekrar Gnder",cancel:"ptal Et",resendSuccess:"Davet tekrar gnderildi",cancelSuccess:"Davet iptal edildi",expires:"{{date}} tarihinde sona eriyor"}},join:{title:"Organizasyona Katl",subtitle:"{{orgName}} organizasyonuna katlmaya davet edildiniz",invitedBy:"{{name}} tarafndan davet edildiniz",role:"Rol: {{role}}",accept:"Daveti Kabul Et",decline:"Daveti Reddet",expired:{title:"Davet Sresi Doldu",subtitle:"Bu davet balantsnn sresi dolmu",action:"Yeni davet isteyin"},invalid:{title:"Geersiz Davet",subtitle:"Bu davet balants geersiz",action:"Ana sayfaya git"},success:{title:"Baarl!",subtitle:"{{orgName}} organizasyonuna baaryla katldnz",action:"Panele Git"},error:{title:"Hata",subtitle:"Daveti kabul ederken bir hata olutu",tryAgain:"Tekrar Dene"},alreadyMember:{title:"Zaten yesiniz",subtitle:"Bu organizasyonun zaten bir yesisiniz",action:"Panele Git"}}},nw={invoice:{title:"FATURA",appSubtitle:"comptario Muhasebe Sistemi",customerInfo:"Mteri Bilgileri",invoiceNumber:"Fatura No",issueDate:"Dzenleme Tarihi",dueDate:"Vade Tarihi",status:"Durum",items:{description:"Aklama",quantity:"Miktar",unitPrice:"Birim Fiyat",total:"Toplam"},totals:{subtotal:"Ara Toplam",tax:"KDV",grandTotal:"Genel Toplam"},footer:"Bu fatura comptario ile oluturulmutur.",statusLabels:{paid:"dendi",sent:"Gnderildi",overdue:"Gecikmi",draft:"Taslak"}},expense:{title:"GDER BELGES",supplierInfo:"Tedariki Bilgileri",expenseNumber:"Gider No",expenseDate:"Gider Tarihi",paymentDate:"deme Tarihi",status:"Durum",category:"Kategori",details:"Gider Detaylar",totalAmount:"Toplam Gider Tutar",footer:"Bu gider belgesi comptario ile oluturulmutur.",statusLabels:{draft:"Taslak",approved:"Onayland",paid:"dendi"}},sale:{title:"SATI BELGES",customerInfo:"Mteri Bilgileri",saleNumber:"Sat No",saleDate:"Sat Tarihi",status:"Durum",paymentMethod:"deme Yntemi",details:"rn/Hizmet Detaylar",quantity:"Miktar",unitPrice:"Birim Fiyat",totalAmount:"Toplam Sat Tutar",footer:"Bu sat belgesi comptario ile oluturulmutur.",statusLabels:{completed:"Tamamland",pending:"Bekliyor",cancelled:"ptal"},paymentMethods:{cash:"Nakit",card:"Kredi/Banka Kart",transfer:"Havale/EFT",check:"ek"}}},iw={app:v1,landing:w1,auth:k1,pagination:N1,fiscalPeriods:j1,common:S1,currencies:C1,header:A1,dashboard:_1,quickActions:E1,transactions:T1,alerts:P1,months:D1,sidebar:I1,quotes:M1,stats:R1,status:z1,invoice:O1,expense:L1,customer:F1,supplier:B1,products:U1,chartOfAccounts:$1,invoices:V1,expenses:q1,validation:H1,customers:K1,suppliers:G1,banks:W1,settings:Y1,sales:X1,payment:Q1,reports:Z1,expenseCategories:J1,archive:ew,legal:tw,cookie:rw,org:sw,pdf:nw},aw={name:"comptario",subtitle:"Accounting System"},ow=JSON.parse(`{"nav.features":"Features","nav.pricing":"Pricing","nav.faq":"FAQ","nav.contact":"Contact","cta.try":"Try for Free","cta.signin":"Sign in","cta.watchDemo":"Watch Demo","hero.title":"Speed, clarity, and control in pre-accounting.","hero.sub":"Manage invoices, expenses, and VAT from a single, simple workspace. Multi-currency (EUR/TRY), category-based VAT rates, and PDF invoice generation.","features.title":"Everything you need to stay on top of pre-accounting","features.inv.title":"Invoicing","features.inv.desc":"Numbering, customers, PDF/HTML export, and email delivery.","features.exp.title":"Expenses","features.exp.desc":"File uploads, OCR (coming soon), category-based VAT (e.g., 20% FR, 18% TR).","features.vat.title":"VAT & Tax Summaries","features.vat.desc":"Clear period reports with input/output VAT highlights.","features.fx.title":"Multi-Currency","features.fx.desc":"EUR and TRY with rate input and rounding options.","value.title":"Scales from freelancers to SMBs","security.title":"Security & Compliance","security.items":"EU hosting (placeholder), encryption in transit and at rest, automated backups.","testimonials.title":"What our users say","pricing.title":"Simple pricing","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/mo","pricing.price.pro":"29/mo","pricing.price.biz":"Contact us","pricing.annualLine.free":"","pricing.annualLine.pro":"Annual prepay: 290/year (2 months free)","pricing.annualLine.biz":"","pricing.cta":"Start now","pricing.ctaContact":"Contact us","faq.title":"Frequently asked questions","faq.q1":"Can I start for free?","faq.a1":"Yes, the Starter plan lets you issue limited invoices at no cost.","faq.q2":"Does it support VAT?","faq.a2":"Yes, with category-based VAT and simple summaries.","faq.q3":"Are quotes supported?","faq.a3":"Quotes are coming soon  not enabled yet.","faq.q4":"Do you support multiple currencies?","faq.a4":"Yes, EUR and TRY with manual rate input.","faq.q5":"How do I cancel?","faq.a5":"You can cancel anytime from the billing settings.","faq.q6":"Where is my data hosted?","faq.a6":"In the EU (placeholder), with encryption and regular backups.","finalCta.title":"Make pre-accounting simple.","finalCta.cta":"Try for Free","seo.title":"Comptario  Pre-Accounting Software","seo.description":"Comptario helps you manage invoices, expenses and VAT in a simple, secure workspace with multi-currency support and PDF invoice generation.","hero.badge":"Comptario  Pre-Accounting Software","hero.features.pdf":"PDF Invoice Generation","hero.features.currency":"Multi-Currency (EUR/TRY)","hero.features.vat":"VAT Management","hero.mockup.revenue":"Monthly Revenue","hero.mockup.expenses":"Monthly Expenses","hero.mockup.vat":"VAT to Pay","hero.mockup.rate":"Rate","features.subtitle":"Manage your pre-accounting with confidence using our comprehensive set of tools designed for modern businesses.","value.subtitle":"Whether you're just starting out or running an established business, Comptario adapts to your needs.","value.freelancers.title":"For Freelancers","value.freelancers.desc":"Simple invoicing and expense tracking to keep your business organized","value.freelancers.basic":"Basic invoicing","value.freelancers.expense":"Expense management","value.freelancers.tax":"Tax summaries","value.small.title":"For Small Businesses","value.small.desc":"Comprehensive pre-accounting tools that grow with your business","value.small.currency":"Multi-currency support","value.small.customer":"Customer management","value.small.reporting":"Advanced reporting","value.growing.title":"For Growing Companies","value.growing.desc":"Scalable solutions that adapt to your expanding operations","value.growing.team":"Team collaboration","value.growing.api":"API integrations","value.growing.support":"Priority support","value.cta.title":"Ready to streamline your pre-accounting?","value.cta.subtitle":"Join thousands of businesses who trust Comptario to manage their finances efficiently.","value.cta.trial":"Start Free Trial","value.cta.demo":"Schedule Demo","value.stats.users":"Active Users","value.stats.invoices":"Invoices Generated","value.stats.uptime":"Uptime","security.badge":"Enterprise-Grade Security","finalCta.subtitle":"Join thousands of businesses who have streamlined their pre-accounting with Comptario. Start your free trial today  no credit card required.","finalCta.trial":"Free 30-day trial","finalCta.noSetup":"No setup fees","finalCta.cancel":"Cancel anytime","finalCta.stats.countries":"Countries Served","security.features.hosting.title":"EU Data Hosting","security.features.hosting.desc":"Your data is hosted in secure EU data centers with GDPR compliance","security.features.encryption.title":"End-to-End Encryption","security.features.encryption.desc":"All data is encrypted in transit and at rest using industry-standard protocols","security.features.backups.title":"Automated Backups","security.features.backups.desc":"Daily automated backups ensure your data is always safe and recoverable","security.features.gdpr.title":"GDPR Compliant","security.features.gdpr.desc":"Full compliance with European data protection regulations","security.features.monitoring.title":"24/7 Monitoring","security.features.monitoring.desc":"Continuous security monitoring and threat detection","security.features.uptime.title":"99.9% Uptime","security.features.uptime.desc":"Reliable infrastructure with guaranteed uptime SLA","security.trusted.title":"Trusted by businesses across Europe","security.trusted.gdpr":"Compliant","security.trusted.iso":"Certified","security.trusted.soc":"Type II","security.trusted.ssl":"Encrypted","security.trusted.desc":"Your financial data is protected by the same security standards used by banks and financial institutions. We never share your data with third parties and you maintain full control over your information.","testimonials.subtitle":"Don't just take our word for it. Here's what our users have to say about their experience with Comptario.","testimonials.sarah.content":"Comptario has simplified my invoicing process completely. I can now generate professional invoices in minutes and track my expenses effortlessly.","testimonials.sarah.role":"Freelance Designer","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"The multi-currency feature is a lifesaver for our international clients. VAT calculations are automatic and accurate, saving us hours of manual work.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"As a small business, we needed something simple yet powerful. Comptario gives us everything we need without the complexity of enterprise software.","testimonials.elena.role":"Small Business Owner","testimonials.elena.company":"Local Bakery","testimonials.stats.rating":"Average Rating","testimonials.stats.customers":"Happy Customers","testimonials.stats.countries":"Countries","pricing.subtitle":"Choose the plan that fits your business needs. Start free and upgrade as you grow.","faq.support.title":"Still have questions?","faq.support.desc":"Our support team is here to help you get the most out of Comptario.","faq.support.contact":"Contact Support","faq.support.demo":"Schedule a Demo","pricing.popular":"Most Popular","pricing.plans.starter.desc":"Perfect for freelancers and small projects","pricing.plans.pro.desc":"Ideal for growing businesses","pricing.plans.business.desc":"For established companies","pricing.features.users1":"1 user","pricing.features.users3":"3 users","pricing.features.usersUnlimited":"Unlimited users","pricing.features.invoices5":"5 invoices per month","pricing.features.basicExpense":"Basic expense tracking","pricing.features.expenses5":"5 expenses per month","pricing.features.bank1":"1 bank account","pricing.features.bankUnlimited":"Unlimited bank accounts","pricing.features.customerSupplier1":"1 customer and 1 supplier","pricing.features.customerSupplierUnlimited":"Unlimited customers and suppliers","pricing.features.unlimitedInvoicesExpenses":"Unlimited invoices and expenses","pricing.features.vat":"VAT calculations","pricing.features.pdf":"PDF export","pricing.features.emailSupport":"Email support","pricing.features.quotesBasic":"Quote creation and shareable link","pricing.features.quotesAdvanced":"Quotes: viewed/accepted/declined, PDF","pricing.features.unlimited":"Unlimited invoices","pricing.features.advancedExpense":"Advanced expense management","pricing.features.multiCurrency":"Multi-currency support","pricing.features.customerMgmt":"Customer management","pricing.features.products":"Product and stock management","pricing.features.reports":"Reports and insights","pricing.features.prioritySupport":"Priority support","pricing.features.api":"API access","pricing.features.everythingPro":"Everything in Pro","pricing.features.teamCollaboration":"Team collaboration","pricing.features.advancedReporting":"Advanced reporting","pricing.features.whiteLabel":"White-label options","pricing.features.dedicatedSupport":"Dedicated support","pricing.features.customIntegrations":"Custom integrations","pricing.features.noCredit":"No credit card required","pricing.pro.extraUser":"+ each additional user 5/mo","pricing.notes.vatAndCurrency":"Prices exclude VAT. Invoicing supported in EUR and TRY.","pricing.notes.cancelAnytime":"Cancel anytime.","pricing.trust":"Trusted by freelancers, agencies, and SMBs.","pricing.questions":"Have questions about our pricing?","pricing.checkFaq":"Check our FAQ","pricing.or":"or","pricing.contactSupport":"contact support","pricing.guarantee":"30-day money-back guarantee on all paid plans","faq.subtitle":"Everything you need to know about Comptario. Can't find the answer you're looking for? Feel free to contact us.","faq.contactUs":"contact us","footer.product":"PRODUCT","footer.company":"COMPANY","footer.support":"SUPPORT","footer.legal":"LEGAL","footer.features":"Features","footer.pricing":"Pricing","footer.security":"Security","footer.api":"API","footer.about":"About","footer.blog":"Blog","footer.careers":"Careers","footer.press":"Press","footer.helpCenter":"Help Center","footer.contactUs":"Contact Us","footer.status":"Status","footer.community":"Community","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.gdpr":"GDPR","footer.cookies":"Cookie Policy","footer.imprint":"Imprint","footer.description":"Simple, secure pre-accounting software for modern businesses. Manage invoices, expenses, and VAT with confidence.","footer.stayUpdated":"Stay updated","footer.updatesDesc":"Get the latest updates on new features and best practices.","footer.email":"support@comptario.com","footer.languages":"Available in 4 languages","footer.gdprCompliant":"GDPR Compliant","footer.emailPlaceholder":"Enter your email","footer.subscribe":"Subscribe","footer.copyright":" {{year}} Comptario. All rights reserved.","footer.madeWith":"Made with  in Europe"}`),lw={welcomeTitle:"Welcome",welcomeSubtitle:"Sign in to your account to continue",emailAddress:"Email Address",emailPlaceholder:"name@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password",forgotPasswordHelp:"Enter your email to receive a reset link.",resetEmailSent:"If this email is registered, a password reset link has been sent.",sendResetLink:"Send Link",resendIn:"Please wait to resend: {{seconds}}s",signIn:"Sign In",demoAccount:"Demo Account:",email:"Email",or:"or",adminLogin:"Admin Login",noAccount:"Don't have an account?",createFreeAccount:"Create a free account",registerTitle:"Create Account",registerSubtitle:"Create your free account and get started",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",companyName:"Company Name",companyPlaceholder:"Your company (optional)",phone:"Phone",phonePlaceholder:"(optional)",passwordHint:"At least 6 characters",passwordConfirm:"Confirm Password",passwordConfirmPlaceholder:"Re-enter your password",termsText:{prefix:"I accept: ",suffix:""},and:" and ",dataProcessing:"Data Processing Agreement",registerCta:"Create Account",alreadyHaveAccount:"Already have an account?",goToLogin:"Sign in"},cw={back:"Back",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",update:"Update",add:"Add",search:"Search",close:"Close",backToHome:"Back to Home",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",ok:"OK",periodLockedError:"This record cannot be deleted because it belongs to a locked fiscal period",description:"Description",dueDate:"Due Date",startDate:"Start Date",endDate:"End Date",monthlyIncomeExpense:"Monthly Income/Expense",last6MonthsPerformance:"Last 6 months performance (newest  oldest)",allCategories:"All categories",dateRanges:{thisMonth:"This month",last30Days:"Last 30 days",thisYear:"This year"},filters:{status:"Status",filterByStatus:"Filter by status"},actions:{clear:"Clear",view:"View",copyLink:"Copy link",downloadPDF:"Download PDF"},exportCSV:"Export CSV","dateRanges.thisMonth":"This month","dateRanges.last30Days":"Last 30 days","dateRanges.thisYear":"This year","common.total":"Total","common.exportCSV":"Export CSV","filters.status":"Status","filters.filterByStatus":"Filter by status","actions.clear":"Clear","actions.view":"View","actions.copyLink":"Copy link","actions.downloadPDF":"Download PDF",allStock:"All stocks",newest:"Newest",income:"Income",expense:"Expense",hideChart:"Hide Chart",showChart:"Show Chart",chartHidden:"Chart hidden",incomeLabel:"Income",expenseLabel:"Expense",allStatuses:"All Statuses",allAccounts:"All Accounts",cash:"Cash",card:"Card",transfer:"Transfer",check:"Check",email:"Email",quantity:"Quantity",status:"Status",notes:"Notes"},dw={TRY:"Turkish Lira",USD:"US Dollar",EUR:"Euro",GBP:"British Pound"},uw={newInvoice:"New Invoice",newSale:"New Sale",search:"Search...",language:"Language",notifications:"Notifications",noNotifications:"No new notifications.",settings:"Settings",logout:"Logout"},mw={title:"Dashboard",overview:"Overview",revenue:"Revenue",expense:"Expense",profit:"Profit",unpaidInvoices:"Unpaid Invoices",recentActivity:"Recent Activity",totalRevenue:"Total Revenue",totalExpense:"Total Expense",pendingInvoices:"Pending Invoices",activeCustomers:"Active Customers",quickActions:"Quick Actions",recentTransactions:"Recent Transactions",quickAccess:"Quick Access",lastTransactions:"Your last {count} transactions",allGood:"All Good!",noAlerts:"No pending tasks or alerts.",viewAll:"View All"},hw={newInvoice:"New Invoice",newInvoiceDesc:"Create customer invoice",newExpense:"New Expense",newExpenseDesc:"Add expense record",newSale:"New Sale",newSaleDesc:"Record sales transaction",newQuote:"New Quote",newQuoteDesc:"Create a quote for a customer",newCustomer:"New Customer",newCustomerDesc:"Add customer information",newProduct:"New Product",newProductDesc:"Add product information",customers:"Customers",suppliers:"Suppliers",banks:"Bank Accounts",products:"Products"},fw={invoice:"Invoice",expense:"Expense",sale:"Sale",paid:"Paid",unpaid:"Unpaid",pending:"Pending",actions:"Actions",transaction:"Transaction",customerDescription:"Customer/Description",amount:"Amount",status:"Status",date:"Date",noTransactions:"No transactions yet"},pw={overdueInvoices:"Overdue Invoices",overdueDesc:"Overdue invoice",dueSoon:"Due Soon",dueSoonDesc:"Due within 7 days",pendingExpenses:"Pending Expenses",pendingExpensesDesc:"Expense awaiting approval",allGood:"All Good!",noAlerts:"No pending tasks or alerts.",attentionRequired:"Attention Required"},gw={short:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},xw={dashboard:"Dashboard",invoices:"Invoices",expenses:"Expenses",customers:"Customers",products:"Products",suppliers:"Suppliers",banks:"Banks",sales:"Sales",quotes:"Quotes",reports:"Reports",accounting:"Accounting",chartOfAccounts:"Chart of Accounts",archive:"Archive",archiveConfirm:"Are you sure you want to archive this category?",organization:"Organization",settings:"Settings",close:"Close"},yw={title:"Quotes",newQuote:"New Quote",comingSoon:"Quotes module base page is ready. Advanced list, statuses, and PDF templates are next.",placeholderDescription:"Creating, sending, public view, and accept/decline flows will live here. Navigation and menu integration are done for now.",search:"Search quotes...",filterAll:"All Statuses",viewModal:{details:"Quote Details"},validUntil:"Valid Until",expiresIn:"(expires in {{days}} days)",expiredOn:"(expired on {{date}})",version:"v{{n}}",confirmAccept:"Are you sure you want to accept this quote?",acceptedThanks:"Thanks, the quote has been accepted.",confirmDecline:"Are you sure you want to decline this quote?",declinedInfo:"The quote has been declined.",duplicateConfirm:"Proceed with duplication?",reviseConfirm:"Do you want to revise this quote? The current version will be archived and a new version will be created.",actions:{send:"Send",accept:"Accept",decline:"Decline",downloadPdf:"Download PDF",copyLink:"Copy public link",copyPublicLink:"Copy Link",copyPublicLinkSuccess:"Link copied.",resendEmail:"Resend email",revise:"Revise",duplicate:"Duplicate"},editModal:{title:"Edit Quote",subtitle:"Update quote information",quoteNumber:"Quote No"},table:{quote:"Quote",customer:"Customer",amount:"Amount",status:"Status",date:"Date",actions:"Actions"},noQuotes:"No quotes yet",noQuotesDesc:"Start by creating your first quote.",noQuotesFound:"No quotes found",noQuotesFoundDesc:"No quotes match your search criteria.",createFirstQuote:"Create First Quote",view:"View",edit:"Edit",delete:"Delete",statusLabels:{viewed:"Viewed",accepted:"Accepted",declined:"Declined",expired:"Expired"},createModal:{title:"Create Quote",customer:"Customer",customerPlaceholder:"Enter customer name",currency:"Currency",date:"Issue Date",amount:"Amount",create:"Create"},scopeOfWork:{title:"Scope of Work",placeholder:"Project scope, deliverables, assumptions and exclusions...",note:"This content will be appended to the quote PDF as a new page after the current section and will be visible on the public link."}},bw={thisMonth:"this month",all:"all"},vw={paid:"Paid",unpaid:"Unpaid",pending:"Pending",overdue:"Overdue",draft:"Draft",sent:"Sent",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",active:"Active",inactive:"Inactive"},ww={details:"Invoice Details",downloadPdf:"Download PDF",information:"Invoice Information",type:"Invoice Type",productSale:"Product Sale",serviceSale:"Service Sale",issueDate:"Issue Date",dueDate:"Due Date",customerInfo:"Customer Information",itemsServices:"Items/Services",description:"Description",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",subtotal:"Subtotal",vat:"VAT",grandTotal:"Grand Total",notes:"Notes"},kw={details:"Expense Details",information:"Expense Information",number:"Expense No",date:"Expense Date",category:"Category",supplier:"Supplier",amount:"Amount",receipt:"Receipt",viewReceipt:"View Receipt"},Nw={history:"Transaction History",transactions:"transactions found",noHistory:"No Transaction History Yet",noHistoryDesc:"has no invoices or transaction records yet.",tip:"Tip:",tipDesc:"You can start transaction history by creating a new invoice for this customer.",createInvoice:"Create Invoice",sale:"Sale",completed:"Completed",waiting:"Waiting",historyPageTitle:"Customer History",historySubtitle:"All history for {{name}}",historyColumns:{name:"Record / No",date:"Date",status:"Status",createdBy:"Created by",type:"Type",description:"Description"}},jw={expenseHistory:"Expense History",expensesFound:"expenses found",noExpenseHistory:"No Expense History Yet",noExpenseHistoryDesc:"has no expense records yet.",tip:"Tip:",tipDesc:"You can start transaction history by creating a new expense for this supplier.",createExpense:"Create Expense",viewExpense:"View expense"},Sw={title:"Products",newProduct:"New Product",search:"Search products...",filterCategory:"All Categories",name:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",actions:"Actions",noProducts:"No products yet",addFirstProduct:"Add your first product",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this product?",manageCategories:"Manage Categories",totalProducts:"Total Products",stockValue:"Stock Value",totalStock:"Total Stock",lowStock:"Low Stock",activeProductsDesc:"Number of actively sold products",totalStockCostDesc:"Estimated total stock cost",totalUnitsDesc:"Total units in warehouse",criticalLevelDesc:"Products below critical level",productCategories:"Product Categories",archivedCategories:"Archived Categories",showArchived:"Show archived",hideArchived:"Hide archived",activate:"Activate",noArchivedCategories:"No archived categories",addCategory:"Add category",categoriesCount:"categories",allProducts:"All products",noCategories:"No categories yet.",mainCategoriesTitle:"Main Categories",subCategories:"Sub Categories",editCategory:"Edit",deleteCategory:"Delete",editCategoryTooltip:"Edit category",mainCategoryEditTooltip:"Only tax rate can be changed for main categories",generalCategoryCannotDelete:"General category cannot be deleted",mainCategoryCannotDelete:"Main category cannot be deleted",deleteCategoryConfirm:"Are you sure you want to delete this category?",deleteCategoryWithProducts:'This category has {count} products. If you delete it, products will be moved to "{defaultCategory}" category. Do you want to continue?',cannotArchiveCategoryWithProducts:"This category has {{count}} products. Move or delete them before archiving.",categoryCannotDeleteProtected:`"{category}" cannot be deleted because it's a main category.`,generalCategoryCannotDeleteAlert:"General category cannot be deleted.",updatePrice:"Update price",assignCategory:"Assign category",archive:"Archive",noProductsYet:"No products yet",costPrice:"Cost",unit:"Units",productsCount:"products",allStock:"All stock",lowStockFilter:"Low stock",outOfStock:"Out of stock",overstock:"Overstock",newest:"Newest",priceHighLow:"Price (High-Low)",priceLowHigh:"Price (Low-High)",stockHighLow:"Stock (High-Low)",stockLowHigh:"Stock (Low-High)",inStock:"In Stock",critical:"Critical",depleted:"Depleted",cost:"Cost",minStock:"Min. Stock",view:"View",viewProduct:"View product",mainCategories:{products:"Products",services:"Services"},createCategoryFirst:"You need to create a new category first.",productServiceName:"Product/Service Name",selectFromList:"Select product from list",productsFound:"products found",editProduct:"Edit Product",enterProductInfo:"Fill in product information and update stock status",generalInfo:"GENERAL INFORMATION",priceAndStock:"PRICE AND STOCK",notes:"NOTES",namePlaceholder:"Product/service name",unitPlaceholder:"Unit (e.g: pcs, kg, hour)",descriptionPlaceholder:"Product features, warranty information etc.",useCustomTax:"Use custom VAT rate",customTaxNote:"You can set a different VAT rate for this product. If left blank, category VAT will be used.",categoryTax:"Category VAT",salePrice:"Sale Price",stockQuantity:"Stock Quantity",criticalStock:"Critical Stock",customTaxRate:"Custom Tax Rate",taxRatePlaceholder:"18.0",customTaxRateHelper:"Custom VAT rate for this product. Overrides category VAT.",noCategoriesFound:"No categories found",useCustomTaxRate:"Use custom VAT rate",description:"Description"},Cw={title:"Chart of Accounts",subtitle:"Manage your accounting chart of accounts",newAccount:"New Account",search:"Search by account code or name...",code:"Code",accountName:"Account Name",type:"Type",balance:"Balance",status:"Status",actions:"Actions",accountsRegistered:"accounts registered",clickToEdit:"Click on account name, code or balance to edit",addAccountTip:"Use the button above to add a new account",active:"Active",passive:"Inactive",allSummed:"all summed",accountTypes:{all:"All",asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},accountTypesPlural:{asset:"Assets",liability:"Liabilities",equity:"Equity",revenue:"Revenue",expense:"Expenses"},statusLabels:{active:"Active",inactive:"Inactive"},tooltips:{editHint:"Click on account row to edit"},accountNames:{100:"CURRENT ASSETS",101:"Cash",102:"Banks",120:"Accounts Receivable",150:"FIXED ASSETS",200:"SHORT-TERM LIABILITIES",201:"Accounts Payable",300:"EQUITY",600:"REVENUES",601:"Sales Revenue",602:"Service Revenue",700:"EXPENSES",701:"Rent Expenses",702:"Personnel Expenses",703:"Invoice Expenses"},accountTypeLabels:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"}},Aw={title:"Invoices",newInvoice:"New Invoice",deleteConfirm:"Are you sure you want to delete this invoice?",search:"Search invoice number or customer...",filterAll:"All Statuses",invoicesRegistered:"invoices registered",inArchive:"in archive",noInvoices:"No invoices yet",noInvoicesFound:"No invoices found",showVoided:"Show Voided",hideVoided:"Hide Voided",noInvoicesDesc:"Start by creating your first invoice.",noInvoicesFoundDesc:"No invoices match your search criteria.",createFirstInvoice:"Create First Invoice",invoiceNumber:"Invoice",customer:"Customer",date:"Date",amount:"Amount",status:"Status",actions:"Actions",view:"View",edit:"Edit",download:"Download",delete:"Delete",viewInvoice:"View invoice",selectInvoiceType:"Select invoice type",newSale:"New Sale",newSaleDescription:"Create a new sale record and issue invoice",newSaleNote:"Sale and invoice will be created automatically",existingSale:"Existing Sale",existingSaleDescription:"Issue invoice for a previously made sale",existingSaleNote:"Only invoice information can be edited",returnInvoice:"Return Invoice",returnInvoiceDescription:"Create a return/refund invoice for a previously issued invoice",returnInvoiceNote:"Return will be created by selecting from existing invoices",invoiceNumberAutoGenerated:"Invoice number is auto-generated",invoiceType:"Invoice Type",productInvoice:"Product Invoice (Normal)",selectInvoiceToReturn:"-- Select invoice to return --",invoiceToReturn:"Invoice to Return (required)",returnInvoiceAutoLoad:" Selected invoice products will be automatically loaded with negative quantities.",issueDate:"Issue Date",dueDate:"Due Date",customerName:"Customer Name",customerSearchPlaceholder:"Search customer or enter new customer name",productsAndServices:"Products and Services",addLine:"Add Line",description:"Description",quantity:"Quantity",unitPriceExclVAT:"Unit Price (Excl. VAT)",totalInclVAT:"Total (Incl. VAT)",notes:"Notes",notesPlaceholder:"Additional notes related to the sale",autoGenerated:"Auto generated",statusCompleted:"Completed",statusPending:"Pending",statusCancelled:"Cancelled",enterSaleInfo:"Enter sale information",productServiceDescription:"Product or service description",subtotalExclVAT:"Subtotal (Excl. VAT)",vat:"VAT",grandTotalInclVAT:"Grand Total (Incl. VAT)",grandTotalExclVAT:"Grand Total (Excl. VAT)",createInvoiceFromSale:"Create Invoice from Sale",completeInvoiceInfo:"Complete invoice information"},_w={title:"Expenses",newExpense:"New Expense",deleteConfirm:"Are you sure you want to delete this expense?",deleteSuccess:"Expense deleted",deleteError:"Failed to delete expense",search:"Search expense description or supplier...",filterAll:"All Statuses",expensesRegistered:"expenses registered",noExpenses:"No expenses yet",noExpensesFound:"No expenses found",noExpensesDesc:"Start by recording your first expense.",noExpensesFoundDesc:"No expenses match your search criteria.",createFirstExpense:"Create First Expense",description:"Description",supplier:"Supplier",category:"Category",date:"Date",amount:"Amount",status:"Status",actions:"Actions",view:"View",edit:"Edit",download:"Download",delete:"Delete",viewExpense:"View expense",enterExpenseDetails:"Enter expense details",editExpense:"Edit Expense",enterExpenseInfo:"Enter expense information",expenseNumber:"Expense Number",expenseDate:"Expense Date",paymentDate:"Payment Date",addExpense:"Add Expense",supplierPlaceholder:"Enter supplier name...",descriptionPlaceholder:"Expense description...",totalExpense:"Total Expense",receiptUrl:"Receipt/Invoice URL",receiptUrlHelper:"You can add a link to receipt or invoice image/PDF"},Ew={title:"Customers",newCustomer:"New Customer",search:"Search customers...",customersRegistered:"customers registered",noCustomers:"No customers yet",noCustomersFound:"No customers found",noCustomersDesc:"Start by adding your first customer.",noCustomersFoundDesc:"No customers match your search criteria.",createFirstCustomer:"Add First Customer",name:"Name",email:"Email",phone:"Phone",totalInvoices:"Total Invoices",totalAmount:"Total Amount",actions:"Actions",importCSV:"Import CSV/Excel",downloadTemplate:"Download Template",address:"Address",emailPlaceholder:"customer@example.com",addressPlaceholder:"Complete address information...",addCustomer:"Add Customer",selectFromList:"Select customer from list",customersFound:"customers found",enterCustomerInfo:"Enter customer information",taxNumber:"Tax Number",company:"Company Name",namePlaceholder:"John Smith",companyPlaceholder:"ABC Technology Ltd.",duplicate:{title:"Duplicate Email Found",message:"A customer is already registered with this email ({{email}}): {{name}}. Please select or edit the existing record from the list.",openExisting:"Open existing customer"},import:{noDataFound:"No data found in the file.",noCustomersFound:"No customers found to import in the file.",success:"{{count}} customers imported successfully!",error:"An error occurred during import."}},Tw={title:"Suppliers",newSupplier:"New Supplier",search:"Search suppliers...",suppliersRegistered:"suppliers registered",noSuppliers:"No suppliers yet",noSuppliersFound:"No suppliers found",noSuppliersDesc:"Start by adding your first supplier.",noSuppliersFoundDesc:"No suppliers match your search criteria.",createFirstSupplier:"Add First Supplier",name:"Name",email:"Email",phone:"Phone",totalExpenses:"Total Expenses",totalAmount:"Total Amount",actions:"Actions"},Pw={title:"Bank Accounts",newAccount:"New Account",search:"Search bank name, account name or number...",filterAll:"All Accounts",accountsRegistered:"accounts registered",totalBalance:"Total balance",noBanks:"No bank accounts yet",noBanksFound:"No accounts found",noBanksDesc:"Start by adding your first bank account.",noBanksFoundDesc:"No accounts match your search criteria.",createFirstAccount:"Add First Account",bankName:"Bank",accountName:"Account Name",accountNumber:"Account No",balance:"Balance",status:"Status",actions:"Actions",editAccount:"Edit Account",enterAccountInfo:"Enter bank account information",selectBank:"Select bank",accountNamePlaceholder:"Company Name or Person Name",accountType:"Account Type",accountTypes:{checking:"Checking Account",savings:"Savings Account",business:"Business Account"},ibanAutoFormat:"IBAN will be formatted automatically",currentBalance:"Current Balance",currency:"Currency",accountActive:"Account active",addAccount:"Add Account",routingNumber:"Routing Number (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Branch Code"},Dw={title:"Settings",subtitle:"Manage your system and account settings",save:"Save",cancel:"Cancel",profile:"Profile",company:"Company Information",system:"System Settings",security:"Security",data:"Data Management",currency:"Currency",language:"Language",notifications:"Notifications",theme:"Theme",success:"Success",error:"Error",saved:"Settings saved",saveFailed:"Settings could not be saved"},Iw={title:"Sales",newSale:"New Sale",totalSales:"Total Sales",totalSalesCount:"Total Sales Count",completed:"Completed",salesList:"Sales List",salesRegistered:"sales registered",search:"Search by sale number, customer or product...",noSales:"No sales yet",noSalesFound:"No sales found",noSalesDesc:"Start by adding your first sale.",noSalesFoundDesc:"No sales match your search criteria.",createFirstSale:"Add First Sale",sale:"Sale",customer:"Customer",productService:"Product/Service",amount:"Amount",status:"Status",date:"Date",actions:"Actions",viewSale:"View sale",editSale:"Edit sale",deleteSale:"Delete sale",deleteConfirm:"Are you sure you want to delete this sale?",createInvoice:"Create Invoice",download:"Download",subtitle:"Manage your sales records",saleCompleted:"Sale Completed!",saleCompletedDesc:"The sale was successfully recorded.",createInvoiceQuestion:"Would you like to create an invoice?",autoGenerated:"Auto generated",statusCompleted:"Completed",statusPending:"Pending",statusCancelled:"Cancelled",saleNumber:"Sale Number",saleDate:"Sale Date",autoNumberNote:"Number will be generated automatically upon saving",unitPriceInclVAT:"Unit Price (VAT Incl.)",totalInclVAT:"Total (VAT Incl.)",unitPriceExclVAT:"Unit Price (Excl. VAT)",totalExclVAT:"Total (Excl. VAT)",notesPlaceholder:"Additional notes related to the sale",addSale:"Add Sale",enterSaleInfo:"Enter sale information",saleSummary:"Sale Summary",invoiceWillBeDownloaded:"If an invoice is created, it will be automatically downloaded in PDF format.",confirmInvoiceCreation:"Create invoice?",invoiceWillOpen:"The invoice will open in the viewing window after creation.",selectExistingSale:"Select Existing Sale",selectSaleForInvoice:"Select a sale to create invoice",searchSalesPlaceholder:"Search by sale number, customer or product...",noInvoiceableSales:"No invoiceable sales found",changeSearchCriteria:"Try changing your search criteria",allSalesInvoiced:"All sales have been invoiced",pieces:"pcs",saleInfo:"Sale Information",salesWaitingForInvoice:"Sales waiting for invoice: {{count}}"},Mw={method:"Payment Method",cash:"Cash",card:"Credit/Debit Card",transfer:"Bank Transfer",check:"Check"},Rw={title:"Reports",subtitle:"Detailed analysis reports for your business",reportDate:"Report Date",overview:"Overview",basicMetrics:"Basic Metrics",totalIncome:"Total Income",totalExpense:"Total Expense",netProfit:"Net Profit",totalCustomers:"Total Customers",net:"Net",last6MonthsPerformance:"Last 6 months performance (newest  oldest)",financialHealth:"Financial Health",profitMargin:"Profit Margin",growthRate:"Growth Rate",averageSale:"Average Sale",activeCustomers:"Active Customers",paymentStatusAnalysis:"Payment Status Analysis",invoiceStatuses:"Invoice Statuses",expenseStatuses:"Expense Statuses",revenueAnalysis:"Revenue Analysis",productBasedSales:"Product-Based Sales",sales:"sales",avg:"Avg",monthlyRevenueTrend:"Monthly Revenue Trend",expenseAnalysis:"Expense Analysis",categoryBasedExpenses:"Category-Based Expenses",expenses:"expenses",monthlyExpenseTrend:"Monthly Expense Trend",topSuppliers:"Top Suppliers by Expense",lastExpense:"Last",recentExpenses:"Recent Expenses",expenseCategoryDistribution:"Expense Category Distribution",customerAnalysis:"Customer Analysis",topCustomers:"Top Customers",purchases:"purchases",last:"Last",customerStatistics:"Customer Statistics",activeCustomersCount:"Active Customers",revenuePerCustomer:"Revenue Per Customer",salesPerCustomer:"Sales Per Customer",averagePurchases:"Average Purchases",maxPurchases:"Max Purchases",performanceReports:"Performance Reports",kpiDashboard:"KPI Dashboard",increase:"Increase",decrease:"Decrease",monthlyPerformanceTable:"Monthly Performance Table",total6Months:"Total (6 Months)",totalIncome6Months:"Total Income (6 Months)",totalExpense6Months:"Total Expense (6 Months)",netProfit6Months:"Net Profit (6 Months)",month:"Month",profit:"Profit",profitMarginPercent:"Profit Margin",expenseRatio:"Expense Ratio",expenseEfficiency:"Expense Efficiency Analysis",expenseCategoryPerformance:"Expense Category Performance",noSupplier:"No Supplier",noCustomer:"No Customer"},zw={equipment:"Equipment",utilities:"Utilities",rent:"Rent",salaries:"Salaries",personnel:"Personnel",supplies:"Supplies",marketing:"Marketing",travel:"Travel",insurance:"Insurance",taxes:"Taxes",other:"Other"},Ow={descriptionRequired:"Please enter a description",amountRequired:"Please enter a valid amount",categoryRequired:"Please select a category",dueDateRequired:"Please select a due date",saleDateRequired:"Sale date is required",unitPriceRequired:"Unit price must be greater than zero",quantityRequired:"Quantity must be greater than zero",customerNameRequired:"Customer name is required",customerNotFound:"Customer not found in system. Please select from list.",productNameRequired:"Product or service name is required",productNotFound:"Product not found in system. Please select from list.",skuRequired:"SKU is required",validPriceRequired:"Please enter a valid price",validStockRequired:"Please enter a valid stock quantity"},Lw={title:"Archive",subtitle:"Your completed and historical records",totalArchive:"Total Archive",archivedInvoices:"Archived Invoices",archivedExpenses:"Archived Expenses",archivedSales:"Archived Sales",totalContacts:"Total Contacts",searchPlaceholder:"Search in archive...",clearFilters:"Clear Filters",tabs:{all:"All",invoices:"Invoices",expenses:"Expenses",sales:"Sales",contacts:"Contacts"},sections:{archivedInvoices:"Archived Invoices",archivedExpenses:"Archived Expenses",archivedSales:"Archived Sales",customers:"Customers",suppliers:"Suppliers",archiveSummary:"Archive Summary"},empty:{invoices:"No archived invoices",invoicesHelper:"Paid or overdue invoices will appear here",expenses:"No archived expenses",expensesHelper:"Paid expenses will appear here",sales:"No archived sales",salesHelper:"Completed sales will appear here",customers:"No customers found",suppliers:"No suppliers found"},table:{invoice:"Invoice",customer:"Customer",amount:"Amount",status:"Status",date:"Date",actions:"Actions",expense:"Expense",supplier:"Supplier",category:"Category",sale:"Sale",product:"Product/Service",registered:"Registered"},actions:{view:"View",download:"Download"},summary:{financial:"Financial Summary",totalIncome:"Total Archived Income",totalExpense:"Total Archived Expense",netArchive:"Net Archive",recordCounts:"Record Counts"},info:{title:"About Archive",description:"The archive page stores your completed transactions. Paid invoices, approved expenses, and completed sales are automatically listed here. These records are read-only and can be used for historical analysis and audit purposes."}},Fw=JSON.parse(`{"terms":{"title":"Terms of Service","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Service Overview","content":"MoneyFlow is a cloud-based pre-accounting software platform designed to help businesses manage their invoices, expenses, and financial operations. The platform offers multi-currency support, automated VAT calculations, and integrated reporting tools."},"section2":{"title":"2. User Accounts and Registration","content":"To use MoneyFlow, you must create an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."},"section3":{"title":"3. Acceptable Use","content":"You agree to use MoneyFlow only for lawful purposes and in accordance with these Terms. You may not use the service to engage in any illegal activities, violate intellectual property rights, or disrupt the platform's functionality."},"section4":{"title":"4. Data Ownership and Privacy","content":"You retain ownership of all data you input into MoneyFlow. We process your data in accordance with our Privacy Policy and applicable data protection laws, including GDPR. We implement appropriate security measures to protect your information."},"section5":{"title":"5. Service Availability","content":"While we strive to maintain 99.9% uptime, MoneyFlow may experience occasional service interruptions for maintenance, updates, or unforeseen technical issues. We will provide advance notice for planned maintenance whenever possible."},"section6":{"title":"6. Subscription and Billing","content":"MoneyFlow offers various subscription plans with different features and usage limits. Billing is processed automatically according to your chosen plan. You may upgrade, downgrade, or cancel your subscription at any time."},"section7":{"title":"7. Data Backup and Export","content":"We perform regular automated backups of your data. You can export your data at any time in standard formats. Upon account termination, we will retain your data for 90 days before permanent deletion, unless required otherwise by law."},"section8":{"title":"8. Limitation of Liability","content":"MoneyFlow's liability is limited to the amount you have paid for the service in the 12 months preceding any claim. We are not liable for indirect, incidental, or consequential damages."},"section9":{"title":"9. Intellectual Property","content":"The MoneyFlow platform, including its software, design, and content, is protected by intellectual property laws. You are granted a limited license to use the service according to these Terms."},"section10":{"title":"10. Termination","content":"Either party may terminate this agreement at any time. Upon termination, your access to the service will cease, and we will delete your data according to our data retention policy."},"section11":{"title":"11. Governing Law","content":"These Terms are governed by the laws of the European Union and the jurisdiction where MoneyFlow operates. Any disputes will be resolved through binding arbitration."},"section12":{"title":"12. Changes to Terms","content":"We may update these Terms from time to time. We will notify you of significant changes via email or through the platform. Continued use of MoneyFlow after changes constitutes acceptance of the new Terms."}},"privacy":{"title":"Privacy Policy","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Information We Collect","content":"We collect information you provide directly (account details, financial data), information automatically collected (usage data, IP addresses), and information from third parties (payment processors, integrations)."},"section2":{"title":"2. How We Use Your Information","content":"We use your information to provide and improve our services, process payments, communicate with you, ensure security, and comply with legal obligations."},"section3":{"title":"3. Information Sharing","content":"We do not sell or rent your personal information. We may share information with service providers, for legal compliance, or with your explicit consent."},"section4":{"title":"4. Data Security","content":"We implement industry-standard security measures including encryption in transit and at rest, regular security audits, access controls, and secure data centers."},"section5":{"title":"5. Your Rights (GDPR)","content":"Under GDPR, you have rights to access, rectify, erase, restrict processing, data portability, and object to processing of your personal data. You may also withdraw consent and file complaints with supervisory authorities."},"section6":{"title":"6. Data Retention","content":"We retain your data as long as your account is active and for a reasonable period afterward for legal and business purposes. You may request data deletion at any time."},"section7":{"title":"7. International Transfers","content":"Your data is primarily processed within the EU. Any international transfers are protected by appropriate safeguards such as Standard Contractual Clauses."},"section8":{"title":"8. Cookies and Tracking","content":"We use cookies and similar technologies for authentication, preferences, analytics, and security. You can control cookie settings through your browser."},"section9":{"title":"9. Third-Party Services","content":"Our platform may integrate with third-party services. Their privacy practices are governed by their own privacy policies, which we encourage you to review."},"section10":{"title":"10. Children's Privacy","content":"MoneyFlow is not intended for users under 18. We do not knowingly collect personal information from children under 18."},"section11":{"title":"11. Contact Information","content":"For privacy-related questions or to exercise your rights, contact our Data Protection Officer at privacy@moneyflow.com or through our support portal."}},"cookies":{"title":"Cookie Policy","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. What Are Cookies","content":"Cookies are small text files stored on your device when you visit our website. They help us provide you with a better experience by remembering your preferences and analyzing site usage."},"section2":{"title":"2. Types of Cookies We Use","content":"We use essential cookies (necessary for basic functionality), functional cookies (remember preferences), analytics cookies (understand usage patterns), and security cookies (protect against threats)."},"section3":{"title":"3. Essential Cookies","content":"These cookies are necessary for the website to function properly. They enable core functionality such as user authentication, session management, and security features. These cannot be disabled."},"section4":{"title":"4. Functional Cookies","content":"These cookies remember your preferences and choices to provide enhanced functionality, such as language selection, timezone settings, and user interface customizations."},"section5":{"title":"5. Analytics Cookies","content":"We use analytics cookies to understand how visitors interact with our website. This helps us improve our services and user experience. All analytics data is aggregated and anonymized."},"section6":{"title":"6. Third-Party Cookies","content":"Some cookies are set by third-party services we use, such as analytics providers or payment processors. These are governed by the respective third parties' privacy policies."},"section7":{"title":"7. Cookie Duration","content":"Session cookies are deleted when you close your browser. Persistent cookies remain on your device for a set period or until you delete them manually."},"section8":{"title":"8. Managing Cookies","content":"You can control and manage cookies through your browser settings. You can delete existing cookies and set your browser to accept or reject cookies. Note that disabling cookies may affect website functionality."},"section9":{"title":"9. Cookie Consent","content":"By using our website, you consent to the use of cookies as described in this policy. You can withdraw your consent at any time by adjusting your browser settings."},"section10":{"title":"10. Updates to Cookie Policy","content":"We may update this Cookie Policy from time to time. We will notify you of significant changes by posting the updated policy on our website with a new effective date."}},"dpa":{"title":"Data Processing Addendum (DPA)","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Definitions and Scope","content":"This Data Processing Addendum (\\"DPA\\") forms part of the Terms of Service between you (\\"Controller\\") and MoneyFlow (\\"Processor\\"). It governs the processing of personal data in accordance with GDPR and other applicable data protection laws."},"section2":{"title":"2. Data Processing Details","content":"MoneyFlow processes personal data only on documented instructions from the Controller, for the purposes of providing the accounting software services, and in accordance with applicable data protection laws."},"section3":{"title":"3. Categories of Data","content":"We process the following categories of personal data: contact information (names, addresses, emails), financial data (invoices, payments, transactions), user account data (login credentials, preferences), and usage data (access logs, analytics)."},"section4":{"title":"4. Data Subject Rights","content":"MoneyFlow assists the Controller in fulfilling data subject rights requests, including access, rectification, erasure, restriction, portability, and objection. We provide necessary tools and cooperation to enable compliance."},"section5":{"title":"5. Security Measures","content":"We implement appropriate technical and organizational measures to ensure data security, including encryption, access controls, regular security assessments, staff training, and incident response procedures."},"section6":{"title":"6. Sub-processors","content":"MoneyFlow may engage sub-processors to assist in providing services. All sub-processors are subject to data protection obligations equivalent to those in this DPA. A current list of sub-processors is available upon request."},"section7":{"title":"7. Data Transfers","content":"Personal data is primarily processed within the EU/EEA. Any transfers to third countries are protected by appropriate safeguards such as Standard Contractual Clauses or adequacy decisions."},"section8":{"title":"8. Data Breach Notification","content":"MoneyFlow will notify the Controller of any personal data breaches without undue delay and within 72 hours of becoming aware of the breach, providing all relevant information for assessment and reporting obligations."},"section9":{"title":"9. Data Protection Impact Assessment","content":"Upon request, MoneyFlow will provide reasonable assistance to the Controller in conducting Data Protection Impact Assessments (DPIAs) and prior consultations with supervisory authorities."},"section10":{"title":"10. Audit and Compliance","content":"MoneyFlow maintains records of processing activities and makes available to the Controller information necessary to demonstrate compliance with data protection obligations, including audit rights subject to confidentiality obligations."},"section11":{"title":"11. Data Return and Deletion","content":"Upon termination of services, MoneyFlow will, at the Controller's choice, return or delete all personal data and existing copies, unless retention is required by applicable law."},"section12":{"title":"12. Liability and Indemnification","content":"Each party's liability is limited to damages directly caused by its breach of this DPA. MoneyFlow will indemnify the Controller against claims resulting from MoneyFlow's breach of its data protection obligations."}},"subprocessors":{"title":"List of Sub-processors","lastUpdated":"Last updated: {{date}}","intro":"MoneyFlow may engage the following sub-processors to assist in providing our services. All sub-processors are subject to strict data protection obligations.","section1":{"title":"1. Cloud Infrastructure Providers","aws":{"name":"Amazon Web Services (AWS)","location":"EU (Frankfurt)","purpose":"Cloud hosting and infrastructure services","safeguards":"AWS GDPR compliance, EU Data Residency"},"digitalocean":{"name":"DigitalOcean","location":"EU (Amsterdam)","purpose":"Additional cloud hosting and backup services","safeguards":"Standard Contractual Clauses, EU hosting"}},"section2":{"title":"2. Payment Processors","stripe":{"name":"Stripe","location":"EU/US","purpose":"Payment processing and subscription management","safeguards":"PCI DSS compliance, Standard Contractual Clauses"},"paypal":{"name":"PayPal","location":"EU/US","purpose":"Alternative payment processing","safeguards":"PCI DSS compliance, Privacy Shield successor"}},"section3":{"title":"3. Communication Services","sendgrid":{"name":"SendGrid (Twilio)","location":"EU/US","purpose":"Transactional email delivery","safeguards":"Standard Contractual Clauses, EU processing"},"intercom":{"name":"Intercom","location":"EU/US","purpose":"Customer support and communication","safeguards":"Standard Contractual Clauses, GDPR compliance"}},"section4":{"title":"4. Analytics and Monitoring","googleanalytics":{"name":"Google Analytics","location":"EU/US","purpose":"Website analytics and performance monitoring","safeguards":"Google Analytics 4 with EU data processing"},"sentry":{"name":"Sentry","location":"EU/US","purpose":"Error monitoring and application performance","safeguards":"Standard Contractual Clauses, data anonymization"}},"section5":{"title":"5. Security Services","cloudflare":{"name":"Cloudflare","location":"Global (EU nodes)","purpose":"CDN, DDoS protection, and security services","safeguards":"EU Data Localization, Standard Contractual Clauses"}},"section6":{"title":"6. Backup and Archive Services","backblaze":{"name":"Backblaze","location":"EU","purpose":"Data backup and archival services","safeguards":"Encryption at rest and in transit, EU hosting"}},"notifications":{"title":"Sub-processor Change Notifications","content":"We will provide 30 days' advance notice of any new sub-processors or changes to existing ones. You may object to such changes, and if we cannot resolve your concerns, you may terminate your agreement with us."},"contact":{"title":"Questions About Sub-processors","content":"If you have questions about our sub-processors or need additional information about data protection safeguards, please contact us at privacy@moneyflow.com."}},"common":{"backToApp":" Back to App","effectiveDate":"Effective Date","tableOfContents":"Table of Contents","printPage":"Print this page","downloadPdf":"Download PDF","lastUpdated":"Last updated","contactUs":"Contact us at","questionsContact":"If you have any questions about this {{document}}, please contact us at {{email}}.","documentType":{"terms":"Terms of Service","privacy":"Privacy Policy","cookies":"Cookie Policy","dpa":"Data Processing Addendum","subprocessors":"Sub-processors List"},"navigation":{"terms":"Terms","privacy":"Privacy","cookies":"Cookies","dpa":"DPA","subprocessors":"Sub-processors"}}}`),Bw={banner:{title:"Cookie Preferences",description:"This website uses cookies to improve your experience. You can choose which cookies to allow.",acceptAll:"Accept All",rejectAll:"Reject All",managePreferences:"Manage Preferences",savePreferences:"Save Preferences",close:"Close"},modal:{title:"Cookie Preferences",description:"You can review cookie categories and set your preferences. Read the description of each category to decide which cookies to allow.",necessary:{title:"Necessary Cookies",description:"These cookies are essential for the website to function properly and cannot be disabled. They are usually set in response to actions like logging in or filling out forms.",alwaysActive:"Always active"},analytics:{title:"Analytics Cookies",description:"These cookies help us understand how the website is used. They collect information about which pages are visited most and how users navigate the site.",enabled:"Enabled",disabled:"Disabled"},marketing:{title:"Marketing Cookies",description:"These cookies are used to show you more relevant ads. They may help our advertising partners build a profile of your interests.",enabled:"Enabled",disabled:"Disabled"},acceptSelected:"Accept Selected",acceptAll:"Accept All",rejectAll:"Reject All",cancel:"Cancel"},notice:{updated:"Your cookie preferences have been updated.",saved:"Cookie preferences saved."},categories:{necessary:"Necessary",analytics:"Analytics",marketing:"Marketing"}},Uw={itemsPerPage:"Items per page",previous:"Previous",next:"Next",range:"{{start}}-{{end}} / {{total}}"},$w={title:"Fiscal Periods",subtitle:"Manage your fiscal period settings",newPeriod:"New Period",search:"Search periods...",periodsRegistered:"periods registered",noPeriods:"No fiscal periods yet",noPeriodsFound:"No fiscal periods found",noPeriodsDesc:"Start by creating your first fiscal period.",noPeriodsFoundDesc:"No fiscal periods match your search criteria.",createFirstPeriod:"Create First Fiscal Period",periodName:"Period Name",startDate:"Start Date",endDate:"End Date",status:"Status",actions:"Actions",view:"View",edit:"Edit",lock:"Lock",unlock:"Unlock",delete:"Delete",viewPeriod:"View fiscal period",editPeriod:"Edit Fiscal Period",addPeriod:"Add Fiscal Period",enterPeriodInfo:"Enter fiscal period information",periodNamePlaceholder:"e.g: Year 2024",periodDuration:"period duration",days:"days",locked:"Locked",active:"Active",planned:"Planned",statusLabels:{active:"Active",locked:"Locked",planned:"Planned"},lockPeriod:"Lock fiscal period",unlockPeriod:"Unlock fiscal period",lockConfirm:"Are you sure you want to lock this fiscal period? Locked periods cannot be edited.",unlockConfirm:"Are you sure you want to unlock this fiscal period?",deleteConfirm:"Are you sure you want to delete this fiscal period?",validation:{nameRequired:"Period name is required",startDateRequired:"Start date is required",endDateRequired:"End date is required",endDateAfterStart:"End date must be after start date",periodOverlap:"These dates overlap with an existing period",minimumDuration:"Fiscal period must be at least 1 day"},errors:{createFailed:"Failed to create fiscal period",updateFailed:"Failed to update fiscal period",deleteFailed:"Failed to delete fiscal period",lockFailed:"Failed to lock fiscal period",unlockFailed:"Failed to unlock fiscal period",loadFailed:"Failed to load fiscal periods",periodLocked:"This fiscal period is locked and cannot be modified",periodNotFound:"Fiscal period not found",operationNotAllowed:"This operation is not allowed for locked fiscal period"},success:{created:"Fiscal period created successfully",updated:"Fiscal period updated successfully",deleted:"Fiscal period deleted successfully",locked:"Fiscal period locked successfully",unlocked:"Fiscal period unlocked successfully"},widget:{title:"Fiscal Periods",activePeriod:"Active Period",totalPeriods:"Total Periods",lockedPeriods:"Locked Periods",daysRemaining:"Days Remaining",noActivePeriod:"No active period",periodsOverlapping:"Overlapping periods exist",allPeriodsLocked:"All periods are locked",createActivePeriod:"Create active period",managePeriods:"Manage Periods",warnings:{overlapping:"Some fiscal periods overlap",noActive:"No active fiscal period currently",allLocked:"All fiscal periods are locked"}},filters:{showVoided:"Show voided",hideVoided:"Hide voided",voidedRecords:"voided records"}},Vw={members:{title:"Organization Members",subtitle:"Manage your organization members and permissions",search:"Search members...",membersCount:"members",member:"Member",email:"Email",role:"Role",statusLabel:"Status",actions:"Actions",inviteButton:"Send Invitation",sending:"Sending...",table:{name:"Name",email:"Email",role:"Role",joinedAt:"Joined Date",actions:"Actions"},edit:"Edit",remove:"Remove",cancel:"Cancel",resend:"Resend",makeAdmin:"Make Admin",makeMember:"Make Member",noMembers:"No members yet",noMembersDesc:"Start by inviting your first team member.",noPendingInvites:"No pending invites",noPendingInvitesDesc:"All invitations have been accepted or expired.",roles:{owner:"Owner",admin:"Administrator",member:"Member",viewer:"Viewer",OWNER:"Owner",ADMIN:"Administrator",MEMBER:"Member"},status:{active:"Active",pending:"Pending",inactive:"Inactive"},permissions:{owner:"Full access to all features and settings",admin:"Full access except billing and organization deletion",member:"Create and edit invoices, expenses, customers",viewer:"View-only access to all data"},confirmRemove:"Are you sure you want to remove this member?",confirmCancel:"Are you sure you want to cancel this invitation?",inviteSuccess:"Invitation sent successfully",inviteError:"Failed to send invitation",removeSuccess:"Member removed successfully",removeError:"Failed to remove member",updateSuccess:"Member updated successfully",updateError:"Failed to update member",validation:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",emailExists:"This email is already invited or is a member"},tryAgain:"Try Again",organization:"Organization",membersLabel:"Members",plan:"Plan",youLabel:"You",invite:{title:"Invite Member",button:"Send Invitation",limitReached:"Plan limit reached. Upgrade your plan to invite more members.",success:"Invitation sent successfully",error:"Failed to send invitation",duplicate:"This email is already invited",form:{email:"Email Address",emailPlaceholder:"example@email.com",role:"Role"}},pendingInvites:{title:"Pending Invitations",count:"{{count}} pending invitations",resend:"Resend",cancel:"Cancel",expires:"Expires on {{date}}"}}},qw={invoice:{title:"INVOICE",appSubtitle:"comptario Accounting System",customerInfo:"Customer Information",invoiceNumber:"Invoice No",issueDate:"Issue Date",dueDate:"Due Date",status:"Status",items:{description:"Description",quantity:"Quantity",unitPrice:"Unit Price",total:"Total"},totals:{subtotal:"Subtotal",tax:"Tax",grandTotal:"Grand Total"},footer:"This invoice was generated with comptario.",statusLabels:{paid:"Paid",sent:"Sent",overdue:"Overdue",draft:"Draft"}},expense:{title:"EXPENSE RECEIPT",supplierInfo:"Supplier Information",expenseNumber:"Expense No",expenseDate:"Expense Date",paymentDate:"Payment Date",status:"Status",category:"Category",details:"Expense Details",totalAmount:"Total Expense Amount",footer:"This expense receipt was generated with comptario.",statusLabels:{draft:"Draft",approved:"Approved",paid:"Paid"}},sale:{title:"SALES RECEIPT",customerInfo:"Customer Information",saleNumber:"Sale No",saleDate:"Sale Date",status:"Status",paymentMethod:"Payment Method",details:"Product/Service Details",quantity:"Quantity",unitPrice:"Unit Price",totalAmount:"Total Sale Amount",footer:"This sales receipt was generated with comptario.",statusLabels:{completed:"Completed",pending:"Pending",cancelled:"Cancelled"},paymentMethods:{cash:"Cash",card:"Card",transfer:"Transfer",check:"Check"}}},Hw={app:aw,landing:ow,auth:lw,common:cw,currencies:dw,header:uw,dashboard:mw,quickActions:hw,transactions:fw,alerts:pw,months:gw,sidebar:xw,quotes:yw,stats:bw,status:vw,invoice:ww,expense:kw,customer:Nw,supplier:jw,products:Sw,chartOfAccounts:Cw,invoices:Aw,expenses:_w,customers:Ew,suppliers:Tw,banks:Pw,settings:Dw,sales:Iw,payment:Mw,reports:Rw,expenseCategories:zw,validation:Ow,archive:Lw,legal:Fw,cookie:Bw,pagination:Uw,fiscalPeriods:$w,org:Vw,pdf:qw},Kw={itemsPerPage:"Elemente pro Seite",previous:"Zurck",next:"Weiter",range:"{{start}}-{{end}} / {{total}}"},Gw={name:"comptario",subtitle:"Buchhaltungssystem"},Ww=JSON.parse('{"nav.features":"Funktionen","nav.pricing":"Preise","nav.faq":"FAQ","nav.contact":"Kontakt","cta.try":"Kostenlos testen","cta.signin":"Anmelden","cta.watchDemo":"Demo ansehen","hero.title":"Geschwindigkeit, Klarheit und Kontrolle in der Vorbuchhaltung.","hero.sub":"Verwalten Sie Rechnungen, Ausgaben und Mehrwertsteuer aus einem einzigen, einfachen Arbeitsbereich. Mehrere Whrungen (EUR/TRY), kategoriebasierte Mehrwertsteuerstze und PDF-Rechnungserstellung.","features.title":"Alles, was Sie fr die Vorbuchhaltung bentigen","features.inv.title":"Rechnungsstellung","features.inv.desc":"Nummerierung, Kunden, PDF/HTML-Export und E-Mail-Versand.","features.exp.title":"Ausgaben","features.exp.desc":"Datei-Uploads, OCR (in Krze), kategoriebasierte Mehrwertsteuer (z.B. 20% FR, 18% TR).","features.vat.title":"Mehrwertsteuer- und Steuerzusammenfassungen","features.vat.desc":"Klare Periodenberichte mit Vorsteuer-/Umsatzsteuer-Highlights.","features.fx.title":"Mehrere Whrungen","features.fx.desc":"EUR und TRY mit Kurseingabe und Rundungsoptionen.","value.title":"Skaliert von Freiberuflern bis zu KMUs","security.title":"Sicherheit & Compliance","security.items":"EU-Hosting (Platzhalter), Verschlsselung bei bertragung und Ruhezustand, automatische Backups.","testimonials.title":"Was unsere Benutzer sagen","pricing.title":"Einfache Preisgestaltung","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/Monat","pricing.price.pro":"29/Monat","pricing.price.biz":"Kontaktieren Sie uns","pricing.cta":"Jetzt starten","pricing.ctaContact":"Kontaktieren Sie uns","faq.title":"Hufig gestellte Fragen","faq.q1":"Kann ich kostenlos starten?","faq.a1":"Ja, der Starter-Plan ermglicht es Ihnen, begrenzte Rechnungen kostenlos auszustellen.","faq.q2":"Untersttzt es Mehrwertsteuer?","faq.a2":"Ja, mit kategoriebasierter Mehrwertsteuer und einfachen Zusammenfassungen.","faq.q3":"Werden Angebote untersttzt?","faq.a3":"Angebote kommen bald  noch nicht aktiviert.","faq.q4":"Untersttzen Sie mehrere Whrungen?","faq.a4":"Ja, EUR und TRY mit manueller Kurseingabe.","faq.q5":"Wie kann ich kndigen?","faq.a5":"Sie knnen jederzeit ber die Abrechnungseinstellungen kndigen.","faq.q6":"Wo werden meine Daten gehostet?","faq.a6":"In der EU (Platzhalter), mit Verschlsselung und regelmigen Backups.","finalCta.title":"Machen Sie die Vorbuchhaltung einfach.","finalCta.cta":"Kostenlos testen","seo.title":"Comptario  Vorbuchhaltungs-Software","seo.description":"Comptario hilft Ihnen, Rechnungen, Ausgaben und Mehrwertsteuer in einem einfachen, sicheren Arbeitsbereich mit Multi-Whrungsuntersttzung und PDF-Rechnungserstellung zu verwalten.","hero.badge":"Comptario  Vorbuchhaltungs-Software","hero.features.pdf":"PDF-Rechnungserstellung","hero.features.currency":"Mehrere Whrungen (EUR/TRY)","hero.features.vat":"Mehrwertsteuerverwaltung","hero.mockup.revenue":"Monatliche Einnahmen","hero.mockup.expenses":"Monatliche Ausgaben","hero.mockup.vat":"Zu zahlende MwSt","hero.mockup.rate":"Kurs","features.subtitle":"Verwalten Sie Ihre Vorbuchhaltung mit Vertrauen mit unserem umfassenden Toolset fr moderne Unternehmen.","value.subtitle":"Ob Sie gerade erst anfangen oder ein etabliertes Unternehmen fhren, Comptario passt sich Ihren Bedrfnissen an.","value.freelancers.title":"Fr Freiberufler","value.freelancers.desc":"Einfache Rechnungsstellung und Ausgabenverfolgung fr eine organisierte Geschftsfhrung","value.freelancers.basic":"Grundlegende Rechnungsstellung","value.freelancers.expense":"Ausgabenverwaltung","value.freelancers.tax":"Steuerzusammenfassungen","value.small.title":"Fr Kleine Unternehmen","value.small.desc":"Umfassende Vorbuchhaltungstools, die mit Ihrem Unternehmen wachsen","value.small.currency":"Multi-Whrungsuntersttzung","value.small.customer":"Kundenverwaltung","value.small.reporting":"Erweiterte Berichterstattung","value.growing.title":"Fr Wachsende Unternehmen","value.growing.desc":"Skalierbare Lsungen, die sich an Ihre expandierenden Operationen anpassen","value.growing.team":"Teamzusammenarbeit","value.growing.api":"API-Integrationen","value.growing.support":"Prioritts-Support","value.cta.title":"Bereit, Ihre Vorbuchhaltung zu rationalisieren?","value.cta.subtitle":"Schlieen Sie sich Tausenden von Unternehmen an, die Comptario vertrauen, um ihre Finanzen effizient zu verwalten.","value.cta.trial":"Kostenlose Testversion starten","value.cta.demo":"Demo planen","value.stats.users":"Aktive Benutzer","value.stats.invoices":"Generierte Rechnungen","value.stats.uptime":"Betriebszeit","security.badge":"Unternehmens-Sicherheit","finalCta.subtitle":"Schlieen Sie sich Tausenden von Unternehmen an, die ihre Vorbuchhaltung mit Comptario optimiert haben. Starten Sie heute Ihre kostenlose Testversion  keine Kreditkarte erforderlich.","finalCta.trial":"30 Tage kostenlose Testversion","finalCta.noSetup":"Keine Einrichtungsgebhren","finalCta.cancel":"Jederzeit kndbar","finalCta.stats.countries":"Bediente Lnder","security.features.hosting.title":"EU-Datenhosting","security.features.hosting.desc":"Ihre Daten werden in sicheren EU-Rechenzentren mit GDPR-Compliance gehostet","security.features.encryption.title":"Ende-zu-Ende-Verschlsselung","security.features.encryption.desc":"Alle Daten werden bei bertragung und Speicherung mit Industriestandard-Protokollen verschlsselt","security.features.backups.title":"Automatisierte Backups","security.features.backups.desc":"Tgliche automatisierte Backups sorgen dafr, dass Ihre Daten immer sicher und wiederherstellbar sind","security.features.gdpr.title":"GDPR-Konform","security.features.gdpr.desc":"Vollstndige Einhaltung der europischen Datenschutzbestimmungen","security.features.monitoring.title":"24/7 berwachung","security.features.monitoring.desc":"Kontinuierliche Sicherheitsberwachung und Bedrohungserkennung","security.features.uptime.title":"99,9% Betriebszeit","security.features.uptime.desc":"Zuverlssige Infrastruktur mit garantierter Betriebszeit-SLA","security.trusted.title":"Vertraut von Unternehmen in ganz Europa","security.trusted.gdpr":"Konform","security.trusted.iso":"Zertifiziert","security.trusted.soc":"Typ II","security.trusted.ssl":"Verschlsselt","security.trusted.desc":"Ihre Finanzdaten werden durch dieselben Sicherheitsstandards geschtzt, die von Banken und Finanzinstituten verwendet werden. Wir teilen Ihre Daten niemals mit Dritten und Sie behalten die volle Kontrolle ber Ihre Informationen.","testimonials.subtitle":"Glauben Sie nicht nur uns. Hier ist, was unsere Nutzer ber ihre Erfahrung mit Comptario sagen.","testimonials.sarah.content":"Comptario hat meinen Rechnungsstellungsprozess vollstndig vereinfacht. Ich kann jetzt in Minuten professionelle Rechnungen erstellen und meine Ausgaben mhelos verfolgen.","testimonials.sarah.role":"Freiberufliche Designerin","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"Die Multi-Whrungs-Funktion ist ein Lebensretter fr unsere internationalen Kunden. MwSt-Berechnungen sind automatisch und genau, was uns Stunden manueller Arbeit spart.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"Als kleines Unternehmen brauchten wir etwas Einfaches aber Mchtiges. Comptario gibt uns alles was wir brauchen ohne die Komplexitt von Unternehmenssoftware.","testimonials.elena.role":"Kleinunternehmerin","testimonials.elena.company":"Lokale Bckerei","testimonials.stats.rating":"Durchschnittliche Bewertung","testimonials.stats.customers":"Zufriedene Kunden","testimonials.stats.countries":"Lnder","pricing.subtitle":"Whlen Sie den Plan, der zu Ihren Geschftsanforderungen passt. Starten Sie kostenlos und upgraden Sie, whrend Sie wachsen.","faq.support.title":"Haben Sie noch Fragen?","faq.support.desc":"Unser Support-Team ist hier, um Ihnen zu helfen, das Beste aus Comptario herauszuholen.","faq.support.contact":"Support kontaktieren","faq.support.demo":"Demo planen","pricing.popular":"Am Beliebtesten","pricing.plans.starter.desc":"Perfekt fr Freiberufler und kleine Projekte","pricing.plans.pro.desc":"Ideal fr wachsende Unternehmen","pricing.plans.business.desc":"Fr etablierte Unternehmen","pricing.features.users1":"1 Benutzer","pricing.features.users3":"3 Benutzer","pricing.features.usersUnlimited":"Unbegrenzte Benutzer","pricing.features.invoices5":"5 Rechnungen pro Monat","pricing.features.basicExpense":"Grundlegende Ausgabenverfolgung","pricing.features.expenses5":"5 Ausgaben pro Monat","pricing.features.bank1":"1 Bankkonto","pricing.features.bankUnlimited":"Unbegrenzte Bankkonten","pricing.features.customerSupplier1":"1 Kunde und 1 Lieferant","pricing.features.customerSupplierUnlimited":"Unbegrenzte Kunden und Lieferanten","pricing.features.unlimitedInvoicesExpenses":"Unbegrenzte Rechnungen und Ausgaben","pricing.features.vat":"MwSt-Berechnungen","pricing.features.pdf":"PDF-Export","pricing.features.emailSupport":"E-Mail-Support","pricing.features.quotesBasic":"Angebotserstellung und teilbarer Link","pricing.features.quotesAdvanced":"Angebote: angesehen/akzeptiert/abgelehnt, PDF","pricing.features.unlimited":"Unbegrenzte Rechnungen","pricing.features.advancedExpense":"Erweiterte Ausgabenverwaltung","pricing.features.multiCurrency":"Multi-Whrungsuntersttzung","pricing.features.customerMgmt":"Kundenverwaltung","pricing.features.products":"Produkt- und Lagerverwaltung","pricing.features.reports":"Berichte und Einblicke","pricing.features.prioritySupport":"Priorittssupport","pricing.features.api":"API-Zugang","pricing.features.everythingPro":"Alles in Pro","pricing.features.teamCollaboration":"Teamzusammenarbeit","pricing.features.advancedReporting":"Erweiterte Berichterstattung","pricing.features.whiteLabel":"White-Label-Optionen","pricing.features.dedicatedSupport":"Dedizierter Support","pricing.features.customIntegrations":"Benutzerdefinierte Integrationen","pricing.features.noCredit":"Keine Kreditkarte erforderlich","pricing.questions":"Haben Sie Fragen zu unseren Preisen?","pricing.checkFaq":"Schauen Sie in unsere FAQ","pricing.or":"oder","pricing.contactSupport":"kontaktieren Sie den Support","pricing.guarantee":"30-tgige Geld-zurck-Garantie auf alle bezahlten Plne","faq.subtitle":"Alles was Sie ber Comptario wissen mssen. Knnen Sie die gesuchte Antwort nicht finden? Kontaktieren Sie uns gerne.","faq.contactUs":"kontaktieren Sie uns","footer.product":"PRODUKT","footer.company":"UNTERNEHMEN","footer.support":"SUPPORT","footer.legal":"RECHTLICHES","footer.features":"Funktionen","footer.pricing":"Preise","footer.security":"Sicherheit","footer.api":"API","footer.about":"ber uns","footer.blog":"Blog","footer.careers":"Karriere","footer.press":"Presse","footer.helpCenter":"Hilfezentrum","footer.contactUs":"Kontakt","footer.status":"Status","footer.community":"Community","footer.privacy":"Datenschutzrichtlinie","footer.terms":"Nutzungsbedingungen","footer.gdpr":"GDPR","footer.cookies":"Cookie-Richtlinie","footer.imprint":"Impressum","footer.description":"Einfache, sichere Vorbuchhaltungssoftware fr moderne Unternehmen. Verwalten Sie Rechnungen, Ausgaben und MwSt. mit Vertrauen.","footer.stayUpdated":"Bleiben Sie informiert","footer.updatesDesc":"Erhalten Sie die neuesten Updates zu neuen Funktionen und bewhrten Praktiken.","footer.email":"support@comptario.com","footer.languages":"Verfgbar in 4 Sprachen","footer.gdprCompliant":"GDPR-konform","footer.emailPlaceholder":"Geben Sie Ihre E-Mail ein","footer.subscribe":"Abonnieren","footer.copyright":" {{year}} Comptario. Alle Rechte vorbehalten.","footer.madeWith":"Mit  in Europa gemacht"}'),Yw={welcomeTitle:"Willkommen",welcomeSubtitle:"Melden Sie sich an, um fortzufahren",emailAddress:"E-Mail-Adresse",emailPlaceholder:"name@beispiel.com",password:"Passwort",passwordPlaceholder:"",rememberMe:"Angemeldet bleiben",forgotPassword:"Passwort vergessen",forgotPasswordHelp:"Geben Sie Ihre E-Mail ein; falls ein Konto existiert, senden wir einen Link zum Zurcksetzen.",resetEmailSent:"Falls ein Konto existiert, wurde eine E-Mail zum Zurcksetzen gesendet.",signIn:"Anmelden",demoAccount:"Demo-Konto:",email:"E-Mail",or:"oder",adminLogin:"Admin-Anmeldung",noAccount:"Noch kein Konto?",createFreeAccount:"Kostenloses Konto erstellen",registerTitle:"Konto erstellen",registerSubtitle:"Erstellen Sie Ihr kostenloses Konto und starten Sie",fullName:"Vollstndiger Name",fullNamePlaceholder:"Geben Sie Ihren vollstndigen Namen ein",companyName:"Firmenname",companyPlaceholder:"Ihre Firma (optional)",phone:"Telefon",phonePlaceholder:"(optional)",passwordHint:"Mindestens 6 Zeichen",passwordConfirm:"Passwort besttigen",passwordConfirmPlaceholder:"Passwort erneut eingeben",termsText:{prefix:"Ich akzeptiere: ",suffix:""},and:" und ",dataProcessing:"Datenverarbeitungsvereinbarung",registerCta:"Konto erstellen",alreadyHaveAccount:"Bereits ein Konto?",goToLogin:"Anmelden",sendResetLink:"Link zum Zurcksetzen senden",resendIn:"Erneut senden in {{seconds}}s"},Xw={save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",view:"Ansehen",update:"Aktualisieren",add:"Hinzufgen",search:"Suchen",close:"Schlieen",back:"Zurck",backToHome:"Zurck zur Startseite",yes:"Ja",no:"Nein",loading:"Laden...",error:"Fehler",success:"Erfolg",warning:"Warnung",ok:"OK",periodLockedError:"Dieser Datensatz kann nicht gelscht werden, da er zu einem gesperrten Geschftsjahr gehrt",description:"Beschreibung",dueDate:"Flligkeitsdatum",startDate:"Startdatum",endDate:"Enddatum",monthlyIncomeExpense:"Monatliches Einkommen/Ausgaben",last6MonthsPerformance:"Leistung der letzten 6 Monate (neueste  lteste)",allCategories:"Alle Kategorien",dateRanges:{thisMonth:"Dieser Monat",last30Days:"Letzte 30 Tage",thisYear:"Dieses Jahr"},filters:{status:"Status",filterByStatus:"Nach Status filtern"},actions:{clear:"Lschen",view:"Ansehen",copyLink:"Link kopieren",downloadPDF:"PDF herunterladen"},exportCSV:"Als CSV exportieren","dateRanges.thisMonth":"Dieser Monat","dateRanges.last30Days":"Letzte 30 Tage","dateRanges.thisYear":"Dieses Jahr","common.total":"Gesamt","common.exportCSV":"Als CSV exportieren","filters.status":"Status","filters.filterByStatus":"Nach Status filtern","actions.clear":"Lschen","actions.view":"Ansehen","actions.copyLink":"Link kopieren","actions.downloadPDF":"PDF herunterladen",allStock:"Alle Lagerbestnde",newest:"Neueste",income:"Einkommen",expense:"Ausgaben",hideChart:"Diagramm Ausblenden",showChart:"Diagramm Anzeigen",chartHidden:"Diagramm ausgeblendet",incomeLabel:"Einkommen",expenseLabel:"Ausgaben",allStatuses:"Alle Status",allAccounts:"Alle Konten",cash:"Bargeld",card:"Karte",transfer:"berweisung",check:"Scheck",email:"E-Mail",quantity:"Menge",status:"Status",notes:"Notizen"},Qw={TRY:"Trkische Lira",USD:"US-Dollar",EUR:"Euro",GBP:"Britisches Pfund"},Zw={newInvoice:"Neue Rechnung",newSale:"Neuer Verkauf",search:"Suchen...",language:"Sprache",notifications:"Benachrichtigungen",noNotifications:"Keine neuen Benachrichtigungen.",settings:"Einstellungen",logout:"Abmelden"},Jw={title:"Dashboard",overview:"bersicht",revenue:"Einnahmen",expense:"Ausgaben",profit:"Gewinn",unpaidInvoices:"Unbezahlte Rechnungen",recentActivity:"Letzte Aktivitten",totalRevenue:"Gesamteinnahmen",totalExpense:"Gesamtausgaben",pendingInvoices:"Ausstehende Rechnungen",activeCustomers:"Aktive Kunden",quickActions:"Schnellaktionen",recentTransactions:"Letzte Transaktionen",quickAccess:"Schnellzugriff",lastTransactions:"Ihre letzten {count} Transaktionen",allGood:"Alles in Ordnung!",noAlerts:"Keine ausstehenden Aufgaben oder Benachrichtigungen.",viewAll:"Alle Anzeigen"},e2={newInvoice:"Neue Rechnung",newInvoiceDesc:"Kundenrechnung erstellen",newExpense:"Neue Ausgabe",newExpenseDesc:"Ausgabendatensatz hinzufgen",newSale:"Neuer Verkauf",newSaleDesc:"Verkaufstransaktion erfassen",newQuote:"Neues Angebot",newQuoteDesc:"Angebot fr einen Kunden erstellen",newCustomer:"Neuer Kunde",newCustomerDesc:"Kundeninformationen hinzufgen",newProduct:"Neues Produkt",newProductDesc:"Produktinformationen hinzufgen",customers:"Kunden",suppliers:"Lieferanten",banks:"Bankkonten",products:"Produkte"},t2={invoice:"Rechnung",expense:"Ausgabe",sale:"Verkauf",paid:"Bezahlt",unpaid:"Unbezahlt",pending:"Ausstehend",actions:"Aktionen",transaction:"Transaktion",customerDescription:"Kunde/Beschreibung",amount:"Betrag",status:"Status",date:"Datum",noTransactions:"Noch keine Transaktionen"},r2={overdueInvoices:"berfllige Rechnungen",overdueDesc:"berfllige Rechnung",dueSoon:"Demnchst Fllig",dueSoonDesc:"Fllig innerhalb von 7 Tagen",pendingExpenses:"Ausstehende Ausgaben",pendingExpensesDesc:"Ausgabe wartet auf Genehmigung",allGood:"Alles in Ordnung!",noAlerts:"Keine ausstehenden Aufgaben oder Benachrichtigungen.",attentionRequired:"Aufmerksamkeit Erforderlich"},s2="Leistung der letzten 6 Monate (neueste  lteste)",n2={short:{jan:"Jan",feb:"Feb",mar:"Mr",apr:"Apr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dez"}},i2={dashboard:"Dashboard",invoices:"Rechnungen",expenses:"Ausgaben",customers:"Kunden",products:"Produkte",suppliers:"Lieferanten",banks:"Banken",sales:"Verkufe",quotes:"Angebote",reports:"Berichte",accounting:"Buchhaltung",chartOfAccounts:"Kontenplan",archive:"Archiv",organization:"Organisation",settings:"Einstellungen",close:"Schlieen"},a2={title:"Angebote",newQuote:"Neues Angebot",comingSoon:"Basis-Seite des Angebotsmoduls ist bereit. Erweiterte Liste, Status und PDF-Vorlagen folgen.",placeholderDescription:"Erstellen, Senden, ffentliche Ansicht und Annehmen/Ablehnen-Flows werden hier sein. Navigation und Men-Integration sind vorerst erledigt.",search:"Angebote suchen...",filterAll:"Alle Status",validUntil:"Gltig bis",expiresIn:"(luft in {{days}} Tagen ab)",expiredOn:"(abgelaufen am {{date}})",version:"v{{n}}",confirmAccept:"Sind Sie sicher, dass Sie dieses Angebot annehmen mchten?",acceptedThanks:"Danke, das Angebot wurde angenommen.",confirmDecline:"Sind Sie sicher, dass Sie dieses Angebot ablehnen mchten?",declinedInfo:"Das Angebot wurde abgelehnt.",duplicateConfirm:"Mit der Duplizierung fortfahren?",reviseConfirm:"Mchten Sie dieses Angebot berarbeiten? Die aktuelle Version wird archiviert und eine neue Version wird erstellt.",viewModal:{details:"Angebotsdetails"},actions:{send:"Senden",accept:"Annehmen",decline:"Ablehnen",downloadPdf:"PDF Herunterladen",copyLink:"ffentlichen Link kopieren",copyPublicLink:"Link kopieren",copyPublicLinkSuccess:"Link kopiert.",resendEmail:"E-Mail erneut senden",revise:"berarbeiten",duplicate:"Duplizieren"},editModal:{title:"Angebot bearbeiten",subtitle:"Angebotsinformationen aktualisieren",quoteNumber:"Angebots-Nr."},table:{quote:"Angebot",customer:"Kunde",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen"},noQuotes:"Noch keine Angebote",noQuotesDesc:"Beginnen Sie mit der Erstellung Ihres ersten Angebots.",noQuotesFound:"Keine Angebote gefunden",noQuotesFoundDesc:"Keine Angebote entsprechen Ihren Suchkriterien.",createFirstQuote:"Erstes Angebot Erstellen",view:"Ansehen",edit:"Bearbeiten",delete:"Lschen",statusLabels:{viewed:"Angesehen",accepted:"Angenommen",declined:"Abgelehnt",expired:"Abgelaufen"},createModal:{title:"Angebot Erstellen",customer:"Kunde",customerPlaceholder:"Kundennamen eingeben",currency:"Whrung",date:"Ausstellungsdatum",validUntil:"Gltig bis",amount:"Betrag",create:"Erstellen"},scopeOfWork:{title:"Leistungsumfang",placeholder:"Projektumfang, Liefergegenstnde, Annahmen und Ausschlsse...",note:"Dieser Inhalt wird nach dem aktuellen Abschnitt als neue Seite an das Angebots-PDF angehngt und ist im ffentlichen Link sichtbar."}},o2={thisMonth:"diesen Monat",all:"alle"},l2={paid:"Bezahlt",unpaid:"Unbezahlt",pending:"Ausstehend",overdue:"berfllig",draft:"Entwurf",sent:"Gesendet",approved:"Genehmigt",rejected:"Abgelehnt",cancelled:"Storniert",completed:"Abgeschlossen",active:"Aktiv",inactive:"Inaktiv"},c2={details:"Rechnungsdetails",downloadPdf:"PDF Herunterladen",information:"Rechnungsinformationen",type:"Rechnungstyp",productSale:"Produktverkauf",serviceSale:"Dienstleistungsverkauf",issueDate:"Ausstellungsdatum",dueDate:"Flligkeitsdatum",customerInfo:"Kundeninformationen",itemsServices:"Artikel/Dienstleistungen",description:"Beschreibung",quantity:"Menge",unitPrice:"Stckpreis",total:"Gesamt",subtotal:"Zwischensumme",vat:"MwSt",grandTotal:"Gesamtsumme",notes:"Notizen"},d2={details:"Ausgabendetails",information:"Ausgabeninformationen",number:"Ausgaben-Nr",date:"Ausgabendatum",category:"Kategorie",supplier:"Lieferant",amount:"Betrag",receipt:"Beleg",viewReceipt:"Beleg Anzeigen"},u2={history:"Transaktionsverlauf",transactions:"Transaktionen gefunden",noHistory:"Noch Kein Transaktionsverlauf",noHistoryDesc:"hat noch keine Rechnungen oder Transaktionsdatenstze.",tip:"Tipp:",tipDesc:"Sie knnen den Transaktionsverlauf starten, indem Sie eine neue Rechnung fr diesen Kunden erstellen.",createInvoice:"Rechnung Erstellen",sale:"Verkauf",completed:"Abgeschlossen",waiting:"Wartend",historyPageTitle:"Kundenverlauf",historySubtitle:"Gesamter Verlauf fr {{name}}",historyColumns:{name:"Eintrag / Nr.",date:"Datum",status:"Status",createdBy:"Erstellt von",type:"Typ",description:"Beschreibung"}},m2={expenseHistory:"Ausgabenverlauf",expensesFound:"Ausgaben gefunden",noExpenseHistory:"Noch Kein Ausgabenverlauf",noExpenseHistoryDesc:"hat noch keine Ausgabendatenstze.",tip:"Tipp:",tipDesc:"Sie knnen den Transaktionsverlauf starten, indem Sie eine neue Ausgabe fr diesen Lieferanten erstellen.",createExpense:"Ausgabe Erstellen",viewExpense:"Ausgabe anzeigen"},h2={title:"Produkte",newProduct:"Neues Produkt",search:"Produkte suchen...",filterCategory:"Alle Kategorien",name:"Produktname",category:"Kategorie",price:"Preis",stock:"Bestand",status:"Status",actions:"Aktionen",noProducts:"Noch keine Produkte",addFirstProduct:"Fgen Sie Ihr erstes Produkt hinzu",edit:"Bearbeiten",delete:"Lschen",deleteConfirm:"Sind Sie sicher, dass Sie dieses Produkt lschen mchten?",manageCategories:"Kategorien Verwalten",totalProducts:"Produkte Gesamt",stockValue:"Lagerwert",totalStock:"Gesamtbestand",lowStock:"Niedriger Bestand",activeProductsDesc:"Anzahl aktiv verkaufter Produkte",totalStockCostDesc:"Geschtzte Gesamtlagerkosten",totalUnitsDesc:"Gesamteinheiten im Lager",criticalLevelDesc:"Produkte unter kritischem Niveau",productCategories:"Produktkategorien",addCategory:"Kategorie hinzufgen",categoriesCount:"Kategorien",allProducts:"Alle Produkte",noCategories:"Noch keine Kategorien.",mainCategoriesTitle:"Hauptkategorien",subCategories:"Unterkategorien",editCategory:"Bearbeiten",deleteCategory:"Lschen",editCategoryTooltip:"Kategorie bearbeiten",mainCategoryEditTooltip:"Nur Steuersatz kann fr Hauptkategorien gendert werden",generalCategoryCannotDelete:"Allgemeine Kategorie kann nicht gelscht werden",mainCategoryCannotDelete:"Hauptkategorie kann nicht gelscht werden",deleteCategoryConfirm:"Sind Sie sicher, dass Sie diese Kategorie lschen mchten?",deleteCategoryWithProducts:'Diese Kategorie hat {count} Produkte. Wenn Sie sie lschen, werden die Produkte in die Kategorie "{defaultCategory}" verschoben. Mchten Sie fortfahren?',categoryCannotDeleteProtected:'"{category}" kann nicht gelscht werden, da es eine Hauptkategorie ist.',generalCategoryCannotDeleteAlert:"Allgemeine Kategorie kann nicht gelscht werden.",updatePrice:"Preis aktualisieren",assignCategory:"Kategorie zuweisen",archive:"Archivieren",noProductsYet:"Noch keine Produkte",costPrice:"Kosten",unit:"Einheit",productsCount:"Produkte",allStock:"Alle Bestnde",lowStockFilter:"Niedriger Bestand",outOfStock:"Nicht vorrtig",overstock:"berbestand",newest:"Neueste",priceHighLow:"Preis (Hoch-Niedrig)",priceLowHigh:"Preis (Niedrig-Hoch)",stockHighLow:"Bestand (Hoch-Niedrig)",stockLowHigh:"Bestand (Niedrig-Hoch)",inStock:"Auf Lager",critical:"Kritisch",depleted:"Aufgebraucht",cost:"Kosten",minStock:"Mind. Bestand",view:"Anzeigen",viewProduct:"Produkt anzeigen",mainCategories:{products:"Produkte",services:"Dienstleistungen"},createCategoryFirst:"Sie mssen zuerst eine neue Kategorie erstellen.",productServiceName:"Produkt-/Dienstleistungsname",selectFromList:"Produkt aus Liste auswhlen",productsFound:"Produkte gefunden",editProduct:"Produkt Bearbeiten",enterProductInfo:"Produktinformationen ausfllen und Lagerstatus aktualisieren",generalInfo:"ALLGEMEINE INFORMATIONEN",priceAndStock:"PREIS UND LAGER",notes:"NOTIZEN",namePlaceholder:"Produkt-/Dienstleistungsname",unitPlaceholder:"Einheit (z.B: Stk, kg, Stunde)",descriptionPlaceholder:"Produkteigenschaften, Garantieinformationen usw.",useCustomTax:"Benutzerdefinierten MwSt-Satz verwenden",customTaxNote:"Sie knnen einen anderen MwSt-Satz fr dieses Produkt festlegen. Wenn leer gelassen, wird die Kategorie-MwSt verwendet.",categoryTax:"Kategorie MwSt",salePrice:"Verkaufspreis",stockQuantity:"Lagerbestand",criticalStock:"Kritischer Bestand",customTaxRate:"Benutzerdefinierter Steuersatz",taxRatePlaceholder:"18.0",customTaxRateHelper:"Benutzerdefinierter MwSt-Satz fr dieses Produkt. berschreibt Kategorie-MwSt.",noCategoriesFound:"Keine Kategorien gefunden",useCustomTaxRate:"Benutzerdefinierten MwSt-Satz verwenden",description:"Beschreibung"},f2={title:"Kontenplan",subtitle:"Verwalten Sie Ihren Buchhaltungskontenplan",newAccount:"Neues Konto",search:"Nach Kontocode oder Name suchen...",code:"Code",accountName:"Kontoname",type:"Typ",balance:"Saldo",status:"Status",actions:"Aktionen",accountsRegistered:"Konten registriert",clickToEdit:"Klicken Sie auf Kontoname, Code oder Saldo zum Bearbeiten",addAccountTip:"Verwenden Sie die Schaltflche oben, um ein neues Konto hinzuzufgen",active:"Aktiv",passive:"Inaktiv",allSummed:"alle summiert",accountTypes:{all:"Alle",asset:"Vermgen",liability:"Verbindlichkeit",equity:"Eigenkapital",revenue:"Erls",expense:"Ausgabe"},accountTypesPlural:{asset:"Vermgenswerte",liability:"Verbindlichkeiten",equity:"Eigenkapital",revenue:"Erlse",expense:"Ausgaben"},statusLabels:{active:"Aktiv",inactive:"Inaktiv"},tooltips:{editHint:"Klicken Sie auf die Kontozeile zum Bearbeiten"},accountNames:{100:"UMLAUFVERMGEN",101:"Kasse",102:"Banken",120:"Forderungen",150:"ANLAGEVERMGEN",200:"KURZFRISTIGE VERBINDLICHKEITEN",201:"Verbindlichkeiten aus Lieferungen",300:"EIGENKAPITAL",600:"ERLSE",601:"Umsatzerlse",602:"Dienstleistungserlse",700:"AUFWENDUNGEN",701:"Mietaufwendungen",702:"Personalaufwendungen",703:"Rechnungsaufwendungen"},accountTypeLabels:{asset:"Vermgen",liability:"Verbindlichkeit",equity:"Eigenkapital",revenue:"Erls",expense:"Aufwand"}},p2={title:"Rechnungen",newInvoice:"Neue Rechnung",deleteConfirm:"Sind Sie sicher, dass Sie diese Rechnung lschen mchten?",search:"Rechnungsnummer oder Kunde suchen...",filterAll:"Alle Status",invoicesRegistered:"Rechnungen registriert",inArchive:"im Archiv",noInvoices:"Noch keine Rechnungen",noInvoicesFound:"Keine Rechnungen gefunden",showVoided:"Stornierte Anzeigen",hideVoided:"Stornierte Ausblenden",noInvoicesDesc:"Beginnen Sie mit Ihrer ersten Rechnung.",noInvoicesFoundDesc:"Keine Rechnungen entsprechen Ihren Suchkriterien.",createFirstInvoice:"Erste Rechnung Erstellen",invoiceNumber:"Rechnung",customer:"Kunde",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen",view:"Anzeigen",edit:"Bearbeiten",download:"Herunterladen",delete:"Lschen",viewInvoice:"Rechnung anzeigen",selectInvoiceType:"Rechnungstyp auswhlen",newSale:"Neuer Verkauf",newSaleDescription:"Neuen Verkaufsdatensatz erstellen und Rechnung ausstellen",newSaleNote:"Verkauf und Rechnung werden automatisch erstellt",existingSale:"Bestehender Verkauf",existingSaleDescription:"Rechnung fr einen bereits gettigten Verkauf ausstellen",existingSaleNote:"Nur Rechnungsinformationen knnen bearbeitet werden",returnInvoice:"Gutschrift",returnInvoiceDescription:"Erstellen Sie eine Rckgabe-/Gutschrift fr eine bereits ausgestellte Rechnung",returnInvoiceNote:"Rckgabe wird durch Auswahl aus bestehenden Rechnungen erstellt",invoiceNumberAutoGenerated:"Rechnungsnummer wird automatisch generiert",invoiceType:"Rechnungsart",productInvoice:"Produktrechnung (Normal)",selectInvoiceToReturn:"-- Rechnung fr Rckgabe auswhlen --",invoiceToReturn:"Rechnung fr Rckgabe (erforderlich)",returnInvoiceAutoLoad:" Ausgewhlte Rechnungsprodukte werden automatisch mit negativen Mengen geladen.",issueDate:"Rechnungsdatum",dueDate:"Flligkeitsdatum",customerName:"Kundenname",customerSearchPlaceholder:"Kunde suchen oder neuen Kundennamen eingeben",productsAndServices:"Produkte und Dienstleistungen",addLine:"Zeile hinzufgen",description:"Beschreibung",quantity:"Menge",unitPriceExclVAT:"Einzelpreis (ohne MwSt.)",totalInclVAT:"Gesamt (inkl. MwSt.)",notes:"Notizen",notesPlaceholder:"Zustzliche Notizen zum Verkauf",autoGenerated:"Automatisch generiert",statusCompleted:"Abgeschlossen",statusPending:"Ausstehend",statusCancelled:"Storniert",enterSaleInfo:"Verkaufsinformationen eingeben",productServiceDescription:"Produkt- oder Servicebeschreibung",subtotalExclVAT:"Zwischensumme (ohne MwSt.)",vat:"MwSt.",grandTotalInclVAT:"Gesamtsumme (inkl. MwSt.)",grandTotalExclVAT:"Gesamtsumme (ohne MwSt.)",createInvoiceFromSale:"Rechnung aus Verkauf Erstellen",completeInvoiceInfo:"Rechnungsinformationen vervollstndigen"},g2={title:"Ausgaben",newExpense:"Neue Ausgabe",deleteConfirm:"Sind Sie sicher, dass Sie diese Ausgabe lschen mchten?",deleteSuccess:"Ausgabe gelscht",deleteError:"Ausgabe konnte nicht gelscht werden",search:"Ausgabenbeschreibung oder Lieferant suchen...",filterAll:"Alle Status",expensesRegistered:"Ausgaben registriert",noExpenses:"Noch keine Ausgaben",noExpensesFound:"Keine Ausgaben gefunden",noExpensesDesc:"Beginnen Sie mit Ihrer ersten Ausgabe.",noExpensesFoundDesc:"Keine Ausgaben entsprechen Ihren Suchkriterien.",createFirstExpense:"Erste Ausgabe Erstellen",description:"Beschreibung",supplier:"Lieferant",category:"Kategorie",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen",view:"Anzeigen",edit:"Bearbeiten",download:"Herunterladen",delete:"Lschen",viewExpense:"Ausgabe anzeigen",enterExpenseDetails:"Ausgabedetails eingeben",editExpense:"Ausgabe Bearbeiten",enterExpenseInfo:"Ausgabeinformationen eingeben",expenseNumber:"Ausgabennummer",expenseDate:"Ausgabendatum",paymentDate:"Zahlungsdatum",addExpense:"Ausgabe Hinzufgen",supplierPlaceholder:"Lieferantennamen eingeben...",descriptionPlaceholder:"Ausgabenbeschreibung...",totalExpense:"Gesamtausgabe",receiptUrl:"Beleg/Rechnung URL",receiptUrlHelper:"Sie knnen einen Link zu Beleg- oder Rechnungsbild/PDF hinzufgen"},x2={title:"Kunden",newCustomer:"Neuer Kunde",search:"Kunden suchen...",customersRegistered:"Kunden registriert",noCustomers:"Noch keine Kunden",noCustomersFound:"Keine Kunden gefunden",noCustomersDesc:"Beginnen Sie mit Ihrem ersten Kunden.",noCustomersFoundDesc:"Keine Kunden entsprechen Ihren Suchkriterien.",createFirstCustomer:"Ersten Kunden Hinzufgen",name:"Name",email:"E-Mail",phone:"Telefon",totalInvoices:"Rechnungen Gesamt",totalAmount:"Gesamtbetrag",actions:"Aktionen",importCSV:"CSV/Excel Importieren",downloadTemplate:"Vorlage Herunterladen",address:"Adresse",emailPlaceholder:"kunde@example.com",addressPlaceholder:"Vollstndige Adressinformationen...",addCustomer:"Kunde Hinzufgen",selectFromList:"Kunde aus Liste auswhlen",customersFound:"Kunden gefunden",enterCustomerInfo:"Kundeninformationen eingeben",taxNumber:"Steuernummer",company:"Firmenname",namePlaceholder:"Max Mustermann",companyPlaceholder:"ABC Technologie GmbH",import:{noDataFound:"Keine Daten in der Datei gefunden.",noCustomersFound:"Keine Kunden zum Importieren in der Datei gefunden.",success:"{{count}} Kunden erfolgreich importiert!",error:"Fehler beim Import aufgetreten."}},y2={title:"Lieferanten",newSupplier:"Neuer Lieferant",search:"Lieferanten suchen...",suppliersRegistered:"Lieferanten registriert",noSuppliers:"Noch keine Lieferanten",noSuppliersFound:"Keine Lieferanten gefunden",noSuppliersDesc:"Beginnen Sie mit Ihrem ersten Lieferanten.",noSuppliersFoundDesc:"Keine Lieferanten entsprechen Ihren Suchkriterien.",createFirstSupplier:"Ersten Lieferanten Hinzufgen",name:"Name",email:"E-Mail",phone:"Telefon",totalExpenses:"Ausgaben Gesamt",totalAmount:"Gesamtbetrag",actions:"Aktionen"},b2={title:"Bankkonten",newAccount:"Neues Konto",search:"Bankname, Kontoname oder Nummer suchen...",filterAll:"Alle Konten",accountsRegistered:"Konten registriert",totalBalance:"Gesamtsaldo",noBanks:"Noch keine Bankkonten",noBanksFound:"Keine Konten gefunden",noBanksDesc:"Beginnen Sie mit Ihrem ersten Bankkonto.",noBanksFoundDesc:"Keine Konten entsprechen Ihren Suchkriterien.",createFirstAccount:"Erstes Konto Hinzufgen",bankName:"Bank",accountName:"Kontoname",accountNumber:"Konto-Nr.",balance:"Saldo",status:"Status",actions:"Aktionen",editAccount:"Konto Bearbeiten",enterAccountInfo:"Bankkontoinformationen eingeben",selectBank:"Bank auswhlen",accountNamePlaceholder:"Firmenname oder Personenname",accountType:"Kontotyp",accountTypes:{checking:"Girokonto",savings:"Sparbuch",business:"Geschftskonto"},ibanAutoFormat:"IBAN wird automatisch formatiert",currentBalance:"Aktueller Saldo",currency:"Whrung",accountActive:"Konto aktiv",addAccount:"Konto Hinzufgen",routingNumber:"Routing-Nummer (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Filialcode"},v2={title:"Einstellungen",subtitle:"Verwalten Sie Ihre System- und Kontoeinstellungen",save:"Speichern",cancel:"Abbrechen",profile:"Profil",company:"Unternehmensinformationen",system:"Systemeinstellungen",security:"Sicherheit",data:"Datenverwaltung",currency:"Whrung",language:"Sprache",notifications:"Benachrichtigungen",theme:"Thema",success:"Erfolg",error:"Fehler",saved:"Einstellungen gespeichert",saveFailed:"Einstellungen konnten nicht gespeichert werden"},w2={title:"Verkufe",newSale:"Neuer Verkauf",totalSales:"Gesamtumsatz",totalSalesCount:"Gesamtanzahl Verkufe",completed:"Abgeschlossen",salesList:"Verkaufsliste",salesRegistered:"Verkufe registriert",search:"Nach Verkaufsnummer, Kunde oder Produkt suchen...",noSales:"Noch keine Verkufe",noSalesFound:"Keine Verkufe gefunden",noSalesDesc:"Beginnen Sie mit Ihrem ersten Verkauf.",noSalesFoundDesc:"Keine Verkufe entsprechen Ihren Suchkriterien.",createFirstSale:"Ersten Verkauf Hinzufgen",sale:"Verkauf",customer:"Kunde",productService:"Produkt/Dienstleistung",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen",viewSale:"Verkauf anzeigen",editSale:"Verkauf bearbeiten",deleteSale:"Verkauf lschen",deleteConfirm:"Sind Sie sicher, dass Sie diesen Verkauf lschen mchten?",createInvoice:"Rechnung Erstellen",download:"Herunterladen",subtitle:"Verwalten Sie Ihre Verkaufsaufzeichnungen",saleCompleted:"Verkauf Abgeschlossen!",saleCompletedDesc:"Der Verkauf wurde erfolgreich erfasst.",createInvoiceQuestion:"Mchten Sie eine Rechnung erstellen?",autoGenerated:"Automatisch generiert",statusCompleted:"Abgeschlossen",statusPending:"Ausstehend",statusCancelled:"Storniert",saleNumber:"Verkaufsnummer",saleDate:"Verkaufsdatum",autoNumberNote:"Nummer wird beim Speichern automatisch generiert",unitPriceInclVAT:"Einzelpreis (MwSt. inkl.)",totalInclVAT:"Gesamt (MwSt. inkl.)",unitPriceExclVAT:"Einzelpreis (ohne MwSt.)",totalExclVAT:"Gesamt (ohne MwSt.)",notesPlaceholder:"Zustzliche Notizen zum Verkauf",addSale:"Verkauf hinzufgen",enterSaleInfo:"Verkaufsinformationen eingeben",saleSummary:"Verkaufszusammenfassung",invoiceWillBeDownloaded:"Wenn eine Rechnung erstellt wird, wird sie automatisch im PDF-Format heruntergeladen.",confirmInvoiceCreation:"Rechnung erstellen?",invoiceWillOpen:"Die Rechnung wird nach der Erstellung im Anzeigefenster geffnet.",selectExistingSale:"Vorhandenen Verkauf Auswhlen",selectSaleForInvoice:"Verkauf fr Rechnung auswhlen",searchSalesPlaceholder:"Nach Verkaufsnummer, Kunde oder Produkt suchen...",noInvoiceableSales:"Keine abrechenbaren Verkufe gefunden",changeSearchCriteria:"Versuchen Sie, Ihre Suchkriterien zu ndern",allSalesInvoiced:"Alle Verkufe wurden abgerechnet",pieces:"Stk",saleInfo:"Verkaufsinformationen",salesWaitingForInvoice:"Auf Rechnung wartende Verkufe: {{count}}"},k2={method:"Zahlungsmethode",cash:"Bargeld",card:"Kredit-/Bankkarte",transfer:"berweisung",check:"Scheck"},N2={title:"Berichte",subtitle:"Detaillierte Analyseberichte fr Ihr Unternehmen",reportDate:"Berichtsdatum",overview:"berblick",basicMetrics:"Grundlegende Metriken",totalIncome:"Gesamteinkommen",totalExpense:"Gesamtausgaben",netProfit:"Nettogewinn",totalCustomers:"Gesamtkunden",net:"Netto",financialHealth:"Finanzielle Gesundheit",profitMargin:"Gewinnmarge",growthRate:"Wachstumsrate",averageSale:"Durchschnittlicher Verkauf",activeCustomers:"Aktive Kunden",paymentStatusAnalysis:"Zahlungsstatusanalyse",invoiceStatuses:"Rechnungsstatus",expenseStatuses:"Ausgabenstatus",revenueAnalysis:"Umsatzanalyse",productBasedSales:"Produktbasierte Verkufe",sales:"Verkufe",avg:"",monthlyRevenueTrend:"Monatlicher Umsatztrend",expenseAnalysis:"Ausgabenanalyse",categoryBasedExpenses:"Kategoriebasierte Ausgaben",expenses:"Ausgaben",monthlyExpenseTrend:"Monatlicher Ausgabentrend",topSuppliers:"Top-Lieferanten nach Ausgaben",lastExpense:"Letzte",recentExpenses:"Letzte Ausgaben",expenseCategoryDistribution:"Ausgabenkategorieverteilung",customerAnalysis:"Kundenanalyse",topCustomers:"Top-Kunden",purchases:"Einkufe",last:"Letzte",customerStatistics:"Kundenstatistiken",activeCustomersCount:"Aktive Kunden",revenuePerCustomer:"Umsatz pro Kunde",salesPerCustomer:"Verkufe pro Kunde",averagePurchases:"Durchschnittliche Einkufe",maxPurchases:"Maximale Einkufe",performanceReports:"Leistungsberichte",kpiDashboard:"KPI-Dashboard",increase:"Zunahme",decrease:"Abnahme",monthlyPerformanceTable:"Monatliche Leistungstabelle",total6Months:"Gesamt (6 Monate)",totalIncome6Months:"Gesamteinkommen (6 Monate)",totalExpense6Months:"Gesamtausgaben (6 Monate)",netProfit6Months:"Nettogewinn (6 Monate)",month:"Monat",profit:"Gewinn",profitMarginPercent:"Gewinnmarge",expenseRatio:"Ausgabenverhltnis",expenseEfficiency:"Ausgabeneffizienzanalyse",expenseCategoryPerformance:"Ausgabenkategorieleistung",noSupplier:"Kein Lieferant",noCustomer:"Kein Kunde"},j2={equipment:"Ausrstung",utilities:"Versorgungsunternehmen",rent:"Miete",salaries:"Gehlter",personnel:"Personal",supplies:"Verbrauchsmaterialien",marketing:"Marketing",travel:"Reisen",insurance:"Versicherung",taxes:"Steuern",other:"Andere"},S2={title:"Archiv",subtitle:"Ihre abgeschlossenen und historischen Aufzeichnungen",totalArchive:"Gesamtarchiv",archivedInvoices:"Archivierte Rechnungen",archivedExpenses:"Archivierte Ausgaben",archivedSales:"Archivierte Verkufe",totalContacts:"Gesamtkontakte",searchPlaceholder:"Im Archiv suchen...",clearFilters:"Filter Lschen",tabs:{all:"Alle",invoices:"Rechnungen",expenses:"Ausgaben",sales:"Verkufe",contacts:"Kontakte"},sections:{archivedInvoices:"Archivierte Rechnungen",archivedExpenses:"Archivierte Ausgaben",archivedSales:"Archivierte Verkufe",customers:"Kunden",suppliers:"Lieferanten",archiveSummary:"Archivzusammenfassung"},empty:{invoices:"Keine archivierten Rechnungen",invoicesHelper:"Bezahlte oder berfllige Rechnungen erscheinen hier",expenses:"Keine archivierten Ausgaben",expensesHelper:"Bezahlte Ausgaben erscheinen hier",sales:"Keine archivierten Verkufe",salesHelper:"Abgeschlossene Verkufe erscheinen hier",customers:"Keine Kunden gefunden",suppliers:"Keine Lieferanten gefunden"},table:{invoice:"Rechnung",customer:"Kunde",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen",expense:"Ausgabe",supplier:"Lieferant",category:"Kategorie",sale:"Verkauf",product:"Produkt/Dienstleistung",registered:"Registriert"},actions:{view:"Ansehen",download:"Herunterladen"},summary:{financial:"Finanzielle Zusammenfassung",totalIncome:"Gesamtarchiviertes Einkommen",totalExpense:"Gesamtarchivierte Ausgaben",netArchive:"Nettoarchiv",recordCounts:"Datensatzanzahl"},info:{title:"ber Archiv",description:"Die Archivseite speichert Ihre abgeschlossenen Transaktionen. Bezahlte Rechnungen, genehmigte Ausgaben und abgeschlossene Verkufe werden hier automatisch aufgelistet. Diese Aufzeichnungen sind schreibgeschtzt und knnen fr historische Analysen und Prfungszwecke verwendet werden."}},C2={required:"Dieses Feld ist erforderlich",invalidEmail:"Ungltige E-Mail-Adresse",invalidPhone:"Ungltige Telefonnummer",minLength:"Mindestlnge {{min}} Zeichen",maxLength:"Maximale Lnge {{max}} Zeichen",invalidNumber:"Ungltige Nummer",categoryRequired:"Bitte whlen Sie eine Kategorie",dueDateRequired:"Bitte whlen Sie ein Flligkeitsdatum",saleDateRequired:"Verkaufsdatum ist erforderlich",unitPriceRequired:"Einzelpreis muss grer als null sein",quantityRequired:"Menge muss grer als null sein",customerNameRequired:"Kundenname ist erforderlich",customerNotFound:"Kunde im System nicht gefunden. Bitte aus der Liste whlen.",productNameRequired:"Produkt- oder Dienstleistungsname ist erforderlich",productNotFound:"Produkt im System nicht gefunden. Bitte aus der Liste whlen.",skuRequired:"SKU ist erforderlich",validPriceRequired:"Bitte geben Sie einen gltigen Preis ein",validStockRequired:"Bitte geben Sie eine gltige Lagermenge ein"},A2=JSON.parse('{"terms":{"title":"Allgemeine Geschftsbedingungen","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Service-bersicht","content":"MoneyFlow ist eine cloudbasierte Vorbuchhaltungs-Software-Plattform, die Unternehmen dabei hilft, ihre Rechnungen, Ausgaben und finanziellen Operationen zu verwalten. Die Plattform bietet Multi-Whrungsuntersttzung, automatisierte MwSt-Berechnungen und integrierte Berichtstools."},"section2":{"title":"2. Benutzerkonten und Registrierung","content":"Um MoneyFlow zu nutzen, mssen Sie ein Konto erstellen, indem Sie genaue und vollstndige Informationen bereitstellen. Sie sind verantwortlich fr die Vertraulichkeit Ihrer Kontoanmeldedaten und fr alle Aktivitten, die unter Ihrem Konto stattfinden."},"section3":{"title":"3. Akzeptable Nutzung","content":"Sie stimmen zu, MoneyFlow nur fr rechtmige Zwecke und in bereinstimmung mit diesen Bedingungen zu verwenden. Sie drfen den Service nicht fr illegale Aktivitten, Verletzung von Urheberrechten oder Strung der Plattformfunktionalitt verwenden."},"section4":{"title":"4. Dateneigentum und Datenschutz","content":"Sie behalten das Eigentum an allen Daten, die Sie in MoneyFlow eingeben. Wir verarbeiten Ihre Daten in bereinstimmung mit unserer Datenschutzrichtlinie und geltenden Datenschutzgesetzen, einschlielich GDPR. Wir implementieren angemessene Sicherheitsmanahmen zum Schutz Ihrer Informationen."},"section5":{"title":"5. Service-Verfgbarkeit","content":"Whrend wir uns bemhen, 99,9% Betriebszeit aufrechtzuerhalten, kann MoneyFlow gelegentlich Service-Unterbrechungen fr Wartung, Updates oder unvorhergesehene technische Probleme erleben. Wir werden im Voraus ber geplante Wartungsarbeiten informieren, wann immer mglich."},"section6":{"title":"6. Abonnement und Abrechnung","content":"MoneyFlow bietet verschiedene Abonnementplne mit unterschiedlichen Funktionen und Nutzungslimits. Die Abrechnung wird automatisch entsprechend Ihrem gewhlten Plan verarbeitet. Sie knnen Ihr Abonnement jederzeit upgraden, downgraden oder kndigen."},"section7":{"title":"7. Datensicherung und Export","content":"Wir fhren regelmige automatisierte Backups Ihrer Daten durch. Sie knnen Ihre Daten jederzeit in Standardformaten exportieren. Bei Kontokndigung behalten wir Ihre Daten 90 Tage lang, bevor sie dauerhaft gelscht werden, es sei denn, das Gesetz verlangt etwas anderes."},"section8":{"title":"8. Haftungsbeschrnkung","content":"MoneyFlows Haftung ist auf den Betrag beschrnkt, den Sie fr den Service in den 12 Monaten vor einem Anspruch bezahlt haben. Wir haften nicht fr indirekte, zufllige oder Folgeschden."},"section9":{"title":"9. Geistiges Eigentum","content":"Die MoneyFlow-Plattform, einschlielich ihrer Software, ihres Designs und ihrer Inhalte, ist durch Gesetze zum geistigen Eigentum geschtzt. Ihnen wird eine begrenzte Lizenz zur Nutzung des Services gem diesen Bedingungen gewhrt."},"section10":{"title":"10. Kndigung","content":"Jede Partei kann diese Vereinbarung jederzeit kndigen. Bei Kndigung wird Ihr Zugang zum Service eingestellt und wir werden Ihre Daten gem unserer Datenaufbewahrungsrichtlinie lschen."},"section11":{"title":"11. Geltendes Recht","content":"Diese Bedingungen unterliegen den Gesetzen der Europischen Union und der Gerichtsbarkeit, wo MoneyFlow ttig ist. Alle Streitigkeiten werden durch verbindliche Schiedsverfahren gelst."},"section12":{"title":"12. nderungen der Bedingungen","content":"Wir knnen diese Bedingungen von Zeit zu Zeit aktualisieren. Wir werden Sie ber wichtige nderungen per E-Mail oder ber die Plattform benachrichtigen. Die fortgesetzte Nutzung von MoneyFlow nach nderungen stellt die Annahme der neuen Bedingungen dar."}},"privacy":{"title":"Datenschutzrichtlinie","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Informationen, die wir sammeln","content":"Wir sammeln Informationen, die Sie direkt bereitstellen (Kontodetails, Finanzdaten), automatisch gesammelte Informationen (Nutzungsdaten, IP-Adressen) und Informationen von Dritten (Zahlungsabwickler, Integrationen)."},"section2":{"title":"2. Wie wir Ihre Informationen verwenden","content":"Wir verwenden Ihre Informationen, um unsere Services bereitzustellen und zu verbessern, Zahlungen zu verarbeiten, mit Ihnen zu kommunizieren, Sicherheit zu gewhrleisten und rechtliche Verpflichtungen zu erfllen."},"section3":{"title":"3. Informationsaustausch","content":"Wir verkaufen oder vermieten Ihre persnlichen Informationen nicht. Wir knnen Informationen mit Serviceanbietern teilen, fr rechtliche Compliance oder mit Ihrer ausdrcklichen Zustimmung."},"section4":{"title":"4. Datensicherheit","content":"Wir implementieren branchenbliche Sicherheitsmanahmen einschlielich Verschlsselung bei bertragung und Speicherung, regelmige Sicherheitsaudits, Zugriffskontrollen und sichere Rechenzentren."},"section5":{"title":"5. Ihre Rechte (GDPR)","content":"Unter GDPR haben Sie Rechte auf Zugang, Berichtigung, Lschung, Beschrnkung der Verarbeitung, Datenportabilitt und Widerspruch gegen die Verarbeitung Ihrer persnlichen Daten. Sie knnen auch die Einwilligung widerrufen und Beschwerden bei Aufsichtsbehrden einreichen."},"section6":{"title":"6. Datenaufbewahrung","content":"Wir bewahren Ihre Daten so lange auf, wie Ihr Konto aktiv ist und fr einen angemessenen Zeitraum danach fr rechtliche und geschftliche Zwecke. Sie knnen jederzeit die Lschung von Daten anfordern."},"section7":{"title":"7. Internationale bertragungen","content":"Ihre Daten werden hauptschlich innerhalb der EU verarbeitet. Alle internationalen bertragungen sind durch angemessene Schutzmanahmen wie Standardvertragsklauseln geschtzt."},"section8":{"title":"8. Cookies und Tracking","content":"Wir verwenden Cookies und hnliche Technologien fr Authentifizierung, Einstellungen, Analytik und Sicherheit. Sie knnen Cookie-Einstellungen ber Ihren Browser steuern."},"section9":{"title":"9. Drittanbieter-Services","content":"Unsere Plattform kann mit Drittanbieter-Services integriert werden. Ihre Datenschutzpraktiken unterliegen ihren eigenen Datenschutzrichtlinien, die wir Ihnen empfehlen zu berprfen."},"section10":{"title":"10. Datenschutz fr Kinder","content":"MoneyFlow ist nicht fr Nutzer unter 18 Jahren bestimmt. Wir sammeln wissentlich keine persnlichen Informationen von Kindern unter 18 Jahren."},"section11":{"title":"11. Kontaktinformationen","content":"Fr datenschutzbezogene Fragen oder zur Ausbung Ihrer Rechte kontaktieren Sie unseren Datenschutzbeauftragten unter privacy@moneyflow.com oder ber unser Support-Portal."}},"cookies":{"title":"Cookie-Richtlinie","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Was sind Cookies","content":"Cookies sind kleine Textdateien, die auf Ihrem Gert gespeichert werden, wenn Sie unsere Website besuchen. Sie helfen uns, Ihnen ein besseres Erlebnis zu bieten, indem sie sich an Ihre Prferenzen erinnern und die Website-Nutzung analysieren."},"section2":{"title":"2. Arten von Cookies, die wir verwenden","content":"Wir verwenden essenzielle Cookies (notwendig fr grundlegende Funktionalitt), funktionale Cookies (erinnern sich an Prferenzen), Analytik-Cookies (verstehen Nutzungsmuster) und Sicherheits-Cookies (Schutz vor Bedrohungen)."},"section3":{"title":"3. Essenzielle Cookies","content":"Diese Cookies sind notwendig, damit die Website ordnungsgem funktioniert. Sie ermglichen Kernfunktionalitten wie Benutzerauthentifizierung, Sitzungsverwaltung und Sicherheitsfeatures. Diese knnen nicht deaktiviert werden."},"section4":{"title":"4. Funktionale Cookies","content":"Diese Cookies erinnern sich an Ihre Prferenzen und Auswahlen, um erweiterte Funktionalitt zu bieten, wie Sprachauswahl, Zeitzoneneinstellungen und Benutzeroberflchen-Anpassungen."},"section5":{"title":"5. Analytik-Cookies","content":"Wir verwenden Analytik-Cookies, um zu verstehen, wie Besucher mit unserer Website interagieren. Dies hilft uns, unsere Services und Benutzererfahrung zu verbessern. Alle Analytikdaten werden aggregiert und anonymisiert."},"section6":{"title":"6. Drittanbieter-Cookies","content":"Einige Cookies werden von Drittanbieter-Services gesetzt, die wir verwenden, wie Analytik-Anbieter oder Zahlungsabwickler. Diese unterliegen den jeweiligen Datenschutzrichtlinien der Drittanbieter."},"section7":{"title":"7. Cookie-Dauer","content":"Sitzungs-Cookies werden gelscht, wenn Sie Ihren Browser schlieen. Dauerhafte Cookies bleiben fr einen festgelegten Zeitraum auf Ihrem Gert oder bis Sie sie manuell lschen."},"section8":{"title":"8. Cookies verwalten","content":"Sie knnen Cookies ber Ihre Browser-Einstellungen steuern und verwalten. Sie knnen bestehende Cookies lschen und Ihren Browser so einstellen, dass er Cookies akzeptiert oder ablehnt. Beachten Sie, dass das Deaktivieren von Cookies die Website-Funktionalitt beeintrchtigen kann."},"section9":{"title":"9. Cookie-Zustimmung","content":"Durch die Nutzung unserer Website stimmen Sie der Verwendung von Cookies zu, wie in dieser Richtlinie beschrieben. Sie knnen Ihre Zustimmung jederzeit widerrufen, indem Sie Ihre Browser-Einstellungen anpassen."},"section10":{"title":"10. Aktualisierungen der Cookie-Richtlinie","content":"Wir knnen diese Cookie-Richtlinie von Zeit zu Zeit aktualisieren. Wir werden Sie ber wichtige nderungen benachrichtigen, indem wir die aktualisierte Richtlinie mit einem neuen Gltigkeitsdatum auf unserer Website verffentlichen."}},"dpa":{"title":"Datenverarbeitungsvereinbarung (DPA)","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Definitionen und Geltungsbereich","content":"Diese Datenverarbeitungsvereinbarung (\\"DPA\\") ist Teil der Nutzungsbedingungen zwischen Ihnen (\\"Verantwortlicher\\") und MoneyFlow (\\"Auftragsverarbeiter\\"). Sie regelt die Verarbeitung personenbezogener Daten in bereinstimmung mit GDPR und anderen anwendbaren Datenschutzgesetzen."},"section2":{"title":"2. Einzelheiten der Datenverarbeitung","content":"MoneyFlow verarbeitet personenbezogene Daten nur auf dokumentierte Anweisungen des Verantwortlichen, fr die Zwecke der Bereitstellung der Buchhaltungssoftware-Services und in bereinstimmung mit geltenden Datenschutzgesetzen."},"section3":{"title":"3. Datenkategorien","content":"Wir verarbeiten die folgenden Kategorien personenbezogener Daten: Kontaktinformationen (Namen, Adressen, E-Mails), Finanzdaten (Rechnungen, Zahlungen, Transaktionen), Benutzerkontodaten (Anmeldedaten, Prferenzen) und Nutzungsdaten (Zugriffsprotokolle, Analytik)."},"section4":{"title":"4. Rechte der betroffenen Personen","content":"MoneyFlow untersttzt den Verantwortlichen bei der Erfllung von Antrgen betroffener Personen, einschlielich Zugang, Berichtigung, Lschung, Einschrnkung, Portabilitt und Widerspruch. Wir stellen notwendige Tools und Kooperation zur Verfgung, um Compliance zu ermglichen."},"section5":{"title":"5. Sicherheitsmanahmen","content":"Wir implementieren angemessene technische und organisatorische Manahmen zur Gewhrleistung der Datensicherheit, einschlielich Verschlsselung, Zugriffskontrollen, regelmige Sicherheitsbewertungen, Mitarbeiterschulungen und Incident-Response-Verfahren."},"section6":{"title":"6. Unterauftragsverarbeiter","content":"MoneyFlow kann Unterauftragsverarbeiter einsetzen, um bei der Bereitstellung von Services zu helfen. Alle Unterauftragsverarbeiter unterliegen Datenschutzverpflichtungen, die denen in dieser DPA entsprechen. Eine aktuelle Liste der Unterauftragsverarbeiter ist auf Anfrage verfgbar."},"section7":{"title":"7. Datenbertragungen","content":"Personenbezogene Daten werden hauptschlich innerhalb der EU/EWR verarbeitet. Alle bertragungen in Drittlnder sind durch angemessene Schutzmanahmen wie Standardvertragsklauseln oder Angemessenheitsbeschlsse geschtzt."},"section8":{"title":"8. Benachrichtigung bei Datenschutzverletzungen","content":"MoneyFlow wird den Verantwortlichen ber alle Verletzungen des Schutzes personenbezogener Daten unverzglich und binnen 72 Stunden nach Bekanntwerden der Verletzung benachrichtigen und alle relevanten Informationen fr die Beurteilung und Meldepflichten bereitstellen."},"section9":{"title":"9. Datenschutz-Folgenabschtzung","content":"Auf Anfrage wird MoneyFlow angemessene Untersttzung beim Verantwortlichen bei der Durchfhrung von Datenschutz-Folgenabschtzungen (DSFA) und vorherigen Konsultationen mit Aufsichtsbehrden leisten."},"section10":{"title":"10. Prfung und Compliance","content":"MoneyFlow fhrt Aufzeichnungen ber Verarbeitungsttigkeiten und stellt dem Verantwortlichen Informationen zur Verfgung, die notwendig sind, um die Einhaltung von Datenschutzverpflichtungen zu demonstrieren, einschlielich Prfungsrechten vorbehaltlich Vertraulichkeitsverpflichtungen."},"section11":{"title":"11. Datenrckgabe und Lschung","content":"Bei Beendigung der Services wird MoneyFlow nach Wahl des Verantwortlichen alle personenbezogenen Daten und bestehende Kopien zurckgeben oder lschen, es sei denn, die Aufbewahrung ist nach geltendem Recht erforderlich."},"section12":{"title":"12. Haftung und Entschdigung","content":"Die Haftung jeder Partei ist auf Schden beschrnkt, die direkt durch ihre Verletzung dieser DPA verursacht wurden. MoneyFlow wird den Verantwortlichen gegen Ansprche entschdigen, die aus MoneyFlows Verletzung seiner Datenschutzverpflichtungen resultieren."}},"subprocessors":{"title":"Liste der Unterauftragsverarbeiter","lastUpdated":"Zuletzt aktualisiert: {{date}}","intro":"MoneyFlow kann die folgenden Unterauftragsverarbeiter einsetzen, um bei der Bereitstellung unserer Services zu helfen. Alle Unterauftragsverarbeiter unterliegen strengen Datenschutzverpflichtungen.","section1":{"title":"1. Cloud-Infrastruktur-Anbieter","aws":{"name":"Amazon Web Services (AWS)","location":"EU (Frankfurt)","purpose":"Cloud-Hosting und Infrastrukturdienste","safeguards":"AWS GDPR-Compliance, EU-Datenresidenz"},"digitalocean":{"name":"DigitalOcean","location":"EU (Amsterdam)","purpose":"Zustzliche Cloud-Hosting und Backup-Services","safeguards":"Standardvertragsklauseln, EU-Hosting"}},"section2":{"title":"2. Zahlungsabwickler","stripe":{"name":"Stripe","location":"EU/US","purpose":"Zahlungsabwicklung und Abonnementverwaltung","safeguards":"PCI DSS-Compliance, Standardvertragsklauseln"},"paypal":{"name":"PayPal","location":"EU/US","purpose":"Alternative Zahlungsabwicklung","safeguards":"PCI DSS-Compliance, Privacy Shield-Nachfolger"}},"section3":{"title":"3. Kommunikationsdienste","sendgrid":{"name":"SendGrid (Twilio)","location":"EU/US","purpose":"Transaktions-E-Mail-Zustellung","safeguards":"Standardvertragsklauseln, EU-Verarbeitung"},"intercom":{"name":"Intercom","location":"EU/US","purpose":"Kundensupport und Kommunikation","safeguards":"Standardvertragsklauseln, GDPR-Compliance"}},"section4":{"title":"4. Analytik und berwachung","googleanalytics":{"name":"Google Analytics","location":"EU/US","purpose":"Website-Analytik und Leistungsberwachung","safeguards":"Google Analytics 4 mit EU-Datenverarbeitung"},"sentry":{"name":"Sentry","location":"EU/US","purpose":"Fehlerberwachung und Anwendungsleistung","safeguards":"Standardvertragsklauseln, Datenanonymisierung"}},"section5":{"title":"5. Sicherheitsdienste","cloudflare":{"name":"Cloudflare","location":"Global (EU-Knoten)","purpose":"CDN, DDoS-Schutz und Sicherheitsdienste","safeguards":"EU-Datenlokalisierung, Standardvertragsklauseln"}},"section6":{"title":"6. Backup- und Archivdienste","backblaze":{"name":"Backblaze","location":"EU","purpose":"Datensicherung und Archivierungsdienste","safeguards":"Verschlsselung in Ruhe und bei bertragung, EU-Hosting"}},"notifications":{"title":"Benachrichtigungen ber nderungen bei Unterauftragsverarbeitern","content":"Wir werden 30 Tage im Voraus ber neue Unterauftragsverarbeiter oder nderungen bei bestehenden informieren. Sie knnen gegen solche nderungen Einspruch erheben, und falls wir Ihre Bedenken nicht lsen knnen, knnen Sie Ihre Vereinbarung mit uns kndigen."},"contact":{"title":"Fragen zu Unterauftragsverarbeitern","content":"Wenn Sie Fragen zu unseren Unterauftragsverarbeitern haben oder zustzliche Informationen ber Datenschutzschutzmanahmen bentigen, kontaktieren Sie uns bitte unter privacy@moneyflow.com."}},"common":{"backToApp":" Zurck zur App","effectiveDate":"Gltigkeitsdatum","tableOfContents":"Inhaltsverzeichnis","printPage":"Diese Seite drucken","downloadPdf":"PDF herunterladen","lastUpdated":"Zuletzt aktualisiert","contactUs":"Kontaktieren Sie uns unter","questionsContact":"Wenn Sie Fragen zu diesen {{document}} haben, kontaktieren Sie uns bitte unter {{email}}.","documentType":{"terms":"Allgemeine Geschftsbedingungen","privacy":"Datenschutzrichtlinie","cookies":"Cookie-Richtlinie","dpa":"Datenverarbeitungsvereinbarung","subprocessors":"Unterauftragsverarbeiter-Liste"},"navigation":{"terms":"AGB","privacy":"Datenschutz","cookies":"Cookies","dpa":"DPA","subprocessors":"Unterauftragsverarbeiter"}}}'),_2={banner:{title:"Cookie-Einstellungen",description:"Diese Website verwendet Cookies, um Ihre Erfahrung zu verbessern. Sie knnen whlen, welche Cookies zugelassen werden sollen.",acceptAll:"Alle akzeptieren",rejectAll:"Alle ablehnen",managePreferences:"Einstellungen verwalten",savePreferences:"Einstellungen speichern",close:"Schlieen"},modal:{title:"Cookie-Einstellungen",description:"Sie knnen Cookie-Kategorien berprfen und Ihre Prferenzen festlegen. Lesen Sie die Beschreibung jeder Kategorie, um zu entscheiden, welche Cookies zugelassen werden sollen.",necessary:{title:"Notwendige Cookies",description:"Diese Cookies sind fr das ordnungsgeme Funktionieren der Website unerlsslich und knnen nicht deaktiviert werden. Sie werden normalerweise als Reaktion auf Aktionen wie Anmelden oder Ausfllen von Formularen gesetzt.",alwaysActive:"Immer aktiv"},analytics:{title:"Analyse-Cookies",description:"Diese Cookies helfen uns zu verstehen, wie die Website genutzt wird. Sie sammeln Informationen darber, welche Seiten am hufigsten besucht werden und wie Benutzer auf der Website navigieren.",enabled:"Aktiviert",disabled:"Deaktiviert"},marketing:{title:"Marketing-Cookies",description:"Diese Cookies werden verwendet, um Ihnen relevantere Anzeigen zu zeigen. Sie knnen unseren Werbepartnern helfen, ein Profil Ihrer Interessen zu erstellen.",enabled:"Aktiviert",disabled:"Deaktiviert"},acceptSelected:"Ausgewhlte akzeptieren",acceptAll:"Alle akzeptieren",rejectAll:"Alle ablehnen",cancel:"Abbrechen"},notice:{updated:"Ihre Cookie-Einstellungen wurden aktualisiert.",saved:"Cookie-Einstellungen gespeichert."},categories:{necessary:"Notwendig",analytics:"Analyse",marketing:"Marketing"}},E2={title:"Geschftsjahre",subtitle:"Verwalten Sie Ihre Geschftsjahr-Einstellungen",newPeriod:"Neue Periode",search:"Perioden suchen...",periodsRegistered:"Perioden registriert",noPeriods:"Noch keine Geschftsjahre",noPeriodsFound:"Keine Geschftsjahre gefunden",noPeriodsDesc:"Beginnen Sie mit der Erstellung Ihres ersten Geschftsjahrs.",noPeriodsFoundDesc:"Keine Geschftsjahre entsprechen Ihren Suchkriterien.",createFirstPeriod:"Erstes Geschftsjahr erstellen",periodName:"Periodenname",startDate:"Startdatum",endDate:"Enddatum",status:"Status",actions:"Aktionen",view:"Ansehen",edit:"Bearbeiten",lock:"Sperren",unlock:"Entsperren",delete:"Lschen",viewPeriod:"Geschftsjahr ansehen",editPeriod:"Geschftsjahr bearbeiten",addPeriod:"Geschftsjahr hinzufgen",enterPeriodInfo:"Geschftsjahr-Informationen eingeben",periodNamePlaceholder:"z.B.: Jahr 2024",periodDuration:"Periodendauer",days:"Tage",locked:"Gesperrt",active:"Aktiv",planned:"Geplant",statusLabels:{active:"Aktiv",locked:"Gesperrt",planned:"Geplant"},lockPeriod:"Geschftsjahr sperren",unlockPeriod:"Geschftsjahr entsperren",lockConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr sperren mchten? Gesperrte Perioden knnen nicht bearbeitet werden.",unlockConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr entsperren mchten?",deleteConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr lschen mchten?",validation:{nameRequired:"Periodenname ist erforderlich",startDateRequired:"Startdatum ist erforderlich",endDateRequired:"Enddatum ist erforderlich",endDateAfterStart:"Enddatum muss nach dem Startdatum liegen",periodOverlap:"Diese Daten berschneiden sich mit einer bestehenden Periode",minimumDuration:"Geschftsjahr muss mindestens 1 Tag dauern"},errors:{createFailed:"Geschftsjahr konnte nicht erstellt werden",updateFailed:"Geschftsjahr konnte nicht aktualisiert werden",deleteFailed:"Geschftsjahr konnte nicht gelscht werden",lockFailed:"Geschftsjahr konnte nicht gesperrt werden",unlockFailed:"Geschftsjahr konnte nicht entsperrt werden",loadFailed:"Geschftsjahre konnten nicht geladen werden",periodLocked:"Dieses Geschftsjahr ist gesperrt und kann nicht gendert werden",periodNotFound:"Geschftsjahr nicht gefunden",operationNotAllowed:"Diese Operation ist fr gesperrte Geschftsjahre nicht erlaubt"},success:{created:"Geschftsjahr erfolgreich erstellt",updated:"Geschftsjahr erfolgreich aktualisiert",deleted:"Geschftsjahr erfolgreich gelscht",locked:"Geschftsjahr erfolgreich gesperrt",unlocked:"Geschftsjahr erfolgreich entsperrt"},widget:{title:"Geschftsjahre",activePeriod:"Aktive Periode",totalPeriods:"Gesamte Perioden",lockedPeriods:"Gesperrte Perioden",daysRemaining:"Verbleibende Tage",noActivePeriod:"Keine aktive Periode",periodsOverlapping:"berschneidende Perioden vorhanden",allPeriodsLocked:"Alle Perioden sind gesperrt",createActivePeriod:"Aktive Periode erstellen",managePeriods:"Perioden verwalten",warnings:{overlapping:"Einige Geschftsjahre berschneiden sich",noActive:"Derzeit kein aktives Geschftsjahr",allLocked:"Alle Geschftsjahre sind gesperrt"}},filters:{showVoided:"Stornierte anzeigen",hideVoided:"Stornierte ausblenden",voidedRecords:"stornierte Datenstze"}},T2={members:{title:"Organisationsmitglieder",subtitle:"Verwalten Sie Ihre Organisationsmitglieder und Berechtigungen",search:"Mitglieder suchen...",membersCount:"Mitglieder",member:"Mitglied",email:"E-Mail",role:"Rolle",statusLabel:"Status",actions:"Aktionen",inviteButton:"Einladung senden",sending:"Wird gesendet...",table:{name:"Name",email:"E-Mail",role:"Rolle",joinedAt:"Beitrittsdatum",actions:"Aktionen"},edit:"Bearbeiten",remove:"Entfernen",cancel:"Abbrechen",resend:"Erneut senden",noMembers:"Noch keine Mitglieder",noMembersDesc:"Laden Sie Ihr erstes Teammitglied ein.",noPendingInvites:"Keine ausstehenden Einladungen",noPendingInvitesDesc:"Alle Einladungen wurden angenommen oder sind abgelaufen.",roles:{owner:"Inhaber",admin:"Administrator",member:"Mitglied",viewer:"Betrachter",OWNER:"Inhaber",ADMIN:"Administrator",MEMBER:"Mitglied"},status:{active:"Aktiv",pending:"Ausstehend",inactive:"Inaktiv"},permissions:{owner:"Vollzugriff auf alle Funktionen und Einstellungen",admin:"Vollzugriff auer Abrechnung und Organisationslschung",member:"Rechnungen, Ausgaben, Kunden erstellen und bearbeiten",viewer:"Nur-Lese-Zugriff auf alle Daten"},confirmRemove:"Sind Sie sicher, dass Sie dieses Mitglied entfernen mchten?",confirmCancel:"Sind Sie sicher, dass Sie diese Einladung stornieren mchten?",inviteSuccess:"Einladung erfolgreich gesendet",inviteError:"Einladung konnte nicht gesendet werden",removeSuccess:"Mitglied erfolgreich entfernt",removeError:"Mitglied konnte nicht entfernt werden",updateSuccess:"Mitglied erfolgreich aktualisiert",updateError:"Mitglied konnte nicht aktualisiert werden",validation:{emailRequired:"E-Mail ist erforderlich",emailInvalid:"Bitte geben Sie eine gltige E-Mail-Adresse ein",emailExists:"Diese E-Mail ist bereits eingeladen oder ist bereits Mitglied"},tryAgain:"Erneut Versuchen",organization:"Organisation",membersLabel:"Mitglieder",plan:"Plan",youLabel:"Sie",makeAdmin:"Zum Administrator machen",makeMember:"Zum Mitglied machen",limitFull:"Limit Erreicht",invite:{title:"Mitglied einladen",button:"Einladung senden",limitReached:"Plan-Limit erreicht. Upgraden Sie Ihren Plan, um weitere Mitglieder einzuladen.",success:"Einladung erfolgreich gesendet",error:"Einladung konnte nicht gesendet werden",duplicate:"Diese E-Mail ist bereits eingeladen",form:{email:"E-Mail-Adresse",emailPlaceholder:"beispiel@email.com",role:"Rolle"}},pendingInvites:{title:"Ausstehende Einladungen",count:"{{count}} ausstehende Einladungen",resend:"Erneut senden",cancel:"Abbrechen",expires:"Luft ab am {{date}}"}}},P2={invoice:{title:"RECHNUNG",appSubtitle:"comptario Buchhaltungssystem",customerInfo:"Kundendaten",invoiceNumber:"Rechnungs-Nr.",issueDate:"Ausstellungsdatum",dueDate:"Flligkeitsdatum",status:"Status",items:{description:"Beschreibung",quantity:"Menge",unitPrice:"Einzelpreis",total:"Summe"},totals:{subtotal:"Zwischensumme",tax:"MwSt.",grandTotal:"Gesamtsumme"},footer:"Diese Rechnung wurde mit comptario erstellt.",statusLabels:{paid:"Bezahlt",sent:"Gesendet",overdue:"berfllig",draft:"Entwurf"}},expense:{title:"AUSGABENBELEG",supplierInfo:"Lieferantendaten",expenseNumber:"Ausgaben-Nr.",expenseDate:"Ausgabedatum",paymentDate:"Zahlungsdatum",status:"Status",category:"Kategorie",details:"Ausgabendetails",totalAmount:"Gesamtausgabenbetrag",footer:"Dieser Ausgabenbeleg wurde mit comptario erstellt.",statusLabels:{draft:"Entwurf",approved:"Genehmigt",paid:"Bezahlt"}},sale:{title:"VERKAUFSBELEG",customerInfo:"Kundendaten",saleNumber:"Verkaufs-Nr.",saleDate:"Verkaufsdatum",status:"Status",paymentMethod:"Zahlungsmethode",details:"Produkt-/Leistungsdetails",quantity:"Menge",unitPrice:"Einzelpreis",totalAmount:"Gesamtverkaufsbetrag",footer:"Dieser Verkaufsbeleg wurde mit comptario erstellt.",statusLabels:{completed:"Abgeschlossen",pending:"Ausstehend",cancelled:"Storniert"},paymentMethods:{cash:"Bar",card:"Karte",transfer:"berweisung",check:"Scheck"}}},D2={pagination:Kw,app:Gw,landing:Ww,auth:Yw,common:Xw,currencies:Qw,header:Zw,dashboard:Jw,quickActions:e2,transactions:t2,alerts:r2,last6MonthsPerformance:s2,months:n2,sidebar:i2,quotes:a2,stats:o2,status:l2,invoice:c2,expense:d2,customer:u2,supplier:m2,products:h2,chartOfAccounts:f2,invoices:p2,expenses:g2,customers:x2,suppliers:y2,banks:b2,settings:v2,sales:w2,payment:k2,reports:N2,expenseCategories:j2,archive:S2,validation:C2,legal:A2,cookie:_2,fiscalPeriods:E2,org:T2,pdf:P2},I2={itemsPerPage:"lments par page",previous:"Prcdent",next:"Suivant",range:"{{start}}-{{end}} / {{total}}"},M2={name:"comptario",subtitle:"Systme de Comptabilit"},R2=JSON.parse(`{"nav.features":"Fonctionnalits","nav.pricing":"Tarifs","nav.faq":"FAQ","nav.contact":"Contact","cta.try":"Essayer gratuitement","cta.signin":"Se connecter","cta.watchDemo":"Regarder la dmo","hero.title":"Rapidit, clart et contrle en pr-comptabilit.","hero.sub":"Grez factures, dpenses et TVA depuis un espace de travail unique et simple. Multi-devises (EUR/TRY), taux de TVA par catgorie, et gnration de factures PDF.","features.title":"Tout ce dont vous avez besoin pour matriser la pr-comptabilit","features.inv.title":"Facturation","features.inv.desc":"Numrotation, clients, export PDF/HTML et livraison par e-mail.","features.exp.title":"Dpenses","features.exp.desc":"Tlchargement de fichiers, OCR (bientt), TVA par catgorie (ex. 20% FR, 18% TR).","features.vat.title":"Rsums TVA et Taxes","features.vat.desc":"Rapports de priode clairs avec mise en vidence TVA collecte/dductible.","features.fx.title":"Multi-Devises","features.fx.desc":"EUR et TRY avec saisie de taux et options d'arrondi.","value.title":"volue des freelances aux PME","security.title":"Scurit et Conformit","security.items":"Hbergement UE (placeholder), chiffrement en transit et au repos, sauvegardes automatiques.","testimonials.title":"Ce que disent nos utilisateurs","pricing.title":"Tarification simple","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/mois","pricing.price.pro":"29/mois","pricing.price.biz":"Contactez-nous","pricing.cta":"Commencer maintenant","pricing.ctaContact":"Contactez-nous","faq.title":"Questions frquemment poses","faq.q1":"Puis-je commencer gratuitement?","faq.a1":"Oui, le plan Starter vous permet d'mettre des factures limites sans frais.","faq.q2":"Supporte-t-il la TVA?","faq.a2":"Oui, avec TVA par catgorie et rsums simples.","faq.q3":"Les devis sont-ils supports?","faq.a3":"Les devis arrivent bientt  pas encore activs.","faq.q4":"Supportez-vous plusieurs devises?","faq.a4":"Oui, EUR et TRY avec saisie manuelle des taux.","faq.q5":"Comment puis-je annuler?","faq.a5":"Vous pouvez annuler  tout moment depuis les paramtres de facturation.","faq.q6":"O mes donnes sont-elles hberges?","faq.a6":"Dans l'UE (placeholder), avec chiffrement et sauvegardes rgulires.","finalCta.title":"Simplifiez la pr-comptabilit.","finalCta.cta":"Essayer gratuitement","seo.title":"Comptario  Logiciel de Pr-Comptabilit","seo.description":"Comptario vous aide  grer factures, dpenses et TVA dans un espace de travail simple et scuris avec support multi-devises et gnration de factures PDF.","hero.badge":"Comptario  Logiciel de Pr-Comptabilit","hero.features.pdf":"Gnration de Factures PDF","hero.features.currency":"Multi-Devises (EUR/TRY)","hero.features.vat":"Gestion TVA","hero.mockup.revenue":"Revenus Mensuels","hero.mockup.expenses":"Dpenses Mensuelles","hero.mockup.vat":"TVA  Payer","hero.mockup.rate":"Taux","features.subtitle":"Grez votre pr-comptabilit en toute confiance avec notre ensemble d'outils complet conu pour les entreprises modernes.","value.subtitle":"Que vous dbutiez ou dirigiez une entreprise tablie, Comptario s'adapte  vos besoins.","value.freelancers.title":"Pour les Freelances","value.freelancers.desc":"Facturation simple et suivi des dpenses pour garder votre activit organise","value.freelancers.basic":"Facturation de base","value.freelancers.expense":"Gestion des dpenses","value.freelancers.tax":"Rsums fiscaux","value.small.title":"Pour les Petites Entreprises","value.small.desc":"Outils de pr-comptabilit complets qui grandissent avec votre entreprise","value.small.currency":"Support multi-devises","value.small.customer":"Gestion client","value.small.reporting":"Rapports avancs","value.growing.title":"Pour les Entreprises en Croissance","value.growing.desc":"Solutions volutives qui s'adaptent  vos oprations en expansion","value.growing.team":"Collaboration quipe","value.growing.api":"Intgrations API","value.growing.support":"Support prioritaire","value.cta.title":"Prt  rationaliser votre pr-comptabilit?","value.cta.subtitle":"Rejoignez des milliers d'entreprises qui font confiance  Comptario pour grer efficacement leurs finances.","value.cta.trial":"Commencer l'Essai Gratuit","value.cta.demo":"Planifier une Dmo","value.stats.users":"Utilisateurs Actifs","value.stats.invoices":"Factures Gnres","value.stats.uptime":"Temps de Fonctionnement","security.badge":"Scurit de Niveau Entreprise","finalCta.subtitle":"Rejoignez des milliers d'entreprises qui ont optimis leur pr-comptabilit avec Comptario. Commencez votre essai gratuit aujourd'hui  aucune carte de crdit requise.","finalCta.trial":"Essai gratuit de 30 jours","finalCta.noSetup":"Aucuns frais d'installation","finalCta.cancel":"Annulez  tout moment","finalCta.stats.countries":"Pays Desservis","security.features.hosting.title":"Hbergement de Donnes UE","security.features.hosting.desc":"Vos donnes sont hberges dans des centres de donnes UE scuriss avec conformit GDPR","security.features.encryption.title":"Chiffrement de Bout en Bout","security.features.encryption.desc":"Toutes les donnes sont chiffres en transit et au repos en utilisant des protocoles standard de l'industrie","security.features.backups.title":"Sauvegardes Automatises","security.features.backups.desc":"Les sauvegardes automatises quotidiennes garantissent que vos donnes sont toujours en scurit et rcuprables","security.features.gdpr.title":"Conforme GDPR","security.features.gdpr.desc":"Conformit complte avec les rglementations europennes de protection des donnes","security.features.monitoring.title":"Surveillance 24/7","security.features.monitoring.desc":"Surveillance continue de la scurit et dtection des menaces","security.features.uptime.title":"99,9% de Disponibilit","security.features.uptime.desc":"Infrastructure fiable avec SLA de disponibilit garanti","security.trusted.title":"Approuv par les entreprises  travers l'Europe","security.trusted.gdpr":"Conforme","security.trusted.iso":"Certifi","security.trusted.soc":"Type II","security.trusted.ssl":"Chiffr","security.trusted.desc":"Vos donnes financires sont protges par les mmes standards de scurit utiliss par les banques et institutions financires. Nous ne partageons jamais vos donnes avec des tiers et vous gardez un contrle total sur vos informations.","testimonials.subtitle":"Ne nous croyez pas sur parole. Voici ce que nos utilisateurs disent de leur exprience avec Comptario.","testimonials.sarah.content":"Comptario a compltement simplifi mon processus de facturation. Je peux maintenant gnrer des factures professionnelles en minutes et suivre mes dpenses sans effort.","testimonials.sarah.role":"Designer Freelance","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"La fonctionnalit multi-devises sauve la vie pour nos clients internationaux. Les calculs de TVA sont automatiques et prcis, nous faisant conomiser des heures de travail manuel.","testimonials.marcus.role":"PDG","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"En tant que petite entreprise, nous avions besoin de quelque chose de simple mais puissant. Comptario nous donne tout ce dont nous avons besoin sans la complexit des logiciels d'entreprise.","testimonials.elena.role":"Propritaire de Petite Entreprise","testimonials.elena.company":"Boulangerie Locale","testimonials.stats.rating":"Note Moyenne","testimonials.stats.customers":"Clients Satisfaits","testimonials.stats.countries":"Pays","pricing.subtitle":"Choisissez le plan qui correspond aux besoins de votre entreprise. Commencez gratuitement et mettez  niveau au fur et  mesure de votre croissance.","faq.support.title":"Vous avez encore des questions?","faq.support.desc":"Notre quipe de support est l pour vous aider  tirer le meilleur parti de Comptario.","faq.support.contact":"Contacter le Support","faq.support.demo":"Planifier une Dmo","pricing.popular":"Le Plus Populaire","pricing.plans.starter.desc":"Parfait pour les freelances et petits projets","pricing.plans.pro.desc":"Idal pour les entreprises en croissance","pricing.plans.business.desc":"Pour les entreprises tablies","pricing.features.users1":"1 utilisateur","pricing.features.users3":"3 utilisateurs","pricing.features.usersUnlimited":"Utilisateurs illimits","pricing.features.invoices5":"5 factures par mois","pricing.features.basicExpense":"Suivi de dpenses de base","pricing.features.expenses5":"5 dpenses par mois","pricing.features.bank1":"1 compte bancaire","pricing.features.bankUnlimited":"Comptes bancaires illimits","pricing.features.customerSupplier1":"1 client et 1 fournisseur","pricing.features.customerSupplierUnlimited":"Clients et fournisseurs illimits","pricing.features.unlimitedInvoicesExpenses":"Factures et dpenses illimites","pricing.features.vat":"Calculs TVA","pricing.features.pdf":"Export PDF","pricing.features.emailSupport":"Support par e-mail","pricing.features.quotesBasic":"Cration de devis et lien partageable","pricing.features.quotesAdvanced":"Devis : vu/accept/refus, PDF","pricing.features.unlimited":"Factures illimites","pricing.features.advancedExpense":"Gestion avance des dpenses","pricing.features.multiCurrency":"Support multi-devises","pricing.features.customerMgmt":"Gestion client","pricing.features.products":"Gestion des produits et stocks","pricing.features.reports":"Rapports et insights","pricing.features.prioritySupport":"Support prioritaire","pricing.features.api":"Accs API","pricing.features.everythingPro":"Tout ce qui est dans Pro","pricing.features.teamCollaboration":"Collaboration quipe","pricing.features.advancedReporting":"Rapports avancs","pricing.features.whiteLabel":"Options marque blanche","pricing.features.dedicatedSupport":"Support ddi","pricing.features.customIntegrations":"Intgrations personnalises","pricing.features.noCredit":"Aucune carte de crdit requise","pricing.questions":"Vous avez des questions sur nos tarifs?","pricing.checkFaq":"Consultez notre FAQ","pricing.or":"ou","pricing.contactSupport":"contactez le support","pricing.guarantee":"Garantie de remboursement de 30 jours sur tous les plans payants","faq.subtitle":"Tout ce que vous devez savoir sur Comptario. Vous ne trouvez pas la rponse que vous cherchez? N'hsitez pas  nous contacter.","faq.contactUs":"nous contacter","footer.product":"PRODUIT","footer.company":"ENTREPRISE","footer.support":"SUPPORT","footer.legal":"LGAL","footer.features":"Fonctionnalits","footer.pricing":"Tarifs","footer.security":"Scurit","footer.api":"API","footer.about":" propos","footer.blog":"Blog","footer.careers":"Carrires","footer.press":"Presse","footer.helpCenter":"Centre d'aide","footer.contactUs":"Nous contacter","footer.status":"Statut","footer.community":"Communaut","footer.privacy":"Politique de confidentialit","footer.terms":"Conditions d'utilisation","footer.gdpr":"GDPR","footer.cookies":"Politique de cookies","footer.imprint":"Mentions lgales","footer.description":"Logiciel de pr-comptabilit simple et scuris pour les entreprises modernes. Grez factures, dpenses et TVA en toute confiance.","footer.stayUpdated":"Restez inform","footer.updatesDesc":"Recevez les dernires mises  jour sur les nouvelles fonctionnalits et les meilleures pratiques.","footer.email":"support@comptario.com","footer.languages":"Disponible en 4 langues","footer.gdprCompliant":"Conforme GDPR","footer.emailPlaceholder":"Entrez votre e-mail","footer.subscribe":"S'abonner","footer.copyright":" {{year}} Comptario. Tous droits rservs.","footer.madeWith":"Fait avec  en Europe"}`),z2={welcomeTitle:"Bienvenue",welcomeSubtitle:"Connectez-vous pour continuer",emailAddress:"Adresse e-mail",emailPlaceholder:"nom@exemple.com",password:"Mot de passe",passwordPlaceholder:"",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oubli",forgotPasswordHelp:"Entrez votre adresse e-mail ; si un compte existe, nous enverrons un lien de rinitialisation.",resetEmailSent:"Si un compte existe, un e-mail de rinitialisation a t envoy.",signIn:"Se connecter",demoAccount:"Compte dmo :",email:"E-mail",or:"ou",adminLogin:"Connexion admin",noAccount:"Pas de compte ?",createFreeAccount:"Crer un compte gratuit",registerTitle:"Crer un compte",registerSubtitle:"Crez votre compte gratuit et commencez",fullName:"Nom complet",fullNamePlaceholder:"Entrez votre nom complet",companyName:"Nom de l'entreprise",companyPlaceholder:"Votre entreprise (optionnel)",phone:"Tlphone",phonePlaceholder:"(optionnel)",passwordHint:"Au moins 6 caractres",passwordConfirm:"Confirmer le mot de passe",passwordConfirmPlaceholder:"Saisissez  nouveau votre mot de passe",termsText:{prefix:"J'accepte : ",suffix:""},and:" et ",dataProcessing:"Accord de traitement des donnes",registerCta:"Crer un compte",alreadyHaveAccount:"Vous avez dj un compte ?",goToLogin:"Se connecter",sendResetLink:"Envoyer le lien de rinitialisation",resendIn:"Vous pouvez renvoyer dans {{seconds}}s"},O2={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",view:"Voir",update:"Mettre  jour",add:"Ajouter",search:"Rechercher",close:"Fermer",back:"Retour",backToHome:"Retour  l'accueil",yes:"Oui",no:"Non",loading:"Chargement...",error:"Erreur",success:"Succs",warning:"Avertissement",ok:"OK",periodLockedError:"Cet enregistrement ne peut pas tre supprim car il appartient  une priode fiscale verrouille",description:"Description",dueDate:"Date d'chance",startDate:"Date de Dbut",endDate:"Date de Fin",monthlyIncomeExpense:"Revenus/Dpenses Mensuels",last6MonthsPerformance:"Performance des 6 derniers mois (plus rcent  plus ancien)",allCategories:"Toutes les catgories",dateRanges:{thisMonth:"Ce mois-ci",last30Days:"30 derniers jours",thisYear:"Cette anne"},filters:{status:"Statut",filterByStatus:"Filtrer par statut"},actions:{clear:"Effacer",view:"Voir",copyLink:"Copier le lien",downloadPDF:"Tlcharger le PDF"},exportCSV:"Exporter en CSV","dateRanges.thisMonth":"Ce mois-ci","dateRanges.last30Days":"30 derniers jours","dateRanges.thisYear":"Cette anne","common.total":"Total","common.exportCSV":"Exporter en CSV","filters.status":"Statut","filters.filterByStatus":"Filtrer par statut","actions.clear":"Effacer","actions.view":"Voir","actions.copyLink":"Copier le lien","actions.downloadPDF":"Tlcharger le PDF",allStock:"Tous les stocks",newest:"Plus rcent",income:"Revenu",expense:"Dpense",hideChart:"Masquer le Graphique",showChart:"Afficher le Graphique",chartHidden:"Graphique masqu",incomeLabel:"Revenu",expenseLabel:"Dpense",allStatuses:"Tous les Statuts",allAccounts:"Tous les Comptes",cash:"Espces",card:"Carte",transfer:"Virement",check:"Chque",email:"E-mail",quantity:"Quantit",status:"Statut",notes:"Notes"},L2={TRY:"Livre Turque",USD:"Dollar Amricain",EUR:"Euro",GBP:"Livre Sterling"},F2={newInvoice:"Nouvelle Facture",newSale:"Nouvelle Vente",search:"Rechercher...",language:"Langue",notifications:"Notifications",noNotifications:"Aucune nouvelle notification.",settings:"Paramtres",logout:"Dconnexion"},B2={title:"Tableau de bord",overview:"Vue d'ensemble",revenue:"Revenus",expense:"Dpenses",profit:"Bnfice",unpaidInvoices:"Factures impayes",recentActivity:"Activit rcente",totalRevenue:"Total des Revenus",totalExpense:"Total des Dpenses",pendingInvoices:"Factures en Attente",activeCustomers:"Clients Actifs",quickActions:"Actions Rapides",recentTransactions:"Transactions Rcentes",quickAccess:"Accs Rapide",lastTransactions:"Vos {count} dernires transactions",allGood:"Tout va bien!",noAlerts:"Aucune tche ou alerte en attente."},U2={newInvoice:"Nouvelle Facture",newInvoiceDesc:"Crer une facture client",newExpense:"Nouvelle Dpense",newExpenseDesc:"Ajouter un enregistrement de dpense",newSale:"Nouvelle Vente",newSaleDesc:"Enregistrer une transaction de vente",newQuote:"Nouveau Devis",newQuoteDesc:"Crer un devis pour un client",newCustomer:"Nouveau Client",newCustomerDesc:"Ajouter des informations client",newProduct:"Nouveau Produit",newProductDesc:"Ajouter des informations produit",customers:"Clients",suppliers:"Fournisseurs",banks:"Comptes Bancaires",products:"Produits"},$2={invoice:"Facture",expense:"Dpense",sale:"Vente",paid:"Pay",unpaid:"Impay",pending:"En Attente",actions:"Actions",transaction:"Transaction",customerDescription:"Client/Description",amount:"Montant",status:"Statut",date:"Date",noTransactions:"Aucune transaction pour le moment"},V2={overdueInvoices:"Factures en Retard",overdueDesc:"Facture en retard",dueSoon:"chance Proche",dueSoonDesc:"chance dans 7 jours",pendingExpenses:"Dpenses en Attente",pendingExpensesDesc:"Dpense en attente d'approbation",allGood:"Tout va bien!",noAlerts:"Aucune tche ou alerte en attente.",attentionRequired:"Attention Requise"},q2={short:{jan:"Jan",feb:"Fv",mar:"Mar",apr:"Avr",may:"Mai",jun:"Juin",jul:"Juil",aug:"Ao",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dc"}},H2={dashboard:"Tableau de Bord",invoices:"Factures",expenses:"Dpenses",customers:"Clients",products:"Produits",suppliers:"Fournisseurs",banks:"Banques",sales:"Ventes",quotes:"Devis",reports:"Rapports",accounting:"Comptabilit",chartOfAccounts:"Plan Comptable",archive:"Archives",organization:"Organisation",settings:"Paramtres",close:"Fermer"},K2={title:"Devis",newQuote:"Nouveau Devis",comingSoon:"La page de base du module Devis est prte. Liste avance, statuts et modles PDF  venir.",placeholderDescription:"La cration, l'envoi, la page publique et les flux d'acceptation/refus seront ici. L'intgration de la navigation et du menu est en place.",search:"Rechercher des devis...",filterAll:"Tous les Statuts",viewModal:{details:"Dtails du devis"},validUntil:"Valable jusqu'au",expiresIn:"(expire dans {{days}} jours)",expiredOn:"(expir le {{date}})",version:"v{{n}}",confirmAccept:"tes-vous sr de vouloir accepter ce devis ?",acceptedThanks:"Merci, le devis a t accept.",confirmDecline:"tes-vous sr de vouloir refuser ce devis ?",declinedInfo:"Le devis a t refus.",duplicateConfirm:"Voulez-vous continuer l'opration de duplication ?",reviseConfirm:"Voulez-vous rviser ce devis ? La version actuelle sera archive et une nouvelle version sera cre.",actions:{send:"Envoyer",accept:"Accepter",decline:"Refuser",downloadPdf:"Tlcharger PDF",copyLink:"Copier le lien public",copyPublicLink:"Copier le lien",copyPublicLinkSuccess:"Lien copi.",resendEmail:"Renvoyer l'e-mail",revise:"Rviser",duplicate:"Dupliquer"},editModal:{title:"Modifier le devis",subtitle:"Mettez  jour les informations du devis",quoteNumber:"N de devis"},table:{quote:"Devis",customer:"Client",amount:"Montant",status:"Statut",date:"Date",actions:"Actions"},noQuotes:"Aucun devis pour le moment",noQuotesDesc:"Commencez par crer votre premier devis.",noQuotesFound:"Aucun devis trouv",noQuotesFoundDesc:"Aucun devis ne correspond  vos critres de recherche.",createFirstQuote:"Crer le Premier Devis",view:"Voir",edit:"Modifier",delete:"Supprimer",statusLabels:{viewed:"Vu",accepted:"Accept",declined:"Refus",expired:"Expir"},createModal:{title:"Crer un Devis",customer:"Client",customerPlaceholder:"Saisir le nom du client",currency:"Devise",date:"Date d'mission",amount:"Montant",create:"Crer"},scopeOfWork:{title:"Porte des travaux",placeholder:"Primtre du projet, livrables, hypothses et exclusions...",note:"Ce contenu sera ajout au PDF du devis en tant que nouvelle page aprs la section actuelle et sera visible sur le lien public."}},G2={thisMonth:"ce mois",all:"tout"},W2={paid:"Pay",unpaid:"Impay",pending:"En Attente",overdue:"En Retard",draft:"Brouillon",sent:"Envoy",approved:"Approuv",rejected:"Rejet",cancelled:"Annul",completed:"Termin",active:"Actif",inactive:"Inactif"},Y2={details:"Dtails de la Facture",downloadPdf:"Tlcharger PDF",information:"Informations de Facture",type:"Type de Facture",productSale:"Vente de Produit",serviceSale:"Vente de Service",issueDate:"Date d'mission",dueDate:"Date d'chance",customerInfo:"Informations Client",itemsServices:"Articles/Services",description:"Description",quantity:"Quantit",unitPrice:"Prix Unitaire",total:"Total",subtotal:"Sous-total",vat:"TVA",grandTotal:"Total Gnral",notes:"Notes"},X2={details:"Dtails de la Dpense",information:"Informations de Dpense",number:"N Dpense",date:"Date de Dpense",category:"Catgorie",supplier:"Fournisseur",amount:"Montant",receipt:"Reu",viewReceipt:"Voir le Reu"},Q2={history:"Historique des Transactions",transactions:"transactions trouves",noHistory:"Pas Encore d'Historique",noHistoryDesc:"n'a pas encore de factures ou d'enregistrements de transactions.",tip:"Conseil:",tipDesc:"Vous pouvez commencer l'historique des transactions en crant une nouvelle facture pour ce client.",createInvoice:"Crer une Facture",sale:"Vente",completed:"Termin",waiting:"En Attente",historyPageTitle:"Historique Client",historySubtitle:"Tout l'historique pour {{name}}",historyColumns:{name:"Enregistrement / N",date:"Date",status:"Statut",createdBy:"Cr par",type:"Type",description:"Description"}},Z2={expenseHistory:"Historique des Dpenses",expensesFound:"dpenses trouves",noExpenseHistory:"Pas Encore d'Historique de Dpenses",noExpenseHistoryDesc:"n'a pas encore d'enregistrements de dpenses.",tip:"Conseil:",tipDesc:"Vous pouvez commencer l'historique des transactions en crant une nouvelle dpense pour ce fournisseur.",createExpense:"Crer une Dpense",viewExpense:"Voir la dpense"},J2={title:"Produits",newProduct:"Nouveau Produit",search:"Rechercher des produits...",filterCategory:"Toutes les Catgories",name:"Nom du Produit",category:"Catgorie",price:"Prix",stock:"Stock",status:"Statut",actions:"Actions",noProducts:"Aucun produit pour le moment",addFirstProduct:"Ajoutez votre premier produit",edit:"Modifier",delete:"Supprimer",deleteConfirm:"tes-vous sr de vouloir supprimer ce produit ?",manageCategories:"Grer les Catgories",totalProducts:"Total Produits",stockValue:"Valeur du Stock",totalStock:"Stock Total",lowStock:"Stock Faible",activeProductsDesc:"Nombre de produits activement vendus",totalStockCostDesc:"Cot total estim du stock",totalUnitsDesc:"Total d'units en entrept",criticalLevelDesc:"Produits en dessous du niveau critique",productCategories:"Catgories de Produits",addCategory:"Ajouter catgorie",categoriesCount:"catgories",allProducts:"Tous les produits",noCategories:"Aucune catgorie pour le moment.",mainCategoriesTitle:"Catgories principales",subCategories:"Sous-catgories",editCategory:"Modifier",deleteCategory:"Supprimer",editCategoryTooltip:"Modifier la catgorie",mainCategoryEditTooltip:"Seul le taux de taxe peut tre modifi pour les catgories principales",generalCategoryCannotDelete:"La catgorie gnrale ne peut pas tre supprime",mainCategoryCannotDelete:"La catgorie principale ne peut pas tre supprime",deleteCategoryConfirm:"tes-vous sr de vouloir supprimer cette catgorie?",deleteCategoryWithProducts:'Cette catgorie a {count} produits. Si vous la supprimez, les produits seront dplacs vers la catgorie "{defaultCategory}". Voulez-vous continuer?',categoryCannotDeleteProtected:`"{category}" ne peut pas tre supprime car c'est une catgorie principale.`,generalCategoryCannotDeleteAlert:"La catgorie gnrale ne peut pas tre supprime.",updatePrice:"Mettre  jour le prix",assignCategory:"Assigner une catgorie",archive:"Archiver",noProductsYet:"Aucun produit pour le moment",costPrice:"Cot",unit:"Unit",productsCount:"produits",allStock:"Tous les stocks",lowStockFilter:"Stock faible",outOfStock:"Rupture de stock",overstock:"Surstock",newest:"Plus rcent",priceHighLow:"Prix (Haut-Bas)",priceLowHigh:"Prix (Bas-Haut)",stockHighLow:"Stock (Haut-Bas)",stockLowHigh:"Stock (Bas-Haut)",inStock:"En Stock",critical:"Critique",depleted:"puis",cost:"Cot",minStock:"Stock Min.",view:"Voir",viewProduct:"Voir le produit",mainCategories:{products:"Produits",services:"Services"},createCategoryFirst:"Vous devez d'abord crer une nouvelle catgorie.",productServiceName:"Nom Produit/Service",selectFromList:"Slectionner produit dans la liste",productsFound:"produits trouvs",editProduct:"Modifier Produit",enterProductInfo:"Remplir les informations produit et mettre  jour le statut stock",generalInfo:"INFORMATIONS GNRALES",priceAndStock:"PRIX ET STOCK",notes:"NOTES",namePlaceholder:"Nom du produit/service",unitPlaceholder:"Unit (ex: pcs, kg, heure)",descriptionPlaceholder:"Caractristiques produit, informations garantie etc.",useCustomTax:"Utiliser taux TVA personnalis",customTaxNote:"Vous pouvez dfinir un taux de TVA diffrent pour ce produit. Si laiss vide, la TVA de catgorie sera utilise.",categoryTax:"TVA Catgorie",salePrice:"Prix de Vente",stockQuantity:"Quantit Stock",criticalStock:"Stock Critique",customTaxRate:"Taux TVA Personnalis",taxRatePlaceholder:"18.0",customTaxRateHelper:"Taux de TVA personnalis pour ce produit. Remplace la TVA de catgorie.",noCategoriesFound:"Aucune catgorie trouve",useCustomTaxRate:"Utiliser taux TVA personnalis",description:"Description"},ek={title:"Plan Comptable",subtitle:"Grez votre plan comptable",newAccount:"Nouveau Compte",search:"Rechercher par code ou nom de compte...",code:"Code",accountName:"Nom du Compte",type:"Type",balance:"Solde",status:"Statut",actions:"Actions",accountsRegistered:"comptes enregistrs",clickToEdit:"Cliquez sur le nom, le code ou le solde du compte pour modifier",addAccountTip:"Utilisez le bouton ci-dessus pour ajouter un nouveau compte",active:"Actif",passive:"Inactif",allSummed:"tout additionn",accountTypes:{all:"Tous",asset:"Actif",liability:"Passif",equity:"Capitaux propres",revenue:"Revenus",expense:"Dpense"},accountTypesPlural:{asset:"Actifs",liability:"Passifs",equity:"Capitaux propres",revenue:"Revenus",expense:"Dpenses"},statusLabels:{active:"Actif",inactive:"Inactif"},tooltips:{editHint:"Cliquez sur la ligne du compte pour modifier"},accountNames:{100:"ACTIFS CIRCULANTS",101:"Caisse",102:"Banques",120:"Clients",150:"ACTIFS IMMOBILISS",200:"PASSIFS  COURT TERME",201:"Fournisseurs",300:"CAPITAUX PROPRES",600:"PRODUITS",601:"Produits des Ventes",602:"Produits des Services",700:"CHARGES",701:"Charges de Loyer",702:"Charges de Personnel",703:"Charges de Factures"},accountTypeLabels:{asset:"Actif",liability:"Passif",equity:"Capitaux propres",revenue:"Produit",expense:"Charge"}},tk={title:"Factures",newInvoice:"Nouvelle Facture",deleteConfirm:"tes-vous sr de vouloir supprimer cette facture ?",search:"Rechercher numro de facture ou client...",filterAll:"Tous les Statuts",invoicesRegistered:"factures enregistres",inArchive:"dans l'archive",noInvoices:"Aucune facture pour le moment",noInvoicesFound:"Aucune facture trouve",showVoided:"Afficher Annules",hideVoided:"Masquer Annules",noInvoicesDesc:"Commencez par crer votre premire facture.",noInvoicesFoundDesc:"Aucune facture ne correspond  vos critres de recherche.",createFirstInvoice:"Crer la Premire Facture",invoiceNumber:"Facture",customer:"Client",date:"Date",amount:"Montant",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",download:"Tlcharger",delete:"Supprimer",viewInvoice:"Voir la facture",selectInvoiceType:"Slectionner le type de facture",newSale:"Nouvelle Vente",newSaleDescription:"Crer un nouveau dossier de vente et mettre une facture",newSaleNote:"La vente et la facture seront cres automatiquement",existingSale:"Vente Existante",existingSaleDescription:"mettre une facture pour une vente dj effectue",existingSaleNote:"Seules les informations de facturation peuvent tre modifies",returnInvoice:"Facture de Retour",returnInvoiceDescription:"Crez une facture de retour/remboursement pour une facture prcdemment mise",returnInvoiceNote:"Le retour sera cr en slectionnant parmi les factures existantes",notes:"Notes",notesPlaceholder:"Notes supplmentaires lies  la vente",autoGenerated:"Gnr automatiquement",statusCompleted:"Termin",statusPending:"En attente",statusCancelled:"Annul",enterSaleInfo:"Saisir les informations de vente",productServiceDescription:"Description du produit ou service",subtotalExclVAT:"Sous-total (HT)",vat:"TVA",grandTotalInclVAT:"Total Gnral (TTC)",grandTotalExclVAT:"Total Gnral (HT)",createInvoiceFromSale:"Crer Facture  partir de Vente",completeInvoiceInfo:"Complter les informations de facturation",invoiceNumberAutoGenerated:"Le numro de facture est gnr automatiquement",invoiceType:"Type de Facture",productInvoice:"Facture de Produit (Normal)",selectInvoiceToReturn:"-- Slectionner la facture  retourner --",invoiceToReturn:"Facture  Retourner (obligatoire)",returnInvoiceAutoLoad:" Les produits de la facture slectionne seront automatiquement chargs avec des quantits ngatives.",issueDate:"Date d'mission",dueDate:"Date d'chance",customerName:"Nom du Client",customerSearchPlaceholder:"Rechercher un client ou entrer le nom d'un nouveau client",productsAndServices:"Produits et Services",addLine:"Ajouter une Ligne",description:"Description",quantity:"Quantit",unitPriceExclVAT:"Prix Unitaire (HT)",totalInclVAT:"Total (TTC)"},rk={title:"Dpenses",newExpense:"Nouvelle Dpense",deleteConfirm:"tes-vous sr de vouloir supprimer cette dpense ?",deleteSuccess:"Dpense supprime",deleteError:"Impossible de supprimer la dpense",search:"Rechercher description de dpense ou fournisseur...",filterAll:"Tous les Statuts",expensesRegistered:"dpenses enregistres",noExpenses:"Aucune dpense pour le moment",noExpensesFound:"Aucune dpense trouve",noExpensesDesc:"Commencez par enregistrer votre premire dpense.",noExpensesFoundDesc:"Aucune dpense ne correspond  vos critres de recherche.",createFirstExpense:"Crer la Premire Dpense",description:"Description",supplier:"Fournisseur",category:"Catgorie",date:"Date",amount:"Montant",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",download:"Tlcharger",delete:"Supprimer",viewExpense:"Voir la dpense",enterExpenseDetails:"Entrez les dtails de la dpense",editExpense:"Modifier la Dpense",enterExpenseInfo:"Entrez les informations de la dpense",expenseNumber:"Numro de Dpense",expenseDate:"Date de Dpense",paymentDate:"Date de Paiement",addExpense:"Ajouter une Dpense",supplierPlaceholder:"Entrez le nom du fournisseur...",descriptionPlaceholder:"Description de la dpense...",totalExpense:"Dpense Totale",receiptUrl:"URL du Reu/Facture",receiptUrlHelper:"Vous pouvez ajouter un lien vers l'image/PDF du reu ou de la facture"},sk={title:"Clients",newCustomer:"Nouveau Client",search:"Rechercher des clients...",customersRegistered:"clients enregistrs",noCustomers:"Aucun client pour le moment",noCustomersFound:"Aucun client trouv",noCustomersDesc:"Commencez par ajouter votre premier client.",noCustomersFoundDesc:"Aucun client ne correspond  vos critres de recherche.",createFirstCustomer:"Ajouter le Premier Client",name:"Nom",email:"E-mail",phone:"Tlphone",totalInvoices:"Total Factures",totalAmount:"Montant Total",actions:"Actions",importCSV:"Importer CSV/Excel",downloadTemplate:"Tlcharger Modle",address:"Adresse",emailPlaceholder:"client@example.com",addressPlaceholder:"Informations compltes de l'adresse...",addCustomer:"Ajouter Client",selectFromList:"Slectionner client dans la liste",customersFound:"clients trouvs",enterCustomerInfo:"Saisir les informations client",taxNumber:"Numro de TVA",company:"Nom de l'Entreprise",namePlaceholder:"Jean Dupont",companyPlaceholder:"Technologie ABC Ltd.",import:{noDataFound:"Aucune donne trouve dans le fichier.",noCustomersFound:"Aucun client  importer trouv dans le fichier.",success:"{{count}} clients imports avec succs!",error:"Une erreur s'est produite lors de l'importation."}},nk={title:"Fournisseurs",newSupplier:"Nouveau Fournisseur",search:"Rechercher des fournisseurs...",suppliersRegistered:"fournisseurs enregistrs",noSuppliers:"Aucun fournisseur pour le moment",noSuppliersFound:"Aucun fournisseur trouv",noSuppliersDesc:"Commencez par ajouter votre premier fournisseur.",noSuppliersFoundDesc:"Aucun fournisseur ne correspond  vos critres de recherche.",createFirstSupplier:"Ajouter le Premier Fournisseur",name:"Nom",email:"E-mail",phone:"Tlphone",totalExpenses:"Total Dpenses",totalAmount:"Montant Total",actions:"Actions"},ik={title:"Comptes Bancaires",newAccount:"Nouveau Compte",search:"Rechercher nom de banque, nom de compte ou numro...",filterAll:"Tous les Comptes",accountsRegistered:"comptes enregistrs",totalBalance:"Solde total",noBanks:"Aucun compte bancaire pour le moment",noBanksFound:"Aucun compte trouv",noBanksDesc:"Commencez par ajouter votre premier compte bancaire.",noBanksFoundDesc:"Aucun compte ne correspond  vos critres de recherche.",createFirstAccount:"Ajouter le Premier Compte",bankName:"Banque",accountName:"Nom du Compte",accountNumber:"N de Compte",balance:"Solde",status:"Statut",actions:"Actions",editAccount:"Modifier le Compte",enterAccountInfo:"Saisir les informations du compte bancaire",selectBank:"Slectionner la banque",accountNamePlaceholder:"Nom de l'Entreprise ou Nom de la Personne",accountType:"Type de Compte",accountTypes:{checking:"Compte Courant",savings:"Compte d'pargne",business:"Compte Professionnel"},ibanAutoFormat:"L'IBAN sera format automatiquement",currentBalance:"Solde Actuel",currency:"Devise",accountActive:"Compte actif",addAccount:"Ajouter Compte",routingNumber:"Numro de routage (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Code Agence"},ak={title:"Paramtres",subtitle:"Grez vos paramtres systme et compte",save:"Enregistrer",cancel:"Annuler",profile:"Profil",company:"Informations de l'Entreprise",system:"Paramtres Systme",security:"Scurit",data:"Gestion des Donnes",currency:"Devise",language:"Langue",notifications:"Notifications",theme:"Thme",success:"Succs",error:"Erreur",saved:"Paramtres enregistrs",saveFailed:"Les paramtres n'ont pas pu tre enregistrs"},ok={title:"Ventes",newSale:"Nouvelle Vente",totalSales:"Total des Ventes",totalSalesCount:"Nombre Total de Ventes",completed:"Termines",salesList:"Liste des Ventes",salesRegistered:"ventes enregistres",search:"Rechercher par numro de vente, client ou produit...",noSales:"Aucune vente pour le moment",noSalesFound:"Aucune vente trouve",noSalesDesc:"Commencez par ajouter votre premire vente.",noSalesFoundDesc:"Aucune vente ne correspond  vos critres de recherche.",createFirstSale:"Ajouter la Premire Vente",sale:"Vente",customer:"Client",productService:"Produit/Service",amount:"Montant",status:"Statut",date:"Date",actions:"Actions",viewSale:"Voir la vente",editSale:"Modifier la vente",deleteSale:"Supprimer la vente",deleteConfirm:"tes-vous sr de vouloir supprimer cette vente?",createInvoice:"Crer une Facture",download:"Tlcharger",subtitle:"Grez vos enregistrements de ventes",saleCompleted:"Vente Termine!",saleCompletedDesc:"La vente a t enregistre avec succs.",createInvoiceQuestion:"Souhaitez-vous crer une facture?",autoGenerated:"Gnr automatiquement",statusCompleted:"Termin",statusPending:"En attente",statusCancelled:"Annul",saleNumber:"N de Vente",saleDate:"Date de Vente",autoNumberNote:"Le numro sera gnr automatiquement lors de l'enregistrement",unitPriceInclVAT:"Prix Unitaire (TTC)",totalInclVAT:"Total (TTC)",unitPriceExclVAT:"Prix Unitaire (HT)",totalExclVAT:"Total (HT)",notesPlaceholder:"Notes supplmentaires lies  la vente",addSale:"Ajouter Vente",enterSaleInfo:"Saisir les informations de vente",saleSummary:"Rsum de la Vente",invoiceWillBeDownloaded:"Si une facture est cre, elle sera automatiquement tlcharge au format PDF.",confirmInvoiceCreation:"Crer une facture?",invoiceWillOpen:"La facture s'ouvrira dans la fentre de visualisation aprs sa cration.",selectExistingSale:"Slectionner une Vente Existante",selectSaleForInvoice:"Slectionnez une vente pour crer une facture",searchSalesPlaceholder:"Rechercher par numro de vente, client ou produit...",noInvoiceableSales:"Aucune vente facturable trouve",changeSearchCriteria:"Essayez de modifier vos critres de recherche",allSalesInvoiced:"Toutes les ventes ont t factures",pieces:"pcs",saleInfo:"Informations de Vente",salesWaitingForInvoice:"Ventes en attente de facturation : {{count}}"},lk={method:"Mthode de Paiement",cash:"Espces",card:"Carte Bancaire",transfer:"Virement",check:"Chque"},ck={title:"Rapports",subtitle:"Rapports d'analyse dtaills de votre entreprise",reportDate:"Date du Rapport",overview:"Vue d'Ensemble",basicMetrics:"Mtriques de Base",totalIncome:"Revenu Total",totalExpense:"Dpense Totale",netProfit:"Bnfice Net",totalCustomers:"Total Clients",net:"Net",financialHealth:"Sant Financire",profitMargin:"Marge Bnficiaire",growthRate:"Taux de Croissance",averageSale:"Vente Moyenne",activeCustomers:"Clients Actifs",paymentStatusAnalysis:"Analyse du Statut de Paiement",invoiceStatuses:"Statuts des Factures",expenseStatuses:"Statuts des Dpenses",revenueAnalysis:"Analyse des Revenus",productBasedSales:"Ventes par Produit",sales:"ventes",avg:"Moy",monthlyRevenueTrend:"Tendance des Revenus Mensuels",expenseAnalysis:"Analyse des Dpenses",categoryBasedExpenses:"Dpenses par Catgorie",expenses:"dpenses",monthlyExpenseTrend:"Tendance des Dpenses Mensuelles",topSuppliers:"Principaux Fournisseurs par Dpense",lastExpense:"Dernier",recentExpenses:"Dpenses Rcentes",expenseCategoryDistribution:"Distribution des Catgories de Dpenses",customerAnalysis:"Analyse des Clients",topCustomers:"Meilleurs Clients",purchases:"achats",last:"Dernier",customerStatistics:"Statistiques des Clients",activeCustomersCount:"Clients Actifs",revenuePerCustomer:"Revenu par Client",salesPerCustomer:"Ventes par Client",averagePurchases:"Achats Moyens",maxPurchases:"Achats Maximum",performanceReports:"Rapports de Performance",kpiDashboard:"Tableau de Bord KPI",increase:"Augmentation",decrease:"Diminution",monthlyPerformanceTable:"Tableau de Performance Mensuelle",total6Months:"Total (6 Mois)",totalIncome6Months:"Revenu Total (6 Mois)",totalExpense6Months:"Dpenses Totales (6 Mois)",netProfit6Months:"Bnfice Net (6 Mois)",month:"Mois",profit:"Bnfice",profitMarginPercent:"Marge Bnficiaire",expenseRatio:"Ratio de Dpenses",expenseEfficiency:"Analyse de l'Efficacit des Dpenses",expenseCategoryPerformance:"Performance des Catgories de Dpenses",noSupplier:"Aucun Fournisseur",noCustomer:"Aucun Client"},dk={equipment:"quipement",utilities:"Services publics",rent:"Loyer",salaries:"Salaires",personnel:"Personnel",supplies:"Fournitures",marketing:"Marketing",travel:"Voyage",insurance:"Assurance",taxes:"Taxes",other:"Autre"},uk={title:"Archive",subtitle:"Vos enregistrements termins et historiques",totalArchive:"Archive Totale",archivedInvoices:"Factures Archives",archivedExpenses:"Dpenses Archives",archivedSales:"Ventes Archives",totalContacts:"Contacts Totaux",searchPlaceholder:"Rechercher dans l'archive...",clearFilters:"Effacer les Filtres",tabs:{all:"Tout",invoices:"Factures",expenses:"Dpenses",sales:"Ventes",contacts:"Contacts"},sections:{archivedInvoices:"Factures Archives",archivedExpenses:"Dpenses Archives",archivedSales:"Ventes Archives",customers:"Clients",suppliers:"Fournisseurs",archiveSummary:"Rsum de l'Archive"},empty:{invoices:"Aucune facture archive",invoicesHelper:"Les factures payes ou en retard apparatront ici",expenses:"Aucune dpense archive",expensesHelper:"Les dpenses payes apparatront ici",sales:"Aucune vente archive",salesHelper:"Les ventes termines apparatront ici",customers:"Aucun client trouv",suppliers:"Aucun fournisseur trouv"},table:{invoice:"Facture",customer:"Client",amount:"Montant",status:"Statut",date:"Date",actions:"Actions",expense:"Dpense",supplier:"Fournisseur",category:"Catgorie",sale:"Vente",product:"Produit/Service",registered:"Enregistr"},actions:{view:"Voir",download:"Tlcharger"},summary:{financial:"Rsum Financier",totalIncome:"Revenu Archiv Total",totalExpense:"Dpenses Archives Totales",netArchive:"Archive Nette",recordCounts:"Nombre d'Enregistrements"},info:{title:" Propos de l'Archive",description:"La page d'archive stocke vos transactions termines. Les factures payes, les dpenses approuves et les ventes termines sont automatiquement listes ici. Ces enregistrements sont en lecture seule et peuvent tre utiliss pour l'analyse historique et  des fins d'audit."}},mk={required:"Ce champ est requis",invalidEmail:"Adresse e-mail invalide",invalidPhone:"Numro de tlphone invalide",minLength:"Longueur minimale {{min}} caractres",maxLength:"Longueur maximale {{max}} caractres",invalidNumber:"Numro invalide",categoryRequired:"Veuillez slectionner une catgorie",dueDateRequired:"Veuillez slectionner une date d'chance",saleDateRequired:"La date de vente est requise",unitPriceRequired:"Le prix unitaire doit tre suprieur  zro",quantityRequired:"La quantit doit tre suprieure  zro",customerNameRequired:"Le nom du client est requis",customerNotFound:"Client non trouv dans le systme. Veuillez slectionner dans la liste.",productNameRequired:"Le nom du produit ou service est requis",productNotFound:"Produit non trouv dans le systme. Veuillez slectionner dans la liste.",skuRequired:"SKU est requis",validPriceRequired:"Veuillez entrer un prix valide",validStockRequired:"Veuillez entrer une quantit de stock valide"},hk=JSON.parse(`{"terms":{"title":"Conditions d'utilisation","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Prsentation du service","content":"MoneyFlow est une plateforme logicielle de pr-comptabilit base sur le cloud conue pour aider les entreprises  grer leurs factures, dpenses et oprations financires. La plateforme offre un support multi-devises, des calculs de TVA automatiss et des outils de reporting intgrs."},"section2":{"title":"2. Comptes utilisateur et inscription","content":"Pour utiliser MoneyFlow, vous devez crer un compte en fournissant des informations exactes et compltes. Vous tes responsable du maintien de la confidentialit de vos identifiants de compte et de toutes les activits qui se produisent sous votre compte."},"section3":{"title":"3. Utilisation acceptable","content":"Vous acceptez d'utiliser MoneyFlow uniquement  des fins lgales et conformment  ces Conditions. Vous ne pouvez pas utiliser le service pour vous engager dans des activits illgales, violer les droits de proprit intellectuelle ou perturber la fonctionnalit de la plateforme."},"section4":{"title":"4. Proprit des donnes et confidentialit","content":"Vous conservez la proprit de toutes les donnes que vous saisissez dans MoneyFlow. Nous traitons vos donnes conformment  notre Politique de Confidentialit et aux lois applicables sur la protection des donnes, y compris le RGPD. Nous mettons en place des mesures de scurit appropries pour protger vos informations."},"section5":{"title":"5. Disponibilit du service","content":"Bien que nous nous efforcions de maintenir un temps de fonctionnement de 99,9%, MoneyFlow peut connatre des interruptions de service occasionnelles pour la maintenance, les mises  jour ou des problmes techniques imprvus. Nous fournirons un pravis pour la maintenance planifie chaque fois que possible."},"section6":{"title":"6. Abonnement et facturation","content":"MoneyFlow propose divers plans d'abonnement avec diffrentes fonctionnalits et limites d'utilisation. La facturation est traite automatiquement selon votre plan choisi. Vous pouvez mettre  niveau, rtrograder ou annuler votre abonnement  tout moment."},"section7":{"title":"7. Sauvegarde et exportation des donnes","content":"Nous effectuons des sauvegardes automatises rgulires de vos donnes. Vous pouvez exporter vos donnes  tout moment dans des formats standard.  la rsiliation du compte, nous conserverons vos donnes pendant 90 jours avant la suppression permanente, sauf si la loi l'exige autrement."},"section8":{"title":"8. Limitation de responsabilit","content":"La responsabilit de MoneyFlow est limite au montant que vous avez pay pour le service dans les 12 mois prcdant toute rclamation. Nous ne sommes pas responsables des dommages indirects, accessoires ou conscutifs."},"section9":{"title":"9. Proprit intellectuelle","content":"La plateforme MoneyFlow, y compris son logiciel, sa conception et son contenu, est protge par les lois sur la proprit intellectuelle. Une licence limite vous est accorde pour utiliser le service selon ces Conditions."},"section10":{"title":"10. Rsiliation","content":"Chaque partie peut rsilier cet accord  tout moment.  la rsiliation, votre accs au service cessera et nous supprimerons vos donnes selon notre politique de conservation des donnes."},"section11":{"title":"11. Droit applicable","content":"Ces Conditions sont rgies par les lois de l'Union europenne et la juridiction o MoneyFlow opre. Tous les litiges seront rsolus par arbitrage contraignant."},"section12":{"title":"12. Modifications des conditions","content":"Nous pouvons mettre  jour ces Conditions de temps  autre. Nous vous informerons des changements importants par e-mail ou via la plateforme. L'utilisation continue de MoneyFlow aprs les changements constitue l'acceptation des nouvelles Conditions."}},"privacy":{"title":"Politique de confidentialit","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Informations que nous collectons","content":"Nous collectons les informations que vous fournissez directement (dtails de compte, donnes financires), les informations collectes automatiquement (donnes d'utilisation, adresses IP) et les informations de tiers (processeurs de paiement, intgrations)."},"section2":{"title":"2. Comment nous utilisons vos informations","content":"Nous utilisons vos informations pour fournir et amliorer nos services, traiter les paiements, communiquer avec vous, assurer la scurit et respecter les obligations lgales."},"section3":{"title":"3. Partage d'informations","content":"Nous ne vendons ni ne louons vos informations personnelles. Nous pouvons partager des informations avec des prestataires de services, pour la conformit lgale ou avec votre consentement explicite."},"section4":{"title":"4. Scurit des donnes","content":"Nous mettons en place des mesures de scurit standard de l'industrie, y compris le chiffrement en transit et au repos, des audits de scurit rguliers, des contrles d'accs et des centres de donnes scuriss."},"section5":{"title":"5. Vos droits (RGPD)","content":"Sous le RGPD, vous avez le droit d'accder, de rectifier, d'effacer, de restreindre le traitement, de portabilit des donnes et de vous opposer au traitement de vos donnes personnelles. Vous pouvez galement retirer votre consentement et dposer des plaintes auprs des autorits de contrle."},"section6":{"title":"6. Conservation des donnes","content":"Nous conservons vos donnes tant que votre compte est actif et pendant une priode raisonnable par la suite  des fins lgales et commerciales. Vous pouvez demander la suppression des donnes  tout moment."},"section7":{"title":"7. Transferts internationaux","content":"Vos donnes sont principalement traites au sein de l'UE. Tous les transferts internationaux sont protgs par des garanties appropries telles que les Clauses Contractuelles Types."},"section8":{"title":"8. Cookies et suivi","content":"Nous utilisons des cookies et des technologies similaires pour l'authentification, les prfrences, l'analytique et la scurit. Vous pouvez contrler les paramtres des cookies via votre navigateur."},"section9":{"title":"9. Services tiers","content":"Notre plateforme peut s'intgrer avec des services tiers. Leurs pratiques de confidentialit sont rgies par leurs propres politiques de confidentialit, que nous vous encourageons  examiner."},"section10":{"title":"10. Confidentialit des enfants","content":"MoneyFlow n'est pas destin aux utilisateurs de moins de 18 ans. Nous ne collectons pas sciemment d'informations personnelles d'enfants de moins de 18 ans."},"section11":{"title":"11. Informations de contact","content":"Pour les questions lies  la confidentialit ou pour exercer vos droits, contactez notre Dlgu  la Protection des Donnes  privacy@moneyflow.com ou via notre portail de support."}},"cookies":{"title":"Politique de cookies","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Que sont les cookies","content":"Les cookies sont de petits fichiers texte stocks sur votre appareil lorsque vous visitez notre site web. Ils nous aident  vous offrir une meilleure exprience en se souvenant de vos prfrences et en analysant l'utilisation du site."},"section2":{"title":"2. Types de cookies que nous utilisons","content":"Nous utilisons des cookies essentiels (ncessaires pour la fonctionnalit de base), des cookies fonctionnels (se souviennent des prfrences), des cookies d'analyse (comprennent les modles d'utilisation) et des cookies de scurit (protection contre les menaces)."},"section3":{"title":"3. Cookies essentiels","content":"Ces cookies sont ncessaires au bon fonctionnement du site web. Ils permettent des fonctionnalits de base telles que l'authentification utilisateur, la gestion de session et les fonctionnalits de scurit. Ils ne peuvent pas tre dsactivs."},"section4":{"title":"4. Cookies fonctionnels","content":"Ces cookies se souviennent de vos prfrences et choix pour fournir des fonctionnalits amliores, telles que la slection de langue, les paramtres de fuseau horaire et les personnalisations d'interface utilisateur."},"section5":{"title":"5. Cookies d'analyse","content":"Nous utilisons des cookies d'analyse pour comprendre comment les visiteurs interagissent avec notre site web. Cela nous aide  amliorer nos services et l'exprience utilisateur. Toutes les donnes d'analyse sont agrges et anonymises."},"section6":{"title":"6. Cookies tiers","content":"Certains cookies sont dfinis par des services tiers que nous utilisons, tels que les fournisseurs d'analyse ou les processeurs de paiement. Ceux-ci sont rgis par les politiques de confidentialit respectives des tiers."},"section7":{"title":"7. Dure des cookies","content":"Les cookies de session sont supprims lorsque vous fermez votre navigateur. Les cookies persistants restent sur votre appareil pendant une priode dfinie ou jusqu' ce que vous les supprimiez manuellement."},"section8":{"title":"8. Gestion des cookies","content":"Vous pouvez contrler et grer les cookies via les paramtres de votre navigateur. Vous pouvez supprimer les cookies existants et configurer votre navigateur pour accepter ou rejeter les cookies. Notez que la dsactivation des cookies peut affecter la fonctionnalit du site web."},"section9":{"title":"9. Consentement aux cookies","content":"En utilisant notre site web, vous consentez  l'utilisation de cookies comme dcrit dans cette politique. Vous pouvez retirer votre consentement  tout moment en ajustant les paramtres de votre navigateur."},"section10":{"title":"10. Mises  jour de la politique de cookies","content":"Nous pouvons mettre  jour cette Politique de Cookies de temps  autre. Nous vous informerons des changements importants en publiant la politique mise  jour sur notre site web avec une nouvelle date d'entre en vigueur."}},"dpa":{"title":"Accord de traitement des donnes (DPA)","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Dfinitions et porte","content":"Cet Accord de Traitement des Donnes (\\"DPA\\") fait partie des Conditions d'Utilisation entre vous (\\"Responsable du traitement\\") et MoneyFlow (\\"Sous-traitant\\"). Il rgit le traitement des donnes personnelles conformment au RGPD et autres lois applicables sur la protection des donnes."},"section2":{"title":"2. Dtails du traitement des donnes","content":"MoneyFlow traite les donnes personnelles uniquement sur instructions documentes du Responsable du traitement, aux fins de fournir les services de logiciel comptable, et conformment aux lois applicables sur la protection des donnes."},"section3":{"title":"3. Catgories de donnes","content":"Nous traitons les catgories suivantes de donnes personnelles : informations de contact (noms, adresses, e-mails), donnes financires (factures, paiements, transactions), donnes de compte utilisateur (identifiants de connexion, prfrences) et donnes d'utilisation (journaux d'accs, analyse)."},"section4":{"title":"4. Droits des personnes concernes","content":"MoneyFlow aide le Responsable du traitement  satisfaire les demandes de droits des personnes concernes, y compris l'accs, la rectification, l'effacement, la restriction, la portabilit et l'objection. Nous fournissons les outils ncessaires et la coopration pour permettre la conformit."},"section5":{"title":"5. Mesures de scurit","content":"Nous mettons en place des mesures techniques et organisationnelles appropries pour assurer la scurit des donnes, y compris le chiffrement, les contrles d'accs, les valuations de scurit rgulires, la formation du personnel et les procdures de rponse aux incidents."},"section6":{"title":"6. Sous-traitants ultrieurs","content":"MoneyFlow peut engager des sous-traitants ultrieurs pour aider  fournir des services. Tous les sous-traitants ultrieurs sont soumis  des obligations de protection des donnes quivalentes  celles de ce DPA. Une liste actuelle des sous-traitants ultrieurs est disponible sur demande."},"section7":{"title":"7. Transferts de donnes","content":"Les donnes personnelles sont principalement traites au sein de l'UE/EEE. Tous les transferts vers des pays tiers sont protgs par des garanties appropries telles que les Clauses Contractuelles Types ou les dcisions d'adquation."},"section8":{"title":"8. Notification de violation de donnes","content":"MoneyFlow notifiera le Responsable du traitement de toute violation de donnes personnelles sans dlai injustifi et dans les 72 heures aprs avoir pris connaissance de la violation, fournissant toutes les informations pertinentes pour l'valuation et les obligations de signalement."},"section9":{"title":"9. Analyse d'impact sur la protection des donnes","content":"Sur demande, MoneyFlow fournira une assistance raisonnable au Responsable du traitement pour effectuer des Analyses d'Impact sur la Protection des Donnes (AIPD) et des consultations pralables avec les autorits de contrle."},"section10":{"title":"10. Audit et conformit","content":"MoneyFlow maintient des registres des activits de traitement et met  disposition du Responsable du traitement les informations ncessaires pour dmontrer la conformit aux obligations de protection des donnes, y compris les droits d'audit soumis aux obligations de confidentialit."},"section11":{"title":"11. Retour et suppression des donnes","content":" la fin des services, MoneyFlow, au choix du Responsable du traitement, retournera ou supprimera toutes les donnes personnelles et copies existantes, sauf si la conservation est requise par la loi applicable."},"section12":{"title":"12. Responsabilit et indemnisation","content":"La responsabilit de chaque partie est limite aux dommages directement causs par sa violation de ce DPA. MoneyFlow indemnisera le Responsable du traitement contre les rclamations rsultant de la violation par MoneyFlow de ses obligations de protection des donnes."}},"subprocessors":{"title":"Liste des sous-traitants ultrieurs","lastUpdated":"Dernire mise  jour : {{date}}","intro":"MoneyFlow peut engager les sous-traitants ultrieurs suivants pour aider  fournir nos services. Tous les sous-traitants ultrieurs sont soumis  des obligations strictes de protection des donnes.","section1":{"title":"1. Fournisseurs d'infrastructure cloud","aws":{"name":"Amazon Web Services (AWS)","location":"UE (Francfort)","purpose":"Services d'hbergement cloud et d'infrastructure","safeguards":"Conformit RGPD AWS, Rsidence de donnes UE"},"digitalocean":{"name":"DigitalOcean","location":"UE (Amsterdam)","purpose":"Services d'hbergement cloud et de sauvegarde supplmentaires","safeguards":"Clauses Contractuelles Types, hbergement UE"}},"section2":{"title":"2. Processeurs de paiement","stripe":{"name":"Stripe","location":"UE/US","purpose":"Traitement des paiements et gestion des abonnements","safeguards":"Conformit PCI DSS, Clauses Contractuelles Types"},"paypal":{"name":"PayPal","location":"UE/US","purpose":"Traitement de paiement alternatif","safeguards":"Conformit PCI DSS, successeur Privacy Shield"}},"section3":{"title":"3. Services de communication","sendgrid":{"name":"SendGrid (Twilio)","location":"UE/US","purpose":"Livraison d'e-mails transactionnels","safeguards":"Clauses Contractuelles Types, traitement UE"},"intercom":{"name":"Intercom","location":"UE/US","purpose":"Support client et communication","safeguards":"Clauses Contractuelles Types, conformit RGPD"}},"section4":{"title":"4. Services d'analyse et de surveillance","googleanalytics":{"name":"Google Analytics","location":"UE/US","purpose":"Analyse de site web et surveillance des performances","safeguards":"Google Analytics 4 avec traitement de donnes UE"},"sentry":{"name":"Sentry","location":"UE/US","purpose":"Surveillance des erreurs et performances d'application","safeguards":"Clauses Contractuelles Types, anonymisation des donnes"}},"section5":{"title":"5. Services de scurit","cloudflare":{"name":"Cloudflare","location":"Global (nuds UE)","purpose":"CDN, protection DDoS et services de scurit","safeguards":"Localisation des donnes UE, Clauses Contractuelles Types"}},"section6":{"title":"6. Services de sauvegarde et d'archivage","backblaze":{"name":"Backblaze","location":"UE","purpose":"Services de sauvegarde et d'archivage de donnes","safeguards":"Chiffrement au repos et en transit, hbergement UE"}},"notifications":{"title":"Notifications de changement de sous-traitants ultrieurs","content":"Nous fournirons un pravis de 30 jours pour tout nouveau sous-traitant ultrieur ou changement aux existants. Vous pouvez vous opposer  de tels changements, et si nous ne pouvons pas rsoudre vos proccupations, vous pouvez rsilier votre accord avec nous."},"contact":{"title":"Questions sur les sous-traitants ultrieurs","content":"Si vous avez des questions sur nos sous-traitants ultrieurs ou avez besoin d'informations supplmentaires sur les garanties de protection des donnes, veuillez nous contacter  privacy@moneyflow.com."}},"common":{"backToApp":" Retour  l'app","effectiveDate":"Date d'entre en vigueur","tableOfContents":"Table des matires","printPage":"Imprimer cette page","downloadPdf":"Tlcharger PDF","lastUpdated":"Dernire mise  jour","contactUs":"Contactez-nous ","questionsContact":"Si vous avez des questions sur ces {{document}}, veuillez nous contacter  {{email}}.","documentType":{"terms":"Conditions d'utilisation","privacy":"Politique de confidentialit","cookies":"Politique de cookies","dpa":"Accord de traitement des donnes","subprocessors":"Liste des sous-traitants ultrieurs"},"navigation":{"terms":"Conditions","privacy":"Confidentialit","cookies":"Cookies","dpa":"DPA","subprocessors":"Sous-traitants"}}}`),fk={banner:{title:"Prfrences de cookies",description:"Ce site web utilise des cookies pour amliorer votre exprience. Vous pouvez choisir quels cookies autoriser.",acceptAll:"Tout accepter",rejectAll:"Tout rejeter",managePreferences:"Grer les prfrences",savePreferences:"Enregistrer les prfrences",close:"Fermer"},modal:{title:"Prfrences de cookies",description:"Vous pouvez examiner les catgories de cookies et dfinir vos prfrences. Lisez la description de chaque catgorie pour dcider quels cookies autoriser.",necessary:{title:"Cookies ncessaires",description:"Ces cookies sont essentiels au bon fonctionnement du site web et ne peuvent pas tre dsactivs. Ils sont gnralement dfinis en rponse  des actions comme la connexion ou le remplissage de formulaires.",alwaysActive:"Toujours actif"},analytics:{title:"Cookies analytiques",description:"Ces cookies nous aident  comprendre comment le site web est utilis. Ils collectent des informations sur les pages les plus visites et comment les utilisateurs naviguent sur le site.",enabled:"Activ",disabled:"Dsactiv"},marketing:{title:"Cookies marketing",description:"Ces cookies sont utiliss pour vous montrer des publicits plus pertinentes. Ils peuvent aider nos partenaires publicitaires  crer un profil de vos intrts.",enabled:"Activ",disabled:"Dsactiv"},acceptSelected:"Accepter la slection",acceptAll:"Tout accepter",rejectAll:"Tout rejeter",cancel:"Annuler"},notice:{updated:"Vos prfrences de cookies ont t mises  jour.",saved:"Prfrences de cookies enregistres."},categories:{necessary:"Ncessaires",analytics:"Analytiques",marketing:"Marketing"}},pk={title:"Priodes Fiscales",subtitle:"Grez vos paramtres de priode fiscale",newPeriod:"Nouvelle Priode",search:"Rechercher des priodes...",periodsRegistered:"priodes enregistres",noPeriods:"Aucune priode fiscale encore",noPeriodsFound:"Aucune priode fiscale trouve",noPeriodsDesc:"Commencez par crer votre premire priode fiscale.",noPeriodsFoundDesc:"Aucune priode fiscale ne correspond  vos critres de recherche.",createFirstPeriod:"Crer la Premire Priode Fiscale",periodName:"Nom de la Priode",startDate:"Date de Dbut",endDate:"Date de Fin",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",lock:"Verrouiller",unlock:"Dverrouiller",delete:"Supprimer",viewPeriod:"Voir la priode fiscale",editPeriod:"Modifier la Priode Fiscale",addPeriod:"Ajouter une Priode Fiscale",enterPeriodInfo:"Entrez les informations de la priode fiscale",periodNamePlaceholder:"ex: Anne 2024",periodDuration:"dure de la priode",days:"jours",locked:"Verrouille",active:"Active",planned:"Planifie",statusLabels:{active:"Active",locked:"Verrouille",planned:"Planifie"},lockPeriod:"Verrouiller la priode fiscale",unlockPeriod:"Dverrouiller la priode fiscale",lockConfirm:"tes-vous sr de vouloir verrouiller cette priode fiscale ? Les priodes verrouilles ne peuvent pas tre modifies.",unlockConfirm:"tes-vous sr de vouloir dverrouiller cette priode fiscale ?",deleteConfirm:"tes-vous sr de vouloir supprimer cette priode fiscale ?",validation:{nameRequired:"Le nom de la priode est requis",startDateRequired:"La date de dbut est requise",endDateRequired:"La date de fin est requise",endDateAfterStart:"La date de fin doit tre postrieure  la date de dbut",periodOverlap:"Ces dates se chevauchent avec une priode existante",minimumDuration:"La priode fiscale doit durer au moins 1 jour"},errors:{createFailed:"chec de la cration de la priode fiscale",updateFailed:"chec de la mise  jour de la priode fiscale",deleteFailed:"chec de la suppression de la priode fiscale",lockFailed:"chec du verrouillage de la priode fiscale",unlockFailed:"chec du dverrouillage de la priode fiscale",loadFailed:"chec du chargement des priodes fiscales",periodLocked:"Cette priode fiscale est verrouille et ne peut pas tre modifie",periodNotFound:"Priode fiscale introuvable",operationNotAllowed:"Cette opration n'est pas autorise pour une priode fiscale verrouille"},success:{created:"Priode fiscale cre avec succs",updated:"Priode fiscale mise  jour avec succs",deleted:"Priode fiscale supprime avec succs",locked:"Priode fiscale verrouille avec succs",unlocked:"Priode fiscale dverrouille avec succs"},widget:{title:"Priodes Fiscales",activePeriod:"Priode Active",totalPeriods:"Total des Priodes",lockedPeriods:"Priodes Verrouilles",daysRemaining:"Jours Restants",noActivePeriod:"Aucune priode active",periodsOverlapping:"Priodes qui se chevauchent",allPeriodsLocked:"Toutes les priodes sont verrouilles",createActivePeriod:"Crer une priode active",managePeriods:"Grer les Priodes",warnings:{overlapping:"Certaines priodes fiscales se chevauchent",noActive:"Aucune priode fiscale active actuellement",allLocked:"Toutes les priodes fiscales sont verrouilles"}},filters:{showVoided:"Afficher les annuls",hideVoided:"Masquer les annuls",voidedRecords:"enregistrements annuls"}},gk={members:{title:"Membres de l'Organisation",subtitle:"Grez vos membres d'organisation et leurs permissions",search:"Rechercher des membres...",membersCount:"membres",member:"Membre",email:"Email",role:"Rle",statusLabel:"Statut",actions:"Actions",inviteButton:"Envoyer l'Invitation",sending:"Envoi en cours...",table:{name:"Nom",email:"Email",role:"Rle",joinedAt:"Date d'Adhsion",actions:"Actions"},edit:"Modifier",remove:"Supprimer",cancel:"Annuler",resend:"Renvoyer",noMembers:"Aucun membre pour le moment",noMembersDesc:"Commencez par inviter votre premier membre d'quipe.",noPendingInvites:"Aucune invitation en attente",noPendingInvitesDesc:"Toutes les invitations ont t acceptes ou ont expir.",roles:{owner:"Propritaire",admin:"Administrateur",member:"Membre",viewer:"Observateur",OWNER:"Propritaire",ADMIN:"Administrateur",MEMBER:"Membre"},status:{active:"Actif",pending:"En attente",inactive:"Inactif"},permissions:{owner:"Accs complet  toutes les fonctionnalits et paramtres",admin:"Accs complet sauf facturation et suppression d'organisation",member:"Crer et modifier les factures, dpenses, clients",viewer:"Accs en lecture seule  toutes les donnes"},confirmRemove:"tes-vous sr de vouloir supprimer ce membre ?",confirmCancel:"tes-vous sr de vouloir annuler cette invitation ?",inviteSuccess:"Invitation envoye avec succs",inviteError:"chec de l'envoi de l'invitation",removeSuccess:"Membre supprim avec succs",removeError:"chec de la suppression du membre",updateSuccess:"Membre mis  jour avec succs",updateError:"chec de la mise  jour du membre",validation:{emailRequired:"L'email est requis",emailInvalid:"Veuillez entrer une adresse email valide",emailExists:"Cet email est dj invit ou est dj membre"},tryAgain:"Ressayer",organization:"Organisation",membersLabel:"Membres",plan:"Plan",youLabel:"Vous",makeAdmin:"Faire Administrateur",makeMember:"Faire Membre",limitFull:"Limite Atteinte",invite:{title:"Inviter un Membre",button:"Envoyer l'Invitation",limitReached:"Limite du plan atteinte. Amliorez votre plan pour inviter plus de membres.",success:"Invitation envoye avec succs",error:"chec de l'envoi de l'invitation",duplicate:"Cet email est dj invit",form:{email:"Adresse Email",emailPlaceholder:"exemple@email.com",role:"Rle"}},pendingInvites:{title:"Invitations en Attente",count:"{{count}} invitations en attente",resend:"Renvoyer",cancel:"Annuler",expires:"Expire le {{date}}"}}},xk={invoice:{title:"FACTURE",appSubtitle:"Systme Comptable comptario",customerInfo:"Informations Client",invoiceNumber:"N de Facture",issueDate:"Date dmission",dueDate:"Date dchance",status:"Statut",items:{description:"Description",quantity:"Quantit",unitPrice:"Prix Unitaire",total:"Total"},totals:{subtotal:"Sous-total",tax:"TVA",grandTotal:"Total Gnral"},footer:"Cette facture a t gnre avec comptario.",statusLabels:{paid:"Paye",sent:"Envoye",overdue:"En retard",draft:"Brouillon"}},expense:{title:"JUSTIFICATIF DE DPENSE",supplierInfo:"Informations Fournisseur",expenseNumber:"N de Dpense",expenseDate:"Date de Dpense",paymentDate:"Date de Paiement",status:"Statut",category:"Catgorie",details:"Dtails de la Dpense",totalAmount:"Montant Total des Dpenses",footer:"Ce justificatif a t gnr avec comptario.",statusLabels:{draft:"Brouillon",approved:"Approuve",paid:"Paye"}},sale:{title:"JUSTIFICATIF DE VENTE",customerInfo:"Informations Client",saleNumber:"N de Vente",saleDate:"Date de Vente",status:"Statut",paymentMethod:"Moyen de Paiement",details:"Dtails du Produit/Service",quantity:"Quantit",unitPrice:"Prix Unitaire",totalAmount:"Montant Total de la Vente",footer:"Ce justificatif de vente a t gnr avec comptario.",statusLabels:{completed:"Termin",pending:"En attente",cancelled:"Annul"},paymentMethods:{cash:"Espces",card:"Carte",transfer:"Virement",check:"Chque"}}},yk={pagination:I2,app:M2,landing:R2,auth:z2,common:O2,currencies:L2,header:F2,dashboard:B2,quickActions:U2,transactions:$2,alerts:V2,months:q2,sidebar:H2,quotes:K2,stats:G2,status:W2,invoice:Y2,expense:X2,customer:Q2,supplier:Z2,products:J2,chartOfAccounts:ek,invoices:tk,expenses:rk,customers:sk,suppliers:nk,banks:ik,settings:ak,sales:ok,payment:lk,reports:ck,expenseCategories:dk,archive:uk,validation:mk,legal:hk,cookie:fk,fiscalPeriods:pk,org:gk,pdf:xk},bk="Kullanm Klavuzu",vk="Comptario Yardm Merkezi",wk="Bu klavuz, Comptario ile fatura, gider ve temel muhasebe ilerinizi adm adm yapmanza yardm eder. Aadaki blmlerden, aradnz konuya hzlca gidebilirsiniz. Her blm ksa admlar, kk ipular ve grsel odakl aklamalar ierir.",kk={tip:"pucu"},Nk=[{id:"overview",title:"Genel Bak"},{id:"getting-started",title:"Balang (Kayt, Giri, Dil/Para Birimi)"},{id:"customers",title:"Mteriler"},{id:"suppliers",title:"Tedarikiler"},{id:"products",title:"rnler ve Kategoriler"},{id:"invoices",title:"Faturalar"},{id:"expenses",title:"Giderler"},{id:"sales",title:"Satlar"},{id:"bank",title:"Banka Hesaplar"},{id:"reports",title:"Raporlar ve Defter"},{id:"settings",title:"Ayarlar"},{id:"users",title:"Kullanclar, Roller ve Davetler"},{id:"plan-limits",title:"Plan Limitleri"},{id:"period-lock",title:"Dnem Kilidi"},{id:"security-backup",title:"Gvenlik ve Yedekleme"},{id:"faq-contact",title:"SSS ve letiim"}],jk={title:"Balang (Kayt, Giri, Dil/Para Birimi)",steps:["st men veya sayfalardaki cretsiz Deneme dmesine tklayn.","E-posta ve ifre belirleyip hesabnz oluturun. Mevcutta hesabnz varsa Giri yapn.","Dil tercihlerini sa stteki dil mensnden ayarlayn. Para Birimi ayar ise Ayarlar  Sistem  Para Birimi altndadr.","Profil ayarlarnzdan iletme bilgilerinizi (nvan, vergi no, adres) girin; bu bilgiler faturalarnzda kullanlr."],tipKeyboard:"Klavye ile hzl gezinmek iin",tipAfter:"tularna basarak Ayarlar'a gidebilirsiniz."},Sk={title:"Mteriler",items:["Sol menden Mteriler sayfasn an.","Yeni Mteri ile hzlca mteri ekleyin veya CSV/Excel ie aktarma ile toplu ykleyin.","Mteri kartnda gemi faturalar, bakiyeyi ve iletiim bilgilerini grntleyin."]},Ck={title:"Tedarikiler",desc:"Giderlerinizi ilikilendirmek iin tedariki kartlar oluturun. e aktarma ve dzenleme admlar, mteriler ile ayndr."},Ak={title:"rnler ve Kategoriler",desc:"Stok ve hizmetlerinizi ynetin. Kategori bazl KDV oran tanmlayabilir, rn baznda zel KDV ile zerine yazabilirsiniz.",items:["Yeni rn ekleyin, barkod/sku ve fiyat bilgilerinizle kaydedin.","Stok seviyeleri iin minimum stok (reorder level) belirleyin; dk stok uyarlar aln.","Kategori ve rn KDV ynetimi ile faturalarda otomatik KDV hesaplatn."]},_k={title:"Faturalar",steps:["Yeni Fatura ile mteri ve kalemleri sein; rnler otomatik vergi oranyla gelir.","Vade tarihi, notlar ve iskonto ekleyin; PDF nizleme ve e-posta gnderimi yapn.","deme durumu ve iade/iptal ilemlerini fatura zerinden takip edin."]},Ek={title:"Giderler",desc:"Giderleri tedariki, tutar, tarih ve durum bilgisi ile kaydedin. Vade yaklanca bildirim aln; dnem kilidi aktifse dzenlemeler engellenir."},Tk={title:"Satlar",desc:"Faturalardan otomatik, ayrca manuel sat oluturabilirsiniz. oklu kalemli satlar desteklenir; stok dm otomatik yaplr."},Pk={title:"Banka Hesaplar",desc:"Banka hesaplarnz takip edin. cretsiz planda 1 hesap, st planlarda snrszdr. Hesap eklerken ad ve IBAN bilgisi girin."},Dk={title:"Raporlar ve Defter",desc:"Gelir-Gider zetleri, Genel Muhasebe ve defter grnmleri ile dnem bazl analizler oluturun. Excel/PDF da aktarma mevcuttur."},Ik={title:"Ayarlar",items:["Profil ve firma bilgileri (logo, adres, vergi bilgileri)","Para birimi, dil ve KDV/stopaj varsaylanlar","Yedek alma ve veri ie/da aktarma"]},Mk={title:"Kullanclar, Roller ve Davetler",desc:"oklu kullanc destei ile organizasyonunuza ekip arkadalarnz davet edin. Roller ve eriim kstlar plannza gre uygulanr."},Rk={title:"Plan Limitleri",desc:"cretsiz planda temel kullanm (r. snrl fatura/gider, 1 banka hesab) bulunur. Pro ve Business planlarda limitler ykselir veya kalkar. Limit amnda aklayc uyarlar grrsnz."},zk={title:"Dnem Kilidi",desc:"Kapanm dnemlerde kayt deiiklii engellenir. Bu sayede rapor btnl korunur. htiya halinde kilitli dnemi amadan dzeltme yaplamaz."},Ok={title:"Gvenlik ve Yedekleme",items:["Verileriniz gvenli altyapda tutulur; TLS ile ifreleme, gnlk yedek ve izleme uygulanr.","Test ortam iin veritaban/dosya uyarlamalar yaplmtr; retim PostgreSQL kullanr.","erez ve gizlilik politikalarmz buradan inceleyin."],cookiesText:"buradan"},Lk={title:"SSS ve letiim",text:"Yantn bulamadnz bir konu mu var? Bize support@comptario.com adresinden ulan."},Fk={sidebarTitle:bk,pageTitle:vk,overviewDesc:wk,labels:kk,sections:Nk,gettingStarted:jk,customers:Sk,suppliers:Ck,products:Ak,invoices:_k,expenses:Ek,sales:Tk,bank:Pk,reports:Dk,settings:Ik,users:Mk,planLimits:Rk,periodLock:zk,securityBackup:Ok,faq:Lk},Bk="User Guide",Uk="Comptario Help Center",$k="This guide helps you complete invoicing, expenses, and basic accounting tasks step by step. Jump directly to a topic from the menu. Each section includes short steps, tips, and clear explanations.",Vk={tip:"Tip"},qk=[{id:"overview",title:"Overview"},{id:"getting-started",title:"Getting Started (Sign Up, Sign In, Language/Currency)"},{id:"customers",title:"Customers"},{id:"suppliers",title:"Suppliers"},{id:"products",title:"Products & Categories"},{id:"invoices",title:"Invoices"},{id:"expenses",title:"Expenses"},{id:"sales",title:"Sales"},{id:"bank",title:"Bank Accounts"},{id:"reports",title:"Reports & Ledger"},{id:"settings",title:"Settings"},{id:"users",title:"Users, Roles & Invites"},{id:"plan-limits",title:"Plan Limits"},{id:"period-lock",title:"Period Lock"},{id:"security-backup",title:"Security & Backups"},{id:"faq-contact",title:"FAQ & Contact"}],Hk={title:"Getting Started (Sign Up, Sign In, Language/Currency)",steps:["Click the Try for Free button in the header or on the page.","Create your account with email and password. If you already have one, sign in.","Set your Language from the top-right language menu. Currency is under Settings  System  Currency.","Enter your business details (name, tax no, address) in Profile; these will appear on invoices."],tipKeyboard:"Quick navigation:",tipAfter:"to go to Settings."},Kk={title:"Customers",items:["Open the Customers page from the sidebar.","Add a customer or import via CSV/Excel.","See past invoices, balance, and contact details on the customer card."]},Gk={title:"Suppliers",desc:"Create supplier cards to link expenses. Import and editing steps are the same as customers."},Wk={title:"Products & Categories",desc:"Manage stock and services. Define category-level VAT, override per product if needed.",items:["Add new products with SKU and price.","Set minimum stock levels and get low-stock alerts.","Auto-VAT on invoices via category/product settings."]},Yk={title:"Invoices",steps:["Create invoice with customer and line items; products bring their VAT rate.","Add due date, notes, discounts; preview PDF and send by email.","Track payment status and void/return operations."]},Xk={title:"Expenses",desc:"Record supplier, amount, date, and status. Get reminders near due date; edits are blocked when period lock is active."},Qk={title:"Sales",desc:"Sales are auto-created from invoices; you can also add manual sales. Multi-line sales are supported; stock decreases automatically."},Zk={title:"Bank Accounts",desc:"Track bank accounts. Free plan: 1 account; upper plans: unlimited. Provide name and IBAN when adding."},Jk={title:"Reports & Ledger",desc:"View income/expense summaries and general ledger. Export to Excel/PDF."},eN={title:"Settings",items:["Profile and company info (logo, address, tax info)","Currency, language, and VAT/withholding defaults","Backup and data import/export"]},tN={title:"Users, Roles & Invites",desc:"Invite teammates to your organization. Roles and access limits depend on your plan."},rN={title:"Plan Limits",desc:"Free plan has basic usage (e.g., limited invoices/expenses, 1 bank account). Pro/Business raise or remove limits. Clear messages appear on limit errors."},sN={title:"Period Lock",desc:"Edits in closed periods are blocked, preserving report integrity. Open the period to make corrections if necessary."},nN={title:"Security & Backups",items:["Your data is secured with TLS, daily backups, and monitoring.","Tests use adjusted storage; production uses PostgreSQL.","Review our cookies and privacy policies here."],cookiesText:"here"},iN={title:"FAQ & Contact",text:"Cant find an answer? Reach us at support@comptario.com."},aN={sidebarTitle:Bk,pageTitle:Uk,overviewDesc:$k,labels:Vk,sections:qk,gettingStarted:Hk,customers:Kk,suppliers:Gk,products:Wk,invoices:Yk,expenses:Xk,sales:Qk,bank:Zk,reports:Jk,settings:eN,users:tN,planLimits:rN,periodLock:sN,securityBackup:nN,faq:iN},oN="Benutzerhandbuch",lN="Comptario Hilfe-Center",cN="Dieser Leitfaden hilft Ihnen Schritt fr Schritt bei Rechnungen, Ausgaben und grundlegenden Buchhaltungsaufgaben. Springen Sie ber das Men direkt zu einem Thema. Jede Sektion enthlt kurze Schritte, Tipps und klare Erklrungen.",dN={tip:"Tipp"},uN=[{id:"overview",title:"berblick"},{id:"getting-started",title:"Erste Schritte (Registrierung, Anmeldung, Sprache/Whrung)"},{id:"customers",title:"Kunden"},{id:"suppliers",title:"Lieferanten"},{id:"products",title:"Produkte & Kategorien"},{id:"invoices",title:"Rechnungen"},{id:"expenses",title:"Ausgaben"},{id:"sales",title:"Verkufe"},{id:"bank",title:"Bankkonten"},{id:"reports",title:"Berichte & Hauptbuch"},{id:"settings",title:"Einstellungen"},{id:"users",title:"Benutzer, Rollen & Einladungen"},{id:"plan-limits",title:"Planlimits"},{id:"period-lock",title:"Periodensperre"},{id:"security-backup",title:"Sicherheit & Backups"},{id:"faq-contact",title:"FAQ & Kontakt"}],mN={title:"Erste Schritte (Registrierung, Anmeldung, Sprache/Whrung)",steps:["Klicken Sie auf den Button Kostenlos testen im Header oder auf der Seite.","Erstellen Sie ein Konto mit EMail und Passwort. Wenn Sie bereits eines haben, melden Sie sich an.","Stellen Sie die Sprache ber das Sprachmen oben rechts ein. Die Whrung finden Sie unter Einstellungen  System  Whrung.","Geben Sie in Ihrem Profil Unternehmensdaten (Name, Steuernr., Adresse) ein; diese erscheinen auf Ihren Rechnungen."],tipKeyboard:"Schnellnavigation:",tipAfter:"um zu den Einstellungen zu gelangen."},hN={title:"Kunden",items:["ffnen Sie die Seite Kunden in der Seitenleiste.","Fgen Sie einen Kunden hinzu oder importieren Sie per CSV/Excel.","Sehen Sie frhere Rechnungen, Salden und Kontaktdaten in der Kundenkarte."]},fN={title:"Lieferanten",desc:"Erstellen Sie Lieferantenkarten, um Ausgaben zuzuordnen. Import und Bearbeitung entsprechen den Schritten bei Kunden."},pN={title:"Produkte & Kategorien",desc:"Verwalten Sie Lager und Dienstleistungen. Definieren Sie KategorienMwSt. und berschreiben Sie sie ggf. pro Produkt.",items:["Neue Produkte mit SKU und Preis hinzufgen.","Mindestlagerbestand festlegen und NiedrigBestandHinweise erhalten.","Automatische MwSt. in Rechnungen per Kategorie/ProduktEinstellungen."]},gN={title:"Rechnungen",steps:["Erstellen Sie eine Rechnung mit Kunde und Positionen; Produkte bringen ihren MwSt.-Satz mit.","Fgen Sie Flligkeitsdatum, Notizen, Rabatte hinzu; PDFVorschau und Versand per EMail.","Verfolgen Sie Zahlungsstatus sowie Storno-/Rckgabevorgnge."]},xN={title:"Ausgaben",desc:"Erfassen Sie Lieferant, Betrag, Datum und Status. Erinnerungen nahe Flligkeit; Bearbeitung gesperrt, wenn Periodensperre aktiv ist."},yN={title:"Verkufe",desc:"Verkufe werden automatisch aus Rechnungen erzeugt; manuelle Verkufe sind mglich. Mehrzeilige Verkufe untersttzt; Lager wird automatisch vermindert."},bN={title:"Bankkonten",desc:"Verfolgen Sie Bankkonten. FreePlan: 1 Konto; hhere Plne: unbegrenzt. Beim Hinzufgen Name und IBAN angeben."},vN={title:"Berichte & Hauptbuch",desc:"Einnahmen-/Ausgabenbersichten und Hauptbuch ansehen. Export nach Excel/PDF."},wN={title:"Einstellungen",items:["Profil- und Firmendaten (Logo, Adresse, Steuern)","Whrung, Sprache, MwSt./EinbehaltVoreinstellungen","Backups und DatenImport/Export"]},kN={title:"Benutzer, Rollen & Einladungen",desc:"Laden Sie Teammitglieder in Ihre Organisation ein. Rollen und Zugriffe hngen von Ihrem Plan ab."},NN={title:"Planlimits",desc:"Der FreePlan erlaubt grundlegende Nutzung (z.B. begrenzte Rechnungen/Ausgaben, 1 Bankkonto). Pro/Business erhhen oder entfernen Limits. Bei Limitfehlern erscheinen klare Hinweise."},jN={title:"Periodensperre",desc:"Bearbeitungen in geschlossenen Perioden sind gesperrt  BerichtsIntegritt bleibt erhalten. ffnen Sie die Periode fr Korrekturen."},SN={title:"Sicherheit & Backups",items:["Ihre Daten sind mit TLS, tglichen Backups und Monitoring abgesichert.","Tests nutzen angepasste Speicher; Produktion nutzt PostgreSQL.","Unsere Cookie und Datenschutzrichtlinien hier einsehen."],cookiesText:"hier"},CN={title:"FAQ & Kontakt",text:"Keine Antwort gefunden? Schreiben Sie uns an support@comptario.com."},AN={sidebarTitle:oN,pageTitle:lN,overviewDesc:cN,labels:dN,sections:uN,gettingStarted:mN,customers:hN,suppliers:fN,products:pN,invoices:gN,expenses:xN,sales:yN,bank:bN,reports:vN,settings:wN,users:kN,planLimits:NN,periodLock:jN,securityBackup:SN,faq:CN},_N="Guide d'utilisation",EN="Centre d'aide Comptario",TN="Ce guide vous aide pas  pas pour la facturation, les dpenses et les tches comptables de base. Accdez directement  un sujet via le menu. Chaque section inclut des tapes courtes, des astuces et des explications claires.",PN={tip:"Astuce"},DN=[{id:"overview",title:"Aperu"},{id:"getting-started",title:"Premiers pas (Inscription, Connexion, Langue/Devise)"},{id:"customers",title:"Clients"},{id:"suppliers",title:"Fournisseurs"},{id:"products",title:"Produits & Catgories"},{id:"invoices",title:"Factures"},{id:"expenses",title:"Dpenses"},{id:"sales",title:"Ventes"},{id:"bank",title:"Comptes bancaires"},{id:"reports",title:"Rapports & Grand livre"},{id:"settings",title:"Paramtres"},{id:"users",title:"Utilisateurs, Rles & Invitations"},{id:"plan-limits",title:"Limites du plan"},{id:"period-lock",title:"Verrouillage de priode"},{id:"security-backup",title:"Scurit & Sauvegardes"},{id:"faq-contact",title:"FAQ & Contact"}],IN={title:"Premiers pas (Inscription, Connexion, Langue/Devise)",steps:["Cliquez sur le bouton Essai gratuit dans l'entte ou sur la page.","Crez votre compte avec email et mot de passe. Si vous en avez dj un, connectezvous.","Dfinissez la langue via le menu en haut  droite. La devise se rgle dans Paramtres  Systme  Devise.","Renseignez vos informations d'entreprise (nom, n fiscal, adresse) dans le profil; elles apparatront sur les factures."],tipKeyboard:"Navigation rapide :",tipAfter:"pour aller aux Paramtres."},MN={title:"Clients",items:["Ouvrez la page Clients depuis la barre latrale.","Ajoutez un client ou importez via CSV/Excel.","Consultez les anciennes factures, le solde et les coordonnes depuis la fiche client."]},RN={title:"Fournisseurs",desc:"Crez des fiches fournisseurs pour lier les dpenses. Import et dition identiques  ceux des clients."},zN={title:"Produits & Catgories",desc:"Grez stocks et services. Dfinissez la TVA au niveau des catgories et, si besoin, surchargez par produit.",items:["Ajoutez de nouveaux produits avec SKU et prix.","Dfinissez un stock minimum et recevez des alertes de stock faible.","TVA automatique sur les factures via les rglages catgorie/produit."]},ON={title:"Factures",steps:["Crez une facture avec client et lignes; les produits apportent leur taux de TVA.","Ajoutez l'chance, des notes, remises; aperu PDF et envoi par email.","Suivez l'tat de paiement et les oprations d'annulation/retour."]},LN={title:"Dpenses",desc:"Enregistrez fournisseur, montant, date et statut. Rappels proches de l'chance; modifications bloques si la priode est verrouille."},FN={title:"Ventes",desc:"Les ventes sont cres automatiquement depuis les factures; vous pouvez aussi en ajouter manuellement. Ventes multilignes prises en charge; dcrment de stock automatique."},BN={title:"Comptes bancaires",desc:"Suivez vos comptes bancaires. Plan gratuit : 1 compte; plans suprieurs : illimit. Fournissez nom et IBAN lors de l'ajout."},UN={title:"Rapports & Grand livre",desc:"Affichez les rsums revenus/dpenses et le grand livre. Export Excel/PDF."},$N={title:"Paramtres",items:["Profil et infos socit (logo, adresse, infos fiscales)","Devise, langue, et valeurs par dfaut TVA/retenues","Sauvegardes et import/export de donnes"]},VN={title:"Utilisateurs, Rles & Invitations",desc:"Invitez vos collgues dans votre organisation. Rles et accs selon votre plan."},qN={title:"Limites du plan",desc:"Le plan gratuit permet un usage de base (ex. factures/dpenses limites, 1 compte bancaire). Pro/Business augmentent ou suppriment les limites. Messages clairs en cas de dpassement."},HN={title:"Verrouillage de priode",desc:"Les modifications sont bloques dans les priodes cltures pour prserver l'intgrit des rapports. Ouvrez la priode pour corriger si ncessaire."},KN={title:"Scurit & Sauvegardes",items:["Vos donnes sont protges via TLS, sauvegardes quotidiennes et monitoring.","Les tests utilisent un stockage adapt; la production utilise PostgreSQL.","Consultez ici notre politique de cookies et de confidentialit."],cookiesText:"ici"},GN={title:"FAQ & Contact",text:"Vous ne trouvez pas la rponse ? Contacteznous  support@comptario.com."},WN={sidebarTitle:_N,pageTitle:EN,overviewDesc:TN,labels:PN,sections:DN,gettingStarted:IN,customers:MN,suppliers:RN,products:zN,invoices:ON,expenses:LN,sales:FN,bank:BN,reports:UN,settings:$N,users:VN,planLimits:qN,periodLock:HN,securityBackup:KN,faq:GN},YN="Sistem Durumu",XN="Gncel alma durumu ve hizmet bileenleri",QN="Tm sistemler alyor",ZN="Son gncelleme: {{time}}",JN={api:"Uygulama API",database:"Veritaban",email:"E-posta Servisi",pdf:"PDF Oluturma",storage:"Dosya Depolama"},ej={operational:"alr durumda",degraded:"Ksmi kesinti",outage:"Kesinti"},tj={title:"Olaylar",none:"Son 90 gnde olay yok."},rj={title:"Sorun mu gryorsunuz?",text:"Bir sorun fark ederseniz ltfen destek ekibimizle iletiime gein:",email:"support@comptario.com adresinden bize yazn"},sj={title:YN,subtitle:XN,allOperational:QN,lastUpdated:ZN,components:JN,status:ej,incidents:tj,contact:rj},nj="System Status",ij="Current operational status and service components",aj="All systems operational",oj="Last updated: {{time}}",lj={api:"Application API",database:"Database",email:"Email Service",pdf:"PDF Rendering",storage:"File Storage"},cj={operational:"Operational",degraded:"Degraded",outage:"Outage"},dj={title:"Incidents",none:"No incidents in the last 90 days."},uj={title:"Seeing an issue?",text:"If you notice a problem, please contact our support team:",email:"Email us at support@comptario.com"},mj={title:nj,subtitle:ij,allOperational:aj,lastUpdated:oj,components:lj,status:cj,incidents:dj,contact:uj},hj="Systemstatus",fj="Aktueller Betriebsstatus und Dienstkomponenten",pj="Alle Systeme in Betrieb",gj="Zuletzt aktualisiert: {{time}}",xj={api:"Anwendungs-API",database:"Datenbank",email:"E-Mail-Dienst",pdf:"PDF-Erstellung",storage:"Dateispeicher"},yj={operational:"Betriebsbereit",degraded:"Eingeschrnkt",outage:"Ausfall"},bj={title:"Vorflle",none:"Keine Vorflle in den letzten 90 Tagen."},vj={title:"Problem bemerkt?",text:"Wenn Sie ein Problem feststellen, kontaktieren Sie bitte unser Support-Team:",email:"Schreiben Sie uns an support@comptario.com"},wj={title:hj,subtitle:fj,allOperational:pj,lastUpdated:gj,components:xj,status:yj,incidents:bj,contact:vj},kj="Statut du systme",Nj="Statut oprationnel actuel et composants du service",jj="Tous les systmes sont oprationnels",Sj="Dernire mise  jour : {{time}}",Cj={api:"API d'application",database:"Base de donnes",email:"Service e-mail",pdf:"Gnration PDF",storage:"Stockage de fichiers"},Aj={operational:"Oprationnel",degraded:"Dgrad",outage:"Panne"},_j={title:"Incidents",none:"Aucun incident au cours des 90 derniers jours."},Ej={title:"Vous voyez un problme ?",text:"Si vous remarquez un problme, veuillez contacter notre quipe d'assistance :",email:"crivez-nous  support@comptario.com"},Tj={title:kj,subtitle:Nj,allOperational:jj,lastUpdated:Sj,components:Cj,status:Aj,incidents:_j,contact:Ej},Pj="Gelitirici API",Dj="REST tabanl, gvenli ve srmlenmi u noktalarla entegrasyon",Ij={title:"Balarken",baseUrl:"Temel URL",baseUrlValue:"https://api.comptario.com",versioning:"Srmleme",versioningText:"Tm u noktalar URL tabanl srmlenir. rnek: /v1/...",prerequisites:["Bir Pro veya Business plan hesab","Ynetici panelinden oluturulmu bir API anahtar (PAT)","HTTPS zerinden istek gnderme"]},Mj={title:"Kimlik Dorulama",method:"Yntem",pat:"Kiisel Eriim Token' (PAT)",how:"Tm isteklerde Authorization: Bearer <TOKEN> header'n gnderin.",example:"cURL rnei"},Rj={title:"Oran Limiti",text:"Varsaylan snr 60 istek/dakika'dr. Plannza gre artrlabilir.",headers:"Yant balklarnda X-RateLimit-Limit, X-RateLimit-Remaining ve X-RateLimit-Reset dner."},zj={title:"Hata Format",shape:"Hata gvdesi",fields:{status:"HTTP durum kodu",code:"Uygulama hata kodu",message:"Kullanc mesaj",details:"(opsiyonel) Alan hata listesi"}},Oj={title:"U Noktalar (rnekler)",customers:{title:"Mteriler",list:"Mteri Listesi",get:"GET /v1/customers",create:"Mteri Olutur",post:"POST /v1/customers"},invoices:{title:"Faturalar",list:"Fatura Listesi",get:"GET /v1/invoices",create:"Fatura Olutur",post:"POST /v1/invoices"}},Lj={title:"Webhooks",text:"Belirli olaylar iin HTTPS endpoint'inize bildirim gndeririz.",events:["invoice.created","invoice.paid","expense.created"],security:"mzal istekler: X-Signature header' ile HMAC-SHA256 dorulayn.",retries:"Geici hatalarda 3 kez tekrar deneriz (exponential backoff)."},Fj={title:"rnekler",listCustomers:"Mterileri Listele (curl)",createInvoice:"Fatura Olutur (curl)"},Bj={title:Pj,subtitle:Dj,gettingStarted:Ij,auth:Mj,rateLimits:Rj,errors:zj,endpoints:Oj,webhooks:Lj,examples:Fj},Uj="Developer API",$j="RESTful, secure and versioned endpoints for integration",Vj={title:"Getting Started",baseUrl:"Base URL",baseUrlValue:"https://api.comptario.com",versioning:"Versioning",versioningText:"All endpoints are URL versioned. Example: /v1/...",prerequisites:["A Pro or Business plan account","An API key (PAT) created from the Admin panel","Send requests over HTTPS"]},qj={title:"Authentication",method:"Method",pat:"Personal Access Token (PAT)",how:"Send Authorization: Bearer <TOKEN> header in all requests.",example:"cURL example"},Hj={title:"Rate Limits",text:"Default limit is 60 requests/minute. Can be increased depending on your plan.",headers:"Response headers include X-RateLimit-Limit, X-RateLimit-Remaining and X-RateLimit-Reset."},Kj={title:"Error Format",shape:"Error body",fields:{status:"HTTP status code",code:"Application error code",message:"User-friendly message",details:"(optional) Field error list"}},Gj={title:"Endpoints (Examples)",customers:{title:"Customers",list:"List Customers",get:"GET /v1/customers",create:"Create Customer",post:"POST /v1/customers"},invoices:{title:"Invoices",list:"List Invoices",get:"GET /v1/invoices",create:"Create Invoice",post:"POST /v1/invoices"}},Wj={title:"Webhooks",text:"We POST events to your HTTPS endpoint.",events:["invoice.created","invoice.paid","expense.created"],security:"Signed requests: verify HMAC-SHA256 with X-Signature header.",retries:"We retry up to 3 times on transient failures (exponential backoff)."},Yj={title:"Examples",listCustomers:"List Customers (curl)",createInvoice:"Create Invoice (curl)"},Xj={title:Uj,subtitle:$j,gettingStarted:Vj,auth:qj,rateLimits:Hj,errors:Kj,endpoints:Gj,webhooks:Wj,examples:Yj},Qj="Developer API",Zj="RESTful, secure and versioned endpoints for integration",Jj={title:"Erste Schritte",baseUrl:"Basis-URL",baseUrlValue:"https://api.comptario.com",versioning:"Versionierung",versioningText:"Alle Endpunkte sind URL-versioniert. Beispiel: /v1/...",prerequisites:["Ein Pro- oder Business-Plan-Konto","Ein API-Schlssel (PAT) aus dem Admin-Panel","Anfragen ber HTTPS senden"]},e4={title:"Authentifizierung",method:"Methode",pat:"Personal Access Token (PAT)",how:"Senden Sie den Header Authorization: Bearer <TOKEN> in allen Anfragen.",example:"cURL Beispiel"},t4={title:"Rate Limits",text:"Standardlimit ist 60 Anfragen/Minute. Je nach Plan erhhbar.",headers:"Antwort-Header enthalten X-RateLimit-Limit, X-RateLimit-Remaining und X-RateLimit-Reset."},r4={title:"Fehlerformat",shape:"Fehlerkrper",fields:{status:"HTTP-Statuscode",code:"Anwendungsfehlercode",message:"Benutzerfreundliche Nachricht",details:"(optional) Feldfehlerliste"}},s4={title:"Endpunkte (Beispiele)",customers:{title:"Kunden",list:"Kunden auflisten",get:"GET /v1/customers",create:"Kunden erstellen",post:"POST /v1/customers"},invoices:{title:"Rechnungen",list:"Rechnungen auflisten",get:"GET /v1/invoices",create:"Rechnung erstellen",post:"POST /v1/invoices"}},n4={title:"Webhooks",text:"Wir senden Ereignisse per POST an Ihren HTTPS-Endpunkt.",events:["invoice.created","invoice.paid","expense.created"],security:"Signierte Anfragen: HMAC-SHA256 mit X-Signature-Header prfen.",retries:"Bei temporren Fehlern bis zu 3 Wiederholungen (exponentielles Backoff)."},i4={title:"Beispiele",listCustomers:"Kunden auflisten (curl)",createInvoice:"Rechnung erstellen (curl)"},a4={title:Qj,subtitle:Zj,gettingStarted:Jj,auth:e4,rateLimits:t4,errors:r4,endpoints:s4,webhooks:n4,examples:i4},o4="API Dveloppeur",l4="Endpoints REST, scuriss et versionns pour l'intgration",c4={title:"Commencer",baseUrl:"URL de base",baseUrlValue:"https://api.comptario.com",versioning:"Versionnage",versioningText:"Tous les endpoints sont versionns via l'URL. Exemple: /v1/...",prerequisites:["Un compte Pro ou Business","Une cl API (PAT) cre depuis le panneau d'administration","Envoyer les requtes via HTTPS"]},d4={title:"Authentification",method:"Mthode",pat:"Jeton d'accs personnel (PAT)",how:"Envoyez l'en-tte Authorization: Bearer <TOKEN> dans toutes les requtes.",example:"Exemple cURL"},u4={title:"Limites de dbit",text:"La limite par dfaut est de 60 requtes/minute. Peut tre augmente selon votre plan.",headers:"Les en-ttes de rponse incluent X-RateLimit-Limit, X-RateLimit-Remaining et X-RateLimit-Reset."},m4={title:"Format d'erreur",shape:"Corps d'erreur",fields:{status:"Code d'tat HTTP",code:"Code d'erreur applicatif",message:"Message lisible",details:"(optionnel) Liste des erreurs de champ"}},h4={title:"Endpoints (Exemples)",customers:{title:"Clients",list:"Lister les clients",get:"GET /v1/customers",create:"Crer un client",post:"POST /v1/customers"},invoices:{title:"Factures",list:"Lister les factures",get:"GET /v1/invoices",create:"Crer une facture",post:"POST /v1/invoices"}},f4={title:"Webhooks",text:"Nous envoyons des vnements par POST vers votre endpoint HTTPS.",events:["invoice.created","invoice.paid","expense.created"],security:"Requtes signes : vrifiez HMAC-SHA256 avec l'en-tte X-Signature.",retries:"Jusqu' 3 nouvelles tentatives en cas d'chec temporaire (exponential backoff)."},p4={title:"Exemples",listCustomers:"Lister les clients (curl)",createInvoice:"Crer une facture (curl)"},g4={title:o4,subtitle:l4,gettingStarted:c4,auth:d4,rateLimits:u4,errors:m4,endpoints:h4,webhooks:f4,examples:p4},x4="Comptario Hakknda",y4="Albertville, Fransa merkezli yeniliki bir teknoloji irketiyiz.",b4={title:"Kimiz?",text:"Comptario, kk ve orta lekli iletmeler iin modern, gvenli ve kolay kullanml n muhasebe yazlmlar gelitiren dinamik bir teknoloji irketidir. Merkezimiz Fransann AuvergneRhneAlpes blgesinde, Albertvillededir. Avrupa standartlarnda gvenlik, performans ve veri koruma ilkeleriyle rn gelitirir; effaflk, sadelik ve hz deerlerini tm deneyime yanstrz."},v4={title:"Ne sunuyoruz?",items:["Faturalandrma, gider ynetimi, KDV ve raporlar iin tek bir alma alan","oklu para birimi ve kategori bazl KDV gibi yerelletirilmi zellikler","PDF fatura oluturma, e-posta ile gnderim ve ariv","ok kiracl mimari, rol tabanl eriim ve plan limitleri"]},w4={title:"Yaklammz",text:"rn kararlarmz kullanc geri bildirimleri ve veri odakl lmlerle veririz. Gvenlik ve veri mahremiyeti birer ek zellik deil, tasarmn ekirdeidir. Avrupa Birlii veri koruma prensiplerine (GDPR) uyumlu, gvenilir ve leklenebilir bir altyap zerinde alrz."},k4={title:"letiim",text:"Sorularnz iin bize u adresten ulaabilirsiniz:",emailNotice:"nemli not: Comptario yalnzca ilem ve yasal zorunluluk ieren e-postalar gnderir; pazarlama veya toplu reklam e-postas gnderilmez."},N4={title:x4,subtitle:y4,whoWeAre:b4,offerings:v4,approach:w4,contact:k4},j4="About Comptario",S4="We are an innovative tech company based in Albertville, France.",C4={title:"Who are we?",text:"Comptario is a dynamic technology company building modern, secure and easy-to-use bookkeeping software for small and medium businesses. Our headquarters is in Albertville, in the AuvergneRhneAlpes region of France. We develop products with European-grade security, performance and data protection principles; we reflect transparency, simplicity and speed across the entire experience."},A4={title:"What do we offer?",items:["A single workspace for invoicing, expense management, VAT and reports","Localized features like multi-currency and category-based VAT","PDF invoice generation, email delivery and archiving","Multi-tenant architecture, role-based access and plan limits"]},_4={title:"Our approach",text:"We make product decisions with user feedback and data-driven metrics. Security and data privacy are not extras; they are core to our design. We operate on a reliable and scalable infrastructure compliant with EU data protection principles (GDPR)."},E4={title:"Contact",text:"For questions, reach us at:",emailNotice:"Note: Comptario sends transactional and legally required emails onlyno marketing or bulk promotional emails."},T4={title:j4,subtitle:S4,whoWeAre:C4,offerings:A4,approach:_4,contact:E4},P4="ber Comptario",D4="Wir sind ein innovatives Technologieunternehmen mit Sitz in Albertville, Frankreich.",I4={title:"Wer sind wir?",text:"Comptario ist ein dynamisches Technologieunternehmen, das moderne, sichere und benutzerfreundliche Buchhaltungssoftware fr kleine und mittlere Unternehmen entwickelt. Unser Hauptsitz befindet sich in Albertville in der Region AuvergneRhneAlpes. Wir entwickeln Produkte nach europischen Standards fr Sicherheit, Leistung und Datenschutz und leben Transparenz, Einfachheit und Geschwindigkeit in der gesamten Erfahrung."},M4={title:"Was bieten wir an?",items:["Ein einziger Arbeitsbereich fr Rechnungen, Ausgabenverwaltung, Umsatzsteuer und Berichte","Lokalisierte Funktionen wie Mehrwhrung und kategoriebasierte Umsatzsteuer","PDF-Rechnungserstellung, Versand per E-Mail und Archivierung","Mandantenfhige Architektur, rollenbasierter Zugriff und Planlimits"]},R4={title:"Unser Ansatz",text:"Wir treffen Produktentscheidungen anhand von Nutzerfeedback und datengetriebenen Metriken. Sicherheit und Datenschutz sind keine Zusatzfunktionen, sondern zentral im Design verankert. Wir arbeiten auf einer zuverlssigen und skalierbaren Infrastruktur im Einklang mit den EU-Datenschutzgrundstzen (DSGVO)."},z4={title:"Kontakt",text:"Bei Fragen erreichen Sie uns unter:",emailNotice:"Hinweis: Comptario versendet ausschlielich transaktionale und gesetzlich erforderliche E-Mails  keine Marketing- oder Massenwerbung."},O4={title:P4,subtitle:D4,whoWeAre:I4,offerings:M4,approach:R4,contact:z4},L4=" propos de Comptario",F4="Nous sommes une entreprise technologique innovante base  Albertville, France.",B4={title:"Qui sommes-nous ?",text:"Comptario est une entreprise technologique dynamique qui dveloppe des logiciels de pr-comptabilit modernes, scuriss et faciles  utiliser pour les petites et moyennes entreprises. Notre sige est  Albertville, dans la rgion AuvergneRhneAlpes. Nous concevons nos produits selon des standards europens de scurit, de performance et de protection des donnes ; nous mettons la transparence, la simplicit et la rapidit au cur de l'exprience."},U4={title:"Ce que nous offrons",items:["Un espace de travail unique pour la facturation, la gestion des dpenses, la TVA et les rapports","Des fonctionnalits localises comme la multi-devise et la TVA par catgorie","Gnration de factures PDF, envoi par e-mail et archivage","Architecture multi-tenant, contrle d'accs par rles et limites de plan"]},$4={title:"Notre approche",text:"Nos dcisions produit s'appuient sur les retours des utilisateurs et des mtriques pilotes par les donnes. La scurit et la confidentialit ne sont pas des options, elles sont au cur du design. Nous oprons sur une infrastructure fiable et volutive, conforme aux principes europens de protection des donnes (RGPD)."},V4={title:"Contact",text:"Pour toute question, contactez-nous :",emailNotice:"Note : Comptario envoie uniquement des e-mails transactionnels ou lgalement obligatoiresaucun e-mail marketing ou publicitaire de masse."},q4={title:L4,subtitle:F4,whoWeAre:B4,offerings:U4,approach:$4,contact:V4},H4={tr:{common:iw,help:Fk,status:sj,api:Bj,about:N4},en:{common:Hw,help:aN,status:mj,api:Xj,about:T4},de:{common:D2,help:AN,status:wj,api:a4,about:O4},fr:{common:yk,help:WN,status:Tj,api:g4,about:q4}};Jr.use(y0).use(qv).init({resources:H4,fallbackLng:"tr",defaultNS:"common",ns:["common","help","status","api","about"],keySeparator:".",nsSeparator:":",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});const jc=k=>{if(k&&typeof k=="object"){const x=k;if(x.response?.data?.message)return Op(x.response.data.message);if(x.message)return Op(x.message);if(x.code==="NETWORK_ERROR")return Jr.t("common.networkError",{defaultValue:"Balant hatas. Ltfen internet balantnz kontrol edin."})}return Jr.t("common.unexpectedError",{defaultValue:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."})},Op=k=>{const x={"Fiscal period overlaps with existing period":Jr.t("fiscalPeriods.validation.periodOverlap",{defaultValue:"Bu tarih aralnda zaten baka bir mali dnem tanml."}),"Period is already locked":Jr.t("fiscalPeriods.errors.periodLocked",{defaultValue:"Bu dnem zaten kilitli durumda."}),"Period is not locked":Jr.t("fiscalPeriods.errors.unlockFailed",{defaultValue:"Bu dnem zaten ak durumda."}),"Cannot delete a locked period":Jr.t("fiscalPeriods.errors.operationNotAllowed",{defaultValue:"Kilitli dnem silinemez. nce dnem kilidini an."})},t={"Name already exists":"Bu isim zaten kullanlyor. Ltfen farkl bir isim sein.","Invalid date range":"Geersiz tarih aral. Biti tarihi balang tarihinden sonra olmaldr.","Start date cannot be in the past":"Balang tarihi gemite olamaz.","End date must be after start date":"Biti tarihi balang tarihinden sonra olmaldr.",Unauthorized:"Bu ilem iin yetkiniz bulunmuyor. Ltfen giri yapn.",Forbidden:"Bu ilemi gerekletirme yetkiniz yok.","Invalid credentials":"Kullanc ad veya ifre hatal.","Token expired":"Oturumunuz sona erdi. Ltfen tekrar giri yapn.","Network Error":"Balant hatas. Ltfen internet balantnz kontrol edin.","Request timeout":"stek zaman amna urad. Ltfen tekrar deneyin.","Server error":"Sunucu hatas. Ltfen daha sonra tekrar deneyin.","Not found":"Aradnz kayt bulunamad.","Bad request":"Geersiz istek. Ltfen girdiiniz bilgileri kontrol edin.","Internal server error":"Sunucu hatas. Ltfen tekrar deneyin.","Service unavailable":"Servis u anda kullanlamyor. Ltfen daha sonra tekrar deneyin."};for(const[f,m]of Object.entries(x))if(k.includes(f))return m;for(const[f,m]of Object.entries(t))if(k.includes(f))return m;if(k.includes("Cannot modify records in locked period")){const f=k.match(/"([^"]+)"/),m=f?f[1]:"kilitli dnem";return Jr.t("fiscalPeriods.errors.operationNotAllowed",{defaultValue:`${m} kilitli olduu iin ilem yaplamaz. nce dnem kilidini anz.`})}return k},K4=async()=>(await it.get("/customers")).data,t5=async k=>(await it.get(`/customers/${k}`)).data,Lp=async k=>(await it.post("/customers",k)).data,G4=async(k,x)=>(await it.patch(`/customers/${k}`,x)).data,W4=async k=>{await it.delete(`/customers/${k}`)},Y4=async()=>(await it.get("/products")).data,Fp=async k=>(await it.post("/products",k)).data,Xu=async(k,x)=>(await it.patch(`/products/${k}`,x)).data,X4=async k=>{await it.delete(`/products/${k}`)},Q4=async()=>(await it.get("/invoices")).data,Sc=async k=>(await it.get(`/invoices/${k}`)).data,Bp=async k=>(await it.post("/invoices",k)).data,Up=async(k,x)=>(await it.patch(`/invoices/${k}`,x)).data,Z4=async k=>{await it.delete(`/invoices/${k}`)},J4=async(k,x)=>(await it.patch(`/invoices/${k}/void`,{reason:x})).data,eS=async k=>(await it.patch(`/invoices/${k}/restore`)).data,tS=async()=>(await it.get("/sales")).data,r5=async k=>(await it.get(`/sales/${k}`)).data,$p=async k=>(await it.post("/sales",k)).data,rS=async(k,x)=>(await it.patch(`/sales/${k}`,x)).data,sS=async k=>{await it.delete(`/sales/${k}`)},nS=async()=>(await it.get("/expenses")).data,iS=async k=>(await it.post("/expenses",k)).data,aS=async(k,x)=>(await it.patch(`/expenses/${k}`,x)).data,oS=async k=>{await it.delete(`/expenses/${k}`)},lS=async(k,x)=>(await it.patch(`/expenses/${k}/void`,{reason:x})).data,cS=async k=>(await it.patch(`/expenses/${k}/restore`)).data,dS=async()=>(await it.get("/suppliers")).data,uS=async k=>(await it.post("/suppliers",k)).data,mS=async(k,x)=>(await it.patch(`/suppliers/${k}`,x)).data,hS=async k=>{await it.delete(`/suppliers/${k}`)},fS=({user:k={name:"Demo User",email:"demo@moneyflow.com"},onLogout:x,onNewInvoice:t,onNewSale:f,activePage:m="dashboard",customTitle:d,onToggleSidebar:s,notifications:a=[],unreadCount:i=0,isNotificationsOpen:r=!1,onToggleNotifications:n,onCloseNotifications:l,onNotificationClick:o,onOpenSettingsProfile:c})=>{const{currentLanguage:p,changeLanguage:g,languages:h}=Ca(),{t:y}=Vt(),b=U=>{const _={dashboard:"sidebar.dashboard",invoices:"sidebar.invoices",expenses:"sidebar.expenses",customers:"sidebar.customers",products:"sidebar.products",suppliers:"sidebar.suppliers",banks:"sidebar.banks",sales:"sidebar.sales",reports:"sidebar.reports","general-ledger":"sidebar.accounting","chart-of-accounts":"sidebar.chartOfAccounts",archive:"sidebar.archive",settings:"sidebar.settings"};return _[U]?y(_[U]):U.split("-").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" ")},C=d&&d.trim().length>0?d:b(m),T=Z.useRef(null),D=Z.useRef(null),F=Z.useRef(null),[H,O]=Z.useState(!1);Z.useEffect(()=>{if(!r)return;const U=M=>{const A=M.target;D.current&&!D.current.contains(A)&&T.current&&!T.current.contains(A)&&l?.()},_=M=>{M.key==="Escape"&&l?.()};return document.addEventListener("mousedown",U),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("keydown",_)}},[r,l]),Z.useEffect(()=>{if(!H)return;const U=M=>{const A=M.target;F.current&&!F.current.contains(A)&&O(!1)},_=M=>{M.key==="Escape"&&O(!1)};return document.addEventListener("mousedown",U),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("keydown",_)}},[H]);const $={info:"bg-blue-500",warning:"bg-amber-500",success:"bg-green-500",danger:"bg-red-500"},B=h.find(U=>U.code===p)??h[0],K=U=>{g(U),O(!1)};return e.jsx("header",{className:"sticky top-0 z-40 bg-white px-4 py-3 shadow-sm sm:px-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s&&e.jsx("button",{type:"button",onClick:s,className:"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-100 hover:text-gray-800 md:hidden","aria-label":"Meny a",children:e.jsx(Jg,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 capitalize sm:text-2xl",children:C})]}),e.jsxs("div",{className:"flex flex-1 flex-wrap items-center justify-end gap-2 md:flex-nowrap",children:[e.jsxs("div",{className:"hidden items-center gap-2 lg:flex",children:[e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",children:[e.jsx(As,{className:"mr-2 h-4 w-4"}),y("header.newInvoice")]}),e.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-700",children:[e.jsx(As,{className:"mr-2 h-4 w-4"}),y("header.newSale")]})]}),e.jsx("div",{className:"order-last w-full sm:w-auto md:order-none md:max-w-xs",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),e.jsx("input",{type:"text",placeholder:y("header.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative block",ref:F,children:[e.jsxs("button",{type:"button",onClick:()=>O(U=>!U),className:"flex items-center gap-2 md:gap-3 rounded-xl border border-gray-200 bg-white px-3 py-2 shadow-sm transition hover:border-blue-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-200","aria-haspopup":"listbox","aria-expanded":H,"aria-label":"Dil seimi",children:[e.jsx(Pn,{className:"h-4 w-4 text-blue-500","aria-hidden":!0}),e.jsx("span",{className:"md:hidden text-sm font-medium text-gray-700",children:B.flag||B.code.toUpperCase()}),e.jsxs("div",{className:"hidden md:flex flex-col text-left",children:[e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-gray-400",children:y("header.language")}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:B.name})]})]}),H&&e.jsx("div",{className:"absolute right-0 z-50 mt-2 w-44 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg",children:e.jsx("ul",{className:"divide-y divide-gray-100",role:"listbox","aria-label":"Dil seenekleri",children:h.map(U=>{const _=U.code===p,M=_?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50";return e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:()=>K(U.code),className:`flex w-full items-center justify-between px-4 py-2 text-sm transition ${M}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:U.flag}),e.jsx("span",{children:U.name})]}),_&&e.jsx(Ur,{className:"h-4 w-4 text-blue-500"})]})},U.code)})})})]}),n&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",ref:T,onClick:n,className:`rounded-lg p-2 transition-colors ${r?"text-blue-600 hover:bg-blue-50":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,"aria-label":y("header.notifications"),"aria-expanded":r,children:[e.jsx(Wg,{className:"h-5 w-5"}),i>0&&e.jsx("span",{className:"absolute -right-1 -top-1 inline-flex min-w-[1.25rem] items-center justify-center rounded-full bg-red-500 px-1 text-xs font-semibold text-white",children:i>9?"9+":i})]}),r&&e.jsxs("div",{ref:D,className:"absolute right-0 z-50 mt-2 w-80 origin-top-right rounded-lg border border-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-4 py-3",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y("header.notifications")}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString(p)})]}),a.length===0?e.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:y("header.noNotifications")}):e.jsx("div",{className:"max-h-80 divide-y divide-gray-100 overflow-y-auto",children:a.map(U=>{const _=U.type&&$[U.type]?$[U.type]:"bg-gray-300";return e.jsxs("button",{type:"button",onClick:()=>{o&&o(U)},className:"flex w-full gap-3 px-4 py-3 text-left transition-colors hover:bg-gray-50 focus:bg-gray-100 focus:outline-none",children:[e.jsx("span",{className:`mt-1 inline-flex h-2.5 w-2.5 flex-shrink-0 rounded-full ${_}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.title}),e.jsx("p",{className:"text-xs text-gray-500",children:U.description}),e.jsx("span",{className:"mt-1 block text-xs text-gray-400",children:U.time})]})]},U.id)})})]})]}),e.jsxs("button",{type:"button",onClick:()=>c&&c(),className:"flex items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-100",title:y("sidebar.settings"),children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600",children:e.jsx(Wr,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"hidden text-left sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("p",{className:"text-xs text-gray-500",children:k.email})]})]}),e.jsx("button",{type:"button",onClick:x,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-red-600",title:y("header.logout"),children:e.jsx(Xb,{className:"h-5 w-5"})})]})]})]})})};function pS({currentPage:k,onPageChange:x,invoices:t=[],expenses:f=[],isOpen:m=!1,onClose:d}){const{t:s}=Vt(),a=t.filter(l=>l.status!=="paid"&&l.status!=="overdue").length,i=f.filter(l=>l.status==="draft"||l.status==="approved").length,r=[{icon:Gb,label:s("sidebar.dashboard"),page:"dashboard"},{icon:Or,label:s("sidebar.invoices"),page:"invoices",badge:a>0?a:null},{icon:bn,label:s("sidebar.expenses"),page:"expenses",badge:i>0?i:null},{icon:Pb,label:s("sidebar.customers"),page:"customers"},{icon:Ys,label:s("sidebar.products"),page:"products"},{icon:Fr,label:s("sidebar.suppliers"),page:"suppliers"},{icon:Kn,label:s("sidebar.banks"),page:"banks"},{icon:vs,label:s("sidebar.sales"),page:"sales"},{icon:Or,label:s("sidebar.quotes"),page:"quotes"},{icon:ev,label:s("sidebar.reports"),page:"reports"},{icon:Ni,label:s("sidebar.accounting"),page:"general-ledger"},{icon:Oc,label:s("sidebar.chartOfAccounts"),page:"chart-of-accounts"},{icon:Kg,label:s("sidebar.archive"),page:"archive"},{icon:hl,label:s("sidebar.settings"),page:"settings"}],n=l=>{x(l),d&&d()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 transition-opacity md:hidden ${m?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:d,"aria-hidden":!m}),e.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 flex w-64 transform flex-col border-r border-gray-200 bg-white shadow-md transition-transform duration-200 md:static md:z-auto md:translate-x-0 md:shadow-none ${m?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-600",children:e.jsx(Ni,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:s("app.name")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("app.subtitle")})]})]}),d&&e.jsx("button",{type:"button",onClick:d,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 md:hidden","aria-label":s("sidebar.close"),children:e.jsx(fr,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:r.map((l,o)=>e.jsxs("button",{type:"button",onClick:()=>n(l.page),className:`flex w-full items-center justify-between rounded-lg px-4 py-3 text-left transition-colors ${k===l.page?"border-r-4 border-blue-600 bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(l.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:l.label})]}),l.badge&&e.jsx("span",{className:"rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-600",children:l.badge})]},o))})]})})]})}function gS({title:k,value:x,change:t,changeType:f,icon:m,color:d,subtitle:s}){const{t:a}=Vt(),i={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",red:"bg-red-50 text-red-600 border-red-200",purple:"bg-purple-50 text-purple-600 border-purple-200"},r={blue:"bg-blue-100",green:"bg-green-100",red:"bg-red-100",purple:"bg-purple-100"};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 transition-all duration-200 md:hover:shadow-lg md:hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:k}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]}),e.jsx("div",{className:`p-3 rounded-xl ${r[d]}`,children:e.jsx(m,{className:`w-6 h-6 ${i[d].split(" ")[1]}`})})]}),e.jsxs("div",{className:"flex items-center mt-4 space-x-1",children:[f==="increase"?e.jsx(vs,{className:"w-4 h-4 text-green-500"}):e.jsx(ym,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${f==="increase"?"text-green-600":"text-red-600"}`,children:t}),e.jsx("span",{className:"text-gray-500 text-sm",children:s||a("stats.thisMonth")})]})]})}function xS({sales:k=[],expenses:x=[],invoices:t=[]}){const{formatCurrency:f}=$r(),{t:m,i18n:d}=Vt(),[s,a]=Z.useState(!0),i=()=>{const o=new Date,c=[];for(let p=0;p<=5;p++){const g=new Date(o.getFullYear(),o.getMonth()-p,1),h=g.getMonth(),y=`months.short.${["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][h]}`;c.push({month:m(y),year:g.getFullYear(),monthIndex:h})}return c},n=Z.useMemo(()=>i(),[m]).map(o=>{let c=0;const p=t.filter(b=>{if(b.status!=="paid")return!1;const C=new Date(b.issueDate);return C.getMonth()===o.monthIndex&&C.getFullYear()===o.year});c+=p.reduce((b,C)=>b+(Number(C.total)||0),0);const g=k.filter(b=>{if(String(b?.status).toLowerCase()!=="completed")return!1;const C=new Date(b?.date);return C.getMonth()===o.monthIndex&&C.getFullYear()===o.year?!(!!b?.invoiceId||t.some(F=>String(F?.saleId||"")===String(b?.id||""))):!1});c+=g.reduce((b,C)=>b+(Number(C.amount)||0),0);const y=x.filter(b=>{if(b.status!=="paid")return!1;const C=new Date(b.expenseDate);return C.getMonth()===o.monthIndex&&C.getFullYear()===o.year}).reduce((b,C)=>b+(Number(C.amount)||0),0);return{month:o.month,income:c,expense:y}}),l=Math.max(...n.flatMap(o=>[o.income,o.expense]));return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.language==="tr"?"Aylk Gelir/Gider":d.language==="en"?"Monthly Income/Expense":d.language==="de"?"Monatliche Einnahmen/Ausgaben":d.language==="fr"?"Revenus/Dpenses Mensuels":"Monthly Income/Expense"}),e.jsx("p",{className:"text-sm text-gray-500",children:d.language==="tr"?"Son 6 ay performans (en yeni  en eski)":d.language==="en"?"Last 6 months performance (newest  oldest)":d.language==="de"?"Leistung der letzten 6 Monate (neueste  lteste)":d.language==="fr"?"Performance des 6 derniers mois (plus rcent  plus ancien)":"Last 6 months performance (newest  oldest)"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.language==="tr"?"Gelir":d.language==="en"?"Income":d.language==="de"?"Einkommen":d.language==="fr"?"Revenu":"Income"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:d.language==="tr"?"Gider":d.language==="en"?"Expense":d.language==="de"?"Ausgaben":d.language==="fr"?"Dpense":"Expense"})]}),e.jsx("button",{onClick:()=>a(!s),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:s?d.language==="tr"?"Grafii Gizle":d.language==="en"?"Hide Chart":d.language==="de"?"Diagramm Ausblenden":d.language==="fr"?"Masquer le Graphique":"Hide Chart":d.language==="tr"?"Grafii Gster":d.language==="en"?"Show Chart":d.language==="de"?"Diagramm Anzeigen":d.language==="fr"?"Afficher le Graphique":"Show Chart",children:s?e.jsx(nl,{className:"w-4 h-4 text-gray-600"}):e.jsx(ss,{className:"w-4 h-4 text-gray-600"})})]})]}),s&&e.jsx("div",{className:"space-y-4",children:n.map((o,c)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.month}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Net: ",f(o.income-o.expense)]})]}),e.jsxs("div",{className:"relative h-8 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 h-4 bg-blue-500 rounded-sm",style:{width:`${o.income/l*100}%`}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-4 bg-red-500 rounded-sm",style:{width:`${o.expense/l*100}%`}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:f(o.income)}),e.jsx("span",{children:f(o.expense)})]})]},c))}),!s&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ss,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:d.language==="tr"?"Grafik gizlendi":d.language==="en"?"Chart hidden":d.language==="de"?"Diagramm ausgeblendet":d.language==="fr"?"Graphique masqu":"Chart hidden"})]})]})}function yS({invoices:k=[],expenses:x=[],sales:t=[],quotes:f=[],onViewInvoice:m,onEditInvoice:d,onDownloadInvoice:s,onViewExpense:a,onEditExpense:i,onDownloadExpense:r,onViewSale:n,onEditSale:l,onDownloadSale:o,onViewQuote:c,onViewAllTransactions:p}){const{formatCurrency:g}=$r(),{t:h,i18n:y}=Vt(),b=O=>new Date(O).toLocaleDateString(y.language,{day:"2-digit",month:"short",year:"numeric"}),C=O=>{const $=Number(O),B=Number.isFinite($)?$:0;return g(B)},T=Z.useMemo(()=>{const O=U=>{if(!U)return null;const _=new Date(U);return isNaN(_.getTime())?null:_},$=(U,_)=>!U||!_?!1:U.getFullYear()===_.getFullYear()&&U.getMonth()===_.getMonth()&&U.getDate()===_.getDate(),B=(U,_)=>{const M=O(U?.[_]),A=O(U?.createdAt),N=O(U?.updatedAt);return M?$(A,M)?A:$(N,M)?N:M:A||N||new Date(0)};return[...k.map(U=>({id:U.invoiceNumber||U.id,customer:U?.customer?.name||U?.customerName||h("dashboard.noCustomer"),amount:C(U.total),status:U.status,date:b(U.issueDate),type:"invoice",originalData:U,sortDate:B(U,"issueDate")})),...x.map(U=>({id:U.expenseNumber||U.id,customer:U.description,amount:C(U.amount),status:U.status,date:b(U.expenseDate),type:"expense",originalData:U,sortDate:B(U,"expenseDate")})),...t.map(U=>({id:U.saleNumber||`SAL-${U.id}`,customer:U.customerName,amount:C(U.amount),status:U.status,date:b(U.date),type:"sale",originalData:U,sortDate:B(U,"date")})),...f.map(U=>({id:U.quoteNumber||`Q-${U.id}`,customer:U.customerName,amount:g(Number(U.total)||0,U.currency),status:U.status,date:b(U.issueDate||U.createdAt||new Date().toISOString()),type:"quote",originalData:U,sortDate:B(U,"issueDate")}))].sort((U,_)=>_.sortDate.getTime()-U.sortDate.getTime()).slice(0,3)},[k,x,t,f,h,g,y.language]),D=(O,$)=>{if($==="quote"){const U=(A,N)=>{const S=h(A);return S===A?h(N):S};return{draft:{label:U("quotes.statusLabels.draft","status.draft"),class:"bg-gray-100 text-gray-800"},sent:{label:U("quotes.statusLabels.sent","status.sent"),class:"bg-blue-100 text-blue-800"},viewed:{label:U("quotes.statusLabels.viewed","status.viewed"),class:"bg-indigo-100 text-indigo-800"},accepted:{label:U("quotes.statusLabels.accepted","status.accepted"),class:"bg-green-100 text-green-800"},declined:{label:U("quotes.statusLabels.declined","status.declined"),class:"bg-red-100 text-red-800"},expired:{label:U("quotes.statusLabels.expired","status.expired"),class:"bg-yellow-100 text-yellow-800"}}[O]||{label:O,class:"bg-gray-100 text-gray-800"}}return{paid:{label:h("status.paid"),class:"bg-green-100 text-green-800"},completed:{label:h("status.completed"),class:"bg-green-100 text-green-800"},pending:{label:h("status.pending"),class:"bg-yellow-100 text-yellow-800"},overdue:{label:h("status.overdue"),class:"bg-red-100 text-red-800"},draft:{label:h("status.draft"),class:"bg-gray-100 text-gray-800"},sent:{label:h("status.sent"),class:"bg-blue-100 text-blue-800"},approved:{label:h("status.approved"),class:"bg-blue-100 text-blue-800"},cancelled:{label:h("status.cancelled"),class:"bg-red-100 text-red-800"}}[O]||{label:O,class:"bg-gray-100 text-gray-800"}},F=O=>O==="invoice"?e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}):O==="expense"?e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"G"})}):O==="sale"?e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xs font-bold",children:"S"})}):O==="quote"?e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"T"})}):e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}),H=O=>{O.type==="invoice"?m?.(O.originalData):O.type==="expense"?a?.(O.originalData):O.type==="sale"?n?.(O.originalData):O.type==="quote"&&c?.(O.originalData)};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h("dashboard.recentTransactions")}),e.jsx("p",{className:"text-sm text-gray-500",children:h("dashboard.lastTransactions").replace("{count}",T.length.toString())})]}),p&&e.jsxs("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[h("dashboard.viewAll")," "]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.transaction")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.customerDescription")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.date")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:h("transactions.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:h("transactions.noTransactions")})}):T.map(O=>e.jsxs("tr",{onClick:()=>H(O),className:"hover:bg-gray-50 transition-colors",style:{cursor:"pointer"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[F(O.type),e.jsx("span",{className:"text-sm text-gray-900",children:O.id})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:O.customer})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`text-sm font-semibold ${O.type==="expense"?"text-red-600":"text-green-600"}`,children:[O.type==="expense"?"-":"+",O.amount]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D(O.status,O.type).class}`,children:D(O.status,O.type).label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.date})]},O.id))})]})})]})}function bS({onNewInvoice:k,onNewExpense:x,onNewSale:t,onNewQuote:f,onNewCustomer:m,onNewProduct:d,onViewCustomers:s,onViewSuppliers:a,onViewBanks:i,onViewProducts:r,customers:n=[],suppliers:l=[],banks:o=[],products:c=[]}){const{t:p}=Vt(),g=c.length,h=[{title:p("quickActions.newInvoice"),description:p("quickActions.newInvoiceDesc"),icon:Or,color:"bg-blue-500 hover:bg-blue-600",onClick:k},{title:p("quickActions.newExpense"),description:p("quickActions.newExpenseDesc"),icon:bn,color:"bg-red-500 hover:bg-red-600",onClick:x},{title:p("quickActions.newSale"),description:p("quickActions.newSaleDesc"),icon:vs,color:"bg-green-500 hover:bg-green-600",onClick:t},...f?[{title:p("quickActions.newQuote"),description:p("quickActions.newQuoteDesc"),icon:e0,color:"bg-indigo-500 hover:bg-indigo-600",onClick:f}]:[],{title:p("quickActions.newCustomer"),description:p("quickActions.newCustomerDesc"),icon:hs,color:"bg-purple-500 hover:bg-purple-600",onClick:m},{title:p("quickActions.newProduct"),description:p("quickActions.newProductDesc"),icon:Ys,color:"bg-amber-500 hover:bg-amber-600",onClick:d}],y=[{label:p("quickActions.customers"),value:n.length,icon:hs,accent:"text-purple-600",onClick:s},{label:p("quickActions.suppliers"),value:l.length,icon:Fr,accent:"text-orange-500",onClick:a},{label:p("quickActions.banks"),value:o.length,icon:Kn,accent:"text-emerald-500",onClick:i},{label:p("quickActions.products"),value:g,icon:Ys,accent:"text-amber-500",onClick:r}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:p("dashboard.quickActions")}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:h.map((b,C)=>e.jsxs("button",{type:"button",onClick:b.onClick,className:`${b.color} rounded-lg px-4 py-4 text-left text-white shadow transition-all duration-200 md:hover:scale-[1.02] md:hover:shadow-lg h-28`,children:[e.jsx("div",{className:"h-6 flex items-center mb-3",children:e.jsx("div",{className:"text-sm font-semibold",children:b.title})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(b.icon,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("div",{className:"text-xs opacity-90 leading-normal",children:b.description})]})]},C))})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[e.jsx("h4",{className:"mb-4 text-sm font-semibold uppercase tracking-wide text-gray-500",children:p("dashboard.quickAccess")}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:y.map((b,C)=>e.jsxs("button",{type:"button",onClick:b.onClick,className:"flex flex-col items-start rounded-lg border border-gray-100 bg-gray-50 p-3 text-left transition-colors hover:border-gray-200 hover:bg-gray-100",children:[e.jsxs("div",{className:`mb-2 flex items-center gap-2 text-xs font-medium ${b.accent}`,children:[e.jsx(b.icon,{className:"h-4 w-4"}),b.label]}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:b.value})]},C))})]})]})}function vS({invoices:k=[],expenses:x=[],onViewOverdueInvoices:t,onViewPendingExpenses:f}){const{t:m}=Vt(),d=k.filter(n=>n.status==="overdue").length,s=x.filter(n=>n.status==="draft").length,a=k.filter(n=>{if(n.status==="sent"){const l=new Date(n.dueDate),o=new Date,c=l.getTime()-o.getTime(),p=Math.ceil(c/(1e3*60*60*24));return p<=7&&p>0}return!1}).length,r=[{type:"error",title:m("alerts.overdueInvoices"),count:d,description:m("alerts.overdueDesc"),icon:dn,color:"bg-red-50 border-red-200 text-red-800",iconColor:"text-red-600",onClick:t},{type:"warning",title:m("alerts.dueSoon"),count:a,description:m("alerts.dueSoonDesc"),icon:ea,color:"bg-yellow-50 border-yellow-200 text-yellow-800",iconColor:"text-yellow-600",onClick:t},{type:"info",title:m("alerts.pendingExpenses"),count:s,description:m("alerts.pendingExpensesDesc"),icon:Dr,color:"bg-blue-50 border-blue-200 text-blue-800",iconColor:"text-blue-600",onClick:f}].filter(n=>n.count>0);return r.length===0?e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(bs,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("alerts.allGood")}),e.jsx("p",{className:"text-sm text-gray-500",children:m("alerts.noAlerts")})]})]})}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(dn,{className:"w-5 h-5 text-orange-500 mr-2"}),m("alerts.attentionRequired")]}),e.jsx("div",{className:"space-y-3",children:r.map((n,l)=>e.jsx("div",{className:`p-4 rounded-lg border ${n.color} cursor-pointer hover:opacity-80 transition-opacity`,onClick:n.onClick,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n.icon,{className:`w-5 h-5 ${n.iconColor}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:n.title}),e.jsx("div",{className:"text-sm opacity-80",children:n.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:n.count}),e.jsx("div",{className:"text-xs opacity-80",children:"adet"})]})]})},l))})]})}function wS({isOpen:k,onClose:x,onSave:t,customer:f}){const{t:m}=Vt(),[d,s]=Z.useState({name:f?.name||"",email:f?.email||"",phone:f?.phone||"",address:f?.address||"",taxNumber:f?.taxNumber||"",company:f?.company||""});sr.useEffect(()=>{k&&f?s({name:f.name||"",email:f.email||"",phone:f.phone||"",address:f.address||"",taxNumber:f.taxNumber||"",company:f.company||""}):k&&!f&&s({name:"",email:"",phone:"",address:"",taxNumber:"",company:""})},[k,f]);const a=()=>{const i={...d};f?.id&&(i.id=f.id,i.createdAt=f.createdAt),t(i),x(),s({name:"",email:"",phone:"",address:"",taxNumber:"",company:""})};return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:f?m("customers.editCustomer")||"Mteriyi Dzenle":m("customers.newCustomer")||"Yeni Mteri Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:m("customers.enterCustomerInfo")||"Mteri bilgilerini girin"})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Wr,{className:"w-4 h-4 inline mr-2"}),m("customers.name")," *"]}),e.jsx("input",{type:"text",value:d.name,onChange:i=>s({...d,name:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:m("customers.namePlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),m("customers.company")]}),e.jsx("input",{type:"text",value:d.company,onChange:i=>s({...d,company:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:m("customers.companyPlaceholder")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(fs,{className:"w-4 h-4 inline mr-2"}),"E-posta *"]}),e.jsx("input",{type:"email",value:d.email,onChange:i=>s({...d,email:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"ahmet@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Sa,{className:"w-4 h-4 inline mr-2"}),"Telefon"]}),e.jsx("input",{type:"tel",value:d.phone,onChange:i=>s({...d,phone:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"+90 555 123 45 67"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:m("customers.taxNumber")}),e.jsx("input",{type:"text",value:d.taxNumber,onChange:i=>s({...d,taxNumber:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"1234567890"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xo,{className:"w-4 h-4 inline mr-2"}),"Adres"]}),e.jsx("textarea",{value:d.address,onChange:i=>s({...d,address:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:m("customers.addressPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ptal"}),e.jsx("button",{onClick:a,disabled:!d.name||!d.email,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m(f?"common.update":"customers.addCustomer")})]})]})}):null}const Qu={name:"",sku:"",category:"",unitPrice:"",costPrice:"",stockQuantity:"",reorderLevel:"10",unit:"adet",description:"",hasCustomTaxRate:!1,categoryTaxRateOverride:""};function kS({isOpen:k,onClose:x,onSave:t,product:f,categories:m,categoryObjects:d}){const{t:s}=Vt(),[a,i]=sr.useState(Qu),[r,n]=sr.useState({}),[l,o]=sr.useState(d||[]);sr.useEffect(()=>{k&&l.length===0&&_r(async()=>{const{productCategoriesApi:y}=await import("./product-categories-D0ycK-X5.js");return{productCategoriesApi:y}},[]).then(({productCategoriesApi:y})=>{y.getAll().then(b=>{console.log(" Kategoriler yklendi:",b),o(b)}).catch(console.error)})},[k,l.length]);const c=sr.useMemo(()=>{const y=new Set;l.length>0&&l.forEach(C=>y.add(C.name)),m.forEach(C=>{const T=C.trim();T&&y.add(T)}),f?.category&&y.add(f.category.trim());const b=Array.from(y).sort((C,T)=>C.localeCompare(T,"tr-TR"));return console.log(" Kategori seenekleri:",b),b},[m,l,f]);sr.useEffect(()=>{if(!k){i(Qu),n({});return}i(f?{name:f.name||"",sku:f.sku||"",category:f.category||c[0]||"",unitPrice:f.unitPrice?String(f.unitPrice):"",costPrice:f.costPrice?String(f.costPrice):"",stockQuantity:f.stockQuantity?String(f.stockQuantity):"",reorderLevel:f.reorderLevel?String(f.reorderLevel):"10",unit:f.unit||"adet",description:f.description||"",hasCustomTaxRate:f.categoryTaxRateOverride!=null,categoryTaxRateOverride:f.categoryTaxRateOverride!=null?String(f.categoryTaxRateOverride):""}:{...Qu,category:c[0]||""}),n({})},[k,f,c]);const p=(y,b)=>{i(C=>({...C,[y]:b})),r[y]&&n(C=>({...C,[y]:""}))},g=()=>{const y={};return a.name.trim()||(y.name=s("validation.productNameRequired")),a.sku.trim()||(y.sku=s("validation.skuRequired")),c.length>0&&!a.category.trim()&&(y.category=s("validation.categoryRequired")),(!a.unitPrice.trim()||Number.isNaN(Number(a.unitPrice)))&&(y.unitPrice=s("validation.validPriceRequired")),(!a.stockQuantity.trim()||Number.isNaN(Number(a.stockQuantity)))&&(y.stockQuantity=s("validation.validStockRequired")),n(y),Object.keys(y).length===0},h=()=>{if(!g())return;const y=Number(a.unitPrice)||0,b=Number(a.costPrice)||0,C=Number(a.stockQuantity)||0,T=Number(a.reorderLevel)||0,D=a.category.trim()||c[0]||"Genel",F=l?.find($=>$.name===D),H=F?.taxRate??18;console.log(" rn kaydediliyor:",{selectedCategory:D,categoryObj:F,categoryTaxRate:H,categoryObjects:l?.map($=>({name:$.name,taxRate:$.taxRate}))});const O={name:a.name.trim(),sku:a.sku.trim(),category:D,unitPrice:y,costPrice:b,stockQuantity:C,reorderLevel:T,unit:a.unit.trim()||"adet",description:a.description.trim(),status:C===0?"out-of-stock":C<=T?"low":"active",taxRate:H};if(console.log(" Kaydedilecek rn:",{name:O.name,category:O.category,taxRate:O.taxRate,categoryTaxRateOverride:O.categoryTaxRateOverride}),a.hasCustomTaxRate&&a.categoryTaxRateOverride){const $=Number(a.categoryTaxRateOverride);!isNaN($)&&$>=0&&$<=100&&(O.categoryTaxRateOverride=$,console.log(" zel KDV oran eklendi:",$))}f?.id&&(O.id=f.id,O.createdAt=f.createdAt),t(O),x()};return k?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-3xl rounded-xl bg-white shadow-2xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(Ys,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:f?s("products.editProduct")||"Urunu duzenle":s("products.newProduct")||"Yeni urun ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:s("products.enterProductInfo")||"Urun bilgilerini doldurun ve stok durumunu guncelleyin"})]})]}),e.jsx("button",{type:"button",onClick:x,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":s("common.close"),children:e.jsx(fr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-8 p-6 overflow-y-auto flex-1",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s("products.generalInfo")}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-name",children:[e.jsx(Ys,{className:"h-4 w-4 text-gray-400"}),s("products.name")," *"]}),e.jsx("input",{id:"product-name",type:"text",value:a.name,onChange:y=>p("name",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:s("products.namePlaceholder")}),r.name&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-sku",children:[e.jsx(Gg,{className:"h-4 w-4 text-gray-400"}),"SKU *"]}),e.jsx("input",{id:"product-sku",type:"text",value:a.sku,onChange:y=>p("sku",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"SKU-001"}),r.sku&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.sku})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-category",children:[e.jsx(ai,{className:"h-4 w-4 text-gray-400"}),s("products.category")," *"]}),e.jsx("select",{id:"product-category",value:a.category,onChange:y=>p("category",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:c.length===0,children:c.length===0?e.jsx("option",{value:"",children:s("products.noCategoriesFound")}):c.map(y=>e.jsx("option",{value:y,children:y},y))}),c.length===0&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("products.createCategoryFirst")}),r.category&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.category})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-unit",children:[e.jsx(Zi,{className:"h-4 w-4 text-gray-400"}),s("products.unit")]}),e.jsx("input",{id:"product-unit",type:"text",value:a.unit,onChange:y=>p("unit",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:s("products.unitPlaceholder")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:a.hasCustomTaxRate,onChange:y=>i(b=>({...b,hasCustomTaxRate:y.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),s("products.useCustomTaxRate")]}),a.hasCustomTaxRate&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-custom-tax",children:[e.jsx(ln,{className:"h-4 w-4 text-gray-400"}),s("products.customTaxRate")]}),e.jsx("input",{id:"product-custom-tax",type:"number",min:"0",max:"100",step:"0.01",value:a.categoryTaxRateOverride,onChange:y=>p("categoryTaxRateOverride",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:s("products.taxRatePlaceholder")}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s("products.customTaxRateHelper")})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s("products.priceAndStock")}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-price",children:[e.jsx(ln,{className:"h-4 w-4 text-gray-400"}),s("products.salePrice")," *"]}),e.jsx("input",{id:"product-price",type:"number",min:"0",step:"0.01",value:a.unitPrice,onChange:y=>p("unitPrice",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"}),r.unitPrice&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.unitPrice})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-cost",children:[e.jsx(ln,{className:"h-4 w-4 text-gray-300"}),s("products.cost")]}),e.jsx("input",{id:"product-cost",type:"number",min:"0",step:"0.01",value:a.costPrice,onChange:y=>p("costPrice",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-stock",children:[e.jsx(Zi,{className:"h-4 w-4 text-gray-400"}),s("products.stockQuantity")," *"]}),e.jsx("input",{id:"product-stock",type:"number",min:"0",step:"1",value:a.stockQuantity,onChange:y=>p("stockQuantity",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"}),r.stockQuantity&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.stockQuantity})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-reorder",children:[e.jsx(Zi,{className:"h-4 w-4 text-gray-300"}),s("products.criticalStock")]}),e.jsx("input",{id:"product-reorder",type:"number",min:"0",step:"1",value:a.reorderLevel,onChange:y=>p("reorderLevel",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"10"})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s("products.notes")}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-description",children:[e.jsx(Or,{className:"h-4 w-4 text-gray-400"}),s("products.description")]}),e.jsx("textarea",{id:"product-description",value:a.description,onChange:y=>p("description",y.target.value),rows:3,className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:s("products.descriptionPlaceholder")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4 flex-shrink-0",children:[e.jsx("button",{type:"button",onClick:x,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-100",children:s("common.cancel")}),e.jsx("button",{type:"button",onClick:h,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:s("common.save")})]})]})}):null}const NS=(k,x)=>{const t=k.trim();return t==="rnler"?x("products.mainCategories.products"):t==="Hizmetler"?x("products.mainCategories.services"):k};function b0({isOpen:k,onClose:x,onSubmit:t,categories:f,categoryObjects:m=[],editingCategory:d,onArchive:s,onRestore:a}){const{t:i}=Vt(),[r,n]=sr.useState(""),[l,o]=sr.useState("18"),[c,p]=sr.useState(""),[g,h]=sr.useState(""),y=!!d,b=sr.useMemo(()=>m.filter(T=>T.isProtected&&T.isActive),[m]);if(sr.useEffect(()=>{if(!k){n(""),o("18"),p(""),h("");return}d?(n(d.name),o(d.taxRate.toString()),p("")):(n(""),o("18"),b.length>0&&p(b[0].id)),h("")},[k,d,b]),!k)return null;const C=()=>{const T=r.trim();if(!T){h("Kategori ad zorunludur");return}if(!y&&!c){h("Ana kategori seimi zorunludur");return}const D=parseFloat(l);if(isNaN(D)||D<0||D>100){h("KDV oran 0-100 arasnda olmaldr");return}if(y&&d&&T.toLocaleLowerCase("tr-TR")===d.name.toLocaleLowerCase("tr-TR")){t(T,D),x();return}if(f.map(H=>H.toLocaleLowerCase("tr-TR")).includes(T.toLocaleLowerCase("tr-TR"))){h("Bu kategori zaten mevcut");return}t(T,D,c||void 0),x()};return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",onClick:x,children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl pointer-events-auto",onClick:T=>T.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50",children:e.jsx(e0,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:y?"Kategori Dzenle":"Kategori Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:y?"Kategori bilgilerini gncelleyin.":"Yeni rn kategorisini kaydedin."})]})]}),e.jsx("button",{type:"button",onClick:x,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Kapat",children:e.jsx(fr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-5",children:[!y&&b.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"parent-category",children:[e.jsx(Zi,{className:"h-4 w-4 text-gray-400"}),"Ana Kategori"]}),e.jsx("select",{id:"parent-category",value:c,onChange:T=>{p(T.target.value),g&&h("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:b.map(T=>e.jsx("option",{value:T.id,children:NS(T.name,i)},T.id))}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Bu kategori hangi ana kategoriye ait olacak?"})]}),e.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium text-gray-700 ${!y&&b.length>0?"mt-4":""}`,htmlFor:"category-name",children:[e.jsx(ai,{className:"h-4 w-4 text-gray-400"}),"Kategori ad"]}),e.jsx("input",{id:"category-name",type:"text",value:r,onChange:T=>{n(T.target.value),g&&h("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"rn: Elektronik"}),e.jsxs("label",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"category-tax-rate",children:[e.jsx(Jb,{className:"h-4 w-4 text-gray-400"}),"KDV Oran (%)"]}),e.jsx("input",{id:"category-tax-rate",type:"number",min:"0",max:"100",step:"0.01",value:l,onChange:T=>{o(T.target.value),g&&h("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"rn: 18"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:!y&&b.length>0?"Alt kategori KDV'si varsa ana kategori KDV'sini geersiz klar":"Bu kategorideki rnler iin varsaylan KDV oran"}),g&&e.jsx("p",{className:"mt-2 text-xs text-red-600",children:g})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4",children:[y&&d&&!d.isProtected&&e.jsx("div",{className:"flex items-center gap-2",children:d.isActive?e.jsx("button",{type:"button",onClick:()=>{if(!d?.id)return;window.confirm(i("products.archiveConfirm"))&&s?.(d.id)},className:"rounded-lg border border-red-200 px-3 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:i("products.archive")}):e.jsx("button",{type:"button",onClick:()=>d?.id&&a?.(d.id),className:"rounded-lg border border-emerald-200 px-3 py-2 text-sm font-medium text-emerald-600 transition-colors hover:bg-emerald-50",children:i("products.activate")})}),e.jsx("button",{type:"button",onClick:x,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-100",children:"Vazge"}),e.jsx("button",{type:"button",onClick:C,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:"Kaydet"})]})]})})}const jS=["Ofis Malzemeleri","Teknoloji","Hizmet","retim","Lojistik","Dier"];function SS({isOpen:k,onClose:x,onSave:t,supplier:f}){const[m,d]=Z.useState({name:f?.name||"",email:f?.email||"",phone:f?.phone||"",address:f?.address||"",taxNumber:f?.taxNumber||"",company:f?.company||"",category:f?.category||"Dier"});sr.useEffect(()=>{k&&f?d({name:f.name,email:f.email,phone:f.phone,address:f.address,taxNumber:f.taxNumber,company:f.company,category:f.category}):k&&!f&&d({name:"",email:"",phone:"",address:"",taxNumber:"",company:"",category:"Dier"})},[k,f]);const s=()=>{const a={...m,...f?.id?{id:f.id,createdAt:f.createdAt}:{}};t(a),x(),d({name:"",email:"",phone:"",address:"",taxNumber:"",company:"",category:"Dier"})};return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Fr,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:f?"Tedarikiyi Dzenle":"Yeni Tedariki Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tedariki bilgilerini girin"})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Wr,{className:"w-4 h-4 inline mr-2"}),"Tedariki Ad *"]}),e.jsx("input",{type:"text",value:m.name,onChange:a=>d({...m,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"ABC Tedarik Ltd.",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),"irket Ad"]}),e.jsx("input",{type:"text",value:m.company,onChange:a=>d({...m,company:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"ABC Tedarik Ltd. ti."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(fs,{className:"w-4 h-4 inline mr-2"}),"E-posta *"]}),e.jsx("input",{type:"email",value:m.email,onChange:a=>d({...m,email:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"info@abctedarik.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Sa,{className:"w-4 h-4 inline mr-2"}),"Telefon"]}),e.jsx("input",{type:"tel",value:m.phone,onChange:a=>d({...m,phone:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+90 555 123 45 67"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ai,{className:"w-4 h-4 inline mr-2"}),"Kategori *"]}),e.jsx("select",{value:m.category,onChange:a=>d({...m,category:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:jS.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vergi Numaras"}),e.jsx("input",{type:"text",value:m.taxNumber,onChange:a=>d({...m,taxNumber:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"1234567890"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xo,{className:"w-4 h-4 inline mr-2"}),"Adres"]}),e.jsx("textarea",{value:m.address,onChange:a=>d({...m,address:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"Tam adres bilgisi..."})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ptal"}),e.jsx("button",{onClick:s,disabled:!m.name||!m.email,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Gncelle":"Tedariki Ekle"})]})]})}):null}const xa=[{id:"1",description:"",quantity:1,unitPrice:0,total:0}];function CS({onClose:k,onSave:x,invoice:t,customers:f=[],products:m=[],invoices:d=[]}){const{t:s,i18n:a}=Vt(),[i,r]=Z.useState({invoiceNumber:"",customerId:"",customerName:"",customerEmail:"",customerAddress:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:"",status:"draft",type:"product",originalInvoiceId:""}),[n,l]=Z.useState(""),[o,c]=Z.useState(!1),[p,g]=Z.useState(null),[h,y]=Z.useState(null),[b,C]=Z.useState(xa),[T,D]=Z.useState(null);sr.useEffect(()=>{if(!t){const re=new Date,q=re.getFullYear(),ee=String(re.getMonth()+1).padStart(2,"0"),R=`INV-${q}-${ee}-XXX`;r({invoiceNumber:R,customerId:"",customerName:"",customerEmail:"",customerAddress:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:"",status:"draft",type:"product",originalInvoiceId:""}),C(xa),l(""),g(null),c(!1),y(null),D(null);return}const w=t._isReturnInvoice===!0||String(t?.type||"")==="return",j=t.originalInvoiceId||t.refundedInvoiceId||"",E=new Date,I=E.getFullYear(),L=String(E.getMonth()+1).padStart(2,"0"),G=`INV-${I}-${L}-XXX`;r({invoiceNumber:t.invoiceNumber||G,customerId:t.customerId||"",customerName:t.customer?.name||t.customerName||"",customerEmail:t.customer?.email||t.customerEmail||"",customerAddress:t.customer?.address||t.customerAddress||"",issueDate:t.issueDate||new Date().toISOString().split("T")[0],dueDate:t.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:t.notes||"",status:t.status||"draft",type:w?"return":t.type||"product",originalInvoiceId:j||""});const X=(t.items||xa).map((re,q)=>{const ee=Number(re.quantity)||1,R=Number(re.unitPrice)||0,z=Number(re.total)||ee*R;return{id:re.id||`${q+1}`,description:re.description||"",quantity:ee,unitPrice:R,total:z,productId:re.productId,unit:re.unit}});if(C(X.length?X:xa),l(t.customer?.name||t.customerName||""),t.customer?g(t.customer):g(null),c(!1),y(null),D(null),w&&j){const re=d.find(q=>String(q.id)===String(j));if(re&&(r(ee=>({...ee,originalInvoiceId:String(j),customerId:ee.customerId||re.customerId||"",customerName:ee.customerName||re.customer?.name||re.customerName||"",customerEmail:ee.customerEmail||re.customer?.email||re.customerEmail||"",customerAddress:ee.customerAddress||re.customer?.address||re.customerAddress||""})),re.customer?(g(re.customer),l(re.customer.name||"")):re.customerName&&l(re.customerName),!(Array.isArray(t.items)&&t.items.length>0))){const ee=(re.items||[]).map((R,z)=>({id:`ret-${Date.now()}-${z}`,description:R.description||R.productName||"",quantity:-(Number(R.quantity)||1),unitPrice:Number(R.unitPrice)||0,total:-(Number(R.quantity)||1)*(Number(R.unitPrice)||0),productId:R.productId,unit:R.unit||void 0,taxRate:Number(R.taxRate??18)}));C(ee.length?ee:xa)}}},[t]);const F=()=>{const w={id:Date.now().toString(),description:"",quantity:1,unitPrice:0,total:0};C(j=>[...j,w])},H=w=>{C(j=>j.length===1?j:j.filter(E=>E.id!==w)),y(j=>j===w?null:j)},O=(w,j,E)=>{C(I=>I.map(L=>{if(L.id!==w)return L;const G={...L,[j]:E};if(j==="quantity"||j==="unitPrice"){const X=Number(j==="quantity"?E:G.quantity)||0,re=Number(j==="unitPrice"?E:G.unitPrice)||0;G.total=X*re}return G}))};let $=0,B=0;b.forEach(w=>{const j=Number(w.total)||0,E=Number(w.taxRate??18)/100,I=j*E;$+=j,B+=I});const K=$+B,U=f.filter(w=>{const j=n.trim().toLowerCase();if(!j)return!0;const E=w.name?w.name.toLowerCase():"",I=w.company?w.company.toLowerCase():"";return E.includes(j)||I.includes(j)}),_=w=>{g(w),r(j=>({...j,customerId:w.id,customerName:w.name,customerEmail:w.email,customerAddress:w.address||j.customerAddress})),l(w.name),c(!1),D(null)},M=w=>{l(w),r(j=>({...j,customerName:w})),c(w.length>0),g(null)},A=w=>{const j=w.trim().toLowerCase();return m.filter(E=>j?E.name.toLowerCase().includes(j)||(E.sku||"").toLowerCase().includes(j)||(E.category||"").toLowerCase().includes(j):!0).slice(0,12)},N=(w,j)=>{console.log(" Seilen rn:",{name:j.name,taxRate:j.taxRate,categoryTaxRateOverride:j.categoryTaxRateOverride,finalTaxRate:j.categoryTaxRateOverride??j.taxRate??18}),C(E=>E.map(I=>{if(I.id!==w)return I;const L=I.quantity>0?I.quantity:1,G=Number(j.unitPrice??I.unitPrice??0),X=Number(j.categoryTaxRateOverride??j.taxRate??18);return{...I,productId:j.id,description:j.name,unitPrice:G,unit:j.unit,quantity:L,total:L*G,taxRate:X}})),y(null)},S=async()=>{if(console.log(" InvoiceModal handleSave - Validation balyor:",{customerId:i.customerId,customerName:i.customerName,selectedCustomer:p?.name,customerSearch:n}),!i.customerId){console.error(" customerId validation failed:",{customerId:i.customerId,selectedCustomer:p}),D("Ltfen mteri sein");return}if(i.type==="return"&&!i.originalInvoiceId){D("ade faturas oluturmak iin iade edilecek faturay semelisiniz");return}if(b.length===0){D("Ltfen en az bir rn ekleyin");return}if(b.some(G=>!G.description||G.unitPrice<=0)){D("Ltfen tm rn bilgilerini eksiksiz doldurun");return}const w=b.reduce((G,X)=>G+(X.total||0),0);let j=0,E=0;b.forEach(G=>{const X=Number(G.total)||0,re=Number(G.taxRate??18)/100,q=X/(1+re),ee=X-q;j+=q,E+=ee});const I=w,L={invoiceNumber:i.invoiceNumber,customerId:i.customerId,customerName:i.customerName,customerEmail:i.customerEmail,customerAddress:i.customerAddress,issueDate:i.issueDate||new Date().toISOString().split("T")[0],dueDate:i.dueDate||new Date().toISOString().split("T")[0],items:b,subtotal:j,taxAmount:E,total:I,notes:i.notes||"",status:i.status||"draft",type:i.type||"product",originalInvoiceId:i.originalInvoiceId||void 0};t?.id&&(L.id=t.id,L.createdAt=t.createdAt),console.log(" InvoiceModal - onSave'e gnderilecek veri:",{customerId:L.customerId,customerName:L.customerName,customerEmail:L.customerEmail,itemCount:L.items.length,total:L.total}),await x(L),k()};return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ni,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s(t?"invoices.editInvoice":"invoices.newInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("invoices.enterInvoiceInfo")})]})]}),e.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":s("common.close"),children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.invoiceNumber")}),e.jsx("input",{type:"text",value:i.invoiceNumber,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",title:s("invoices.invoiceNumberAutoGenerated")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsx("span",{className:"text-indigo-600 font-semibold",children:s("invoices.invoiceType")})}),e.jsxs("select",{value:i.type,onChange:w=>{const j=w.target.value;if(r(E=>({...E,type:j})),j==="return"){const E=t?.id?String(t.id):"";if(E){const I=d.find(L=>String(L.id)===E);if(I&&(r(G=>({...G,originalInvoiceId:E,customerId:G.customerId||I.customerId||"",customerName:G.customerName||I.customer?.name||I.customerName||"",customerEmail:G.customerEmail||I.customer?.email||I.customerEmail||"",customerAddress:G.customerAddress||I.customer?.address||I.customerAddress||""})),I.customer?(g(I.customer),l(I.customer.name||"")):I.customerName&&l(I.customerName),b.length===0||b.length===1&&!b[0].description&&(Number(b[0].total)||0)===0)){const G=(I.items||[]).map((X,re)=>({id:`ret-${Date.now()}-${re}`,description:X.description||X.productName||"",quantity:-(Number(X.quantity)||1),unitPrice:Number(X.unitPrice)||0,total:-(Number(X.quantity)||1)*(Number(X.unitPrice)||0),productId:X.productId,unit:X.unit||void 0,taxRate:Number(X.taxRate??18)}));C(G.length?G:xa)}}}else r(E=>({...E,originalInvoiceId:""}))},className:"w-full px-3 py-2 border-2 border-indigo-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",children:[e.jsxs("option",{value:"product",children:[" ",s("invoices.productInvoice")]}),e.jsxs("option",{value:"return",children:[" ",s("invoices.returnInvoice")]})]})]})]}),i.type==="return"&&e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:e.jsxs("span",{className:"text-red-600",children:[" ",s("invoices.invoiceToReturn")]})}),e.jsxs("select",{value:i.originalInvoiceId,onChange:w=>{const j=w.target.value,E=d.find(I=>String(I.id)===String(j));if(E){r(L=>({...L,originalInvoiceId:j,customerId:E.customerId||"",customerName:E.customer?.name||E.customerName||"",customerEmail:E.customer?.email||E.customerEmail||"",customerAddress:E.customer?.address||E.customerAddress||""})),E.customer?(g(E.customer),l(E.customer.name||"")):E.customerName&&l(E.customerName);const I=(E.items||[]).map((L,G)=>({id:`ret-${Date.now()}-${G}`,description:L.description||L.productName||"",quantity:-(Number(L.quantity)||1),unitPrice:Number(L.unitPrice)||0,total:-(Number(L.quantity)||1)*(Number(L.unitPrice)||0),productId:L.productId,unit:L.unit||void 0,taxRate:Number(L.taxRate??18)}));C(I.length?I:xa)}else r(I=>({...I,originalInvoiceId:j}))},className:"w-full px-3 py-2 border-2 border-yellow-400 rounded-lg bg-white",children:[e.jsx("option",{value:"",children:s("invoices.selectInvoiceToReturn")}),d.map(w=>e.jsxs("option",{value:w.id,children:[w.invoiceNumber," - ",w.customerName||w.customer?.name]},w.id))]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:s("invoices.returnInvoiceAutoLoad")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.issueDate")}),e.jsx("input",{type:"date",value:i.issueDate,onChange:w=>r({...i,issueDate:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",lang:a.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.dueDate")}),e.jsx("input",{type:"date",value:i.dueDate,onChange:w=>r({...i,dueDate:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",lang:a.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.status")}),e.jsxs("select",{value:i.status,onChange:w=>r({...i,status:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"draft",children:s("status.draft")}),e.jsx("option",{value:"sent",children:s("status.sent")}),e.jsx("option",{value:"paid",children:s("status.paid")}),e.jsx("option",{value:"overdue",children:s("status.overdue")}),e.jsx("option",{value:"cancelled",children:s("status.cancelled")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.customerName")}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:n,onChange:w=>M(w.target.value),onFocus:()=>c(!0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:s("invoices.customerSearchPlaceholder")}),p&&e.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500 w-4 h-4"})]}),o&&U.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[U.length," musteri bulundu"]}),U.map(w=>e.jsxs("button",{type:"button",onMouseDown:j=>j.preventDefault(),onClick:()=>_(w),className:"w-full p-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name}),e.jsx("div",{className:"text-sm text-gray-600",children:w.company}),e.jsx("div",{className:"text-xs text-gray-500",children:w.email})]},w.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("customers.email")}),e.jsx("input",{type:"email",value:i.customerEmail,onChange:w=>r({...i,customerEmail:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:s("customers.emailPlaceholder")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("customers.address")}),e.jsx("textarea",{value:i.customerAddress,onChange:w=>r({...i,customerAddress:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:s("customers.addressPlaceholder")})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("invoices.productsAndServices")}),e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:s("invoices.addLine")})]})]}),e.jsx("div",{style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg table-fixed",style:{position:"relative"},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"40%"},children:s("invoices.description")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"12%"},children:s("invoices.quantity")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"18%"},children:s("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"18%"},children:s("invoices.totalInclVAT")}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",style:{width:"12%"},children:s("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",style:{position:"relative"},children:b.map(w=>{const j=A(w.description);return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3",style:{position:"static"},children:[e.jsxs("div",{className:"relative",style:{position:"static"},children:[e.jsx("input",{type:"text",value:w.description,onChange:E=>{O(w.id,"description",E.target.value),E.target.value.length>0&&y(w.id)},onClick:()=>{w.description.length>0&&y(w.id)},onBlur:()=>setTimeout(()=>{y(E=>E===w.id?null:E)},200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:s("invoices.productServiceDescription")}),h===w.id&&j.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[500px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-blue-50 p-3 text-xs font-medium text-blue-700 border-b border-blue-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),j.length," rn bulundu"]})}),j.map(E=>e.jsxs("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>N(w.id,E),className:"w-full p-4 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:E.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[E.sku&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:["SKU: ",E.sku]}),E.category&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:E.category})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm",children:[e.jsx("span",{className:"font-medium text-green-600",children:E.unitPrice?.toLocaleString("tr-TR",{minimumFractionDigits:2})}),e.jsxs("span",{className:"text-gray-500",children:["Stok: ",e.jsx("span",{className:E.stockQuantity>0?"text-green-600 font-medium":"text-red-600 font-medium",children:E.stockQuantity})]})]})]},`${w.id}-${E.id}`))]})]}),w.unit&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Birim: ",w.unit]})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",value:w.quantity,onChange:E=>O(w.id,"quantity",parseInt(E.target.value,10)||1),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",step:"1"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",value:w.unitPrice,onChange:E=>O(w.id,"unitPrice",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"font-medium text-gray-900",children:w.total.toLocaleString("tr-TR",{minimumFractionDigits:2})})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>H(w.id),disabled:b.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ts,{className:"w-4 h-4"})})})]},w.id)})})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[s("invoices.subtotalExclVAT"),":"]}),e.jsx("span",{className:"font-medium",children:$.toLocaleString("tr-TR",{minimumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[s("invoices.vat"),":"]}),e.jsx("span",{className:"font-medium",children:B.toLocaleString("tr-TR",{minimumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-300 pt-2",children:[e.jsxs("span",{children:[s("invoices.grandTotalInclVAT"),":"]}),e.jsx("span",{children:K.toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]})})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("invoices.notes")}),e.jsx("textarea",{value:i.notes,onChange:w=>r({...i,notes:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:s("invoices.notesPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s("common.cancel")||"Iptal"}),e.jsx("button",{onClick:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t?s("common.update")||"Guncelle":s("invoices.createInvoice")||"Fatura Olustur"})]})]}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[70]",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s("common.warning")}),e.jsx("p",{className:"text-gray-600",children:T})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:s("common.ok")})})]})})]})}const AS=[{label:"Dier",value:"other"},{label:"Ekipman",value:"equipment"},{label:"Faturalar",value:"utilities"},{label:"Kira",value:"rent"},{label:"Maalar",value:"salaries"},{label:"Malzemeler",value:"supplies"},{label:"Pazarlama",value:"marketing"},{label:"Seyahat",value:"travel"},{label:"Sigorta",value:"insurance"},{label:"Vergiler",value:"taxes"}];function _S({isOpen:k,onClose:x,onSave:t,expense:f,suppliers:m=[],supplierInfo:d}){const{formatCurrency:s}=$r(),{t:a,i18n:i}=Vt(),r=y=>a(`expenseCategories.${y}`)||y,[n,l]=Z.useState({expenseNumber:f?.expenseNumber||`EXP-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,description:f?.description||"",supplier:f?.supplier?.name||f?.supplierId||d?.name||"",supplierId:f?.supplierId||"",amount:String(f?.amount||0),category:f?.category||d?.category||"other",status:f?.status||"pending",expenseDate:f?.expenseDate||new Date().toISOString().split("T")[0],dueDate:f?.dueDate||"",receiptUrl:f?.receiptUrl||"",notes:f?.notes||""}),[o,c]=Z.useState(!1),[p,g]=Z.useState(m);sr.useEffect(()=>{k&&!f?l({expenseNumber:`EXP-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,description:"",supplier:d?.name||"",supplierId:"",amount:"0",category:d?.category||"other",status:"pending",expenseDate:new Date().toISOString().split("T")[0],dueDate:"",receiptUrl:"",notes:""}):k&&f&&l({expenseNumber:f.expenseNumber,description:f.description,supplier:f.supplier?.name||"",supplierId:f.supplier?.id||"",amount:String(f.amount),category:f.category,status:f.status,expenseDate:f.expenseDate,dueDate:f.dueDate||"",receiptUrl:f.receiptUrl||"",notes:f.notes||""})},[k,f,d]);const h=()=>{if(!n.description?.trim()){alert(a("validation.descriptionRequired")||"Ltfen aklama girin");return}if(!n.amount||Number(n.amount)<=0){alert(a("validation.amountRequired")||"Ltfen geerli bir tutar girin");return}if(!n.category){alert(a("validation.categoryRequired")||"Ltfen kategori sein");return}const y={description:n.description.trim(),amount:Number(n.amount),category:n.category,expenseDate:n.expenseDate||new Date().toISOString().split("T")[0],supplierId:n.supplierId&&n.supplierId.trim()?n.supplierId:null,status:n.status||"pending",notes:n.notes?.trim()||""};f?.id&&(y.id=f.id),t(y),x()};return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(bn,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:f?a("expenses.editExpense")||"Gideri Dzenle":a("expenses.newExpense")||"Yeni Gider Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:a("expenses.enterExpenseInfo")||"Gider bilgilerini girin"})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("expenses.expenseNumber")||"Gider Numaras"}),e.jsx("input",{type:"text",value:n.expenseNumber,onChange:y=>l({...n,expenseNumber:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ai,{className:"w-4 h-4 inline mr-2"}),a("expenses.category")||"Kategori"," *"]}),e.jsx("select",{value:n.category,onChange:y=>l({...n,category:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:AS.map(y=>e.jsx("option",{value:y.value,children:r(y.value)},y.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("common.description")||"Aklama"," *"]}),e.jsx("input",{type:"text",value:n.description,onChange:y=>l({...n,description:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:a("expenses.descriptionPlaceholder")||"Gider aklamas...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),a("expenses.supplier")||"Tedariki/Firma"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.supplier,onChange:y=>{const b=y.target.value;if(l({...n,supplier:b,supplierId:""}),b.length>=2){const C=m?.filter(T=>T.name.toLowerCase().includes(b.toLowerCase())||T.email?.toLowerCase().includes(b.toLowerCase()));g(C||[]),c(!0)}else c(!1)},onFocus:()=>{n.supplier.length>=2&&c(!0)},onBlur:()=>{setTimeout(()=>c(!1),200)},className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:a("expenses.supplierPlaceholder")||"Tedariki ad yazn..."}),n.supplier&&e.jsx("button",{type:"button",onClick:()=>{l({...n,supplier:"",supplierId:""}),c(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(fr,{className:"w-4 h-4"})})]}),o&&p.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map(y=>e.jsxs("div",{onClick:()=>{l({...n,supplier:y.name,supplierId:y.id}),c(!1)},className:"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:y.name}),y.email&&e.jsx("div",{className:"text-sm text-gray-500",children:y.email}),y.phone&&e.jsx("div",{className:"text-sm text-gray-500",children:y.phone})]},y.id))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a("expenses.amount")||"Tutar"," *"]}),e.jsx("input",{type:"number",value:n.amount,onChange:y=>l({...n,amount:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Dr,{className:"w-4 h-4 inline mr-2"}),a("expenses.expenseDate")||"Gider Tarihi"," *"]}),e.jsx("input",{type:"date",value:n.expenseDate,onChange:y=>l({...n,expenseDate:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",lang:i.language,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("expenses.paymentDate")||"deme Tarihi"}),e.jsx("input",{type:"date",value:n.dueDate,onChange:y=>l({...n,dueDate:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",lang:i.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("common.status")||"Durum"}),e.jsxs("select",{value:n.status,onChange:y=>l({...n,status:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"pending",children:a("status.pending")||"Beklemede"}),e.jsx("option",{value:"approved",children:a("status.approved")||"Onayland"}),e.jsx("option",{value:"paid",children:a("status.paid")||"dendi"}),e.jsx("option",{value:"rejected",children:a("status.rejected")||"Reddedildi"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a("expenses.receiptUrl")}),e.jsx("input",{type:"url",value:n.receiptUrl,onChange:y=>l({...n,receiptUrl:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://example.com/receipt.pdf"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a("expenses.receiptUrlHelper")})]}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-red-800 font-medium",children:[a("expenses.totalExpense")||"Toplam Gider",":"]}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:s(Number(n.amount)||0)})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:a("common.cancel")||"ptal"}),e.jsx("button",{onClick:h,disabled:!n.description||!n.amount,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?a("common.update")||"Gncelle":a("expenses.addExpense")||"Gider Ekle"})]})]})}):null}function v0({isOpen:k,onClose:x,onSave:t,sale:f,customers:m=[],products:d=[]}){const{t:s,i18n:a}=Vt(),[i,r]=Z.useState({saleNumber:f?.saleNumber||"",customerName:f?.customerName||"",customerEmail:f?.customerEmail||"",productId:f?.productId||"",productName:f?.productName||"",productUnit:f?.productUnit||"",quantity:f?.quantity||1,unitPrice:f?.unitPrice||0,status:f?.status||"completed",date:f?.date||new Date().toISOString().split("T")[0],paymentMethod:f?.paymentMethod||"cash",notes:f?.notes||""}),[n,l]=Z.useState(f?.customerName||""),[o,c]=Z.useState(!1),[p,g]=Z.useState(null),[h,y]=Z.useState(f?.productName||""),[b,C]=Z.useState(!1),[T,D]=Z.useState(null),[F,H]=Z.useState({}),[O,$]=Z.useState(!1);sr.useEffect(()=>{if(console.log(" SaleModal useEffect alt:",{isOpen:k,hasSale:!!f,saleId:f?.id,saleName:f?.customerName}),!k)return;if(!f){console.log(" Yeni sat formu hazrlanyor"),r({saleNumber:"",customerName:"",customerEmail:"",productId:"",productName:"",productUnit:"",quantity:1,unitPrice:0,status:"completed",date:new Date().toISOString().split("T")[0],paymentMethod:"cash",notes:""}),l(""),y(""),g(null),D(null),c(!1),C(!1),H({}),$(!1);return}console.log(" Mevcut sat formu ykleniyor:",f.saleNumber),r({saleNumber:f.saleNumber||"",customerName:f.customerName||"",customerEmail:f.customerEmail||"",productId:f.productId||"",productName:f.productName||"",productUnit:f.productUnit||"",quantity:f.quantity||1,unitPrice:f.unitPrice||0,status:f.status,date:f.date||new Date().toISOString().split("T")[0],paymentMethod:f.paymentMethod||"cash",notes:f.notes||""}),l(f.customerName||""),y(f.productName||""),g(null);const E=d.find(I=>I.id===f.productId||(I.name?I.name.toLowerCase():"")===(f.productName||"").toLowerCase());D(E||null),c(!1),C(!1),H({}),$(!1)},[k,f,d]);const B=i.quantity*i.unitPrice,K=Number.isFinite(B)?B:0,U=m.filter(E=>{const I=n.trim().toLowerCase();if(!I)return!0;const L=E.name?E.name.toLowerCase():"",G=E.company?E.company.toLowerCase():"",X=E.email?E.email.toLowerCase():"";return L.includes(I)||G.includes(I)||X.includes(I)}),_=d.filter(E=>{const I=h.trim().toLowerCase();if(!I)return!0;const L=E.name?E.name.toLowerCase():"",G=E.sku?E.sku.toLowerCase():"",X=E.category?E.category.toLowerCase():"";return L.includes(I)||G.includes(I)||X.includes(I)}).slice(0,12),M=E=>{g(E),r(I=>({...I,customerName:E.name,customerEmail:E.email})),l(E.name),c(!1),F.customerName&&H(I=>({...I,customerName:""}))},A=E=>{l(E),r(I=>({...I,customerName:E})),c(E.length>0),g(null),F.customerName&&H(I=>({...I,customerName:""}))},N=E=>{y(E),r(I=>({...I,productName:E,productId:"",productUnit:I.productUnit})),C(!0),D(null),F.productName&&H(I=>({...I,productName:""}))},S=E=>{const I=i.quantity>0?i.quantity:1,L=Number(E.unitPrice??i.unitPrice??0);D(E),y(E.name),r(G=>({...G,productId:E.id,productName:E.name,productUnit:E.unit||G.productUnit,unitPrice:L,quantity:I})),C(!1),F.productName&&H(G=>({...G,productName:""}))},w=()=>{const E={};return i.customerName.trim()?m.some(L=>L.name?L.name.toLowerCase()===i.customerName.trim().toLowerCase():!1)||(E.customerName=s("validation.customerNotFound")):E.customerName=s("validation.customerNameRequired"),i.productName.trim()?d.some(L=>L.name?L.name.toLowerCase()===i.productName.trim().toLowerCase():!1)||(E.productName=s("validation.productNotFound")):E.productName=s("validation.productNameRequired"),i.date||(E.date=s("validation.saleDateRequired")),i.unitPrice<=0&&(E.unitPrice=s("validation.unitPriceRequired")),i.quantity<=0&&(E.quantity=s("validation.quantityRequired")),H(E),Object.keys(E).length===0},j=()=>{if(!w())return;const E=K,I={...i,amount:E,total:E,createInvoice:O};f?.id&&(I.id=f.id),(!I.saleNumber||I.saleNumber==="")&&delete I.saleNumber,console.log(" SaleModal kayt gnderiyor:",I),t(I),setTimeout(()=>{console.log(" SaleModal kapanyor"),x()},10)};return k?(console.log(" SaleModal render ediliyor:",{saleNumber:i.saleNumber||"YEN",customerName:i.customerName||"BO"}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(vs,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s(f?"sales.editSale":"sales.newSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("sales.enterSaleInfo")})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":s("common.close"),children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("sales.saleNumber")}),e.jsx("input",{type:"text",value:i.saleNumber||s("sales.autoGenerated"),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed"}),!i.saleNumber&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("sales.autoNumberNote")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Dr,{className:"w-4 h-4 inline mr-2"}),s("sales.saleDate")," *"]}),e.jsx("input",{type:"date",value:i.date,onChange:E=>r({...i,date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",lang:a.language}),F.date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Wr,{className:"w-4 h-4 inline mr-2"}),s("customers.name")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:n,onChange:E=>A(E.target.value),onFocus:()=>c(!0),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${F.customerName?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-green-500"}`,placeholder:s("customers.selectFromList")}),p&&e.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500 w-4 h-4"})]}),F.customerName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.customerName}),o&&U.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[U.length," ",s("customers.customersFound")]}),U.map(E=>e.jsxs("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>M(E),className:"w-full p-3 text-left hover:bg-green-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:E.name}),e.jsx("div",{className:"text-sm text-gray-600",children:E.company}),e.jsx("div",{className:"text-xs text-gray-500",children:E.email})]},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("common.email")}),e.jsx("input",{type:"email",value:i.customerEmail,onChange:E=>r({...i,customerEmail:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:s("customers.emailPlaceholder")}),F.customerEmail&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.customerEmail})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ys,{className:"w-4 h-4 inline mr-2"}),s("products.productServiceName")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:h,onChange:E=>N(E.target.value),onFocus:()=>C(!0),onBlur:()=>setTimeout(()=>C(!1),120),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${F.productName?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-green-500"}`,placeholder:s("products.selectFromList")}),T&&e.jsx(Ur,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500 w-4 h-4"})]}),T&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[s("products.stock"),": ",T.stockQuantity," ",T.unit||""," | ",s("products.price"),": ",T.unitPrice?.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),F.productName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.productName}),b&&_.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[_.length," ",s("products.productsFound")]}),_.map(E=>e.jsxs("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>S(E),className:"w-full p-3 text-left hover:bg-green-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:E.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[E.sku?`SKU: ${E.sku}`:"",E.sku&&E.category?"  ":"",E.category||""]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s("products.price"),": ",E.unitPrice?.toLocaleString("tr-TR",{minimumFractionDigits:2})," | ",s("products.stock"),": ",E.stockQuantity]})]},E.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("common.quantity")," *"]}),e.jsx("input",{type:"number",value:i.quantity,onChange:E=>r({...i,quantity:parseInt(E.target.value,10)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",min:"1",step:"1"}),F.quantity&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.quantity})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ln,{className:"w-4 h-4 inline mr-2"}),s("sales.unitPriceExclVAT")," *"]}),e.jsx("input",{type:"number",value:i.unitPrice,onChange:E=>r({...i,unitPrice:parseFloat(E.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00",min:"0",step:"0.01"}),F.unitPrice&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:F.unitPrice})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("sales.totalExclVAT")}),e.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700 font-medium",children:K.toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("common.status")}),e.jsxs("select",{value:i.status,onChange:E=>r({...i,status:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"completed",children:s("sales.statusCompleted")}),e.jsx("option",{value:"pending",children:s("sales.statusPending")}),e.jsx("option",{value:"cancelled",children:s("sales.statusCancelled")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Kn,{className:"w-4 h-4 inline mr-2"}),s("payment.method")]}),e.jsxs("select",{value:i.paymentMethod||"cash",onChange:E=>r({...i,paymentMethod:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"cash",children:s("payment.cash")}),e.jsx("option",{value:"card",children:s("payment.card")}),e.jsx("option",{value:"transfer",children:s("payment.transfer")}),e.jsx("option",{value:"check",children:s("payment.check")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("common.notes")}),e.jsx("textarea",{value:i.notes,onChange:E=>r({...i,notes:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:s("sales.notesPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s("common.cancel")}),e.jsx("button",{onClick:j,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:s(f?"common.update":"sales.addSale")})]})]})})):(console.log(" SaleModal render edilmiyor (isOpen=false)"),null)}const Vp={TR:["Trkiye  Bankas","Garanti BBVA","Yap Kredi Bankas","Akbank","Ziraat Bankas","Halkbank","VakfBank","QNB Finansbank","DenizBank","NG Bank","HSBC","ekerbank","TEB","Odeabank","Dier"],DE:["Deutsche Bank","Commerzbank","Sparkasse","Volksbank","N26","DKB","ING-DiBa","Postbank","HypoVereinsbank","Targobank","Consorsbank","Andere"],FR:["BNP Paribas","Socit Gnrale","Crdit Agricole","Crdit Mutuel","Banque Populaire","La Banque Postale","Crdit du Nord","HSBC France","LCL","Boursorama","Hello bank!","Autre"],US:["Bank of America","Chase","Wells Fargo","Citi","US Bank","Capital One","PNC","TD Bank","Truist","Other"],OTHER:["Other"]};function ES({isOpen:k,onClose:x,onSave:t,bank:f,bankAccount:m,country:d}){const{t:s}=Vt(),{currency:a}=$r(),i=(d||"TR").toUpperCase(),r=Vp[i]||Vp.OTHER,n=i!=="US",l=i==="US",o=i==="DE"||i==="FR",c=i==="TR",p=[{code:"TRY",name:s("currencies.TRY"),symbol:""},{code:"USD",name:s("currencies.USD"),symbol:"$"},{code:"EUR",name:s("currencies.EUR"),symbol:""},{code:"GBP",name:s("currencies.GBP"),symbol:""}],g=m||f,[h,y]=Z.useState({bankName:g?.bankName||"",accountName:g?.accountName||"",accountNumber:g?.accountNumber||"",iban:g?.iban||"",branchCode:g?.branchCode||"",routingNumber:g?.routingNumber||"",swiftBic:g?.swiftBic||"",balance:g?.balance||0,currency:g?.currency||a,accountType:g?.accountType||"checking",isActive:g?.isActive!==void 0?g.isActive:!0});sr.useEffect(()=>{k&&g?y({bankName:g.bankName,accountName:g.accountName,accountNumber:g.accountNumber,iban:g.iban,branchCode:g.branchCode||"",routingNumber:g.routingNumber||"",swiftBic:g.swiftBic||"",balance:g.balance||0,currency:g.currency,accountType:g.accountType,isActive:g.isActive}):k&&!g&&y({bankName:"",accountName:"",accountNumber:"",iban:"",branchCode:"",routingNumber:"",swiftBic:"",balance:0,currency:a,accountType:"checking",isActive:!0})},[k,g,a]);const b=()=>{const D={...h};g?.id&&(D.id=g.id,D.createdAt=g.createdAt),t(D),x()},C=D=>D.replace(/\s/g,"").toUpperCase().replace(/(.{4})/g,"$1 ").trim(),T=D=>{const F=C(D);y({...h,iban:F})};return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Kn,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s(g?"banks.editAccount":"banks.newAccount")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("banks.enterAccountInfo")})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fr,{className:"w-4 h-4 inline mr-2"}),s("banks.bankName")," *"]}),e.jsxs("select",{value:h.bankName,onChange:D=>y({...h,bankName:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[e.jsx("option",{value:"",children:s("banks.selectBank")}),r.map(D=>e.jsx("option",{value:D,children:D},D))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Wr,{className:"w-4 h-4 inline mr-2"}),s("banks.accountName")," *"]}),e.jsx("input",{type:"text",value:h.accountName,onChange:D=>y({...h,accountName:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:s("banks.accountNamePlaceholder"),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Lc,{className:"w-4 h-4 inline mr-2"}),s("banks.accountNumber")," *"]}),e.jsx("input",{type:"text",value:h.accountNumber,onChange:D=>y({...h,accountNumber:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1234567890",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("banks.accountType")}),e.jsxs("select",{value:h.accountType,onChange:D=>y({...h,accountType:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"checking",children:s("banks.accountTypes.checking")}),e.jsx("option",{value:"savings",children:s("banks.accountTypes.savings")}),e.jsx("option",{value:"business",children:s("banks.accountTypes.business")})]})]})]}),n&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pn,{className:"w-4 h-4 inline mr-2"}),"IBAN *"]}),e.jsx("input",{type:"text",value:h.iban,onChange:D=>T(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:i==="DE"?"DE00 0000 0000 0000 0000 00":i==="FR"?"FR00 0000 0000 0000 0000 0000 000":"TR00 0000 0000 0000 0000 0000 00",maxLength:34,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("banks.ibanAutoFormat")})]}),l&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("banks.routingNumber")," *"]}),e.jsx("input",{type:"text",value:h.routingNumber,onChange:D=>y({...h,routingNumber:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"123456789",required:!0})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("banks.swiftBic")}),e.jsx("input",{type:"text",value:h.swiftBic,onChange:D=>y({...h,swiftBic:D.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"ABCDEF12XXX",maxLength:11})]}),c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("banks.branchCode")}),e.jsx("input",{type:"text",value:h.branchCode,onChange:D=>y({...h,branchCode:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1234",maxLength:8})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ln,{className:"w-4 h-4 inline mr-2"}),s("banks.currentBalance")]}),e.jsx("input",{type:"number",value:h.balance,onChange:D=>y({...h,balance:parseFloat(D.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("banks.currency")}),e.jsx("select",{value:h.currency,onChange:D=>y({...h,currency:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:p.map(D=>e.jsxs("option",{value:D.code,children:[D.symbol," ",D.name]},D.code))})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:h.isActive,onChange:D=>y({...h,isActive:D.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:s("banks.accountActive")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s("common.cancel")}),e.jsx("button",{onClick:b,disabled:!h.bankName||!h.accountName||!h.accountNumber||(n?!h.iban:!h.routingNumber),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s(g?"common.update":"banks.addAccount")})]})]})}):null}const rl={getMyTenant:async()=>(await it.get("/tenants/my-tenant")).data,updateMyTenant:async k=>(await it.patch("/tenants/my-tenant",k)).data,updateMySubscription:async k=>(await it.patch("/tenants/my-tenant/subscription",k)).data,async getMySubscriptionHistory(){return(await it.get("/tenants/my-tenant/subscription/history")).data}},TS=Object.freeze(Object.defineProperty({__proto__:null,tenantsApi:rl},Symbol.toStringTag,{value:"Module"}));async function w0(k,x){return(await it.post(`/billing/${k}/plan-update`,x)).data}async function Fm(k){return(await it.post("/billing/checkout",k)).data}async function k0(k,x){try{return(await it.get(`/billing/${k}/portal`,{params:{returnUrl:x}})).data}catch(t){const f=t?.response?.data?.message||t?.message||"Portal hatas";throw String(f).includes("test mode default configuration has not been created")?new Error("Portal oturumu oluturulamad: No configuration provided and your test mode default configuration has not been created. Stripe Dashboard > Billing > Portal > Settings sayfasndan test mode iin varsaylan yaplandrmay kaydetmeniz gerekir."):t}}async function N0(k,x){return(await it.post(`/billing/${k}/seats`,{seats:x})).data}async function j0(k,x,t,f){return(await it.post(`/billing/${k}/addon/checkout`,{additional:x})).data}async function PS(k,x){try{return(await it.post(`/billing/${k}/addon/charge`,{additional:x})).data}catch(t){if(t?.response?.status===404)return(await it.post("/billing/addon/charge",{tenantId:k,additional:x})).data;throw t}}async function Cm(k){return(await it.post(`/billing/${k}/cancel`)).data}async function DS(k){return(await it.post(`/billing/${k}/resume`)).data}async function Xc(k){return(await it.get(`/billing/${k}/invoices`)).data}async function IS(k){return(await it.get(`/billing/${k}/history`)).data}async function MS(k){return(await it.post(`/billing/${k}/sync`)).data}function RS(k){if(!k)return"Free";const x=k.toLowerCase();return x.includes("enterprise")||x.includes("business")?"Enterprise":x.includes("professional")||x==="pro"?"Pro":x.includes("basic")||x.includes("starter")?"Basic":"Free"}function zS(k){return k?k==="month"?"Aylk":k==="year"?"Yllk":k:""}async function OS(k){try{const x=await Fm({tenantId:k,plan:"professional",interval:"month",seats:2,successUrl:window.location.origin+"/settings?upgrade=success",cancelUrl:window.location.origin+"/settings?upgrade=cancel"});wr.info("Checkout session oluturuldu:",x.id),window.location.href=x.url}catch(x){wr.error("Upgrade hata:",x?.message||x),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Upgrade baarsz: "+(x?.message||"Bilinmeyen hata"),tone:"error"}}))}}const yn=Object.freeze(Object.defineProperty({__proto__:null,cancelSubscriptionAtPeriodEnd:Cm,chargeAddonNow:PS,createAddonCheckout:j0,createCheckoutSession:Fm,createPortalSession:k0,debugUpgrade:OS,humanizeInterval:zS,humanizePlan:RS,listHistory:IS,listInvoices:Xc,resumeSubscription:DS,syncSubscription:MS,updatePlan:w0,updateSeats:N0},Symbol.toStringTag,{value:"Module"})),LS=()=>{const[k,x]=Z.useState([]),[t,f]=Z.useState(!0),[m,d]=Z.useState(null),[s,a]=Z.useState(0),[i,r]=Z.useState(0),[n,l]=Z.useState(1),[o,c]=Z.useState([]),[p,g]=Z.useState({page:1,limit:20}),[h,y]=Z.useState(!1);Z.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("auth_token"),B=await fetch("/api/audit/entities",{headers:{Authorization:`Bearer ${$}`}});if(B.ok){const K=await B.json();c(K.entities||[])}}catch($){console.error("Failed to load entities:",$)}})()},[]),Z.useEffect(()=>{b()},[p]);const b=async()=>{try{f(!0),d(null);const O=localStorage.getItem("auth_token");if(!O){d("Authentication required");return}const $=new URLSearchParams;$.append("page",p.page.toString()),$.append("limit",p.limit.toString()),p.entity&&$.append("entity",p.entity),p.action&&$.append("action",p.action),p.userId&&$.append("userId",p.userId),p.startDate&&$.append("startDate",p.startDate),p.endDate&&$.append("endDate",p.endDate),console.log("Making request to:",`/api/audit/logs?${$.toString()}`),console.log("With token:",O?"present":"missing");const B=await fetch(`/api/audit/logs?${$.toString()}`,{headers:{Authorization:`Bearer ${O}`}});if(console.log("Response status:",B.status),!B.ok){const U=await B.text();throw console.error("Error response:",U),new Error(`Failed to load audit logs: ${B.status} - ${U}`)}const K=await B.json();x(K.data),a(K.total),r(K.totalPages),l(K.page)}catch(O){d(O instanceof Error?O.message:"Failed to load audit logs")}finally{f(!1)}},C=(O,$)=>{g(B=>({...B,[O]:$,page:O!=="page"?1:typeof $=="number"?$:parseInt($.toString())}))},T=()=>{g({page:1,limit:20})},D=O=>new Date(O).toLocaleString(),F=O=>{switch(O){case"CREATE":return"text-green-600 bg-green-50";case"UPDATE":return"text-blue-600 bg-blue-50";case"DELETE":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},H=O=>!O||Object.keys(O).length===0?null:e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:e.jsxs("details",{className:"cursor-pointer",children:[e.jsxs("summary",{className:"hover:text-gray-800",children:["View Changes (",Object.keys(O).length," fields)"]}),e.jsx("pre",{className:"mt-1 p-2 bg-gray-50 rounded text-xs overflow-x-auto",children:JSON.stringify(O,null,2)})]})});return t?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading audit logs..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($c,{className:"h-6 w-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Audit Logs"})]}),e.jsxs("button",{onClick:()=>y(!h),className:"flex items-center space-x-2 px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[e.jsx(Zg,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})]}),h&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entity"}),e.jsxs("select",{value:p.entity||"",onChange:O=>C("entity",O.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Entities"}),o.map(O=>e.jsx("option",{value:O,children:O},O))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),e.jsxs("select",{value:p.action||"",onChange:O=>C("action",O.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"CREATE",children:"Create"}),e.jsx("option",{value:"UPDATE",children:"Update"}),e.jsx("option",{value:"DELETE",children:"Delete"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:p.startDate||"",onChange:O=>C("startDate",O.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:p.endDate||"",onChange:O=>C("endDate",O.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:T,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 underline",children:"Clear Filters"})})]})}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:m})}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",k.length," of ",s," audit log entries"]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ea,{className:"h-4 w-4 text-gray-400 mr-2"}),D(O.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wr,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("div",{children:O.user?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"font-medium",children:[O.user.firstName," ",O.user.lastName]}),e.jsx("div",{className:"text-gray-500 text-xs",children:O.user.email})]}):e.jsx("span",{className:"text-gray-500",children:"System"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(O.action)}`,children:O.action})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:O.entity}),O.entityId&&e.jsxs("div",{className:"text-gray-500 text-xs font-mono",children:[O.entityId.substring(0,8),"..."]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:H(O.diff)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:O.ip||"N/A"})]},O.id))})]})}),k.length===0&&!t&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($c,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),i>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",n," of ",i]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>C("page",Math.max(1,n-1)),disabled:n<=1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Tb,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("button",{onClick:()=>C("page",Math.min(i,n+1)),disabled:n>=i,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(Xg,{className:"h-4 w-4 ml-1"})]})]})]})]})},Rs={async create(k){return(await it.post("/organizations",k)).data},async getAll(){const k=await it.get("/organizations");return console.log(" Organizations API response:",k.data),Array.isArray(k.data)&&k.data.length>0&&k.data[0].organization?(console.log(" Converting backend format to frontend format"),k.data.map(x=>x.organization)):k.data},async getById(k){return(await it.get(`/organizations/${k}`)).data},async update(k,x){return(await it.patch(`/organizations/${k}`,x)).data},async delete(k){await it.delete(`/organizations/${k}`)},async getMembers(k){return(await it.get(`/organizations/${k}/members`)).data},async updateMemberRole(k,x,t){return(await it.patch(`/organizations/${k}/members/${x}`,t)).data},async removeMember(k,x){await it.delete(`/organizations/${k}/members/${x}`)},async inviteMember(k,x){return(await it.post(`/organizations/${k}/invite`,x)).data},async getPendingInvites(k){return(await it.get(`/organizations/${k}/invites`)).data},async acceptInvite(k){return(await it.post("/organizations/accept-invite",k)).data},async cancelInvite(k,x){await it.delete(`/organizations/${k}/invites/${x}`)},async resendInvite(k,x){return(await it.post(`/organizations/${k}/invites/${x}/resend`)).data},async getMembershipStats(k){return(await it.get(`/organizations/${k}/membership-stats`)).data},async validateInviteToken(k){try{const x=await it.get(`/public/invites/${k}`);return x.data?.status&&x.data.status!=="valid"&&x.data.status!=="accepted"?{valid:!1,error:"Invalid or expired invite token"}:{valid:!0,invite:x.data}}catch(x){return{valid:!1,error:x.response?.data?.message||"Invalid or expired invite token"}}},async completeInviteWithPassword(k,x){return(await it.post(`/public/invites/${k}/register`,{password:x})).data}},FS=Object.freeze(Object.defineProperty({__proto__:null,default:Rs,organizationsApi:Rs},Symbol.toStringTag,{value:"Module"})),BS=({members:k,organizationId:x,currentUserRole:t,currentUserId:f,onMemberRemoved:m,onMemberRoleUpdated:d})=>{const{t:s,i18n:a}=Vt(),[i,r]=Z.useState({}),[n,l]=Z.useState({}),o=t==="OWNER"||t==="ADMIN",c=C=>{switch(C){case"OWNER":return e.jsx(Qg,{className:"w-4 h-4 text-yellow-500"});case"ADMIN":return e.jsx(Cs,{className:"w-4 h-4 text-blue-500"});case"MEMBER":return e.jsx(Wr,{className:"w-4 h-4 text-gray-500"})}},p=C=>{switch(C){case"OWNER":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"ADMIN":return"bg-blue-100 text-blue-800 border-blue-200";case"MEMBER":return"bg-gray-100 text-gray-800 border-gray-200"}},g=async C=>{if(C.role==="OWNER"){alert(s("org.members.remove.cannotRemoveOwner"));return}if(window.confirm(s("org.members.remove.message",{name:`${C.user.firstName} ${C.user.lastName}`}))){r(D=>({...D,[C.id]:!0}));try{await Rs.removeMember(x,C.id),m(C.id);const D=new CustomEvent("showToast",{detail:{message:s("org.members.remove.success"),tone:"success"}});window.dispatchEvent(D)}catch(D){console.error("Failed to remove member:",D);const F=new CustomEvent("showToast",{detail:{message:D.response?.data?.message||s("org.members.remove.error"),tone:"error"}});window.dispatchEvent(F)}finally{r(D=>({...D,[C.id]:!1})),l(D=>({...D,[C.id]:!1}))}}},h=async(C,T)=>{if(C.role!==T){r(D=>({...D,[C.id]:!0}));try{await Rs.updateMemberRole(x,C.id,{role:T}),d(C.id,T);const D=new CustomEvent("showToast",{detail:{message:s("org.members.updateRole.success"),tone:"success"}});window.dispatchEvent(D)}catch(D){console.error("Failed to update member role:",D);const F=new CustomEvent("showToast",{detail:{message:D.response?.data?.message||s("org.members.updateRole.error"),tone:"error"}});window.dispatchEvent(F)}finally{r(D=>({...D,[C.id]:!1})),l(D=>({...D,[C.id]:!1}))}}},y=C=>{l(T=>({...T,[C]:!T[C]}))},b=C=>new Date(C).toLocaleDateString(a.language==="tr"?"tr-TR":a.language==="de"?"de-DE":a.language==="fr"?"fr-FR":"en-US",{year:"numeric",month:"short",day:"numeric"});return k.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("org.members.empty.title")}),e.jsx("p",{className:"text-gray-500",children:s("org.members.empty.subtitle")})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("org.members.table.name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("org.members.table.email")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("org.members.table.role")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("org.members.table.joinedAt")}),o&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("org.members.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(C=>{const T=C.user.id===f,D=o&&!T&&C.role!=="OWNER";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:(C.user.firstName?.[0]||"")+(C.user.lastName?.[0]||"")})})}),e.jsx("div",{className:"ml-4",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.user.firstName," ",C.user.lastName,T&&e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",s("org.members.youLabel"),")"]})]})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:C.user.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c(C.role),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${p(C.role)}`,children:s(`org.members.roles.${C.role}`)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(C.createdAt)}),o&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:D?e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>y(C.id),disabled:i[C.id],className:"text-gray-400 hover:text-gray-500 p-1 rounded",children:e.jsx(Qb,{className:"w-4 h-4"})}),n[C.id]&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-10",children:e.jsxs("div",{className:"py-1",children:[C.role!=="ADMIN"&&t==="OWNER"&&e.jsxs("button",{onClick:()=>h(C,"ADMIN"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Cs,{className:"w-4 h-4 mr-2 text-blue-500"}),s("org.members.makeAdmin")]}),C.role!=="MEMBER"&&e.jsxs("button",{onClick:()=>h(C,"MEMBER"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Wr,{className:"w-4 h-4 mr-2 text-gray-500"}),s("org.members.makeMember")]}),e.jsxs("button",{onClick:()=>g(C),className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[e.jsx(dv,{className:"w-4 h-4 mr-2 text-red-500"}),s("org.members.remove")]})]})})]}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},C.id)})})]})})})},US=({organizationId:k,currentUserRole:x,onInviteSent:t,membershipStats:f})=>{const{t:m}=Vt(),{tenant:d,refreshUser:s}=wn(),a=(y,b)=>{const C=m(y);return C&&C!==y?C:b},[i,r]=Z.useState(!1),[n,l]=Z.useState(!1),[o,c]=Z.useState({email:"",role:"MEMBER"}),p=x==="OWNER"||x==="ADMIN",g=async y=>{if(y.preventDefault(),!p)return;if(!f.canAddMore){const C=new CustomEvent("showToast",{detail:{message:m("org.members.invite.limitReached"),tone:"error"}});window.dispatchEvent(C);return}l(!0);const b=async()=>{await Rs.inviteMember(k,o)};try{try{await b()}catch(T){const D=T?.response?.status,F=T?.response?.data?.message||"";if(D===400&&/limit|plan|member|STARTER/i.test(F))try{const O=String(d?.id||localStorage.getItem("tenantId")||"");if(O){const{syncSubscription:$}=await _r(async()=>{const{syncSubscription:B}=await Promise.resolve().then(()=>yn);return{syncSubscription:B}},void 0);await $(O),await s()}await b()}catch{throw T}else throw T}c({email:"",role:"MEMBER"}),r(!1),t();const C=new CustomEvent("showToast",{detail:{message:m("org.members.invite.success"),tone:"success"}});window.dispatchEvent(C)}catch(C){console.error("Failed to send invite:",C);let T=m("org.members.invite.error");C.response?.status===409?T=m("org.members.invite.duplicate"):C.response?.data?.message&&(T=C.response.data.message);const D=new CustomEvent("showToast",{detail:{message:T,tone:"error"}});window.dispatchEvent(D)}finally{l(!1)}},h=x==="OWNER"?["MEMBER","ADMIN"]:["MEMBER"];return p?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m("org.members.invite.title")}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.currentMembers," / ",f.maxMembers===-1?"":f.maxMembers," ",m("org.members.membersLabel"),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:f.plan})]})]}),e.jsxs("button",{onClick:()=>r(!i),disabled:!f.canAddMore,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${f.canAddMore?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:f.canAddMore?"":a("org.members.invite.limitReached","ye limiti dolu"),children:[e.jsx(vm,{className:"w-4 h-4"}),e.jsx("span",{children:f.canAddMore?a("org.members.invite.button","ye Davet Et"):a("org.members.limitFull","ye limiti dolu")})]})]}),i&&e.jsxs("form",{onSubmit:g,className:"space-y-4 border-t border-gray-200 pt-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:a("org.members.invite.form.email","E-posta Adresi")}),e.jsxs("div",{className:"relative",children:[e.jsx(fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",id:"email",required:!0,value:o.email,onChange:y=>c(b=>({...b,email:y.target.value})),placeholder:a("org.members.invite.form.emailPlaceholder","E-posta adresi"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:a("org.members.invite.form.role","Rol")}),e.jsx("select",{id:"role",value:o.role,onChange:y=>c(b=>({...b,role:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:h.map(y=>e.jsx("option",{value:y,children:a(`org.members.roles.${y}`,y==="ADMIN"?"Ynetici":y==="MEMBER"?"ye":y)},y))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:a("org.members.cancel","ptal")}),e.jsxs("button",{type:"submit",disabled:n||!o.email.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(fs,{className:"w-4 h-4"}),e.jsx("span",{children:n?a("org.members.sending","Gnderiliyor"):a("org.members.inviteButton","Davet Gnder")})]})]})]})]}):null},$S=()=>{const{t:k}=Vt(),{user:x,tenant:t}=wn(),[f,m]=Z.useState(!0),[d,s]=Z.useState([]),[a,i]=Z.useState([]),[r,n]=Z.useState(null),[l,o]=Z.useState("MEMBER"),[c,p]=Z.useState(null),[g,h]=Z.useState(null);Z.useEffect(()=>{b()},[t?.subscriptionPlan,t?.maxUsers]),Z.useEffect(()=>{const B=()=>{try{b()}catch{}};return window.addEventListener("billingSuccess",B),()=>{window.removeEventListener("billingSuccess",B)}},[]);const y=B=>{if(!B)return"STARTER";const K=B.toLowerCase();return K.includes("enterprise")||K==="business"?"BUSINESS":K.includes("professional")||K==="pro"?"PRO":"STARTER"},b=async()=>{try{m(!0),h(null),console.log(" Loading organization data...");const B=await Rs.getAll();if(console.log(" Organizations received:",B),!B||B.length===0){console.log(" No organizations found"),h("No organization found");return}let K=B[0];if(console.log(" Selected organization:",K),!K||!K.id){console.error(" Invalid organization object:",K),h("Invalid organization data");return}try{if(K&&t?.subscriptionPlan){const S=y(t.subscriptionPlan);S!==K.plan&&(K={...K,plan:S})}}catch{}n(K),console.log(" Loading members, invites, and stats for org:",K.id);const[U,_,M]=await Promise.all([Rs.getMembers(K.id),Rs.getPendingInvites(K.id),Rs.getMembershipStats(K.id)]);console.log(" Data loaded successfully:",{members:U.length,invites:_.length,stats:M}),s(U),i(_);const A=M?{...M}:null;if(A&&t?.subscriptionPlan){const S=y(t.subscriptionPlan);S!==A.plan&&(A.plan=S),typeof t.maxUsers=="number"&&t.maxUsers>0?A.maxMembers=t.maxUsers:A.maxMembers<=1&&(S==="PRO"&&A.maxMembers<3&&(A.maxMembers=3),S==="BUSINESS"&&A.maxMembers<10&&(A.maxMembers=10)),A.maxMembers!==-1?A.canAddMore=A.currentMembers<A.maxMembers:A.canAddMore=!0}p(A);const N=U.find(S=>S.user.id===x?.id);N&&(o(N.role),console.log(" Current user role:",N.role))}catch(B){console.error(" Failed to load organization data:",B),h(B.response?.data?.message||"Failed to load organization data")}finally{m(!1)}},C=B=>{s(K=>K.filter(U=>U.id!==B))},T=(B,K)=>{s(U=>U.map(_=>_.id===B?{..._,role:K}:_))},D=()=>{r&&Promise.all([Rs.getPendingInvites(r.id),Rs.getMembershipStats(r.id)]).then(([B,K])=>{const U=K?{...K}:null;if(U&&t?.subscriptionPlan){const _=y(t.subscriptionPlan);_!==U.plan&&(U.plan=_),typeof t.maxUsers=="number"&&t.maxUsers>0?U.maxMembers=t.maxUsers:U.maxMembers<=1&&(_==="PRO"&&U.maxMembers<3&&(U.maxMembers=3),_==="BUSINESS"&&U.maxMembers<10&&(U.maxMembers=10)),U.maxMembers!==-1?U.canAddMore=U.currentMembers<U.maxMembers:U.canAddMore=!0}i(B),p(U)}).catch(console.error)},F=async B=>{if(r)try{await Rs.resendInvite(r.id,B.id);const K=new CustomEvent("showToast",{detail:{message:k("org.members.pendingInvites.resendSuccess"),tone:"success"}});window.dispatchEvent(K)}catch(K){console.error("Failed to resend invite:",K);const U=new CustomEvent("showToast",{detail:{message:K.response?.data?.message||"Failed to resend invite",tone:"error"}});window.dispatchEvent(U)}},H=async B=>{if(!(!r||!window.confirm(`${B.email} adresine gnderilen daveti iptal etmek istediinizden emin misiniz?`)))try{await Rs.cancelInvite(r.id,B.id),i(_=>_.filter(M=>M.id!==B.id));const U=new CustomEvent("showToast",{detail:{message:k("org.members.pendingInvites.cancelSuccess"),tone:"success"}});window.dispatchEvent(U)}catch(U){console.error("Failed to cancel invite:",U);const _=new CustomEvent("showToast",{detail:{message:U.response?.data?.message||"Failed to cancel invite",tone:"error"}});window.dispatchEvent(_)}},O=async B=>{const K=`${window.location.origin}/#join?token=${B.token}`;try{await navigator.clipboard.writeText(K);const U=new CustomEvent("showToast",{detail:{message:k("common.copied","Kopyaland"),tone:"success"}});window.dispatchEvent(U)}catch(U){console.error("Failed to copy invite link",U);const _=new CustomEvent("showToast",{detail:{message:k("common.copyFailed","Kopyalama baarsz"),tone:"error"}});window.dispatchEvent(_)}},$=B=>new Date(B).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return f?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})]})})}):g?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Hata"}),e.jsx("p",{className:"text-red-600 mb-4",children:g}),e.jsx("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:k("org.members.tryAgain")})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(hs,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:k("org.members.title")})]}),e.jsx("p",{className:"text-gray-600",children:k("org.members.subtitle")}),r&&c&&e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{children:[k("org.members.organization"),": ",e.jsx("strong",{children:r.name})]}),e.jsxs("span",{children:[k("org.members.membersLabel"),": ",e.jsx("strong",{children:c.currentMembers}),c.maxMembers!==-1&&e.jsxs("span",{children:[" / ",c.maxMembers]})]}),e.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:[c.plan," ",k("org.members.plan")]})]})]}),e.jsxs("div",{className:"space-y-8",children:[r&&c&&e.jsx(US,{organizationId:r.id,currentUserRole:l,onInviteSent:D,membershipStats:c}),a.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ea,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:k("org.members.pendingInvites.title")}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",k("org.members.pendingInvites.count",{count:a.length}),")"]})]}),e.jsx("div",{className:"space-y-3",children:a.map(B=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fs,{className:"w-4 h-4 text-orange-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:B.email}),e.jsxs("div",{className:"text-sm text-gray-500",children:[k(`org.members.roles.${B.role}`),"  ",k("org.members.pendingInvites.expires",{date:$(B.expiresAt)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>O(B),title:"Davet balantsn kopyala",className:"flex items-center space-x-1 px-3 py-1 text-sm text-blue-700 bg-blue-100 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(xm,{className:"w-3 h-3"}),e.jsx("span",{children:"Kopyala"})]}),e.jsxs("button",{onClick:()=>F(B),className:"flex items-center space-x-1 px-3 py-1 text-sm text-orange-700 bg-orange-100 rounded hover:bg-orange-200 transition-colors",children:[e.jsx(nd,{className:"w-3 h-3"}),e.jsx("span",{children:k("org.members.pendingInvites.resend")})]}),e.jsxs("button",{onClick:()=>H(B),className:"flex items-center space-x-1 px-3 py-1 text-sm text-red-700 bg-red-100 rounded hover:bg-red-200 transition-colors",children:[e.jsx(fr,{className:"w-3 h-3"}),e.jsx("span",{children:k("org.members.pendingInvites.cancel")})]})]})]},B.id))})]}),r&&x&&e.jsx(BS,{members:d,organizationId:r.id,currentUserRole:l,currentUserId:x.id,onMemberRemoved:C,onMemberRoleUpdated:T})]})]})})},VS=()=>{const{t:k}=Vt("common"),[x,t]=Z.useState([]),[f,m]=Z.useState(!0),[d,s]=Z.useState(!1),[a,i]=Z.useState(null),[r,n]=Z.useState({name:"",startDate:"",endDate:""}),[l,o]=Z.useState({}),c=async()=>{try{const F=await it.get("/fiscal-periods");t(F.data)}catch(F){console.error("Dnemler yklenemedi:",F)}finally{m(!1)}};Z.useEffect(()=>{c()},[]);const p=()=>{const F={};if(r.name.trim()||(F.name=k("fiscalPeriods.validation.nameRequired")),r.startDate||(F.startDate=k("fiscalPeriods.validation.startDateRequired")),r.endDate||(F.endDate=k("fiscalPeriods.validation.endDateRequired")),r.startDate&&r.endDate){const H=new Date(r.startDate),O=new Date(r.endDate);O<=H&&(F.endDate=k("fiscalPeriods.validation.endDateAfterStart"));const $=Math.abs(O.getTime()-H.getTime());Math.ceil($/(1e3*60*60*24))<1&&(F.endDate=k("fiscalPeriods.validation.minimumDuration")),x.find(U=>{if(a&&U.id===a.id)return!1;const _=new Date(U.periodStart),M=new Date(U.periodEnd);return H<=M&&O>=_})&&(F.startDate=k("fiscalPeriods.validation.periodOverlap"),F.endDate=k("fiscalPeriods.validation.periodOverlap"))}return o(F),Object.keys(F).length===0},g=async F=>{if(F.preventDefault(),!!p())try{await it.post("/fiscal-periods",r),s(!1),n({name:"",startDate:"",endDate:""}),o({}),c()}catch(H){alert(`${k("fiscalPeriods.errors.createFailed")}: ${H.response?.data?.message||H.message}`)}},h=async F=>{if(F.preventDefault(),!!a&&p())try{await it.patch(`/fiscal-periods/${a.id}`,r),i(null),n({name:"",startDate:"",endDate:""}),o({}),c()}catch(H){alert(`${k("fiscalPeriods.errors.updateFailed")}: ${H.response?.data?.message||H.message}`)}},y=async F=>{if(confirm(k("fiscalPeriods.lockConfirm")))try{await it.patch(`/fiscal-periods/${F}/lock`,{lockReason:"Locked by user"}),c()}catch(H){alert(`${k("fiscalPeriods.errors.lockFailed")}: ${H.response?.data?.message||H.message}`)}},b=async F=>{if(confirm(k("fiscalPeriods.unlockConfirm")))try{await it.patch(`/fiscal-periods/${F}/unlock`),c()}catch(H){alert(`${k("fiscalPeriods.errors.unlockFailed")}: ${H.response?.data?.message||H.message}`)}},C=async F=>{if(confirm(k("fiscalPeriods.deleteConfirm")))try{await it.delete(`/fiscal-periods/${F}`),c()}catch(H){alert(`${k("fiscalPeriods.errors.deleteFailed")}: ${H.response?.data?.message||H.message}`)}},T=F=>{i(F),n({name:F.name||"",startDate:F.periodStart||"",endDate:F.periodEnd||""}),o({})},D=F=>new Date(F).toLocaleDateString("tr-TR");return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dr,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:k("fiscalPeriods.title")})]}),e.jsxs("button",{onClick:()=>{n({name:"",startDate:"",endDate:""}),o({}),i(null),s(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(As,{className:"h-4 w-4 mr-2"}),k("fiscalPeriods.newPeriod")]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fiscalPeriods.periodName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fiscalPeriods.startDate")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fiscalPeriods.endDate")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fiscalPeriods.status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:k("fiscalPeriods.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(F=>e.jsxs("tr",{className:F.isLocked?"bg-red-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:D(F.periodStart)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:D(F.periodEnd)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.isLocked?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:F.isLocked?e.jsxs(e.Fragment,{children:[e.jsx(vn,{className:"h-3 w-3 mr-1"}),k("fiscalPeriods.locked")]}):e.jsxs(e.Fragment,{children:[e.jsx(bm,{className:"h-3 w-3 mr-1"}),k("fiscalPeriods.active")]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[!F.isLocked&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(F),className:"text-blue-600 hover:text-blue-900",title:k("fiscalPeriods.edit"),children:e.jsx(Zb,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y(F.id),className:"text-orange-600 hover:text-orange-900",title:k("fiscalPeriods.lock"),children:e.jsx(vn,{className:"h-4 w-4"})})]}),F.isLocked&&e.jsx("button",{onClick:()=>b(F.id),className:"text-green-600 hover:text-green-900",title:k("fiscalPeriods.unlock"),children:e.jsx(bm,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>C(F.id),className:"text-red-600 hover:text-red-900",title:k("fiscalPeriods.delete"),children:e.jsx(ts,{className:"h-4 w-4"})})]})})]},F.id))})]}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:k("fiscalPeriods.noPeriods")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:k("fiscalPeriods.noPeriodsDesc")})]})]}),(d||a)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:k(a?"fiscalPeriods.editPeriod":"fiscalPeriods.addPeriod")}),e.jsxs("form",{onSubmit:a?h:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k("fiscalPeriods.periodName")}),e.jsx("input",{type:"text",value:r.name,onChange:F=>n({...r,name:F.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.name?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0,placeholder:k("fiscalPeriods.periodNamePlaceholder")}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k("fiscalPeriods.startDate")}),e.jsx("input",{type:"date",value:r.startDate,onChange:F=>n({...r,startDate:F.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.startDate?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),l.startDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.startDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:k("fiscalPeriods.endDate")}),e.jsx("input",{type:"date",value:r.endDate,onChange:F=>n({...r,endDate:F.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.endDate?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),l.endDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.endDate})]}),a?.isLocked&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(dn,{className:"h-5 w-5 text-yellow-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:k("fiscalPeriods.errors.periodLocked")})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{s(!1),i(null),n({name:"",startDate:"",endDate:""}),o({}),n({name:"",startDate:"",endDate:""}),o({})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:k("common.cancel")}),e.jsx("button",{type:"submit",disabled:a?.isLocked,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:k(a?"common.update":"common.add")})]})]})]})})]})},qS={success:{iconBg:"bg-green-100",iconColor:"text-green-600",button:"bg-green-600 hover:bg-green-700 text-white"},error:{iconBg:"bg-red-100",iconColor:"text-red-600",button:"bg-red-600 hover:bg-red-700 text-white"},info:{iconBg:"bg-blue-100",iconColor:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 text-white"}};function mo({isOpen:k,onClose:x,title:t,message:f,confirmLabel:m="OK",onConfirm:d,cancelLabel:s,onCancel:a,tone:i="info",autoCloseMs:r}){const n=sr.useId(),l=sr.useId(),o=sr.useRef(null);if(sr.useEffect(()=>{if(!k||!r)return;const p=window.setTimeout(()=>x(),r);return()=>window.clearTimeout(p)},[k,r,x]),sr.useEffect(()=>{k&&o.current?.focus()},[k]),!k)return null;const c=qS[i];return e.jsx("div",{className:"fixed inset-0 z-[90] overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":n,"aria-describedby":l,children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:x}),e.jsxs("div",{ref:o,tabIndex:-1,className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 outline-none",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(fr,{className:"h-5 w-5"})}),e.jsx("div",{className:`flex items-center justify-center w-12 h-12 mx-auto ${c.iconBg} rounded-full mb-4`,children:i==="error"?e.jsx(dn,{className:`h-6 w-6 ${c.iconColor}`}):e.jsx(Yg,{className:`h-6 w-6 ${c.iconColor}`})}),e.jsx("h3",{id:n,className:"text-lg font-semibold text-gray-900 text-center mb-2",children:t}),e.jsx("p",{id:l,className:"text-sm text-gray-600 text-center mb-6",children:f}),e.jsxs("div",{className:"flex gap-3",children:[s?e.jsx("button",{onClick:a||x,className:"w-1/2 px-4 py-2 rounded-lg transition-colors border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",children:s}):null,e.jsx("button",{onClick:()=>{try{d?d():x()}catch{}},className:`${s?"w-1/2":"w-full"} px-4 py-2 rounded-lg transition-colors ${c.button}`,children:m})]})]})]})})}const HS=({tenant:k,currentLanguage:x,text:t})=>{const{refreshUser:f}=wn(),m=String(k?.subscriptionPlan||"").toLowerCase(),d=m==="free",s=ie=>{const ce=String(ie||"").toLowerCase();return ce==="professional"||ce==="pro"?3:ce==="enterprise"||ce==="business"?0:1},i={free:"Starter",basic:"Basic",professional:"Pro",enterprise:"Business"}[m]||(m?m.toUpperCase():""),r={tr:{month:"Aylk",year:"Yllk"},en:{month:"Monthly",year:"Yearly"},fr:{month:"Mensuel",year:"Annuel"},de:{month:"Monatlich",year:"Jhrlich"}},n=k?.billingInterval,o=(()=>{if(n)return n;try{const ie=k?.subscriptionExpiresAt?new Date(k.subscriptionExpiresAt).getTime():0,ce=Date.now();if(ie>ce){const ae=Math.round((ie-ce)/864e5);if(ae>=330)return"year";if(ae>=25)return"month"}}catch{}})(),c=d?"":o?r[x]?.[o]||(o==="year"?"Yearly":"Monthly"):r[x]?.month||"Monthly",p=["free","professional","enterprise"],[g,h]=Z.useState(p.includes(m)?m:"free"),[y,b]=Z.useState("monthly"),C=k?.maxUsers||1,[T,D]=Z.useState(1),[F,H]=Z.useState(!1),[O,$]=Z.useState(""),[B,K]=Z.useState({open:!1,mode:"now",count:1}),[U,_]=Z.useState([]),[M,A]=Z.useState(!1),[N,S]=Z.useState([]),[w,j]=Z.useState(!1),[E,I]=Z.useState("all"),[L,G]=Z.useState(""),[X,re]=Z.useState(""),[q,ee]=Z.useState(""),R=()=>N.filter(ie=>{const ce=String(ie.status||"").toLowerCase();if(E==="paid"&&ce!=="paid"||E==="open"&&!["open","draft"].includes(ce)||E==="unpaid"&&!["unpaid","void","uncollectible"].includes(ce))return!1;if(L){const ae=L.toLowerCase();if(!((ie.number||ie.id||"").toLowerCase()+" "+(ie.currency||"").toLowerCase()).includes(ae))return!1}if(X){const ae=new Date(X+"T00:00:00Z").getTime();if((ie.created?new Date(ie.created).getTime():0)<ae)return!1}if(q){const ae=new Date(q+"T23:59:59Z").getTime();if((ie.created?new Date(ie.created).getTime():0)>ae)return!1}return!0}),[z,W]=Z.useState(!!k?.cancelAtPeriodEnd);Z.useEffect(()=>{h(p.includes(m)?m:"free"),W(!!k?.cancelAtPeriodEnd)},[m,k?.maxUsers,k?.cancelAtPeriodEnd]),Z.useEffect(()=>{f().catch(()=>{})},[]),Z.useEffect(()=>{(async()=>{try{if(!["professional","enterprise"].includes(m))return;const ie=s(m),ce=k?.maxUsers||0;if(ce>0&&ce<ie){const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const{syncSubscription:ge}=await _r(async()=>{const{syncSubscription:pe}=await Promise.resolve().then(()=>yn);return{syncSubscription:pe}},void 0);await ge(ae),await f()}}catch{}})()},[m,k?.maxUsers]),Z.useEffect(()=>{const ie=new URL(window.location.href);(ie.searchParams.get("plan")==="success"||ie.searchParams.get("upgrade")==="success")&&(async()=>{try{const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const{syncSubscription:ge}=await _r(async()=>{const{syncSubscription:pe}=await Promise.resolve().then(()=>yn);return{syncSubscription:pe}},void 0);await ge(ae),await f(),$(x==="tr"?"Abonelik gncellendi.":"Subscription updated."),ie.searchParams.delete("plan"),ie.searchParams.delete("upgrade"),window.history.replaceState({},document.title,ie.pathname+ie.search)}catch{}})()},[]),Z.useEffect(()=>{const ie=new URL(window.location.href);ie.searchParams.get("addon")==="success"&&(async()=>{try{const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const ge=localStorage.getItem("pending_addon_new_total");if(ge){const pe=parseInt(ge,10);!isNaN(pe)&&pe>=0&&await N0(ae,pe)}else{const{syncSubscription:pe}=await _r(async()=>{const{syncSubscription:Ae}=await Promise.resolve().then(()=>yn);return{syncSubscription:Ae}},void 0);await pe(ae)}await f(),$(x==="tr"?"lave kullanclar eklendi.":"Additional users added.")}catch{}finally{localStorage.removeItem("pending_addon_new_total"),ie.searchParams.delete("addon"),window.history.replaceState({},document.title,ie.pathname+ie.search)}})()},[]),Z.useEffect(()=>{const ie=new URL(window.location.href);ie.searchParams.get("portal")==="return"&&(async()=>{try{const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const{syncSubscription:ge}=await _r(async()=>{const{syncSubscription:Ae}=await Promise.resolve().then(()=>yn);return{syncSubscription:Ae}},void 0),pe=await ge(ae);if(await f(),typeof pe?.cancelAtPeriodEnd=="boolean"){const Ae=(()=>{const fe=pe?.subscriptionExpiresAt;if(fe)try{return new Date(fe).toLocaleDateString()}catch{return Se}return Se})();if(pe.cancelAtPeriodEnd){const fe=x==="tr"?`Abonelik dnem sonunda iptal edilecek. ptal tarihi: ${Ae}`:x==="fr"?`Labonnement sera annul  la fin de la priode. Date: ${Ae}`:x==="de"?`Abo endet am Periodenende. Datum: ${Ae}`:`Subscription will be cancelled at period end. Date: ${Ae}`;$(fe)}else $(x==="tr"?"Abonelik aktif. Portal deiiklikleri uyguland.":x==="fr"?"Abonnement actif. Modifications du portail appliques.":x==="de"?"Abo aktiv. Portalnderungen angewendet.":"Subscription active. Portal changes applied.")}else $(x==="tr"?"Portal deiiklikleri senkronize edildi.":"Portal changes synchronized.")}catch{}finally{localStorage.removeItem("pending_portal_sync"),ie.searchParams.delete("portal"),window.history.replaceState({},document.title,ie.pathname+ie.search)}})()},[]),Z.useEffect(()=>{const ie=async()=>{try{if(!localStorage.getItem("pending_portal_sync"))return;const ge=String(k?.id||localStorage.getItem("tenantId")||"");if(!ge)return;const{syncSubscription:pe}=await _r(async()=>{const{syncSubscription:Ae}=await Promise.resolve().then(()=>yn);return{syncSubscription:Ae}},void 0);await pe(ge),await f(),localStorage.removeItem("pending_portal_sync")}catch{}};ie();const ce=()=>ie();return window.addEventListener("focus",ce),()=>window.removeEventListener("focus",ce)},[]),Z.useEffect(()=>{let ie=!0;return(async()=>{A(!0);try{const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const{listHistory:ge}=await _r(async()=>{const{listHistory:fe}=await Promise.resolve().then(()=>yn);return{listHistory:fe}},void 0),Ae=(await ge(ae))?.events||[{type:"plan.current",plan:k?.subscriptionPlan,at:k?.updatedAt,users:k?.maxUsers}];ie&&_(Ae)}catch{ie&&_([])}finally{ie&&A(!1)}})(),()=>{ie=!1}},[k?.subscriptionPlan,k?.updatedAt]),Z.useEffect(()=>{let ie=!1;return(async()=>{try{j(!0);const ae=String(k?.id||localStorage.getItem("tenantId")||"");if(!ae)return;const ge=await _r(()=>Promise.resolve().then(()=>yn),void 0).then(pe=>pe.listInvoices(ae));ie||S(ge?.invoices||[])}catch{ie||S([])}finally{ie||j(!1)}})(),()=>{ie=!0}},[k?.id,k?.subscriptionPlan]);const se=async()=>{H(!0),$("");try{const ie=String(k?.id||localStorage.getItem("tenantId")||"");if(!ie)throw new Error("Tenant bulunamad");const ce=String(g||"").toLowerCase(),ae=["professional","enterprise","pro","business"].includes(m),ge=["professional","enterprise","pro","business"].includes(ce),pe=y==="yearly"?"year":"month";if(!ge){ae?(await Cm(ie),W(!0),$(x==="tr"?"ptal talebi alnd (dnem sonunda geerli).":"Cancellation requested for period end."),await f()):$(x==="tr"?"Plan zaten cretsiz.":"Already on free plan.");return}const fe=(m==="pro"?"professional":m==="business"?"enterprise":m)===ce,te=(o||"month")===pe,ye=0;if(fe&&!te){const Ce="planupd:"+ie+":"+ce+":"+pe+":"+ye+":"+new Date().toISOString().slice(0,10),je=await w0(ie,{plan:ce,interval:pe,seats:ye,chargeNow:!0,interactive:!0,idempotencyKey:Ce});if(je?.success){if(je.invoiceError){const Pe={tr:"Plan gncellendi ancak fatura oluturulamad: ",en:"Plan updated but invoice failed: ",fr:"Le plan a t mis  jour mais la facture a chou : ",de:"Plan aktualisiert, aber Rechnung fehlgeschlagen: "};$((Pe[x]||Pe.tr)+je.invoiceError),await f();return}if(je.invoiceSkipped){const Pe={tr:"Plan dnemi gncellendi (ek cret yok).",en:"Billing interval updated (no additional charge).",fr:"Priode de facturation mise  jour (aucun frais supplmentaire).",de:"Abrechnungszeitraum aktualisiert (keine Zusatzkosten)."};$(Pe[x]||Pe.tr),await f();return}if(je.hostedInvoiceUrl){try{localStorage.setItem("pending_billing_payment",JSON.stringify({type:"plan-interval",plan:ce,interval:pe,seats:ye,ts:Date.now()}))}catch{}const Pe={tr:"deme ekranna ynlendiriliyorsunuz",en:"Redirecting to payment",fr:"Redirection vers lcran de paiement",de:"Weiterleitung zur Zahlung"};$(Pe[x]||Pe.tr),window.location.href=je.hostedInvoiceUrl;return}const tt={tr:"Plan dnemi gncellendi.",en:"Billing interval updated.",fr:"Priode de facturation mise  jour.",de:"Abrechnungszeitraum aktualisiert."};$(tt[x]||tt.tr),await f();return}}const Te=await Fm({tenantId:ie,plan:ce,interval:pe,seats:ye,successUrl:window.location.origin+"/settings?plan=success",cancelUrl:window.location.origin+"/settings?plan=cancel"});Te?.url?window.location.href=Te.url:$(x==="tr"?"deme oturumu oluturulamad.":"Failed to create checkout session.")}catch(ie){const ce=ie?.response?.data?.message||ie?.message||"Hata";$(ce)}finally{H(!1)}},he=async()=>{if(window.confirm(x==="tr"?"Abonelik dnem sonunda iptal edilecek. Onaylyor musunuz?":"Subscription will be cancelled at period end. Confirm?")){H(!0),$("");try{const ie=String(k?.id||localStorage.getItem("tenantId")||"");if(!ie)throw new Error("Tenant bulunamad");(await Cm(ie))?.success&&(W(!0),$(x==="tr"?"ptal talebi alnd (dnem sonunda).":"Cancel at period end set."),setTimeout(()=>$(""),3e3),await f())}catch(ie){$(ie?.response?.data?.message||"ptal hata")}finally{H(!1)}}},ne=async()=>{if(window.confirm(x==="tr"?"ptal kaldrlacak ve aboneliiniz dnem sonunda yenilenmeye devam edecek. Onaylyor musunuz?":"Cancellation will be removed and subscription will renew. Confirm?")){H(!0),$("");try{const ie=String(k?.id||localStorage.getItem("tenantId")||"");if(!ie)throw new Error("Tenant bulunamad");const{resumeSubscription:ce}=await _r(async()=>{const{resumeSubscription:ge}=await Promise.resolve().then(()=>yn);return{resumeSubscription:ge}},void 0);(await ce(ie))?.success&&(W(!1),$(x==="tr"?"ptal kaldrld. Abonelik aktif.":"Cancellation removed. Subscription active."),setTimeout(()=>$(""),3e3),await f())}catch(ie){$(ie?.response?.data?.message||"Yeniden balatma hatas")}finally{H(!1)}}},me=k?.subscriptionExpiresAt?new Date(k.subscriptionExpiresAt):null,Se=me?me.toLocaleDateString():"",Ee=z?x==="tr"?"ptal Tarihi":x==="fr"?"Date d'annulation":x==="de"?"Kndigungsdatum":"Cancellation Date":x==="tr"?"Yenileme Tarihi":x==="fr"?"Date de renouvellement":x==="de"?"Verlngerungsdatum":"Renewal Date",le=m==="professional"||m==="pro";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.tabs.plan||"Plan"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x==="tr"?"Abonelik ve faturalama bilgileri":x==="fr"?"Abonnement et facturation":x==="de"?"Abo und Abrechnung":"Subscription & billing"})]}),e.jsx("div",{children:e.jsx("button",{onClick:async()=>{try{H(!0);const ie=String(k?.id||localStorage.getItem("tenantId")||"");if(!ie)throw new Error("Tenant bulunamad");const ce=new URL(window.location.href);ce.searchParams.set("portal","return");const{url:ae}=await k0(ie,ce.toString());ae&&(localStorage.setItem("pending_portal_sync","1"),window.location.href=ae)}catch(ie){$(ie?.response?.data?.message||ie?.message||"Portal hatas")}finally{H(!1)}},className:"px-3 py-2 text-sm rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:x==="tr"?"demeleri Ynet":x==="fr"?"Grer la facturation":x==="de"?"Abrechnung verwalten":"Manage Billing"})})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2 border rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:x==="tr"?"Mevcut Plan":x==="fr"?"Offre actuelle":x==="de"?"Aktueller Plan":"Current Plan"}),e.jsx("span",{className:"inline-flex w-fit items-center text-xs font-semibold px-2 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:i})]}),e.jsxs("div",{className:"flex flex-col gap-2 border rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:x==="tr"?"Faturalama Dnemi":x==="fr"?"Priode":x==="de"?"Zeitraum":"Billing Period"}),e.jsx("span",{className:"text-sm text-gray-900",children:c||""})]}),e.jsxs("div",{className:"flex flex-col gap-2 border rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:x==="tr"?"Kullanc Limiti":x==="fr"?"Limite Utilisateurs":x==="de"?"Benutzerlimit":"User Limit"}),e.jsx("span",{className:"text-sm text-gray-900",children:C<0?x==="tr"?"Snrsz":x==="fr"?"Illimit":x==="de"?"Unbegrenzt":"Unlimited":C})]}),e.jsxs("div",{className:"flex flex-col gap-2 border rounded-md px-3 py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:Ee}),e.jsx("span",{className:"text-sm text-gray-900",children:Se})]})]}),z&&!d&&e.jsx("div",{className:"mt-3 text-xs text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:x==="tr"?"Dnem sonunda iptal edilecek.":"Will cancel at period end."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:x==="tr"?"Plan Ykselt / Dr":x==="fr"?"Changer de Plan":x==="de"?"Plan wechseln":"Change Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:x==="tr"?"Yeni Plan":x==="fr"?"Nouveau Plan":x==="de"?"Neuer Plan":"New Plan"}),e.jsxs("select",{value:g,onChange:ie=>h(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"professional",children:"Pro"}),e.jsx("option",{value:"enterprise",children:"Business"}),e.jsx("option",{value:"free",children:x==="tr"?"Starter (cretsiz)":x==="fr"?"Starter (Gratuit)":x==="de"?"Starter (Kostenlos)":"Starter (Free)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:x==="tr"?"Faturalama":x==="fr"?"Facturation":x==="de"?"Abrechnung":"Billing"}),e.jsxs("select",{value:y,onChange:ie=>b(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:!["professional","enterprise","pro","business"].includes(String(g).toLowerCase()),children:[e.jsx("option",{value:"monthly",children:x==="tr"?"Aylk":x==="fr"?"Mensuel":x==="de"?"Monatlich":"Monthly"}),e.jsx("option",{value:"yearly",children:x==="tr"?"Yllk":x==="fr"?"Annuel":x==="de"?"Jhrlich":"Yearly"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:se,disabled:F,className:"w-full px-4 py-2 text-sm font-medium rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:F?x==="tr"?"leniyor":"Saving":x==="tr"?"Kaydet":"Save"})})]}),O&&e.jsx("div",{className:"text-xs text-indigo-700 bg-indigo-50 border border-indigo-200 px-3 py-2 rounded",children:O})]}),le&&e.jsxs("div",{className:"border border-amber-300 rounded-lg p-4 bg-amber-50",children:[e.jsx("h4",{className:"text-md font-semibold mb-1",children:x==="tr"?"lave Kullanc Ekle":x==="fr"?"Ajouter des utilisateurs supplmentaires":x==="de"?"Zustzliche Benutzer hinzufgen":"Add Additional Users"}),e.jsx("p",{className:"text-[11px] text-amber-900 mb-2",children:x==="tr"?"lave her kullanc aylk 5  ile cretlendirilir.":x==="fr"?"Chaque utilisateur supplmentaire est factur 5  par mois.":x==="de"?"Jeder zustzliche Benutzer kostet 5  pro Monat.":"Each additional user is billed at 5 per month."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"number",min:1,value:T,onChange:ie=>D(parseInt(ie.target.value||"1",10)),className:"w-32 px-3 py-2 border border-amber-300 rounded-md text-sm bg-white"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{if(T<=0){$(x==="tr"?"Ek kullanc >= 1 olmal":"Additional users must be >= 1");return}K({open:!0,mode:"now",count:T})},disabled:F,className:"px-4 py-2 text-sm rounded-md bg-purple-600 text-white hover:bg-purple-700 disabled:opacity-50",children:x==="tr"?"Hemen Tahsil Et":x==="fr"?"Encaisser Maintenant":x==="de"?"Jetzt Abbuchen":"Charge Now"}),e.jsx("button",{onClick:()=>{if(T<=0){$(x==="tr"?"Ek kullanc >= 1 olmal":"Additional users must be >= 1");return}K({open:!0,mode:"later",count:T})},disabled:F,className:"px-4 py-2 text-sm rounded-md bg-amber-600 text-white hover:bg-amber-700 disabled:opacity-50",children:x==="tr"?"Dnem Sonu Faturalandr":x==="fr"?"Facturer  la fin de priode":x==="de"?"Am Periodenende berechnen":"Invoice Later"})]})]})]}),e.jsx(mo,{isOpen:B.open,onClose:()=>K(ie=>({...ie,open:!1})),title:B.mode==="now"?x==="tr"?"Hemen Tahsil Onay":x==="fr"?"Confirmation d'encaissement":x==="de"?"Sofortige Abbuchung Besttigen":"Immediate Charge Confirmation":x==="tr"?"Faturalandrma Onay":x==="fr"?"Confirmation de facturation":x==="de"?"Rechnungsstellung Besttigen":"Invoice Confirmation",message:(()=>{const ie=B.count,ae=(ie*5).toFixed(2);return B.mode==="now"?x==="tr"?`${ie} ilave kullanc iin hemen ${ae}  tahsil edilecek. Onaylyor musunuz?`:x==="fr"?`Encaisser maintenant ${ae}  pour ${ie} utilisateur(s) supplmentaire(s). Confirmez-vous ?`:x==="de"?`${ie} zustzliche(r) Benutzer wird/werden jetzt mit ${ae}  belastet. Besttigen?`:`Charge ${ae}  now for ${ie} additional user(s). Do you confirm?`:x==="tr"?`${ie} ilave kullanc eklenecek ve dnem sonunda faturalandrlacak. Onaylyor musunuz?`:x==="fr"?`${ie} utilisateur(s) supplmentaire(s) sera/seront ajout(s) et factur(s)  la fin de la priode. Confirmez-vous ?`:x==="de"?`${ie} zustzliche(r) Benutzer wird/werden hinzugefgt und am Periodenende abgerechnet. Besttigen?`:`${ie} additional user(s) will be added and invoiced at period end. Do you confirm?`})(),confirmLabel:x==="tr"?"Onayla":x==="fr"?"Confirmer":x==="de"?"Besttigen":"Confirm",cancelLabel:x==="tr"?"Vazge":x==="fr"?"Annuler":x==="de"?"Abbrechen":"Cancel",onConfirm:()=>{const ie=B.mode;K(ce=>({...ce,open:!1})),ie==="now"?(async()=>{try{H(!0);const ce=String(k?.id||localStorage.getItem("tenantId")||"");if(!ce)throw new Error("Tenant bulunamad");if(T<=0)throw new Error("Ek kullanc >= 1 olmal");const{chargeAddonNow:ae,listInvoices:ge}=await _r(async()=>{const{chargeAddonNow:fe,listInvoices:te}=await Promise.resolve().then(()=>yn);return{chargeAddonNow:fe,listInvoices:te}},void 0),pe=T,Ae=await ae(ce,pe);if(Ae?.success){const fe=String(Ae?.currency||"").toUpperCase(),te=typeof Ae.amountPaid=="number"&&Ae.amountPaid>0?Ae.amountPaid:typeof Ae.amountDue=="number"&&Ae.amountDue>0?Ae.amountDue:typeof Ae.total=="number"?Ae.total:0,ye=te>0?(te/100).toFixed(2)+" "+fe:"";$((x==="tr"?"lave kullanclar tahsil edildi.":"Additional users charged.")+(ye?` (${ye})`:"")),D(1),await f();try{const Te=await ge(ce);S(Te?.invoices||[])}catch{}try{window.dispatchEvent(new CustomEvent("billingSuccess",{detail:{type:"addon",seats:pe,ts:Date.now()}}))}catch{}}else $(x==="tr"?"lem baarsz.":"Operation failed.")}catch(ce){$(ce?.response?.data?.message||ce?.message||"Hata")}finally{H(!1)}})():(async()=>{try{H(!0);const ce=String(k?.id||localStorage.getItem("tenantId")||"");if(!ce)throw new Error("Tenant bulunamad");if(T<=0)throw new Error("Ek kullanc >= 1 olmal");const ae=T,ge=await j0(ce,ae,"","");if(ge?.success){const pe=(()=>{const Ae=String(ge?.upcomingCurrency||"").toUpperCase();return typeof ge?.upcomingProrationTotal=="number"?x==="tr"?` (Bu dnem iin ek proration: ${(ge.upcomingProrationTotal/100).toFixed(2)} ${Ae}  bir sonraki faturaya eklenecek)`:` (Proration for this period: ${(ge.upcomingProrationTotal/100).toFixed(2)} ${Ae}  will be added to the next invoice)`:""})();$((x==="tr"?"lave kullanclar eklendi.":"Additional users added.")+pe),D(1),await f();try{window.dispatchEvent(new CustomEvent("billingSuccess",{detail:{type:"addon",seats:ae,ts:Date.now()}}))}catch{}}else $(x==="tr"?"lem baarsz.":"Operation failed.")}catch(ce){$(ce?.response?.data?.message||ce?.message||"Hata")}finally{H(!1)}})()},onCancel:()=>K(ie=>({...ie,open:!1})),tone:"info"}),!d&&e.jsxs("div",{className:"border border-red-300 rounded-lg p-4 bg-red-50 space-y-3",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:x==="tr"?"Abonelik Durumu":x==="fr"?"Statut de labonnement":x==="de"?"Abo-Status":"Subscription Status"}),e.jsx("p",{className:"text-xs text-red-700",children:x==="tr"?"cretli planlarda iptal talebi dnem sonunda uygulanr.":"On paid plans, cancellation takes effect at period end."}),z?e.jsx("button",{onClick:ne,disabled:F,className:"px-4 py-2 text-sm rounded-md bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:x==="tr"?"Abonelii Yeniden Balat":x==="fr"?"Relancer labonnement":x==="de"?"Abo neu starten":"Resume Subscription"}):e.jsx("button",{onClick:he,disabled:F,className:"px-4 py-2 text-sm rounded-md bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:x==="tr"?"Dnem Sonunda ptal Et":x==="fr"?"Annuler en fin de priode":x==="de"?"Zum Periodenende kndigen":"Cancel at Period End"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:x==="tr"?"Faturalama / Plan Gemii":x==="fr"?"Historique":x==="de"?"Verlauf":"History"}),M&&e.jsx("p",{className:"text-xs text-gray-500",children:x==="tr"?"Ykleniyor":"Loading"}),!M&&U.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:x==="tr"?"Kayt yok (mock).":"No events (mock)."}),!M&&U.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Tr":"Type"}),e.jsx("th",{className:"py-1 pr-4",children:"Plan"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Kullanc":"Users"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Tarih":"Date"})]})}),e.jsx("tbody",{children:U.map((ie,ce)=>{const ae=ie.at?new Date(ie.at).toLocaleDateString():"",ge=(()=>{const pe={tr:{"plan.current":"Mevcut Plan","plan.renewal_due":"Yenileme Tarihi","cancel.at_period_end":"Dnem Sonunda ptal","invoice.paid":"deme Alnd","invoice.open":"Ak Fatura","invoice.uncollectible":"Tahsil Edilemeyen","invoice.payment_failed":"deme Baarsz"},en:{"plan.current":"Current Plan","plan.renewal_due":"Renewal Due","cancel.at_period_end":"Cancel at Period End","invoice.paid":"Payment Received","invoice.open":"Open Invoice","invoice.uncollectible":"Uncollectible","invoice.payment_failed":"Payment Failed"},fr:{"plan.current":"Offre actuelle","plan.renewal_due":"Renouvellement","cancel.at_period_end":"Annulation fin de priode","invoice.paid":"Paiement reu","invoice.open":"Facture ouverte","invoice.uncollectible":"Irrcouvrable","invoice.payment_failed":"Paiement chou"},de:{"plan.current":"Aktueller Plan","plan.renewal_due":"Verlngerung","cancel.at_period_end":"Kndigung zum Periodenende","invoice.paid":"Zahlung erhalten","invoice.open":"Offene Rechnung","invoice.uncollectible":"Uneinbringlich","invoice.payment_failed":"Zahlung fehlgeschlagen"}};return pe[x]&&pe[x][ie.type]||ie.type})();return e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"py-1 pr-4",children:ge}),e.jsx("td",{className:"py-1 pr-4",children:ie.plan||""}),e.jsx("td",{className:"py-1 pr-4",children:ie.users||""}),e.jsx("td",{className:"py-1 pr-4",children:ae})]},ce)})})]})}),e.jsx("p",{className:"mt-2 text-[10px] text-gray-400",children:x==="tr"?"Gerek Stripe gemii henz entegre edilmedi.":"Real Stripe history not yet integrated."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:x==="tr"?"Faturalarm":x==="fr"?"Mes Factures":x==="de"?"Meine Rechnungen":"My Invoices"}),w&&e.jsx("p",{className:"text-xs text-gray-500",children:x==="tr"?"Ykleniyor":"Loading"}),!w&&N.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:x==="tr"?"Fatura bulunamad.":"No invoices found."}),!w&&N.length>0&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 items-end",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:x==="tr"?"Durum":"Status"}),e.jsxs("select",{value:E,onChange:ie=>I(ie.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs",children:[e.jsx("option",{value:"all",children:x==="tr"?"Tm":"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"open",children:"Open/Draft"}),e.jsx("option",{value:"unpaid",children:"Unpaid/Void/Uncollectible"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:x==="tr"?"Arama":"Search"}),e.jsx("input",{type:"text",value:L,onChange:ie=>G(ie.target.value),placeholder:x==="tr"?"Numara / Para Birimi":"Number / Currency",className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:x==="tr"?"Balang":"From"}),e.jsx("input",{type:"date",value:X,onChange:ie=>re(ie.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:x==="tr"?"Biti":"To"}),e.jsx("input",{type:"date",value:q,onChange:ie=>ee(ie.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:""}),e.jsx("button",{onClick:()=>{const ie=R().map(fe=>({id:fe.id,number:fe.number,status:fe.status,currency:fe.currency,total:typeof fe.total=="number"?(fe.total/100).toFixed(2):"",created:fe.created,hostedInvoiceUrl:fe.hostedInvoiceUrl,pdf:fe.pdf})),ce=Object.keys(ie[0]||{id:"",number:"",status:"",currency:"",total:"",created:"",hostedInvoiceUrl:"",pdf:""}),ae=[ce.join(","),...ie.map(fe=>ce.map(te=>String(fe[te]??"")).join(","))].join(`
`),ge=new Blob([ae],{type:"text/csv;charset=utf-8;"}),pe=URL.createObjectURL(ge),Ae=document.createElement("a");Ae.href=pe,Ae.download=`invoices_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(pe)},disabled:N.length===0,className:"px-3 py-1 text-xs rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",children:x==="tr"?"CSV ndir":"Export CSV"})]})]}),e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"py-1 pr-4",children:"#"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Tarih":"Date"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Tutar":"Amount"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"Durum":"Status"}),e.jsx("th",{className:"py-1 pr-4",children:x==="tr"?"lem":"Actions"})]})}),e.jsx("tbody",{children:R().map(ie=>{const ce=ie.created?new Date(ie.created).toLocaleDateString():"",ae=typeof ie.total=="number"?(ie.total/100).toFixed(2)+" "+String(ie.currency||"").toUpperCase():"";return e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"py-1 pr-4",children:ie.number||ie.id}),e.jsx("td",{className:"py-1 pr-4",children:ce}),e.jsx("td",{className:"py-1 pr-4",children:ae}),e.jsx("td",{className:"py-1 pr-4",children:e.jsx("span",{className:(()=>{const ge=String(ie.status||"").toLowerCase();return ge==="paid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-700 border border-green-200":ge==="open"||ge==="draft"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-200":ge==="uncollectible"||ge==="void"||ge==="unpaid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-red-50 text-red-700 border border-red-200":"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-gray-50 text-gray-700 border border-gray-200"})(),children:String(ie.status||"").toUpperCase()})}),e.jsxs("td",{className:"py-1 pr-4 space-x-2",children:[ie.hostedInvoiceUrl&&e.jsx("a",{className:"text-indigo-600 hover:underline",href:ie.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",children:x==="tr"?"Grntle":"View"}),ie.pdf&&e.jsx("a",{className:"text-indigo-600 hover:underline",href:ie.pdf,target:"_blank",rel:"noreferrer",children:"PDF"})]})]},ie.id)})})]})]}),e.jsx("p",{className:"mt-2 text-[10px] text-gray-400",children:x==="tr"?"Bu listede Stripe fatura balantlar sunulur.":"Stripe invoice links are provided here."})]})]})},KS=["tr","en","fr","de"],Xo=({title:k,subtitle:x,defaultOpen:t=!0,children:f})=>{const[m,d]=Z.useState(t);return e.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white shadow-sm",children:[e.jsxs("button",{type:"button",onClick:()=>d(s=>!s),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:k}),x&&e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:x})]}),m?e.jsx(us,{className:"w-5 h-5 text-gray-500"}):e.jsx(Xg,{className:"w-5 h-5 text-gray-500"})]}),m&&e.jsx("div",{className:"px-4 pb-4",children:f})]})},GS={tr:{header:{title:"Ayarlar",subtitle:"Sistem ve hesap ayarlarnz ynetin",unsavedChanges:"Kaydedilmemi deiiklikler var",save:"Kaydet"},modals:{saveSuccess:{title:"Kaydedildi",message:"Deiiklikleriniz baaryla kaydedildi.",confirm:"Tamam"},saveError:{title:"Hata",message:"Ayarlar kaydedilirken bir hata olutu.",confirm:"Kapat"},fileTypeError:{title:"Dosya tipi hatal",message:"Ltfen sadece resim dosyas sein.",confirm:"Tamam"},fileSizeError:{title:"Dosya boyutu ok byk",message:"Dosya boyutu 5MB'dan kk olmaldr.",confirm:"Tamam"},authRequired:{title:"Oturum gerekli",message:"Ltfen nce giri yapn.",confirm:"Tamam"},sessionExpired:{title:"Oturum sresi doldu",message:"Ltfen tekrar giri yapn.",confirm:"Tamam"},deleteRequested:{title:"Talep alnd",message:"Hesap silme talebiniz baaryla iletildi.",confirm:"Tamam"},deleteFailed:{title:"lem baarsz",message:"Hesap silme istei gnderilemedi. Ltfen tekrar deneyin.",confirm:"Kapat"}},tabs:{profile:"Profil",company:"irket",plan:"Hesap Plan",notifications:"Bildirimler",organization:"Organizasyon",fiscalPeriods:"Mali Dnemler",system:"Sistem",security:"Gvenlik",privacy:"Gizlilik"},profile:{title:"Profil Bilgileri",fields:{name:"Ad Soyad",email:"E-posta",phone:"Telefon"},passwordTitle:"ifre Deitir",passwordFields:{current:"Mevcut ifre",new:"Yeni ifre",confirm:"ifre Tekrar"}},company:{title:"irket Bilgileri",logo:{label:"irket Logosu",upload:"Logo Ykle",remove:"Kaldr",helper:"PNG, JPG veya GIF formatnda, maksimum 5MB boyutunda dosya ykleyebilirsiniz.",uploaded:({name:k,sizeKB:x})=>`Logo ${k} (${x} KB)`},fields:{name:"irket Ad",address:"Adres",taxNumber:"Vergi Numaras",taxOffice:"Vergi Dairesi",phone:"Telefon",email:"E-posta",website:"Website"},legalFields:{title:"Yasal Gereklilik Alanlar",subtitle:"Uluslararas faturalama standartlar iin gerekli bilgiler",countryHelp:"irket bilgilerini girebilmek iin ltfen irket lkesini sein.",countrySelectLabel:"lke",countryOptions:{TR:"Trkiye",US:"Amerika",DE:"Almanya",FR:"Fransa",OTHER:"Dier"},turkey:{title:"Trkiye",mersisNumber:"Mersis Numaras",kepAddress:"KEP Adresi"},france:{title:"Fransa",siretNumber:"SIRET Numaras",sirenNumber:"SIREN Numaras",apeCode:"APE/NAF Kodu",tvaNumber:"TVA Numaras",rcsNumber:"RCS Numaras"},germany:{title:"Almanya",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"Amerika",einNumber:"EIN Numaras",taxId:"Tax ID",businessLicenseNumber:"Business License No",stateOfIncorporation:"Kurulu Eyaleti"},other:{title:"Dier lkeler",registrationNumber:"Kayt No",vatNumber:"KDV/VAT No",taxId:"Vergi Kimlii",stateOrRegion:"Eyalet/Blge"}},iban:{sectionTitle:"Faturalarda Kullanlacak IBAN",bankOption:"Kaydedilmi bankalardan se",noBanks:"(Kaydedilmi banka yok)",bankSelectPlaceholder:"Banka sein",manualOption:"Elle IBAN gir",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Banka ad (r. Ziraat Bankas)",preview:k=>`nizleme: ${k}`,previewExample:"rn: TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Bildirim Tercihleri",labels:{invoiceReminders:"Fatura Hatrlatmalar",expenseAlerts:"Gider Uyarlar",salesNotifications:"Sat Bildirimleri",lowStockAlerts:"Dk Stok Uyarlar",quoteReminders:"Teklif Hatrlatmalar"}},system:{title:"Sistem Ayarlar",currencyLabel:"Para Birimi",dateFormatLabel:"Tarih Format",timezoneLabel:"Saat Dilimi",currencies:{TRY:" Trk Liras",USD:"$ ABD Dolar",EUR:" Euro"},timezones:{"Europe/Istanbul":"stanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Yedekleme",toggleLabel:"Otomatik Yedekleme",toggleDescription:"Verilerinizi otomatik olarak yedekleyin",frequencyLabel:"Yedekleme Skl",options:{daily:"Gnlk",weekly:"Haftalk",monthly:"Aylk"}}},security:{tipsTitle:"Gvenlik nerileri",tips:[" Gl bir ifre kullann (en az 8 karakter, byk/kk harf, say)"," ifrenizi dzenli olarak deitirin"," ki faktrl kimlik dorulamay etkinletirin"," pheli aktiviteleri takip edin"],title:"Gvenlik Ayarlar",cards:{twoFactor:{title:"ki Faktrl Kimlik Dorulama",description:"Hesabnz iin ek gvenlik katman",action:"Etkinletir"},sessionHistory:{title:"Oturum Gemii",description:"Son giri aktivitelerinizi grntleyin",action:"Grntle"},activeSessions:{title:"Aktif Oturumlar",description:"Dier cihazlardaki oturumlar ynetin",action:"Tmn Sonlandr"}}},privacy:{title:"GDPR ve Veri Haklar",gdpr:{title:"Kiisel Veri Ynetimi",description:"GDPR uyumluluk kapsamnda kiisel verilerinizi ynetin",export:{title:"Verilerimi ndir",description:"Tm kiisel verilerinizi ZIP formatnda indirin",button:"Verilerimi ndir",disclaimer:"ndirilen dosya JSON ve CSV formatlarnda verilerinizi ierir."},delete:{title:"Hesabm Sil",description:"Hesabnz ve tm kiisel verilerinizi kalc olarak silin",button:"Hesap Silme Talebi",warning:"Bu ilem geri alnamaz ve tm verileriniz silinir.",confirmDialog:{title:"Hesap Silme Onay",message:"Hesabnz silmek istediinizden emin misiniz?",retention:"Not: Muhasebe kaytlar yasal gereklilikler nedeniyle 10 yl sreyle saklanacaktr.",confirm:"Evet, Hesabm Sil",cancel:"ptal"}}}}},en:{header:{title:"Settings",subtitle:"Manage your system and account settings",unsavedChanges:"There are unsaved changes",save:"Save"},modals:{saveSuccess:{title:"Saved",message:"Your changes have been saved successfully.",confirm:"OK"},saveError:{title:"Error",message:"An error occurred while saving your settings.",confirm:"Close"},fileTypeError:{title:"Invalid file type",message:"Please select an image file only.",confirm:"OK"},fileSizeError:{title:"File too large",message:"The file size must be less than 5MB.",confirm:"OK"},authRequired:{title:"Authentication required",message:"Please sign in first.",confirm:"OK"},sessionExpired:{title:"Session expired",message:"Please sign in again.",confirm:"OK"},deleteRequested:{title:"Request received",message:"Your account deletion request has been submitted.",confirm:"OK"},deleteFailed:{title:"Request failed",message:"Could not submit account deletion. Please try again.",confirm:"Close"}},tabs:{profile:"Profile",company:"Company",plan:"Plan",notifications:"Notifications",organization:"Organization",fiscalPeriods:"Fiscal Periods",system:"System",security:"Security",privacy:"Privacy"},profile:{title:"Profile Information",fields:{name:"Full Name",email:"Email Address",phone:"Phone"},passwordTitle:"Change Password",passwordFields:{current:"Current Password",new:"New Password",confirm:"Confirm Password"}},company:{title:"Company Information",logo:{label:"Company Logo",upload:"Upload Logo",remove:"Remove",helper:"You can upload PNG, JPG or GIF files up to 5MB.",uploaded:({name:k,sizeKB:x})=>`Logo ${k} (${x} KB)`},fields:{name:"Company Name",address:"Address",taxNumber:"Tax Number",taxOffice:"Tax Office",phone:"Phone",email:"Email",website:"Website"},legalFields:{title:"Legal Compliance Fields",subtitle:"Required information for international invoicing standards",countryHelp:"To enter company details, please select the company's country.",countrySelectLabel:"Country",countryOptions:{TR:"Turkey",US:"United States",DE:"Germany",FR:"France",OTHER:"Other"},turkey:{title:"Turkey",mersisNumber:"Mersis Number",kepAddress:"KEP Address"},france:{title:"France",siretNumber:"SIRET Number",sirenNumber:"SIREN Number",apeCode:"APE/NAF Code",tvaNumber:"TVA Number",rcsNumber:"RCS Number"},germany:{title:"Germany",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"USA",einNumber:"EIN Number",taxId:"Tax ID",businessLicenseNumber:"Business License No",stateOfIncorporation:"State of Incorporation"},other:{title:"Other Countries",registrationNumber:"Registration No",vatNumber:"VAT Number",taxId:"Tax ID",stateOrRegion:"State/Region"}},iban:{sectionTitle:"IBAN to use on invoices",bankOption:"Select from saved bank accounts",noBanks:"(No saved bank account)",bankSelectPlaceholder:"Choose a bank",manualOption:"Enter IBAN manually",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Bank name (e.g. Ziraat Bankas)",preview:k=>`Preview: ${k}`,previewExample:"Ex: TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Notification Preferences",labels:{invoiceReminders:"Invoice Reminders",expenseAlerts:"Expense Alerts",salesNotifications:"Sales Notifications",lowStockAlerts:"Low Stock Alerts",quoteReminders:"Quote Reminders"}},system:{title:"System Settings",currencyLabel:"Currency",dateFormatLabel:"Date Format",timezoneLabel:"Time Zone",currencies:{TRY:" Turkish Lira",USD:"$ US Dollar",EUR:" Euro"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Backups",toggleLabel:"Automatic Backup",toggleDescription:"Back up your data automatically",frequencyLabel:"Backup Frequency",options:{daily:"Daily",weekly:"Weekly",monthly:"Monthly"}}},security:{tipsTitle:"Security Tips",tips:[" Use a strong password (at least 8 characters, upper/lowercase, numbers)"," Change your password regularly"," Enable two-factor authentication"," Monitor suspicious activity"],title:"Security Settings",cards:{twoFactor:{title:"Two-Factor Authentication",description:"Additional security layer for your account",action:"Enable"},sessionHistory:{title:"Session History",description:"Review recent login activity",action:"View"},activeSessions:{title:"Active Sessions",description:"Manage sessions on other devices",action:"Sign out all"}}},privacy:{title:"GDPR & Data Rights",gdpr:{title:"Personal Data Management",description:"Manage your personal data under GDPR compliance",export:{title:"Export My Data",description:"Download all your personal data in ZIP format",button:"Export My Data",disclaimer:"The downloaded file contains your data in JSON and CSV formats."},delete:{title:"Delete My Account",description:"Permanently delete your account and all personal data",button:"Request Account Deletion",warning:"This action cannot be undone and will delete all your data.",confirmDialog:{title:"Account Deletion Confirmation",message:"Are you sure you want to delete your account?",retention:"Note: Accounting records will be retained for 10 years due to legal requirements.",confirm:"Yes, Delete My Account",cancel:"Cancel"}}}}},fr:{header:{title:"Paramtres",subtitle:"Grez les paramtres du systme et du compte",unsavedChanges:"Des modifications non enregistres",save:"Enregistrer"},modals:{saveSuccess:{title:"Enregistr",message:"Vos modifications ont t enregistres avec succs.",confirm:"OK"},saveError:{title:"Erreur",message:"Une erreur s'est produite lors de l'enregistrement des paramtres.",confirm:"Fermer"},fileTypeError:{title:"Type de fichier invalide",message:"Veuillez slectionner uniquement une image.",confirm:"OK"},fileSizeError:{title:"Fichier trop volumineux",message:"La taille du fichier doit tre infrieure  5 Mo.",confirm:"OK"},authRequired:{title:"Authentification requise",message:"Veuillez vous connecter d'abord.",confirm:"OK"},sessionExpired:{title:"Session expire",message:"Veuillez vous reconnecter.",confirm:"OK"},deleteRequested:{title:"Demande reue",message:"Votre demande de suppression de compte a t envoye.",confirm:"OK"},deleteFailed:{title:"chec de la demande",message:"La suppression du compte n'a pas pu tre soumise. Veuillez ressayer.",confirm:"Fermer"}},tabs:{profile:"Profil",company:"Entreprise",plan:"Abonnement",notifications:"Notifications",organization:"Organisation",fiscalPeriods:"Priodes fiscales",system:"Systme",security:"Scurit",privacy:"Confidentialit"},profile:{title:"Informations du profil",fields:{name:"Nom complet",email:"Adresse e-mail",phone:"Tlphone"},passwordTitle:"Changer le mot de passe",passwordFields:{current:"Mot de passe actuel",new:"Nouveau mot de passe",confirm:"Confirmer le mot de passe"}},company:{title:"Informations sur lentreprise",logo:{label:"Logo de lentreprise",upload:"Tlcharger le logo",remove:"Supprimer",helper:"Vous pouvez tlverser des fichiers PNG, JPG ou GIF jusqu 5 Mo.",uploaded:({name:k,sizeKB:x})=>`Logo ${k} (${x} Ko)`},fields:{name:"Nom de lentreprise",address:"Adresse",taxNumber:"Numro fiscal",taxOffice:"Centre des impts",phone:"Tlphone",email:"E-mail",website:"Site Web"},legalFields:{title:"Champs de conformit lgale",subtitle:"Informations requises pour les normes de facturation internationales",countryHelp:"Pour saisir les informations de lentreprise, veuillez slectionner le pays de lentreprise.",countrySelectLabel:"Pays",countryOptions:{TR:"Turquie",US:"tats-Unis",DE:"Allemagne",FR:"France",OTHER:"Autre"},turkey:{title:"Turquie",mersisNumber:"Numro Mersis",kepAddress:"Adresse KEP"},france:{title:"France",siretNumber:"Numro SIRET",sirenNumber:"Numro SIREN",apeCode:"Code APE/NAF",tvaNumber:"Numro TVA",rcsNumber:"Numro RCS"},germany:{title:"Allemagne",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"tats-Unis",einNumber:"Numro EIN",taxId:"Tax ID",businessLicenseNumber:"N de licence commerciale",stateOfIncorporation:"tat de constitution"},other:{title:"Autres pays",registrationNumber:"N d'enregistrement",vatNumber:"N TVA",taxId:"Tax ID",stateOrRegion:"tat/Rgion"}},iban:{sectionTitle:"IBAN utilis sur les factures",bankOption:"Choisir parmi les comptes bancaires enregistrs",noBanks:"(Aucun compte bancaire enregistr)",bankSelectPlaceholder:"Choisissez une banque",manualOption:"Saisir lIBAN manuellement",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Nom de la banque (ex. Ziraat Bankas)",preview:k=>`Aperu : ${k}`,previewExample:"Ex : TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Prfrences de notification",labels:{invoiceReminders:"Rappels de facture",expenseAlerts:"Alertes de dpenses",salesNotifications:"Notifications de ventes",lowStockAlerts:"Alertes de stock bas",quoteReminders:"Rappels de devis"}},system:{title:"Paramtres du systme",currencyLabel:"Devise",dateFormatLabel:"Format de date",timezoneLabel:"Fuseau horaire",currencies:{TRY:" Livre turque",USD:"$ Dollar amricain",EUR:" Euro"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Sauvegardes",toggleLabel:"Sauvegarde automatique",toggleDescription:"Sauvegardez vos donnes automatiquement",frequencyLabel:"Frquence de sauvegarde",options:{daily:"Quotidienne",weekly:"Hebdomadaire",monthly:"Mensuelle"}}},security:{tipsTitle:"Conseils de scurit",tips:[" Utilisez un mot de passe solide (au moins 8 caractres, majuscules/minuscules, chiffres)"," Changez votre mot de passe rgulirement"," Activez lauthentification  deux facteurs"," Surveillez les activits suspectes"],title:"Paramtres de scurit",cards:{twoFactor:{title:"Authentification  deux facteurs",description:"Une couche de scurit supplmentaire pour votre compte",action:"Activer"},sessionHistory:{title:"Historique des sessions",description:"Consultez vos connexions rcentes",action:"Afficher"},activeSessions:{title:"Sessions actives",description:"Grez les sessions sur les autres appareils",action:"Tout dconnecter"}}},privacy:{title:"RGPD et Droits des Donnes",gdpr:{title:"Gestion des Donnes Personnelles",description:"Grez vos donnes personnelles conformment au RGPD",export:{title:"Exporter mes Donnes",description:"Tlchargez toutes vos donnes personnelles au format ZIP",button:"Exporter mes Donnes",disclaimer:"Le fichier tlcharg contient vos donnes aux formats JSON et CSV."},delete:{title:"Supprimer mon Compte",description:"Supprimez dfinitivement votre compte et toutes vos donnes personnelles",button:"Demander la Suppression du Compte",warning:"Cette action est irrversible et supprimera toutes vos donnes.",confirmDialog:{title:"Confirmation de Suppression du Compte",message:"tes-vous sr de vouloir supprimer votre compte ?",retention:"Note : Les registres comptables seront conservs 10 ans pour des raisons lgales.",confirm:"Oui, Supprimer mon Compte",cancel:"Annuler"}}}}},de:{header:{title:"Einstellungen",subtitle:"System- und Kontoeinstellungen verwalten",unsavedChanges:"Ungespeicherte nderungen",save:"Speichern"},modals:{saveSuccess:{title:"Gespeichert",message:"Ihre nderungen wurden erfolgreich gespeichert.",confirm:"OK"},saveError:{title:"Fehler",message:"Beim Speichern der Einstellungen ist ein Fehler aufgetreten.",confirm:"Schlieen"},fileTypeError:{title:"Ungltiger Dateityp",message:"Bitte whlen Sie nur eine Bilddatei aus.",confirm:"OK"},fileSizeError:{title:"Datei zu gro",message:"Die Datei darf nicht grer als 5 MB sein.",confirm:"OK"},authRequired:{title:"Anmeldung erforderlich",message:"Bitte melden Sie sich zuerst an.",confirm:"OK"},sessionExpired:{title:"Sitzung abgelaufen",message:"Bitte melden Sie sich erneut an.",confirm:"OK"},deleteRequested:{title:"Anfrage erhalten",message:"Ihre Kontolschungsanfrage wurde bermittelt.",confirm:"OK"},deleteFailed:{title:"Anfrage fehlgeschlagen",message:"Kontolschung konnte nicht gesendet werden. Bitte erneut versuchen.",confirm:"Schlieen"}},tabs:{profile:"Profil",company:"Unternehmen",plan:"Abo/Plan",notifications:"Benachrichtigungen",organization:"Organisation",fiscalPeriods:"Finanzperioden",system:"System",security:"Sicherheit",privacy:"Datenschutz"},profile:{title:"Profilinformationen",fields:{name:"Vollstndiger Name",email:"E-Mail-Adresse",phone:"Telefon"},passwordTitle:"Passwort ndern",passwordFields:{current:"Aktuelles Passwort",new:"Neues Passwort",confirm:"Passwort besttigen"}},company:{title:"Unternehmensinformationen",logo:{label:"Unternehmenslogo",upload:"Logo hochladen",remove:"Entfernen",helper:"Sie knnen PNG-, JPG- oder GIF-Dateien bis 5 MB hochladen.",uploaded:({name:k,sizeKB:x})=>`Logo ${k} (${x} KB)`},fields:{name:"Unternehmensname",address:"Adresse",taxNumber:"Steuernummer",taxOffice:"Finanzamt",phone:"Telefon",email:"E-Mail",website:"Webseite"},legalFields:{title:"Rechtliche Compliance-Felder",subtitle:"Erforderliche Informationen fr internationale Rechnungsstandards",countryHelp:"Um Unternehmensdaten einzugeben, whlen Sie bitte das Unternehmensland.",countrySelectLabel:"Land",countryOptions:{TR:"Trkei",US:"USA",DE:"Deutschland",FR:"Frankreich",OTHER:"Andere"},turkey:{title:"Trkei",mersisNumber:"Mersis-Nummer",kepAddress:"KEP-Adresse"},france:{title:"Frankreich",siretNumber:"SIRET-Nummer",sirenNumber:"SIREN-Nummer",apeCode:"APE/NAF-Code",tvaNumber:"TVA-Nummer",rcsNumber:"RCS-Nummer"},germany:{title:"Deutschland",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"USA",einNumber:"EIN-Nummer",taxId:"Tax ID",businessLicenseNumber:"Gewerbelizenznummer",stateOfIncorporation:"Grndungsstaat"},other:{title:"Andere Lnder",registrationNumber:"Registernummer",vatNumber:"USt/VAT-Nr.",taxId:"Steuer-ID",stateOrRegion:"Staat/Region"}},iban:{sectionTitle:"IBAN fr Rechnungen",bankOption:"Aus registrierten Bankkonten auswhlen",noBanks:"(Keine Bankkonten registriert)",bankSelectPlaceholder:"Bank auswhlen",manualOption:"IBAN manuell eingeben",ibanPlaceholder:"DE00 0000 0000 0000 0000 00",bankNamePlaceholder:"Bankname (z.B. Deutsche Bank)",preview:k=>`Vorschau: ${k}`,previewExample:"z.B.: DExx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Benachrichtigungseinstellungen",labels:{invoiceReminders:"Rechnungserinnerungen",expenseAlerts:"Ausgabenwarnungen",salesNotifications:"Verkaufsbenachrichtigungen",lowStockAlerts:"Niedriger Lagerbestand",quoteReminders:"Angebotserinnerungen"}},system:{title:"Systemeinstellungen",currencyLabel:"Whrung",dateFormatLabel:"Datumsformat",timezoneLabel:"Zeitzone",currencies:{TRY:" Trkische Lira",USD:"$ US-Dollar",EUR:" Euro"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Sicherungen",toggleLabel:"Automatische Sicherung",toggleDescription:"Sichern Sie Ihre Daten automatisch",frequencyLabel:"Sicherungshufigkeit",options:{daily:"Tglich",weekly:"Wchentlich",monthly:"Monatlich"}}},security:{tipsTitle:"Sicherheitstipps",tips:[" Verwenden Sie ein starkes Passwort (mindestens 8 Zeichen, Gro-/Kleinbuchstaben, Zahlen)"," ndern Sie Ihr Passwort regelmig"," Aktivieren Sie die Zwei-Faktor-Authentifizierung"," berwachen Sie verdchtige Aktivitten"],title:"Sicherheitseinstellungen",cards:{twoFactor:{title:"Zwei-Faktor-Authentifizierung",description:"Eine zustzliche Sicherheitsebene fr Ihr Konto",action:"Aktivieren"},sessionHistory:{title:"Sitzungsverlauf",description:"Sehen Sie Ihre letzten Anmeldungen",action:"Anzeigen"},activeSessions:{title:"Aktive Sitzungen",description:"Verwalten Sie Sitzungen auf anderen Gerten",action:"Alle abmelden"}}},privacy:{title:"DSGVO & Datenrechte",gdpr:{title:"Persnliche Datenverwaltung",description:"Verwalten Sie Ihre persnlichen Daten gem DSGVO",export:{title:"Meine Daten Exportieren",description:"Laden Sie alle Ihre persnlichen Daten im ZIP-Format herunter",button:"Meine Daten Exportieren",disclaimer:"Die heruntergeladene Datei enthlt Ihre Daten in JSON- und CSV-Formaten."},delete:{title:"Mein Konto Lschen",description:"Lschen Sie Ihr Konto und alle persnlichen Daten dauerhaft",button:"Kontolschung Beantragen",warning:"Diese Aktion kann nicht rckgngig gemacht werden und lscht alle Ihre Daten.",confirmDialog:{title:"Besttigung der Kontolschung",message:"Sind Sie sicher, dass Sie Ihr Konto lschen mchten?",retention:"Hinweis: Buchhaltungsunterlagen werden aus rechtlichen Grnden 10 Jahre aufbewahrt.",confirm:"Ja, Mein Konto Lschen",cancel:"Abbrechen"}}}}}};function Zu({user:k={name:"Demo User",email:"demo@moneyflow.com"},company:x,bankAccounts:t=[],onUserUpdate:f,onCompanyUpdate:m,initialTab:d}){const[s,a]=Z.useState("profile"),[i,r]=Z.useState(!1),[n,l]=Z.useState(!1),[o,c]=Z.useState(!1),[p,g]=Z.useState(!1),[h,y]=Z.useState({open:!1,title:"",message:"",tone:"info"}),b=(Pe,ke,ze="info")=>y({open:!0,title:Pe,message:ke,tone:ze}),[C,T]=Z.useState(!1),[D,F]=Z.useState(!1),[H,O]=Z.useState(!1),{i18n:$,t:B}=Vt(),K=$.language.toLowerCase().substring(0,2),U=KS.includes(K)?K:"tr",_=GS[U],M=_.notifications.labels,{refreshUser:A,user:N,tenant:S}=wn(),w=(N?.role||"").toUpperCase(),j=w==="OWNER"||w==="TENANT_ADMIN",[E,I]=Z.useState(""),[L,G]=Z.useState(!1);Z.useEffect(()=>{let Pe=!1;return(async()=>{try{const ke=await rl.getMyTenant();if(!Pe){I(ke?.companyName??""),G(!0);try{!S?.subscriptionPlan&&ke?.subscriptionPlan}catch{}}}catch{Pe||G(!0)}})(),()=>{Pe=!0}},[]),Z.useEffect(()=>{let Pe=!1;const ke=async()=>{const Fe=localStorage.getItem("pending_billing_payment");if(Fe)try{const at=JSON.parse(Fe||"{}"),we=String(S?.id||localStorage.getItem("tenantId")||"");if(!we)return;const{syncSubscription:Qe,listInvoices:ut}=await _r(async()=>{const{syncSubscription:lt,listInvoices:Et}=await Promise.resolve().then(()=>yn);return{syncSubscription:lt,listInvoices:Et}},void 0);await Qe(we);const be=await ut(we),Be=typeof at.ts=="number"?at.ts-120*1e3:Date.now()-600*1e3;if((be?.invoices||[]).some(lt=>!!lt?.paid&&lt?.created&&new Date(lt.created).getTime()>=Be)&&!Pe){const lt=(()=>{const Ke=String(at?.plan||"").toLowerCase();return Ke.includes("enterprise")||Ke.includes("business")?"Enterprise":Ke.includes("professional")||Ke==="pro"?"Pro":"Plan"})(),Et=U||"tr",Rt={tr:{title:"deme Baarl",basePlan:`leminiz baaryla tamamland. Artk ${lt} plann keyfini karabilirsiniz.`,baseGeneric:"demeniz baaryla alnd.",extra:Ke=>` Ayrca sisteminize ${Ke} kullanc daha davet edebilirsiniz.`},en:{title:"Payment Successful",basePlan:`Your update completed successfully. Enjoy the ${lt} plan!`,baseGeneric:"Your payment was received successfully.",extra:Ke=>` You can now invite ${Ke} more user${Ke>1?"s":""} to your system.`},fr:{title:"Paiement russi",basePlan:`Mise  jour termine avec succs. Profitez du plan ${lt} !`,baseGeneric:"Votre paiement a t reu avec succs.",extra:Ke=>` Vous pouvez maintenant inviter ${Ke} utilisateur${Ke>1?"s":""} supplmentaires.`},de:{title:"Zahlung erfolgreich",basePlan:`Aktualisierung erfolgreich. Viel Spa mit dem ${lt}-Tarif!`,baseGeneric:"Ihre Zahlung wurde erfolgreich erhalten.",extra:Ke=>` Sie knnen nun ${Ke} weitere Benutzer einladen.`}},yt=Rt[Et]||Rt.tr,Ut=at?.type==="plan-interval"?yt.basePlan:yt.baseGeneric,$e=at?.seats&&at.seats>0?yt.extra(at.seats):"";if(j){const Ke={tr:{invite:"Kullanc Davet Et",close:"Kapat"},en:{invite:"Invite Users",close:"Close"},fr:{invite:"Inviter des utilisateurs",close:"Fermer"},de:{invite:"Benutzer einladen",close:"Schlieen"}},ht=Ke[Et]||Ke.tr;y({open:!0,title:yt.title,message:Ut+$e,tone:"success",confirmLabel:ht.invite,onConfirm:()=>{y(St=>({...St,open:!1})),(async()=>{try{const St=String(S?.id||localStorage.getItem("tenantId")||"");if(St){const{syncSubscription:xt}=await _r(async()=>{const{syncSubscription:Ne}=await Promise.resolve().then(()=>yn);return{syncSubscription:Ne}},void 0);await xt(St)}await A()}catch{}a("organization")})()},cancelLabel:ht.close,onCancel:()=>y(St=>({...St,open:!1}))})}else b(yt.title,Ut+$e,"success");try{localStorage.removeItem("pending_billing_payment")}catch{}await A()}}catch{}};ke();const ze=()=>{ke()},qe=Fe=>{try{const we=Fe?.detail||{};if(!we||Pe)return;const Qe=U||"tr",ut={tr:{title:"lem Baarl",base:"leminiz baaryla tamamland.",extra:ot=>` Ayrca sisteminize ${ot} kullanc daha davet edebilirsiniz.`},en:{title:"Success",base:"Your operation completed successfully.",extra:ot=>` You can now invite ${ot} more user${ot>1?"s":""}.`},fr:{title:"Succs",base:"Votre opration sest termine avec succs.",extra:ot=>` Vous pouvez maintenant inviter ${ot} utilisateur${ot>1?"s":""} supplmentaires.`},de:{title:"Erfolg",base:"Ihr Vorgang wurde erfolgreich abgeschlossen.",extra:ot=>` Sie knnen nun ${ot} weitere Benutzer einladen.`}},be=ut[Qe]||ut.tr,Be=we?.seats&&we.seats>0?be.extra(we.seats):"";if(j){const ot={tr:{invite:"Kullanc Davet Et",close:"Kapat"},en:{invite:"Invite Users",close:"Close"},fr:{invite:"Inviter des utilisateurs",close:"Fermer"},de:{invite:"Benutzer einladen",close:"Schlieen"}},lt=ot[Qe]||ot.tr;y({open:!0,title:be.title,message:be.base+Be,tone:"success",confirmLabel:lt.invite,onConfirm:()=>{y(Et=>({...Et,open:!1})),(async()=>{try{const Et=String(S?.id||localStorage.getItem("tenantId")||"");if(Et){const{syncSubscription:Rt}=await _r(async()=>{const{syncSubscription:yt}=await Promise.resolve().then(()=>yn);return{syncSubscription:yt}},void 0);await Rt(Et)}await A()}catch{}a("organization")})()},cancelLabel:lt.close,onCancel:()=>y(Et=>({...Et,open:!1}))})}else b(be.title,be.base+Be,"success")}catch{}};return window.addEventListener("focus",ze),window.addEventListener("billingSuccess",qe),()=>{Pe=!0,window.removeEventListener("focus",ze)}},[]);const{currency:X,setCurrency:re}=$r();console.log("[SettingsPage] Current currency from context:",X),Z.useEffect(()=>{console.log("[SettingsPage] Current currency:",X)},[X]);const[q,ee]=Z.useState({name:k.name,email:k.email,phone:"+90 555 123 45 67",currentPassword:"",newPassword:"",confirmPassword:""}),[R,z]=Z.useState(()=>({name:x?.name??"",address:x?.address??"",taxNumber:x?.taxNumber??"",taxOffice:x?.taxOffice??"",phone:x?.phone??"",email:x?.email??"",website:x?.website??"",logoDataUrl:x?.logoDataUrl??"",bankAccountId:x?.bankAccountId??void 0,country:x?.country??"TR",logoFile:null,mersisNumber:x?.mersisNumber??"",kepAddress:x?.kepAddress??"",siretNumber:x?.siretNumber??"",sirenNumber:x?.sirenNumber??"",apeCode:x?.apeCode??"",tvaNumber:x?.tvaNumber??"",rcsNumber:x?.rcsNumber??"",steuernummer:x?.steuernummer??"",umsatzsteuerID:x?.umsatzsteuerID??"",handelsregisternummer:x?.handelsregisternummer??"",geschaeftsfuehrer:x?.geschaeftsfuehrer??"",einNumber:x?.einNumber??"",taxId:x?.taxId??"",businessLicenseNumber:x?.businessLicenseNumber??"",stateOfIncorporation:x?.stateOfIncorporation??"",registrationNumber:x?.registrationNumber??"",vatNumberGeneric:x?.vatNumberGeneric??"",taxIdGeneric:x?.taxIdGeneric??"",stateOrRegion:x?.stateOrRegion??""}));Z.useEffect(()=>{z(Pe=>({...Pe,name:x?.name??Pe.name,address:x?.address??Pe.address,taxNumber:x?.taxNumber??Pe.taxNumber,taxOffice:x?.taxOffice??Pe.taxOffice,phone:x?.phone??Pe.phone,email:x?.email??Pe.email,website:x?.website??Pe.website,logoDataUrl:x?.logoDataUrl??Pe.logoDataUrl,bankAccountId:x?.bankAccountId??Pe.bankAccountId,country:x?.country??Pe.country,mersisNumber:x?.mersisNumber??Pe.mersisNumber,kepAddress:x?.kepAddress??Pe.kepAddress,siretNumber:x?.siretNumber??Pe.siretNumber,sirenNumber:x?.sirenNumber??Pe.sirenNumber,apeCode:x?.apeCode??Pe.apeCode,tvaNumber:x?.tvaNumber??Pe.tvaNumber,rcsNumber:x?.rcsNumber??Pe.rcsNumber,steuernummer:x?.steuernummer??Pe.steuernummer,umsatzsteuerID:x?.umsatzsteuerID??Pe.umsatzsteuerID,handelsregisternummer:x?.handelsregisternummer??Pe.handelsregisternummer,geschaeftsfuehrer:x?.geschaeftsfuehrer??Pe.geschaeftsfuehrer,einNumber:x?.einNumber??Pe.einNumber,taxId:x?.taxId??Pe.taxId,businessLicenseNumber:x?.businessLicenseNumber??Pe.businessLicenseNumber,stateOfIncorporation:x?.stateOfIncorporation??Pe.stateOfIncorporation,registrationNumber:x?.registrationNumber??Pe.registrationNumber,vatNumberGeneric:x?.vatNumberGeneric??Pe.vatNumberGeneric,taxIdGeneric:x?.taxIdGeneric??Pe.taxIdGeneric,stateOrRegion:x?.stateOrRegion??Pe.stateOrRegion})),l(!1)},[x]);const W={invoiceReminders:!0,expenseAlerts:!0,salesNotifications:!0,lowStockAlerts:!0,quoteReminders:!0},se=()=>{try{const Pe=localStorage.getItem("tenantId")||"default";let ke="anon";try{const Fe=localStorage.getItem("user");if(Fe){const at=JSON.parse(Fe);ke=at?.id||at?._id||ke}}catch{}const ze=N?.id||N?._id||ke,qe=[];qe.push(`notif_prefs:${Pe}:${ze}`),ze!==ke&&qe.push(`notif_prefs:${Pe}:${ke}`),Pe!=="default"&&(qe.push(`notif_prefs:default:${ze}`),ze!==ke&&qe.push(`notif_prefs:default:${ke}`));for(const Fe of qe){const at=localStorage.getItem(Fe);if(at)try{const we=JSON.parse(at);if(we&&typeof we=="object")return{...W,...we}}catch{}}}catch{}return{...W}},[he,ne]=Z.useState(se),{updatePref:me}=f0();Z.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("auth_token"))return;const ke=await va.getNotificationPreferences();if(ke&&typeof ke=="object"){const ze={invoiceReminders:ke.invoiceReminders??he.invoiceReminders,expenseAlerts:ke.expenseAlerts??he.expenseAlerts,salesNotifications:ke.salesNotifications??he.salesNotifications,lowStockAlerts:ke.lowStockAlerts??he.lowStockAlerts,quoteReminders:ke.quoteReminders??he.quoteReminders};ne(ze),pe(ze)}}catch{}})()},[]),Z.useEffect(()=>{const ke=(()=>{try{const ze=localStorage.getItem("tenantId")||"default",qe=[],Fe=N?.id||N?._id;Fe&&qe.push(String(Fe));try{const we=localStorage.getItem("user");if(we){const Qe=JSON.parse(we),ut=Qe?.id||Qe?._id;ut&&!qe.includes(String(ut))&&qe.push(String(ut))}}catch{}qe.length===0&&qe.push("anon");const at=ze!=="default"?[ze,"default"]:[ze];for(const we of at)for(const Qe of qe){const ut=`notif_prefs:${we}:${Qe}`,be=localStorage.getItem(ut);if(be)try{const Be=JSON.parse(be);if(Be&&typeof Be=="object")return{invoiceReminders:Be.invoiceReminders??he.invoiceReminders,expenseAlerts:Be.expenseAlerts??he.expenseAlerts,salesNotifications:Be.salesNotifications??he.salesNotifications,lowStockAlerts:Be.lowStockAlerts??he.lowStockAlerts,quoteReminders:Be.quoteReminders??he.quoteReminders}}catch{}}}catch{}return null})();ke&&(Object.keys(ke).every(qe=>ke[qe]===he[qe])||ne(ke))},[N]);const[Se,Ee]=Z.useState({language:"tr",dateFormat:"DD/MM/YYYY",timezone:"Europe/Istanbul",theme:"light"}),le=j?[{id:"profile",label:_.tabs.profile,icon:Wr},{id:"company",label:_.tabs.company,icon:Fr},{id:"plan",label:_.tabs.plan||"Plan",icon:Kn},{id:"organization",label:_.tabs.organization||"Organization",icon:hs},{id:"fiscal-periods",label:_.tabs.fiscalPeriods||"Fiscal Periods",icon:Dr},{id:"notifications",label:_.tabs.notifications,icon:Wg},{id:"security",label:_.tabs.security,icon:Cs},{id:"privacy",label:_.tabs.privacy,icon:vn}]:[{id:"profile",label:_.tabs.profile,icon:Wr}];Z.useEffect(()=>{if(!d)return;le.map(ke=>ke.id).includes(d)&&a(d)},[d]);const ie=(Pe,ke)=>{ee(ze=>({...ze,[Pe]:ke})),l(!0)},ce=(Pe,ke)=>{z(ze=>({...ze,[Pe]:ke})),l(!0)},ae=Pe=>{const ke=Pe.target.files?.[0];if(!ke)return;if(!ke.type.startsWith("image/")){b(_.modals.fileTypeError.title,_.modals.fileTypeError.message,"error");return}if(ke.size>5*1024*1024){b(_.modals.fileSizeError.title,_.modals.fileSizeError.message,"error");return}const ze=new FileReader;ze.onload=qe=>{z(Fe=>({...Fe,logoDataUrl:qe.target?.result,logoFile:ke})),l(!0)},ze.readAsDataURL(ke)},ge=()=>{z(Pe=>({...Pe,logoDataUrl:"",logoFile:null})),l(!0)},pe=Pe=>{try{const ke=localStorage.getItem("tenantId")||"default",ze=[],qe=N?.id||N?._id;qe&&ze.push(String(qe));try{const we=localStorage.getItem("user");if(we){const Qe=JSON.parse(we),ut=Qe?.id||Qe?._id;ut&&ze.push(String(ut))}}catch{}ze.length===0&&ze.push("anon");const Fe=Array.from(new Set(ze)),at=new Set([ke]);ke!=="default"&&at.add("default"),at.forEach(we=>{Fe.forEach(Qe=>{const ut=`notif_prefs:${we}:${Qe}`;try{localStorage.setItem(ut,JSON.stringify(Pe))}catch{}})})}catch{}},Ae=async(Pe,ke)=>{ne(ze=>({...ze,[Pe]:ke}));try{await me(Pe,ke);const ze={...he,[Pe]:ke};pe(ze)}catch(ze){console.error("Notification preference update failed:",ze)}},fe=(Pe,ke)=>{Pe==="currency"?(console.log("[SettingsPage] handleSystemChange - Setting currency to:",ke),re(ke)):Ee(ze=>({...ze,[Pe]:ke})),l(!0)},te=async()=>{console.log(" KAYDET BUTONU BASILDI! profileData:",q),console.log(" Backend'e gnderilecek veri:",{name:q.name,phone:q.phone});try{console.log(" usersApi.updateProfile ARILIYOR...");const Pe=await va.updateProfile({name:q.name,phone:q.phone});console.log(" usersApi.updateProfile TAMAMLANDI, response:",Pe),localStorage.setItem("user",JSON.stringify(Pe)),console.log(" localStorage user gncellendi:",Pe);try{await A(),console.log(" refreshUser() baaryla tamamland!")}catch(at){console.error(" refreshUser() hatas (normal, localStorage gncel):",at)}const ke=q.currentPassword.trim(),ze=q.newPassword.trim(),qe=q.confirmPassword.trim();if(ke||ze||qe){if(!ke||!ze||!qe){b(U==="tr"?"ifre Alanlar Eksik":"Missing Password Fields",U==="tr"?"Mevcut, yeni ve tekrar ifre alanlarnn tm doldurulmal.":"All password fields (current, new, confirm) must be filled.","error");return}if(ze!==qe){b(U==="tr"?"ifre Elemiyor":"Password Mismatch",U==="tr"?"Yeni ifre ile tekrar ifre ayn deil.":"New password and confirmation do not match.","error");return}if(ze.length<8){b(U==="tr"?"ifre ok Ksa":"Password Too Short",U==="tr"?"Yeni ifre en az 8 karakter olmal.":"New password must be at least 8 characters.","error");return}try{if(console.log(" usersApi.changePassword arlyor..."),(await va.changePassword(ke,ze))?.success)b(U==="tr"?"ifre Gncellendi":"Password Updated",U==="tr"?"ifreniz baaryla deitirildi.":"Your password has been changed successfully.","success"),ee(we=>({...we,currentPassword:"",newPassword:"",confirmPassword:""}));else{b(U==="tr"?"ifre Deitirilemedi":"Password Change Failed",U==="tr"?"lem srasnda hata olutu.":"An error occurred during password change.","error");return}}catch(at){const we=at?.response?.data?.message||at?.message||"Hata";b(U==="tr"?"ifre Deitirilemedi":"Password Change Failed",we,"error");return}}if(f){const at={name:`${Pe.firstName} ${Pe.lastName}`,email:Pe.email,phone:q.phone};f(at),console.log(" onUserUpdate prop arld")}console.log(" PROFL DEKL KALICI OLARAK KAYDEDLD! "),console.log(" Database'de kaytl:",Pe);try{if(j&&L){const at=await rl.getMyTenant(),we=at?.companyName||at?.name||"";(E||"")!==(we||"")&&await rl.updateMyTenant({companyName:E})}}catch(at){console.error("Resmi irket ad gncellenemedi:",at)}let Fe=!0;try{const at={brand:{logoDataUrl:R.logoDataUrl||"",bankAccountId:R.bankAccountId||void 0,country:R.country||""}},we={companyName:E||R.name||void 0,address:R.address||void 0,taxNumber:R.taxNumber||void 0,taxOffice:R.taxOffice||void 0,phone:R.phone||void 0,email:R.email||void 0,website:R.website||void 0,mersisNumber:R.mersisNumber||void 0,kepAddress:R.kepAddress||void 0,siretNumber:R.siretNumber||void 0,sirenNumber:R.sirenNumber||void 0,apeCode:R.apeCode||void 0,tvaNumber:R.tvaNumber||void 0,rcsNumber:R.rcsNumber||void 0,steuernummer:R.steuernummer||void 0,umsatzsteuerID:R.umsatzsteuerID||void 0,handelsregisternummer:R.handelsregisternummer||void 0,geschaeftsfuehrer:R.geschaeftsfuehrer||void 0,einNumber:R.einNumber||void 0,taxId:R.taxId||void 0,businessLicenseNumber:R.businessLicenseNumber||void 0,stateOfIncorporation:R.stateOfIncorporation||void 0,settings:at};j||delete we.companyName,await rl.updateMyTenant(we)}catch(at){console.error("Tenant settings update failed",at),Fe=!1}if(m){const at={name:R.name,address:R.address,taxNumber:R.taxNumber,taxOffice:R.taxOffice,phone:R.phone,email:R.email,website:R.website,logoDataUrl:R.logoDataUrl,bankAccountId:R.bankAccountId,country:R.country?R.country:void 0,mersisNumber:R.mersisNumber,kepAddress:R.kepAddress,siretNumber:R.siretNumber,sirenNumber:R.sirenNumber,apeCode:R.apeCode,tvaNumber:R.tvaNumber,rcsNumber:R.rcsNumber,steuernummer:R.steuernummer,umsatzsteuerID:R.umsatzsteuerID,handelsregisternummer:R.handelsregisternummer,geschaeftsfuehrer:R.geschaeftsfuehrer,einNumber:R.einNumber,taxId:R.taxId,businessLicenseNumber:R.businessLicenseNumber,stateOfIncorporation:R.stateOfIncorporation,registrationNumber:R.registrationNumber,vatNumberGeneric:R.vatNumberGeneric,taxIdGeneric:R.taxIdGeneric,stateOrRegion:R.stateOrRegion};m(at)}try{await va.updateNotificationPreferences(he),pe(he)}catch(at){console.error("Notification prefs save failed:",at)}l(!1),Fe?c(!0):g(!0)}catch(Pe){console.error("Ayarlar kaydedilirken hata:",Pe),g(!0)}},ye=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.profile.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.fields.name}),e.jsx("input",{type:"text",value:q.name,onChange:Pe=>ie("name",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.fields.email}),e.jsx("input",{type:"email",value:q.email,onChange:Pe=>ie("email",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.fields.phone}),e.jsx("input",{type:"tel",value:q.phone,onChange:Pe=>ie("phone",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.profile.passwordTitle}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.passwordFields.current}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",value:q.currentPassword,onChange:Pe=>ie("currentPassword",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>r(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i?e.jsx(nl,{className:"w-4 h-4"}):e.jsx(ss,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.passwordFields.new}),e.jsx("input",{type:i?"text":"password",value:q.newPassword,onChange:Pe=>ie("newPassword",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.profile.passwordFields.confirm}),e.jsx("input",{type:i?"text":"password",value:q.confirmPassword,onChange:Pe=>ie("confirmPassword",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),Te=()=>{const Pe=t.length>0,ke=t.find(Fe=>Fe.id===R.bankAccountId),ze=!!(R.country&&String(R.country).trim()!==""),qe=R.country==="TR"?"turkey":R.country==="FR"?"france":R.country==="DE"?"germany":R.country==="US"?"usa":"other";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Xo,{title:_.company.title,children:[e.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-md bg-blue-50 p-3 text-blue-800",children:[e.jsx(qc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:_.company.legalFields.countryHelp||"irket bilgilerini girebilmek iin ltfen irket lkesini sein."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.countrySelectLabel||"lke"}),e.jsxs("select",{value:R.country,onChange:Fe=>ce("country",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"TR",children:_.company.legalFields.countryOptions?.TR||"Trkiye"}),e.jsx("option",{value:"US",children:_.company.legalFields.countryOptions?.US||"Amerika"}),e.jsx("option",{value:"DE",children:_.company.legalFields.countryOptions?.DE||"Almanya"}),e.jsx("option",{value:"FR",children:_.company.legalFields.countryOptions?.FR||"Fransa"}),e.jsx("option",{value:"OTHER",children:_.company.legalFields.countryOptions?.OTHER||"Dier"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resmi irket Ad"}),e.jsx("input",{type:"text",value:E,onChange:Fe=>{I(Fe.target.value),l(!0)},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${j?"border-gray-300":"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed"}`,disabled:!j,title:j?void 0:"irket adn yalnzca irket sahibi veya ynetici gncelleyebilir"}),!j&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Bu alan yalnzca irket sahibi tarafndan deitirilebilir."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fatura/Marka Ad"}),e.jsx("input",{type:"text",value:R.name,onChange:Fe=>ce("name",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Bu alan faturada/ekranda marka ad olarak kullanlabilir."})]}),ze&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.fields.phone}),e.jsx("input",{type:"tel",value:R.phone,onChange:Fe=>ce("phone",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.fields.email}),e.jsx("input",{type:"email",value:R.email,onChange:Fe=>ce("email",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.fields.website}),e.jsx("input",{type:"url",value:R.website,onChange:Fe=>ce("website",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.fields.address}),e.jsx("textarea",{value:R.address,onChange:Fe=>ce("address",Fe.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),ze&&e.jsx(Xo,{title:_.company.logo.label,defaultOpen:!1,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[R.logoDataUrl?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:R.logoDataUrl,alt:"Company Logo",className:"w-24 h-24 object-contain border border-gray-300 rounded-lg"}),e.jsx("button",{onClick:ge,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:""})]}):e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:ae,className:"hidden"}),e.jsx("label",{htmlFor:"logo-upload",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:_.company.logo.upload}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:_.company.logo.helper})]})]})}),ze&&e.jsxs(Xo,{title:_.company.legalFields.title,subtitle:_.company.legalFields.subtitle,defaultOpen:!1,children:[qe==="turkey"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",_.company.legalFields.turkey.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.turkey.mersisNumber}),e.jsx("input",{type:"text",value:R.mersisNumber,onChange:Fe=>ce("mersisNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0123456789012345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.turkey.kepAddress}),e.jsx("input",{type:"email",value:R.kepAddress,onChange:Fe=>ce("kepAddress",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sirket@hs01.kep.tr"})]})]})]}),qe==="france"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",_.company.legalFields.france.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.france.siretNumber}),e.jsx("input",{type:"text",value:R.siretNumber,onChange:Fe=>ce("siretNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345678901234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.france.sirenNumber}),e.jsx("input",{type:"text",value:R.sirenNumber,onChange:Fe=>ce("sirenNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.france.apeCode}),e.jsx("input",{type:"text",value:R.apeCode,onChange:Fe=>ce("apeCode",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"6202A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.france.tvaNumber}),e.jsx("input",{type:"text",value:R.tvaNumber,onChange:Fe=>ce("tvaNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"FR12345678901"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.france.rcsNumber}),e.jsx("input",{type:"text",value:R.rcsNumber,onChange:Fe=>ce("rcsNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 456 789 RCS Paris"})]})]})]}),qe==="germany"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",_.company.legalFields.germany.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.germany.steuernummer}),e.jsx("input",{type:"text",value:R.steuernummer,onChange:Fe=>ce("steuernummer",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12/345/67890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.germany.umsatzsteuerID}),e.jsx("input",{type:"text",value:R.umsatzsteuerID,onChange:Fe=>ce("umsatzsteuerID",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"DE123456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.germany.handelsregisternummer}),e.jsx("input",{type:"text",value:R.handelsregisternummer,onChange:Fe=>ce("handelsregisternummer",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"HRB 12345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.germany.geschaeftsfuehrer}),e.jsx("input",{type:"text",value:R.geschaeftsfuehrer,onChange:Fe=>ce("geschaeftsfuehrer",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Max Mustermann"})]})]})]}),qe==="usa"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",_.company.legalFields.usa.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.usa.einNumber}),e.jsx("input",{type:"text",value:R.einNumber,onChange:Fe=>ce("einNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12-3456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.usa.taxId}),e.jsx("input",{type:"text",value:R.taxId,onChange:Fe=>ce("taxId",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123-45-6789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.usa.businessLicenseNumber}),e.jsx("input",{type:"text",value:R.businessLicenseNumber,onChange:Fe=>ce("businessLicenseNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"BL123456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.usa.stateOfIncorporation}),e.jsx("input",{type:"text",value:R.stateOfIncorporation,onChange:Fe=>ce("stateOfIncorporation",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Delaware"})]})]})]}),qe==="other"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",_.company.legalFields.other.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.other.registrationNumber}),e.jsx("input",{type:"text",value:R.registrationNumber,onChange:Fe=>ce("registrationNumber",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.other.vatNumber}),e.jsx("input",{type:"text",value:R.vatNumberGeneric,onChange:Fe=>ce("vatNumberGeneric",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.other.taxId}),e.jsx("input",{type:"text",value:R.taxIdGeneric,onChange:Fe=>ce("taxIdGeneric",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.legalFields.other.stateOrRegion}),e.jsx("input",{type:"text",value:R.stateOrRegion,onChange:Fe=>ce("stateOrRegion",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),ze&&e.jsx(Xo,{title:_.company.iban.sectionTitle,defaultOpen:!1,children:Pe?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.company.iban.bankOption}),e.jsxs("select",{value:R.bankAccountId||"",onChange:Fe=>ce("bankAccountId",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:_.company.iban.bankSelectPlaceholder}),t.map(Fe=>e.jsxs("option",{value:Fe.id,children:[Fe.bankName," - ",Fe.accountName]},Fe.id))]}),ke&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["IBAN: ",ke.iban]})]}):e.jsx("p",{className:"text-gray-600",children:_.company.iban.noBanks})}),ze&&e.jsx(Xo,{title:_.system.title,defaultOpen:!1,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.system.currencyLabel}),e.jsxs("select",{value:X,onChange:Fe=>{console.log("[SettingsPage] Currency dropdown changed to:",Fe.target.value),fe("currency",Fe.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"TRY",children:_.system.currencies.TRY}),e.jsx("option",{value:"USD",children:_.system.currencies.USD}),e.jsx("option",{value:"EUR",children:_.system.currencies.EUR})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.system.dateFormatLabel}),e.jsxs("select",{value:Se.dateFormat,onChange:Fe=>fe("dateFormat",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:_.system.timezoneLabel}),e.jsxs("select",{value:Se.timezone,onChange:Fe=>fe("timezone",Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Europe/Istanbul",children:_.system.timezones["Europe/Istanbul"]}),e.jsx("option",{value:"UTC",children:_.system.timezones.UTC}),e.jsx("option",{value:"America/New_York",children:_.system.timezones["America/New_York"]})]})]})]})})]})},Ce=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.notifications.title}),e.jsx("div",{className:"space-y-4",children:Object.entries(he).map(([Pe,ke])=>{const ze=M[Pe]??Pe;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:ze})}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!ke,onChange:qe=>Ae(Pe,qe.target.checked),className:"sr-only peer"}),e.jsx("div",{className:'w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[""] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600'})]})]},Pe)})})]})}),je=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:_.security.tipsTitle}),e.jsx("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:_.security.tips.map((Pe,ke)=>e.jsx("li",{children:Pe},ke))})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.security.title}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:_.security.cards.twoFactor.title}),e.jsx("div",{className:"text-sm text-gray-500",children:_.security.cards.twoFactor.description})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:_.security.cards.twoFactor.action})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:_.security.cards.sessionHistory.title}),e.jsx("div",{className:"text-sm text-gray-500",children:_.security.cards.sessionHistory.description})]}),e.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:_.security.cards.sessionHistory.action})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:_.security.cards.activeSessions.title}),e.jsx("div",{className:"text-sm text-gray-500",children:_.security.cards.activeSessions.description})]}),e.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:_.security.cards.activeSessions.action})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsx(LS,{})})]}),tt=()=>{const Pe=async()=>{try{F(!0);const ze=localStorage.getItem("auth_token");if(console.log("Token found:",ze?"YES":"NO"),!ze){b(_.modals.authRequired.title,_.modals.authRequired.message,"error");return}console.log("Making export request...");const qe=await fetch("/api/users/me/export",{method:"GET",headers:{Authorization:`Bearer ${ze}`}});if(console.log("Response status:",qe.status),!qe.ok){if(qe.status===401){b(_.modals.sessionExpired.title,_.modals.sessionExpired.message,"error");return}const Qe=await qe.text();throw console.error("Export error:",qe.status,Qe),new Error(`Export failed: ${qe.status} - ${Qe}`)}const Fe=await qe.blob(),at=window.URL.createObjectURL(Fe),we=document.createElement("a");we.style.display="none",we.href=at,we.download=`my-data-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(we),we.click(),window.URL.revokeObjectURL(at),document.body.removeChild(we),alert("Data exported successfully!")}catch(ze){console.error("Export error:",ze),alert(`Failed to export data: ${ze instanceof Error?ze.message:String(ze)}`)}finally{F(!1)}},ke=async()=>{try{O(!0);const ze=localStorage.getItem("auth_token");if(!ze){b(_.modals.authRequired.title,_.modals.authRequired.message,"error"),O(!1);return}const qe=await fetch("/api/users/me/delete",{method:"POST",headers:{Authorization:`Bearer ${ze}`,"Content-Type":"application/json"}});if(!qe.ok){if(qe.status===401){b(_.modals.sessionExpired.title,_.modals.sessionExpired.message,"error"),O(!1);return}throw new Error("Account deletion request failed")}const Fe=await qe.json();b(_.modals.deleteRequested.title,Fe?.message||_.modals.deleteRequested.message,"success"),T(!1)}catch(ze){console.error("Account deletion error:",ze),b(_.modals.deleteFailed.title,_.modals.deleteFailed.message,"error")}finally{O(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.privacy.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:_.privacy.gdpr.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(cn,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:_.privacy.gdpr.export.title}),e.jsx("p",{className:"text-sm text-gray-500",children:_.privacy.gdpr.export.description})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:_.privacy.gdpr.export.disclaimer}),e.jsx("button",{onClick:Pe,disabled:D,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:D?"Exporting...":_.privacy.gdpr.export.button})]}),e.jsxs("div",{className:"p-6 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(dn,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:_.privacy.gdpr.delete.title}),e.jsx("p",{className:"text-sm text-red-600",children:_.privacy.gdpr.delete.description})]})]}),e.jsx("p",{className:"text-xs text-red-600 mb-4",children:_.privacy.gdpr.delete.warning}),e.jsx("button",{onClick:()=>T(!0),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:_.privacy.gdpr.delete.button})]})]})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:_.privacy.gdpr.delete.confirmDialog.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:_.privacy.gdpr.delete.confirmDialog.message}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:_.privacy.gdpr.delete.confirmDialog.retention})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>T(!1),disabled:H,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:_.privacy.gdpr.delete.confirmDialog.cancel}),e.jsx("button",{onClick:ke,disabled:H,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:H?"Processing...":_.privacy.gdpr.delete.confirmDialog.confirm})]})]})})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(hl,{className:"w-8 h-8 text-blue-600 mr-3"}),_.header.title]}),e.jsx("p",{className:"text-gray-600",children:_.header.subtitle})]}),n&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-orange-600",children:[e.jsx(qc,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:_.header.unsavedChanges})]}),e.jsxs("button",{onClick:te,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(rv,{className:"w-4 h-4"}),e.jsx("span",{children:_.header.save})]})]})]}),e.jsx("div",{className:"flex space-x-2 border-b border-gray-200 mt-6 sticky top-16 z-20 bg-white",children:le.map(Pe=>{const ke=Pe.icon;return e.jsxs("button",{onClick:()=>a(Pe.id),className:`flex items-center space-x-2 px-4 py-3 border-b-2 transition-colors ${s===Pe.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(ke,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:Pe.label})]},Pe.id)})})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[s==="profile"&&ye(),s==="company"&&Te(),s==="plan"&&j&&e.jsx(HS,{tenant:S,currentLanguage:U,text:_}),s==="organization"&&e.jsx($S,{}),s==="fiscal-periods"&&e.jsx(VS,{}),s==="notifications"&&Ce(),s==="security"&&je(),s==="privacy"&&tt()]})}),e.jsx(mo,{isOpen:o,onClose:()=>c(!1),title:_.modals.saveSuccess.title,message:_.modals.saveSuccess.message,confirmLabel:B("common.ok"),tone:"success",autoCloseMs:1800}),e.jsx(mo,{isOpen:p,onClose:()=>g(!1),title:_.modals.saveError.title,message:_.modals.saveError.message,confirmLabel:B("common.ok"),tone:"error"}),e.jsx(mo,{isOpen:h.open,onClose:()=>y(Pe=>({...Pe,open:!1})),title:h.title,message:h.message,confirmLabel:h.confirmLabel||B("common.ok"),cancelLabel:h.cancelLabel,onConfirm:h.onConfirm,onCancel:h.onCancel,tone:h.tone})]})}const WS=()=>localStorage.getItem("admin-token"),Rr=()=>{const k=WS();return k?{"admin-token":k}:{}},dr={login:async(k,x)=>(await it.post("/admin/login",{username:k,password:x})).data,getUsers:async k=>{const x=k?`?tenantId=${encodeURIComponent(k)}`:"";return(await it.get(`/admin/users${x}`,{headers:Rr()})).data},getTenants:async k=>{const x=new URLSearchParams;k?.status&&x.append("status",k.status),k?.plan&&x.append("plan",k.plan),k?.startFrom&&x.append("startFrom",k.startFrom),k?.startTo&&x.append("startTo",k.startTo);const t=x.toString()?`?${x.toString()}`:"";return(await it.get(`/admin/tenants${t}`,{headers:Rr()})).data},getUserData:async k=>(await it.get(`/admin/user/${k}/data`,{headers:Rr()})).data,getTenantData:async k=>(await it.get(`/admin/tenant/${k}/data`,{headers:Rr()})).data,getTables:async()=>(await it.get("/admin/tables",{headers:Rr()})).data,getTableData:async(k,x,t,f)=>{const m=new URLSearchParams;return x&&m.append("tenantId",x),t&&m.append("limit",t.toString()),f&&m.append("offset",f.toString()),(await it.get(`/admin/table/${k}?${m.toString()}`,{headers:Rr()})).data},getRetentionConfig:async()=>(await it.get("/admin/retention/config",{headers:Rr()})).data,getRetentionStatus:async()=>(await it.get("/admin/retention/status",{headers:Rr()})).data,getRetentionHistory:async(k,x)=>{const t=new URLSearchParams;return k&&t.append("limit",k.toString()),x&&t.append("offset",x.toString()),(await it.get(`/admin/retention/history?${t.toString()}`,{headers:Rr()})).data},executeRetentionDryRun:async()=>(await it.post("/admin/retention/dry-run",{},{headers:Rr()})).data,executeRetention:async()=>(await it.post("/admin/retention/execute",{confirm:!0},{headers:Rr()})).data,listOrganizations:async()=>(await it.get("/admin/organizations",{headers:Rr()})).data,getOrganizationMembers:async k=>(await it.get(`/admin/organizations/${k}/members`,{headers:Rr()})).data,getOrganizationInvites:async k=>(await it.get(`/admin/organizations/${k}/invites`,{headers:Rr()})).data,updateMemberRole:async(k,x,t)=>(await it.patch(`/admin/organizations/${k}/members/${x}/role`,{role:t},{headers:Rr()})).data,removeMember:async(k,x)=>(await it.delete(`/admin/organizations/${k}/members/${x}`,{headers:Rr()})).data,updateUserStatus:async(k,x)=>(await it.patch(`/admin/users/${k}/status`,{isActive:x},{headers:Rr()})).data,updateUserDetails:async(k,x)=>(await it.patch(`/admin/users/${k}`,x,{headers:Rr()})).data,sendPasswordReset:async k=>(await it.post(`/admin/users/${k}/password-reset`,{},{headers:Rr()})).data,updateTenantDetails:async(k,x)=>(await it.patch(`/admin/tenant/${k}`,x,{headers:Rr()})).data,updateTenantSubscription:async(k,x)=>(await it.patch(`/admin/tenant/${k}/subscription`,x,{headers:Rr()})).data,deleteTenant:async(k,x)=>{try{return(await it.patch(`/admin/tenant/${k}/delete`,{confirm:!0,hard:x?.hard??!0,backupBefore:x?.backupBefore??!1},{headers:Rr()})).data}catch(t){const f=t?.response?.status,m=t?.response?.data?.message||t?.message;throw new Error(`Silme hatas${f?` (HTTP ${f})`:""}: ${m||"Bilinmeyen"}`)}},deleteUser:async(k,x)=>(await it.delete(`/admin/users/${k}`,{headers:Rr(),data:{confirm:!0,hard:x?.hard??!1}})).data,getPlanLimits:async()=>(await it.get("/admin/plan-limits",{headers:Rr()})).data,updatePlanLimits:async(k,x)=>(await it.patch(`/admin/plan-limits/${k}`,x,{headers:Rr()})).data,getTenantLimits:async k=>(await it.get(`/admin/tenant/${k}/limits`,{headers:Rr()})).data,updateTenantLimits:async(k,x)=>(await it.patch(`/admin/tenant/${k}/limits`,x,{headers:Rr()})).data,getTenantOverview:async k=>(await it.get(`/admin/tenant/${k}/overview`,{headers:Rr()})).data,getTenantSubscriptionRaw:async k=>(await it.get(`/admin/tenant/${k}/subscription-raw`,{headers:Rr()})).data,getTenantInvoices:async k=>{try{return(await it.get(`/admin/tenant/${k}/invoices`,{headers:Rr()})).data}catch(x){if(x?.response?.status===404)return{invoices:[]};throw x}},addUserToTenant:async(k,x)=>(await it.post(`/admin/tenant/${k}/users`,x,{headers:Rr()})).data},$n="/admin/backups",Vn=()=>{const k=localStorage.getItem("admin-token");return{headers:k?{"admin-token":k}:{}}},bi={list:async k=>{const x=k?{type:k}:{};return(await it.get($n,{params:x,...Vn()})).data},listUserBackups:async k=>(await it.get(`${$n}/user/${k}`,Vn())).data,createSystemBackup:async k=>(await it.post(`${$n}/system`,{description:k},Vn())).data,createUserBackup:async(k,x)=>(await it.post(`${$n}/user/${k}`,{description:x},Vn())).data,createTenantBackup:async(k,x)=>(await it.post(`${$n}/tenant/${k}`,{description:x},Vn())).data,restoreSystem:async k=>(await it.post(`${$n}/restore/system/${k}`,{confirm:!0},Vn())).data,restoreUser:async(k,x)=>(await it.post(`${$n}/restore/user/${k}/${x}`,{confirm:!0},Vn())).data,restoreTenant:async(k,x)=>(await it.post(`${$n}/restore/tenant/${k}/${x}`,{confirm:!0},Vn())).data,delete:async k=>(await it.delete(`${$n}/${k}`,Vn())).data,cleanup:async()=>(await it.post(`${$n}/cleanup`,{},Vn())).data,getStatistics:async()=>(await it.get(`${$n}/statistics`,Vn())).data};function YS(){const[k,x]=Z.useState([]),[t,f]=Z.useState(null),[m,d]=Z.useState([]),[s,a]=Z.useState(!1),[i,r]=Z.useState("all"),[n,l]=Z.useState(""),[o,c]=Z.useState({show:!1,type:"system"}),[p,g]=Z.useState(null),h=_=>{if(_&&typeof _=="object"&&"message"in _){const M=_.message;if(typeof M=="string")return M}return""},y=Z.useCallback(async()=>{try{a(!0);const _=i==="all"?await bi.list():await bi.list(i);x(_)}catch(_){$("error","Backup listesi yklenemedi: "+h(_))}finally{a(!1)}},[i]);Z.useEffect(()=>{y(),b(),C()},[i,y]);const b=async()=>{try{const _=await bi.getStatistics();f(_)}catch(_){console.error("statistikler yklenemedi:",_)}},C=async()=>{try{const _=await dr.getUsers();d(_)}catch(_){console.error("Kullanclar yklenemedi:",_)}},T=async()=>{try{a(!0),await bi.createSystemBackup("Manuel sistem yedei"),$("success","Sistem yedei oluturuldu"),y(),b()}catch(_){$("error","Yedek oluturulamad: "+h(_))}finally{a(!1)}},D=async()=>{if(!n){$("error","Ltfen bir kullanc sein");return}try{a(!0),await bi.createUserBackup(n,"Manuel kullanc yedei"),$("success","Kullanc yedei oluturuldu"),y(),b()}catch(_){$("error","Yedek oluturulamad: "+h(_))}finally{a(!1)}},F=async()=>{if(o.backup)try{a(!0),o.type==="system"?(await bi.restoreSystem(o.backup.id),$("success","Sistem geri yklendi! Sayfa yenileniyor..."),setTimeout(()=>window.location.reload(),2e3)):o.type==="user"&&(await bi.restoreUser(o.backup.entityId,o.backup.id),$("success","Kullanc verileri geri yklendi")),c({show:!1,type:"system"}),y()}catch(_){$("error","Geri ykleme baarsz: "+h(_))}finally{a(!1)}},H=async _=>{if(confirm("Bu yedei silmek istediinizden emin misiniz?"))try{a(!0),await bi.delete(_),$("success","Yedek silindi"),y(),b()}catch(M){$("error","Yedek silinemedi: "+h(M))}finally{a(!1)}},O=async()=>{if(confirm("30 gnden eski tm yedekleri silmek istediinizden emin misiniz?"))try{a(!0);const _=await bi.cleanup();$("success",_.message),y(),b()}catch(_){$("error","Temizleme baarsz: "+h(_))}finally{a(!1)}},$=(_,M)=>{g({type:_,text:M}),setTimeout(()=>g(null),5e3)},B=_=>{if(_===0)return"0 Bytes";const M=1024,A=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(_)/Math.log(M));return Math.round(_/Math.pow(M,N)*100)/100+" "+A[N]},K=_=>new Date(_).toLocaleString("tr-TR"),U=_=>{switch(_){case"system":return e.jsx(Hc,{className:"h-5 w-5"});case"user":return e.jsx(Wr,{className:"h-5 w-5"});case"tenant":return e.jsx(Fr,{className:"h-5 w-5"});default:return e.jsx(Ji,{className:"h-5 w-5"})}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ji,{className:"h-8 w-8"}),"Yedekleme Ynetimi"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Sistem ve kullanc bazl yedeklerinizi ynetin"})]}),p&&e.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center gap-2 ${p.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[p.type==="success"?e.jsx(bs,{className:"h-5 w-5"}):e.jsx(yo,{className:"h-5 w-5"}),p.text]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Yedek"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.total})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Sistem Yedekleri"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.systemBackups})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Kullanc Yedekleri"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.userBackups})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Boyut"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.totalSizeMB," MB"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Yeni Yedek Olutur"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Hc,{className:"h-5 w-5 text-blue-600"}),"Sistem Yedei"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tm veritabannn yedeini alr"}),e.jsxs("button",{onClick:T,disabled:s,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(cn,{className:"h-4 w-4"}),"Sistem Yedei Al"]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Wr,{className:"h-5 w-5 text-green-600"}),"Kullanc Yedei"]}),e.jsxs("select",{value:n,onChange:_=>l(_.target.value),className:"w-full mb-3 px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Kullanc Sein"}),m.map(_=>e.jsxs("option",{value:_.id,children:[_.firstName," ",_.lastName," (",_.email,")"]},_.id))]}),e.jsxs("button",{onClick:D,disabled:s||!n,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(cn,{className:"h-4 w-4"}),"Kullanc Yedei Al"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:O,disabled:s,className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(ts,{className:"h-4 w-4"}),"Eski Yedekleri Temizle (30+ gn)"]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtre:"}),["all","system","user","tenant"].map(_=>e.jsx("button",{onClick:()=>r(_),className:`px-3 py-1 rounded-lg text-sm ${i===_?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:_==="all"?"Tm":_==="system"?"Sistem":_==="user"?"Kullanc":"Tenant"},_))]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold",children:["Yedekler (",k.length,")"]})}),s?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):k.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Henz yedek bulunmuyor"}):e.jsx("div",{className:"divide-y divide-gray-200",children:k.map(_=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${_.type==="system"?"bg-blue-100 text-blue-600":_.type==="user"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:U(_.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:_.type==="system"?"Sistem Yedei":_.type==="user"?`Kullanc: ${_.entityName}`:`Tenant: ${_.entityName}`}),e.jsx("span",{className:"text-xs text-gray-500",children:B(_.size)})]}),_.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ea,{className:"h-4 w-4"}),K(_.createdAt)]}),e.jsx("span",{className:"text-xs font-mono",children:_.filename})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>{let M="system";_.type==="user"?M="user":_.type==="tenant"&&(M="tenant"),c({show:!0,backup:_,type:M})},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(Om,{className:"h-4 w-4"}),"Geri Ykle"]}),e.jsxs("button",{onClick:()=>H(_.id),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center gap-1 text-sm",children:[e.jsx(ts,{className:"h-4 w-4"}),"Sil"]})]})]})},_.id))})]}),o.show&&o.backup&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:e.jsx(dn,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Geri Ykleme Onay"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:o.type==="system"?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dikkat:"})," Tm sistem ",K(o.backup.createdAt)," tarihine geri yklenecek. Bu ilem geri alnamaz!"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:o.backup.entityName})," kullancsnn verileri"," ",K(o.backup.createdAt)," tarihine geri yklenecek. Dier kullanclar etkilenmeyecek."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>c({show:!1,type:"system"}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"ptal"}),e.jsx("button",{onClick:F,disabled:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?"Geri Ykleniyor...":"Onayla"})]})]})})]})}function XS(){const[k,x]=Z.useState(null),[t,f]=Z.useState(null),[m,d]=Z.useState([]),[s,a]=Z.useState(!1),[i,r]=Z.useState(!1),[n,l]=Z.useState("overview"),[o,c]=Z.useState(""),[p,g]=Z.useState("");Z.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const[O,$,B]=await Promise.all([dr.getRetentionConfig(),dr.getRetentionStatus(),dr.getRetentionHistory()]);O.success&&x(O.config),$.success&&f($),B.success&&d(B.history)}catch(O){const $=O&&typeof O=="object"&&"message"in O?String(O.message||""):"";c("Failed to load retention data: "+$)}finally{a(!1)}},y=async()=>{try{r(!0),c(""),g(""),(await dr.executeRetentionDryRun()).success&&(g("Dry-run completed successfully. Check the output below."),await h())}catch(O){const $=O&&typeof O=="object"&&"message"in O?String(O.message||""):"";c("Dry-run failed: "+$)}finally{r(!1)}},b=async()=>{if(window.confirm(` WARNING: This will permanently delete data!

Are you absolutely sure you want to proceed with live purge?

This action cannot be undone.`))try{r(!0),c(""),g(""),(await dr.executeRetention()).success&&(g("Live purge completed successfully. Data has been permanently deleted."),await h())}catch($){const B=$&&typeof $=="object"&&"message"in $?String($.message||""):"";c("Live purge failed: "+B)}finally{r(!1)}},C=O=>new Date(O).toLocaleString("tr-TR"),T=O=>O.legalHold?e.jsx("span",{title:"Legal Hold - Protected",children:e.jsx(Cs,{className:"w-5 h-5 text-yellow-600"})}):e.jsx("span",{title:"Active Retention Policy",children:e.jsx(ea,{className:"w-5 h-5 text-blue-600"})}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Temizlenebilir Sistem Loglar"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t?.statistics.eligibleAuditLogs||0})]}),e.jsx(Ji,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-800 text-sm font-medium",children:"Sresi Dolmu irketler"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:t?.statistics.expiredTenants||0})]}),e.jsx(zb,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-800 text-sm font-medium",children:"Eski Yedek Dosyalar"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:t?.statistics.expiredBackupFiles||0})]}),e.jsx(ts,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Toplam Temizlenebilir"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:t?.statistics.totalEligibleRecords||0})]}),e.jsx(sd,{className:"w-8 h-8 text-green-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(zm,{className:"w-5 h-5 mr-2"}),"Veri Temizleme lemleri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:y,disabled:i||s,className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ss,{className:"w-5 h-5 mr-2"}),i?"alyor...":"Test altr (Dry Run)"]}),e.jsxs("button",{onClick:b,disabled:i||s,className:"flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ts,{className:"w-5 h-5 mr-2"}),i?"altrlyor...":"Gerek Temizlik Yap"]})]}),e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(dn,{className:"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium",children:"Gvenlik Kurallar:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsxs("li",{children:[" nce ",e.jsx("strong",{children:"Test altr"})," ile hangi verilerin silineceini grn"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Gerek Temizlik"})," verileri kalc olarak siler - yedeklerinizin olduundan emin olun"]}),e.jsx("li",{children:" Hukuki koruma (muhasebe belgeleri) altndaki kaytlar otomatik korunur"}),e.jsx("li",{children:" Tm ilemler denetim kaydnda loglanr"})]})]})]})})]}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(yo,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-800",children:o})]})}),p&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("p",{className:"text-green-800",children:p})]})}),t&&e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:["Last updated: ",C(t.lastUpdated)]})]}),F=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(hl,{className:"w-5 h-5 mr-2"}),"Retention Policies"]}),k&&e.jsx("div",{className:"space-y-4",children:Object.entries(k.retentionPolicies).map(([O,$])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[T($),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"font-semibold text-gray-800 capitalize",children:O.replace("_"," ")}),e.jsx("p",{className:"text-gray-600 text-sm",children:$.description}),$.note&&e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[" ",$.note]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.retentionPeriod}),e.jsxs("div",{className:"text-xs text-gray-500",children:[$.retentionDays," days"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:$.categories.map(B=>e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${$.legalHold?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:B},B))})})]},O))}),k&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Global Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${k.globalSettings.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.globalSettings.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dry Run Default:"}),e.jsx("span",{className:"ml-2",children:k.globalSettings.dryRunByDefault?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Audit Retention:"}),e.jsx("span",{className:"ml-2",children:k.globalSettings.auditRetention?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Max Records Per Run:"}),e.jsx("span",{className:"ml-2",children:k.globalSettings.maxPurgeRecordsPerRun})]})]})]})]})}),H=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsx(Dr,{className:"w-5 h-5 mr-2"}),"Retention Job History"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Policy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C(O.timestamp)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.details.policy}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.details.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsxs("div",{children:["Eligible: ",O.details.eligibleRecords]}),e.jsxs("div",{children:["Purged: ",O.details.purgedRecords]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[O.details.dryRun?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Dry Run"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Live Purge"}),O.details.errors.length>0&&e.jsx("span",{title:"Had errors",children:e.jsx(dn,{className:"w-4 h-4 text-yellow-600 ml-2"})})]})})]},O.id))})]}),m.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No retention job history found"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(Ji,{className:"w-8 h-8 mr-3 text-blue-600"}),"Veri Temizleme Ynetimi"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Otomatik veri temizleme ve saklama politikalarn ynetin"})]}),e.jsxs("button",{onClick:h,disabled:s,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",children:[e.jsx(il,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Yenile"]})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[e.jsx("button",{onClick:()=>l("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="overview"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Genel Bak"}),e.jsx("button",{onClick:()=>l("config"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="config"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Yaplandrma"}),e.jsx("button",{onClick:()=>l("history"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="history"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Gemi"})]}),s&&e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(il,{className:"w-6 h-6 animate-spin text-blue-600 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Loading retention data..."})]}),!s&&e.jsxs(e.Fragment,{children:[n==="overview"&&D(),n==="config"&&F(),n==="history"&&H()]})]})}const QS={free:"Starter",professional:"Pro",enterprise:"Business"},io=({value:k,onChange:x,label:t})=>{const[f,m]=Z.useState(String(k));return Z.useEffect(()=>m(String(k)),[k]),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:t}),e.jsx("input",{type:"number",value:f,onChange:d=>m(d.target.value),onBlur:()=>{const d=parseInt(f,10);if(isNaN(d))return m(String(k));x(d)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),e.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"-1 = Snrsz"})]})},ZS=()=>{const[k,x]=Z.useState({}),[t,f]=Z.useState(!1),[m,d]=Z.useState(""),s=async()=>{try{f(!0);const n=(await dr.getPlanLimits())?.limits||{};x(n)}catch(r){console.error("Plan limitleri alnamad",r)}finally{f(!1)}};Z.useEffect(()=>{s()},[]);const a=async(r,n)=>{try{f(!0),await dr.updatePlanLimits(r,n),d("Kaydedildi"),setTimeout(()=>d(""),2e3),s()}catch(l){console.error("Gncelleme baarsz",l)}finally{f(!1)}},i=r=>{const n=k[r];return n?e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:QS[r]}),e.jsx("button",{disabled:t,onClick:()=>s(),className:"text-sm text-gray-600 hover:text-gray-900",children:"Yenile"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(io,{label:"Maks. Kullanc",value:n.maxUsers,onChange:l=>a(r,{maxUsers:l})}),e.jsx(io,{label:"Maks. Mteri",value:n.maxCustomers,onChange:l=>a(r,{maxCustomers:l})}),e.jsx(io,{label:"Maks. Tedariki",value:n.maxSuppliers,onChange:l=>a(r,{maxSuppliers:l})}),e.jsx(io,{label:"Maks. Banka Hesab",value:n.maxBankAccounts,onChange:l=>a(r,{maxBankAccounts:l})}),e.jsx(io,{label:"Aylk Maks. Fatura",value:n.monthly?.maxInvoices??-1,onChange:l=>a(r,{monthly:{maxInvoices:l}})}),e.jsx(io,{label:"Aylk Maks. Gider",value:n.monthly?.maxExpenses??-1,onChange:l=>a(r,{monthly:{maxExpenses:l}})})]})]},r):null};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Plan Limitleri"}),m&&e.jsx("div",{className:"text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:m})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Plan limitlerini burada grntleyebilir ve dzenleyebilirsiniz. Deiiklikler annda geerlidir ve sunucu yeniden balatldnda config/plan-limits.json dosyasndan yklenir."}),t&&e.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"Ykleniyor"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["free","professional","enterprise"].map(i)})]})},JS=()=>{const[k,x]=Z.useState([]),[t,f]=Z.useState(""),[m,d]=Z.useState(""),[s,a]=Z.useState(null),[i,r]=Z.useState(!1),[n,l]=Z.useState(""),[o,c]=Z.useState(""),[p,g]=Z.useState({}),[h,y]=Z.useState([]),[b,C]=Z.useState([]),[T,D]=Z.useState(!1),[F,H]=Z.useState(null),[O,$]=Z.useState(!1),B=Z.useRef(""),K=fe=>{if(!fe)return"STARTER";const te=String(fe).toLowerCase();return te.includes("enterprise")||te==="business"?"BUSINESS":te.includes("professional")||te==="pro"?"PRO":"STARTER"},U=fe=>{const te=String(fe).toUpperCase();return te==="BUSINESS"?"enterprise":te==="PRO"?"professional":"basic"};Z.useEffect(()=>{(async()=>{try{r(!0);const te=await dr.getTenants();x(te||[])}catch(te){const ye=te?.response?.status;l(ye===401?"Admin girii gerekli. Ltfen admin panelde oturum an.":"irket listesi alnamad")}finally{r(!1)}})()},[]);const _=Z.useMemo(()=>{const fe=t.trim().toLowerCase();return fe?k.filter(te=>(te.companyName||te.name||"").toLowerCase().includes(fe)||K(te.subscriptionPlan).toLowerCase().includes(fe)):k},[k,t]),M=async fe=>{if(fe)try{r(!0);const te=await dr.getTenantOverview(fe);if(B.current!==fe)return;a(te),g(te?.limits?.overrides||{}),y([]);try{const ye=await dr.getTenantSubscriptionRaw(fe);if(B.current!==fe)return;H(ye)}catch{H(null)}try{const ye=await dr.getTenantInvoices(fe);if(B.current!==fe)return;if(Array.isArray(ye?.invoices)&&ye.invoices.length>0)C(ye.invoices);else try{const Te=typeof window<"u"&&!!localStorage.getItem("auth_token"),Ce=(()=>{try{const je=localStorage.getItem("tenant");return je?JSON.parse(je):null}catch{return null}})();if(Te&&Ce?.id===fe){const je=await Xc(fe);if(B.current!==fe)return;C(Array.isArray(je?.invoices)?je.invoices:[])}else C([])}catch{C([])}}catch{try{const Te=typeof window<"u"&&!!localStorage.getItem("auth_token"),Ce=(()=>{try{const je=localStorage.getItem("tenant");return je?JSON.parse(je):null}catch{return null}})();if(Te&&Ce?.id===fe){const je=await Xc(fe);if(B.current!==fe)return;C(Array.isArray(je?.invoices)?je.invoices:[])}else C([])}catch{C([])}}}catch(te){const ye=te?.response?.status,Te=te?.config?.url||te?.response?.config?.url;typeof window<"u"&&console.error("Admin tenant overview error:",{status:ye,url:Te,data:te?.response?.data}),l(ye===401?"Admin girii gerekli. Ltfen admin panelde oturum an.":`zet alnamad${ye?` (HTTP ${ye})`:""}`)}finally{B.current===fe&&r(!1)}};Z.useEffect(()=>{B.current=m,a(null),C([]),H(null),l(""),c(""),m&&M(m)},[m]);const A=s?.tenant,N=s?.limits,S=s?.usage,w=s?.users||[],j=s?.invites||[],[E,I]=Z.useState({email:"",firstName:"",lastName:"",role:"user",password:"",autoPassword:!0,activate:!0}),[L,G]=Z.useState(""),X=async()=>{if(m){if(!E.email){l("E-posta gerekli");return}try{r(!0),l(""),c(""),G("");const fe={email:E.email,firstName:E.firstName||void 0,lastName:E.lastName||void 0,role:E.role||void 0,activate:E.activate};!E.autoPassword&&E.password&&(fe.password=E.password);const te=await dr.addUserToTenant(m,fe);te?.tempPassword&&G(te.tempPassword),c("Kullanc eklendi/gncellendi"),setTimeout(()=>c(""),2e3),await M(m),I({email:"",firstName:"",lastName:"",role:"user",password:"",autoPassword:!0,activate:!0})}catch(fe){l(fe?.message||"Kullanc ekleme baarsz")}finally{r(!1)}}},[re,q]=Z.useState(""),[ee,R]=Z.useState(""),[z,W]=Z.useState("");Z.useEffect(()=>{A&&(q(A.companyName||A.name||""),R(K(A.subscriptionPlan)),W(A.status||"trial"))},[A?.id]);const se=async()=>{if(m)try{r(!0),await dr.updateTenantDetails(m,{companyName:re}),await dr.updateTenantSubscription(m,{plan:U(ee),status:z}),c("irket bilgileri gncellendi"),setTimeout(()=>c(""),2e3),await M(m)}catch{l("irket bilgileri gncellenemedi")}finally{r(!1)}},[he,ne]=Z.useState({}),me=fe=>{ne(te=>({...te,[fe.id]:{firstName:fe.firstName,lastName:fe.lastName,email:fe.email,role:fe.role}}))},Se=fe=>{ne(te=>{const ye={...te};return delete ye[fe],ye})},Ee=(fe,te,ye)=>{ne(Te=>({...Te,[fe]:{...Te[fe],[te]:ye}}))},le=async fe=>{const te=he[fe];if(te)try{r(!0),await dr.updateUserDetails(fe,te),c("Kullanc gncellendi"),setTimeout(()=>c(""),2e3),await M(m),Se(fe)}catch{l("Kullanc gncellenemedi")}finally{r(!1)}},ie=fe=>{g(te=>({...te,...fe,monthly:{...te.monthly||{},...fe.monthly||{}}}))},ce=fe=>{if(y(te=>te.includes(fe)?te:[...te,fe]),fe.includes(".")){const[te,ye]=fe.split(".");te==="monthly"&&g(Te=>{const Ce={...Te.monthly||{}};delete Ce[ye];const je={...Te,monthly:Ce};return Object.keys(Ce).length===0&&delete je.monthly,je})}else g(te=>{const ye={...te};return delete ye[fe],ye})},ae=async()=>{if(m)try{r(!0);const fe={...p};h.length&&(fe.__clear=h),await dr.updateTenantLimits(m,fe),c("Limitler kaydedildi"),setTimeout(()=>c(""),2e3),await M(m)}catch{l("Limitleri kaydetme baarsz")}finally{r(!1)}},ge=async()=>{if(m)try{r(!0),await dr.updateTenantLimits(m,{__clearAll:!0}),g({}),y([]),c("Overridelar temizlendi"),setTimeout(()=>c(""),2e3),await M(m)}catch{l("Temizleme baarsz")}finally{r(!1)}},pe=async(fe,te)=>{try{r(!0),await dr.updateUserStatus(fe,!te),c(te?"Kullanc pasifletirildi":"Kullanc aktifletirildi"),setTimeout(()=>c(""),2e3),await M(m)}catch{l("Kullanc durumu deitirilemedi")}finally{r(!1)}},Ae=async fe=>{try{r(!0),await dr.sendPasswordReset(fe),c("ifre sfrlama e-postas gnderildi (simlasyon)"),setTimeout(()=>c(""),2e3)}catch{l("ifre sfrlama gnderilemedi")}finally{r(!1)}};return e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-full md:w-72 bg-white border border-gray-200 rounded-lg p-3 h-fit",children:[e.jsx("div",{className:"mb-2",children:e.jsx("input",{value:t,onChange:fe=>f(fe.target.value),placeholder:"irket ara",className:"w-full px-3 py-2 border border-gray-300 rounded"})}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto divide-y",children:_.map(fe=>e.jsxs("button",{onClick:()=>d(fe.id),className:`w-full text-left px-2 py-2 hover:bg-gray-50 ${m===fe.id?"bg-gray-100":""}`,children:[e.jsx("div",{className:"font-medium text-sm",children:fe.companyName||fe.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[K(fe.subscriptionPlan),"  ",fe.status]})]},fe.id))})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[m?i&&!s?e.jsx("div",{className:"text-sm text-gray-600",children:"Ykleniyor"}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[e.jsx("input",{value:re,onChange:fe=>q(fe.target.value),className:"px-3 py-2 border border-gray-300 rounded w-64",placeholder:"irket ad"}),e.jsxs("select",{value:ee,onChange:fe=>R(fe.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]}),e.jsxs("select",{value:z,onChange:fe=>W(fe.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"active",children:"active"}),e.jsx("option",{value:"trial",children:"trial"}),e.jsx("option",{value:"suspended",children:"suspended"}),e.jsx("option",{value:"expired",children:"expired"})]}),e.jsx("button",{onClick:se,className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Kaydet"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Plan: ",K(A?.subscriptionPlan),"  Durum: ",A?.status]})]}),o&&e.jsx("div",{className:"text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:o})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[e.jsx(ao,{title:"Kullanc",value:S?.users,max:N?.effective?.maxUsers}),e.jsx(ao,{title:"Mteri",value:S?.customers,max:N?.effective?.maxCustomers}),e.jsx(ao,{title:"Tedariki",value:S?.suppliers,max:N?.effective?.maxSuppliers}),e.jsx(ao,{title:"Banka",value:S?.bankAccounts,max:N?.effective?.maxBankAccounts}),e.jsx(ao,{title:"Fatura (Ay)",value:S?.monthly?.invoices,max:N?.effective?.monthly?.maxInvoices}),e.jsx(ao,{title:"Gider (Ay)",value:S?.monthly?.expenses,max:N?.effective?.monthly?.maxExpenses})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.jsx(Ju,{title:"Stripe Abonelik zeti",children:F?e.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"subscriptionId:"})," ",F.subscriptionId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"status:"})," ",F.status||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"interval:"})," ",F.interval||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"plan (remote):"})," ",String(F.plan||"").toUpperCase()||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"baseIncluded:"})," ",F.baseIncluded??""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"addonQty:"})," ",F.addonQty??0]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"computedSeats (remote):"})," ",e.jsx("span",{className:"font-semibold",children:F.computedSeats??""})]}),e.jsxs("div",{className:"mt-2 border-t pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"stripeCustomerId:"})," ",s?.tenant?.stripeCustomerId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"stripeSubscriptionId:"})," ",s?.tenant?.stripeSubscriptionId||""]})]})]}):e.jsx("div",{className:"text-xs text-gray-500",children:"Stripe abonelik bilgisi alnamad."})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ju,{title:"Plan Varsaylanlar",children:e.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(N?.default,null,2)})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium",children:"Override"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ge,className:"px-2 py-1 text-xs border rounded",children:"Overridelar Temizle"}),e.jsx("button",{onClick:ae,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded",children:"Kaydet"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(oo,{label:"Maks. Kullanc",value:p.maxUsers,onChange:fe=>ie({maxUsers:fe}),onClear:()=>ce("maxUsers")}),e.jsx(oo,{label:"Maks. Mteri",value:p.maxCustomers,onChange:fe=>ie({maxCustomers:fe}),onClear:()=>ce("maxCustomers")}),e.jsx(oo,{label:"Maks. Tedariki",value:p.maxSuppliers,onChange:fe=>ie({maxSuppliers:fe}),onClear:()=>ce("maxSuppliers")}),e.jsx(oo,{label:"Maks. Banka Hesab",value:p.maxBankAccounts,onChange:fe=>ie({maxBankAccounts:fe}),onClear:()=>ce("maxBankAccounts")}),e.jsx(oo,{label:"Aylk Maks. Fatura",value:p.monthly?.maxInvoices,onChange:fe=>ie({monthly:{maxInvoices:fe}}),onClear:()=>ce("monthly.maxInvoices")}),e.jsx(oo,{label:"Aylk Maks. Gider",value:p.monthly?.maxExpenses,onChange:fe=>ie({monthly:{maxExpenses:fe}}),onClear:()=>ce("monthly.maxExpenses")})]})]}),e.jsx(Ju,{title:"Efektif",children:e.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(N?.effective,null,2)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-3 py-2 border-b font-medium flex items-center justify-between",children:[e.jsx("span",{children:"Kullanclar"}),e.jsx("div",{className:"flex items-center gap-2",children:L&&e.jsxs("div",{className:"text-xs text-orange-700 bg-orange-50 border border-orange-200 px-2 py-1 rounded",children:["Geici ifre: ",e.jsx("span",{className:"font-mono font-semibold",children:L})]})})]}),e.jsx("div",{className:"max-h-[40vh] overflow-y-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Ad Soyad"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"E-posta"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Rol"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"lem"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-t bg-gray-50/60",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:E.firstName,onChange:fe=>I(te=>({...te,firstName:fe.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Ad"}),e.jsx("input",{value:E.lastName,onChange:fe=>I(te=>({...te,lastName:fe.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Soyad"})]})}),e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("input",{value:E.email,onChange:fe=>I(te=>({...te,email:fe.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-60",placeholder:"email@ornek.com"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsxs("label",{className:"text-[11px] text-gray-600 flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:E.autoPassword,onChange:fe=>I(te=>({...te,autoPassword:fe.target.checked}))}),"Otomatik ifre"]}),!E.autoPassword&&e.jsx("input",{value:E.password,onChange:fe=>I(te=>({...te,password:fe.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-40",placeholder:"Parola (>=8)"})]})]}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("select",{value:E.role,onChange:fe=>I(te=>({...te,role:fe.target.value})),className:"px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"user",children:"user"}),e.jsx("option",{value:"accountant",children:"accountant"}),e.jsx("option",{value:"tenant_admin",children:"tenant_admin"}),e.jsx("option",{value:"super_admin",children:"super_admin"})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("label",{className:"text-xs flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:E.activate,onChange:fe=>I(te=>({...te,activate:fe.target.checked}))}),"Aktif"]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("button",{onClick:X,className:"px-2 py-1 text-xs bg-green-600 text-white rounded",children:"Ekle"})})]}),w.map(fe=>{const te=he[fe.id];return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:te?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:te.firstName||"",onChange:ye=>Ee(fe.id,"firstName",ye.target.value),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Ad"}),e.jsx("input",{value:te.lastName||"",onChange:ye=>Ee(fe.id,"lastName",ye.target.value),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Soyad"})]}):e.jsxs(e.Fragment,{children:[fe.firstName," ",fe.lastName]})}),e.jsx("td",{className:"px-3 py-2",children:te?e.jsx("input",{value:te.email||"",onChange:ye=>Ee(fe.id,"email",ye.target.value),className:"px-2 py-1 border border-gray-300 rounded w-60"}):fe.email}),e.jsx("td",{className:"px-3 py-2",children:te?e.jsxs("select",{value:te.role||"user",onChange:ye=>Ee(fe.id,"role",ye.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"user",children:"user"}),e.jsx("option",{value:"accountant",children:"accountant"}),e.jsx("option",{value:"tenant_admin",children:"tenant_admin"}),e.jsx("option",{value:"super_admin",children:"super_admin"})]}):fe.role}),e.jsx("td",{className:"px-3 py-2",children:fe.isActive?"Aktif":"Pasif"}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[te?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>le(fe.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded",children:"Kaydet"}),e.jsx("button",{onClick:()=>Se(fe.id),className:"px-2 py-1 text-xs border rounded",children:"ptal"})]}):e.jsx("button",{onClick:()=>me(fe),className:"px-2 py-1 text-xs border rounded",children:"Dzenle"}),e.jsx("button",{onClick:()=>pe(fe.id,fe.isActive),className:`px-2 py-1 text-xs rounded ${fe.isActive?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:fe.isActive?"Pasifletir":"Aktifletir"}),e.jsx("button",{onClick:()=>Ae(fe.id),className:"px-2 py-1 text-xs border rounded",children:"ifre Sfrla"})]})})]},fe.id)})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-3 py-2 border-b font-medium flex items-center justify-between",children:[e.jsx("span",{children:"Davetler"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m&&M(m),className:"px-2 py-1 text-xs border rounded",children:"Yenile"}),j.length>8&&e.jsx("button",{onClick:()=>$(fe=>!fe),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded",children:O?"Daralt":"Tm"})]})]}),j.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-600",children:"Grntlenecek davet yok."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"E-posta"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Rol"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Oluturulma"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Son Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Organizasyon"})]})}),e.jsx("tbody",{children:(O?j:j.slice(0,8)).map(fe=>{const te=fe.createdAt?new Date(fe.createdAt):null,ye=fe.expiresAt?new Date(fe.expiresAt):null,je=(fe.acceptedAt?new Date(fe.acceptedAt):null)?"Kabul edildi":ye&&ye<new Date?"Sresi doldu":"Beklemede",tt=je==="Kabul edildi"?"bg-green-50 text-green-700 border border-green-200":je==="Beklemede"?"bg-amber-50 text-amber-700 border border-amber-200":"bg-red-50 text-red-700 border border-red-200";return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:fe.email}),e.jsx("td",{className:"px-3 py-2",children:fe.role||"MEMBER"}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`inline-flex items-center text-[10px] px-2 py-0.5 rounded-full ${tt}`,children:je})}),e.jsx("td",{className:"px-3 py-2",children:te?te.toLocaleString():""}),e.jsx("td",{className:"px-3 py-2",children:ye?ye.toLocaleString():""}),e.jsx("td",{className:"px-3 py-2",children:fe.organizationName||""})]},fe.id)})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-3 py-2 border-b font-medium",children:"Fatura Gemii"}),e.jsx("div",{className:"overflow-x-auto",children:b.length===0?e.jsxs("div",{className:"p-3 text-sm text-gray-600 space-y-2",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Fatura bulunamad"}),e.jsx("div",{children:"Olas nedenler:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-xs",children:[e.jsx("li",{children:"Henz Stripe mteri oluturulmad (ilk upgrade / deme ilemi yaplmad)."}),e.jsx("li",{children:"Aktif abonelik yok: subscription plan test veya balang aamasnda olabilir."}),e.jsx("li",{children:"Test modunda hi fatura kesilmedi; yalnzca proration olumu olabilir."}),e.jsx("li",{children:"Stripe API'den bo dnd; dashboarddan manuel kontrol edin."})]}),e.jsxs("div",{className:"text-xs mt-2 border-t pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"stripeCustomerId:"})," ",s?.tenant?.stripeCustomerId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"stripeSubscriptionId:"})," ",s?.tenant?.stripeSubscriptionId||""]})]})]}):e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Numara"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Tutar"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Balantlar"})]})}),e.jsx("tbody",{children:(T?b:b.slice(0,8)).map(fe=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:fe.number||fe.id}),e.jsx("td",{className:"px-3 py-2",children:fe.created?new Date(fe.created).toLocaleDateString():"-"}),e.jsx("td",{className:"px-3 py-2",children:typeof fe.total=="number"?`${(fe.total/100).toLocaleString(void 0,{minimumFractionDigits:2})} ${String(fe.currency||"").toUpperCase()}`:"-"}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:(()=>{const te=String(fe.status||"").toLowerCase();return te==="paid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-700 border border-green-200":te==="open"||te==="draft"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-200":te==="uncollectible"||te==="void"||te==="unpaid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-red-50 text-red-700 border border-red-200":"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-gray-50 text-gray-700 border border-gray-200"})(),children:(fe.status||(fe.paid?"paid":"-")).toUpperCase()})}),e.jsxs("td",{className:"px-3 py-2 space-x-2",children:[fe.hostedInvoiceUrl&&e.jsx("a",{href:fe.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"Grntle"}),fe.pdf&&e.jsx("a",{href:fe.pdf,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})]},fe.id))})]})}),b.length>8&&e.jsx("div",{className:"p-3 border-t flex justify-center",children:e.jsx("button",{onClick:()=>D(fe=>!fe),className:"px-4 py-1 text-xs rounded bg-indigo-600 text-white hover:bg-indigo-700",children:T?"Daralt":"Tm"})})]})]}):null:e.jsx("div",{className:"text-sm text-gray-600",children:"Soldan bir irket sein"}),n&&e.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:n})]})]})},Ju=({title:k,children:x})=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium mb-2",children:k}),x]}),ao=({title:k,value:x,max:t})=>{const f=typeof t=="number"?t<0?"":t:void 0;return e.jsxs("div",{className:"border rounded p-3 text-center",children:[e.jsxs("div",{className:"text-xl font-semibold",children:[x??0,f!==void 0?` / ${f}`:""]}),e.jsx("div",{className:"text-xs text-gray-600",children:k})]})},oo=({label:k,value:x,onChange:t,onClear:f})=>{const[m,d]=Z.useState(x===void 0?"":String(x));return Z.useEffect(()=>{d(x===void 0?"":String(x))},[x]),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:k}),e.jsx("input",{type:"number",value:m,onChange:s=>d(s.target.value),onBlur:()=>{if(m==="")return;const s=parseInt(m,10);if(isNaN(s)){d(x===void 0?"":String(x));return}t(s)},placeholder:"Bo = varsaylan",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm"}),e.jsx("div",{className:"mt-1",children:e.jsx("button",{onClick:f,className:"text-xs text-gray-600 underline",children:"Temizle"})})]})},e3=()=>{const{t:k,i18n:x}=Vt("status"),t=[{key:"api",icon:e.jsx(dp,{className:"h-5 w-5 text-emerald-600"})},{key:"database",icon:e.jsx(Ji,{className:"h-5 w-5 text-emerald-600"})},{key:"email",icon:e.jsx(fs,{className:"h-5 w-5 text-emerald-600"})},{key:"pdf",icon:e.jsx(Or,{className:"h-5 w-5 text-emerald-600"})},{key:"storage",icon:e.jsx(dp,{className:"h-5 w-5 text-emerald-600"})}];function f(){return{components:{api:k("components.api"),database:k("components.database"),email:k("components.email"),pdf:k("components.pdf"),storage:k("components.storage")},status:{operational:k("status.operational")}}}const m=f(),d=new Date().toLocaleString(x.language||void 0);return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("header",{className:"bg-white border-b border-slate-200",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:k("title")}),e.jsx("p",{className:"text-slate-600 mt-1",children:k("subtitle")}),e.jsxs("div",{className:"mt-4 inline-flex items-center space-x-2 rounded-full bg-emerald-50 px-3 py-1 border border-emerald-200",children:[e.jsx(Yg,{className:"h-4 w-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700",children:k("allOperational")})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:k("lastUpdated",{time:d})})]})}),e.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Bileenler"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-md border border-slate-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.icon,e.jsx("span",{className:"text-slate-800 font-medium",children:m.components[s.key]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"h-2.5 w-2.5 inline-flex rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-sm text-emerald-700",children:m.status.operational})]})]},s.key))})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:k("incidents.title")}),e.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[e.jsx(dn,{className:"h-5 w-5 text-slate-400"}),e.jsx("p",{children:k("incidents.none")})]})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:k("contact.title")}),e.jsx("p",{className:"text-slate-600",children:k("contact.text")}),e.jsx("p",{className:"mt-2",children:e.jsx("a",{href:"mailto:support@comptario.com",className:"text-indigo-600 hover:underline",children:k("contact.email")})})]})]})]})},qp=()=>{const{tenant:k}=wn(),[x,t]=Z.useState(!1),[f,m]=Z.useState({username:"admin",password:"admin123"}),[d,s]=Z.useState([]),[a,i]=Z.useState([]),[r,n]=Z.useState({customers:[],suppliers:[],products:[],invoices:[],expenses:[]}),[l,o]=Z.useState(!1),[c,p]=Z.useState(""),[g,h]=Z.useState("users"),[y,b]=Z.useState("all"),[C,T]=Z.useState("all"),[D,F]=Z.useState("all"),[H,O]=Z.useState({status:"",plan:"",startFrom:"",startTo:""}),[$,B]=Z.useState(""),[K,U]=Z.useState(null),[_,M]=Z.useState({firstName:"",lastName:"",email:"",phone:""}),[A,N]=Z.useState(null),[S,w]=Z.useState("soft"),[j,E]=Z.useState(!1),I=be=>{U(be),M({firstName:be.firstName||"",lastName:be.lastName||"",email:be.email||"",phone:be.phone||""})},L=()=>U(null),G=async()=>{if(K&&window.confirm("Bu kullancy gncellemek istediinize emin misiniz?"))try{o(!0),await dr.updateUserDetails(K.id,_);const be=await dr.getUsers(C!=="all"?C:void 0);s(be||[]),B("Kullanc gncellendi"),setTimeout(()=>B(""),2e3),L()}catch(be){console.error("Kullanc gncellenemedi",be)}finally{o(!1)}},X=async()=>{if(K&&window.confirm("ifre sfrlama e-postas gnderilsin mi?"))try{o(!0),await dr.sendPasswordReset(K.id),B("ifre sfrlama e-postas gnderildi (simlasyon)"),setTimeout(()=>B(""),2500)}catch(be){console.error("E-posta gnderilemedi",be)}finally{o(!1)}},[re,q]=Z.useState(new Set),[ee,R]=Z.useState(new Set),[z,W]=Z.useState(new Set),[se,he]=Z.useState(new Set),[ne,me]=Z.useState({}),[Se,Ee]=Z.useState({}),[le,ie]=Z.useState({}),ce=be=>{const Be=(be||"").toLowerCase();return Be.includes("enterprise")||Be.includes("business")?"BUSINESS":Be.includes("professional")||Be==="pro"?"PRO":"STARTER"},ae=be=>{const Be=be.toUpperCase();return Be==="BUSINESS"?"enterprise":Be==="PRO"?"professional":"basic"},ge=be=>be?ae(be):"",pe=(be,Be,ot)=>{be(lt=>{const Et=new Set(lt);return ot===void 0?Et.has(Be)?Et.delete(Be):Et.add(Be):ot?Et.add(Be):Et.delete(Be),Et})},[Ae,fe]=Z.useState({customers:!1,suppliers:!1,products:!1,invoices:!1,expenses:!1}),[te,ye]=Z.useState({customers:"",suppliers:"",products:"",invoices:"",expenses:""});Z.useEffect(()=>{if(localStorage.getItem("admin-token")){t(!0);const Be=k?.id||"all";b(Be),T(Be),F(Be),Ce(Be!=="all"?Be:void 0)}},[]),Z.useEffect(()=>{const be=()=>{t(!1),p("Admin oturumunuz sona erdi. Ltfen yeniden giri yapn.")};return window.addEventListener("adminAuthExpired",be),()=>window.removeEventListener("adminAuthExpired",be)},[]),Z.useEffect(()=>{x&&Pe(y!=="all"?y:void 0)},[y]),Z.useEffect(()=>{x&&je(C!=="all"?C:void 0)},[C]);const Te=async be=>{be.preventDefault(),o(!0),p("");try{const Be=await dr.login(f.username,f.password);if(Be.success){t(!0),localStorage.setItem("admin-token",Be.adminToken);const ot=k?.id||"all";b(ot),T(ot),F(ot),Ce(ot!=="all"?ot:void 0)}}catch(Be){p(Be.response?.data?.message||"Giri baarsz")}finally{o(!1)}},Ce=async be=>{try{o(!0);const[Be,ot]=await Promise.all([dr.getUsers(be),dr.getTenants()]);s(Be||[]),i(ot||[]);const[lt,Et,Rt,yt,Ut]=await Promise.all([dr.getTableData("customers",be).catch(()=>[]),dr.getTableData("suppliers",be).catch(()=>[]),dr.getTableData("products",be).catch(()=>[]),dr.getTableData("invoices",be).catch(()=>[]),dr.getTableData("expenses",be).catch(()=>[])]);n({customers:Array.isArray(lt)?lt.reverse():[],suppliers:Array.isArray(Et)?Et.reverse():[],products:Array.isArray(Rt)?Rt.reverse():[],invoices:Array.isArray(yt)?yt.reverse():[],expenses:Array.isArray(Ut)?Ut.reverse():[]})}catch(Be){p("Veri ykleme baarsz"),console.error("Load data error:",Be)}finally{o(!1)}},je=async be=>{try{o(!0);const Be=await dr.getUsers(be);s(Be||[])}catch(Be){console.error("Kullanclar yklenemedi",Be)}finally{o(!1)}},tt=async()=>{try{o(!0);const be=await dr.getTenants({status:H.status||void 0,plan:H.plan?ge(H.plan):void 0,startFrom:H.startFrom||void 0,startTo:H.startTo||void 0});i(be||[])}catch(be){console.error("irketler yklenemedi",be)}finally{o(!1)}};Z.useEffect(()=>{x&&tt()},[H.status,H.plan,H.startFrom,H.startTo]);const Pe=async be=>{try{o(!0);const[Be,ot,lt,Et,Rt]=await Promise.all([dr.getTableData("customers",be).catch(()=>[]),dr.getTableData("suppliers",be).catch(()=>[]),dr.getTableData("products",be).catch(()=>[]),dr.getTableData("invoices",be).catch(()=>[]),dr.getTableData("expenses",be).catch(()=>[])]);n({customers:Array.isArray(Be)?Be.reverse():[],suppliers:Array.isArray(ot)?ot.reverse():[],products:Array.isArray(lt)?lt.reverse():[],invoices:Array.isArray(Et)?Et.reverse():[],expenses:Array.isArray(Rt)?Rt.reverse():[]})}catch(Be){console.error("Tablolar yklenemedi:",Be)}finally{o(!1)}},ke=be=>{fe(Be=>({...Be,[be]:!Be[be]}))},ze=(be,Be)=>{ye(ot=>({...ot,[be]:Be}))},qe=(be,Be)=>{const ot=te[Be].toLowerCase();return ot?be.filter(lt=>Object.values(lt).some(Et=>String(Et||"").toLowerCase().includes(ot))):be},Fe=()=>{t(!1),localStorage.removeItem("admin-token"),s([]),i([]),n({customers:[],suppliers:[],products:[],invoices:[],expenses:[]})},at=()=>({users:d.filter(Be=>Be.isActive).length,customers:r.customers.length,suppliers:r.suppliers.length,products:r.products.length,invoices:r.invoices.length,expenses:r.expenses.length}),we=(be,Be,ot)=>{const lt=qe(Be,be),Et=Ae[be];return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>ke(be),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[Et?e.jsx(Ms,{className:"w-5 h-5"}):e.jsx(us,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium capitalize",children:[be," (",Be.length,")"]})]})}),Et&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zg,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Filtrele...",value:te[be],onChange:Rt=>ze(be,Rt.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),te[be]&&e.jsx("button",{onClick:()=>ze(be,""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(fr,{className:"w-4 h-4"})})]})})]}),Et&&e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsx("tr",{children:ot.map(Rt=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:Rt},Rt))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:lt.slice(0,10).map((Rt,yt)=>e.jsx("tr",{className:"hover:bg-gray-50",children:ot.map(Ut=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof Rt[Ut]=="object"?JSON.stringify(Rt[Ut]):Rt[Ut]||"-"},Ut))},yt))})]}),lt.length>10&&e.jsxs("div",{className:"p-4 text-center text-sm text-gray-500 border-t border-gray-200",children:[lt.length-10," daha fazla kayt var (kaydrarak grn)"]})]})})]})},Qe=async(be,Be)=>{try{o(!0);const ot=Be?"Kullancy pasifletirmek istediinize emin misiniz?":"Kullancy aktifletirmek istediinize emin misiniz?";if(!window.confirm(ot))return;await dr.updateUserStatus(be,!Be);const lt=await dr.getUsers(C!=="all"?C:void 0);s(lt||[])}catch(ot){console.error("Kullanc durumu gncellenemedi",ot)}finally{o(!1)}};if(!x)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-red-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Panel"}),e.jsx("p",{className:"text-gray-600",children:"Gvenli giri gereklidir"})]}),e.jsxs("form",{onSubmit:Te,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kullanc Ad"}),e.jsx("input",{type:"text",value:f.username,onChange:be=>m(Be=>({...Be,username:be.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre"}),e.jsx("input",{type:"password",value:f.password,onChange:be=>m(Be=>({...Be,password:be.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50",children:l?"Giri yaplyor...":"Giri Yap"})]}),c&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:c})]})})});const ut=at();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Paneli"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:Fe,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"k Yap"})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 w-fit",children:[e.jsxs("button",{onClick:()=>h("users"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="users"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" Kullanclar (",ut.users,")"]}),e.jsxs("button",{onClick:()=>h("tenants"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="tenants"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" irketler (",a.length,")"]}),e.jsx("button",{onClick:()=>h("data"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="data"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Veri Taban"}),e.jsx("button",{onClick:()=>h("backups"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="backups"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Yedekleme"}),e.jsx("button",{onClick:()=>h("retention"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="retention"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Veri Temizleme"}),e.jsx("button",{onClick:()=>h("planLimits"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="planLimits"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Plan Limitleri"}),e.jsx("button",{onClick:()=>h("tenantConsole"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="tenantConsole"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Tenant Ynetim"}),e.jsx("button",{onClick:()=>h("status"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="status"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Durum"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ut.users}),e.jsx("div",{className:"text-sm text-blue-800",children:"Kullanc"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:ut.customers}),e.jsx("div",{className:"text-sm text-green-800",children:"Mteri"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:ut.suppliers}),e.jsx("div",{className:"text-sm text-purple-800",children:"Tedariki"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ut.products}),e.jsx("div",{className:"text-sm text-yellow-800",children:"rn"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:ut.invoices}),e.jsx("div",{className:"text-sm text-red-800",children:"Fatura"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ut.expenses}),e.jsx("div",{className:"text-sm text-orange-800",children:"Gider"})]})]}),g==="users"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Kullanclar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"irket:"}),e.jsxs("select",{value:C,onChange:be=>T(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Tm"}),a.map(be=>e.jsx("option",{value:be.id,children:be.companyName||be.name},be.id))]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-posta"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"irket"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Yetki"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"lemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(C==="all"?d:d.filter(be=>be.tenant?.id===C)).map(be=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[be.firstName," ",be.lastName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:be.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:be.tenant?.companyName||be.tenant?.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${be.role==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:be.role==="admin"?"Ynetici":"Kullanc"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${be.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:be.isActive?"Aktif":"Pasif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>I(be),className:"text-indigo-600 hover:text-indigo-900",title:"Dzenle",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{w("soft"),N(be)},className:"text-red-600 hover:text-red-900",title:"Sil",children:e.jsx(ts,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Qe(be.id,be.isActive),className:`px-3 py-1 rounded-md text-xs font-medium text-white ${be.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:be.isActive?"Pasifletir":"Aktifletir"})]})})]},be.id))})]})})]})}),g==="tenants"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" irketler ve Abonelik Ynetimi"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Bu sayfadan tm irketleri grntleyebilir, plan ve durumlarn gncelleyebilir, sonraki deme tarihini ayarlayabilir veya abonelii iptal edebilirsiniz. Yaplan her deiiklik iin onay istenir."}),$&&e.jsx("div",{className:"mt-2 inline-block text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:$})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Durum"}),e.jsxs("select",{value:H.status,onChange:be=>O(Be=>({...Be,status:be.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Tm"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"suspended",children:"Askda"}),e.jsx("option",{value:"trial",children:"Deneme"}),e.jsx("option",{value:"expired",children:"Sresi Doldu"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Plan"}),e.jsxs("select",{value:H.plan,onChange:be=>O(Be=>({...Be,plan:be.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Tm"}),e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Balang ()"}),e.jsx("input",{type:"date",value:H.startFrom,onChange:be=>O(Be=>({...Be,startFrom:be.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Biti ()"}),e.jsx("input",{type:"date",value:H.startTo,onChange:be=>O(Be=>({...Be,startTo:be.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.jsx("button",{onClick:async()=>{o(!0);try{const be=await dr.getTenants({status:H.status||void 0,plan:H.plan||void 0,startFrom:H.startFrom||void 0,startTo:H.startTo||void 0});i(be||[])}catch(be){console.error("irketler yklenemedi",be)}finally{o(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Filtreleri Uygula"})]})]})}),e.jsx("div",{className:"p-6 space-y-6",children:a.map(be=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"irket Ad"}),e.jsx("p",{className:"text-gray-600",children:be.companyName||be.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"URL Kodu"}),e.jsxs("p",{className:"text-gray-600",children:["@",be.slug]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Abonelik Plan"}),re.has(be.id)?e.jsxs("select",{autoFocus:!0,defaultValue:ce(be.subscriptionPlan),onBlur:()=>pe(q,be.id,!1),onChange:Be=>{const ot=Be.target.value,lt=ae(ot);window.confirm(`${be.companyName||be.name} iin plan '${ot}' olarak gncellemek istediinize emin misiniz?`)&&dr.updateTenantSubscription(be.id,{plan:lt}).then(()=>{i(Et=>Et.map(Rt=>Rt.id===be.id?{...Rt,subscriptionPlan:lt}:Rt)),B("Plan gncellendi"),setTimeout(()=>B(""),2e3)}).catch(Et=>console.error("Plan gncellenemedi",Et)).finally(()=>pe(q,be.id,!1))},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]}):e.jsx("button",{onClick:()=>pe(q,be.id,!0),className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200",title:"Dzenlemek iin tklayn",children:ce(be.subscriptionPlan)||"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Durum"}),ee.has(be.id)?e.jsxs("select",{autoFocus:!0,defaultValue:be.status||"active",onBlur:()=>pe(R,be.id,!1),onChange:Be=>{const ot=Be.target.value;window.confirm(`${be.companyName||be.name} iin durumu '${ot}' olarak gncellemek istediinize emin misiniz?`)&&dr.updateTenantSubscription(be.id,{status:ot}).then(()=>{i(lt=>lt.map(Et=>Et.id===be.id?{...Et,status:ot}:Et)),B("Durum gncellendi"),setTimeout(()=>B(""),2e3)}).catch(lt=>console.error("Durum gncellenemedi",lt)).finally(()=>pe(R,be.id,!1))},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"suspended",children:"Askda"}),e.jsx("option",{value:"trial",children:"Deneme"}),e.jsx("option",{value:"expired",children:"Sresi Doldu"})]}):e.jsx("button",{onClick:()=>pe(R,be.id,!0),className:`px-2 py-1 text-xs rounded-full ${be.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,title:"Dzenlemek iin tklayn",children:be.status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Balang"}),e.jsx("p",{className:"text-gray-600",children:be.createdAt?new Date(be.createdAt).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Sonraki deme"}),z.has(be.id)?e.jsx("input",{autoFocus:!0,type:"date",defaultValue:be.subscriptionExpiresAt?new Date(be.subscriptionExpiresAt).toISOString().slice(0,10):"",onBlur:()=>pe(W,be.id,!1),onKeyDown:Be=>{Be.key==="Escape"&&pe(W,be.id,!1)},onChange:Be=>{const ot=Be.target.value;ot&&window.confirm(`${be.companyName||be.name} iin sonraki deme tarihini ${ot} olarak ayarlamak istediinize emin misiniz?`)&&dr.updateTenantSubscription(be.id,{nextBillingAt:ot}).then(()=>{B("Sonraki deme tarihi gncellendi"),setTimeout(()=>B(""),2e3)}).catch(lt=>console.error("Tarih gncellenemedi",lt)).finally(()=>pe(W,be.id,!1))},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}):e.jsx("button",{onClick:()=>pe(W,be.id,!0),className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200",title:"Dzenlemek iin tklayn",children:be.subscriptionExpiresAt?new Date(be.subscriptionExpiresAt).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Abonelik"}),e.jsx("button",{onClick:()=>{window.confirm(`${be.companyName||be.name} iin abonelii iptal etmek istediinize emin misiniz?`)&&dr.updateTenantSubscription(be.id,{cancel:!0}).then(()=>{B("Abonelik iptal edildi"),setTimeout(()=>B(""),2e3)}).catch(Be=>console.error("ptal edilemedi",Be))},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 text-sm",children:"ptal Et"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Tehlikeli Blge"}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center mt-2",children:[e.jsx("button",{onClick:async()=>{const Be=be.companyName||be.name;if(window.confirm(`DKKAT: '${Be}' hesabn ve tm verilerini KALICI olarak silmek zeresiniz. Bu ilem geri alnamaz. Devam etmek istiyor musunuz?`))try{o(!0),await dr.deleteTenant(be.id,{hard:!0,backupBefore:!1}),i(lt=>lt.filter(Et=>Et.id!==be.id)),C===be.id?(T("all"),await je(void 0)):await je(C!=="all"?C:void 0),y===be.id&&(b("all"),await Pe(void 0)),B("Hesap kalc olarak silindi"),setTimeout(()=>B(""),2500)}catch(lt){console.error("Hesap silinemedi",lt),alert("Hesap silinemedi. Konsolu kontrol edin.")}finally{o(!1)}},className:"px-4 py-2 border border-red-400 text-white bg-red-600 rounded-lg hover:bg-red-700 text-sm",children:"Hesab Kalc Olarak Sil"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Bu ilem geri alnamaz. Yalnzca yetkili yneticiler kullanmaldr."})]})]}),e.jsxs("div",{className:"md:col-span-2 border-t pt-3 mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Detaylar"}),e.jsx("button",{onClick:async()=>{const Be=new Set(se);if(Be.has(be.id)){Be.delete(be.id),he(Be);return}Be.add(be.id),he(Be);try{const[ot,lt]=await Promise.all([dr.getTenantOverview(be.id).catch(()=>null),dr.getTenantInvoices(be.id).catch(()=>null)]);if(ot&&me(Et=>({...Et,[be.id]:ot})),lt&&Array.isArray(lt.invoices)&&lt.invoices.length>0)Ee(Et=>({...Et,[be.id]:lt.invoices}));else try{const Et=(()=>{try{const Rt=localStorage.getItem("tenant");return Rt?JSON.parse(Rt):null}catch{return null}})();if(Et?.id&&Et.id===be.id){const Rt=await Xc(be.id);Array.isArray(Rt?.invoices)&&Rt.invoices.length>0&&Ee(yt=>({...yt,[be.id]:Rt.invoices}))}}catch{}}catch{}},className:"px-3 py-1 text-sm rounded-md border border-gray-300 hover:bg-gray-50",children:se.has(be.id)?"Gizle":"Gster"})]}),se.has(be.id)&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 border",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Plan ve Limitler"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Plan: "}),e.jsx("span",{className:"font-medium",children:ce(be.subscriptionPlan)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Kullanc Limiti (maxUsers): "}),e.jsx("span",{className:"font-medium",children:(()=>{const Be=ne[be.id]?.maxUsers??ne[be.id]?.limits?.maxUsers;return Be==null?"-":Be===-1?"":Be})()})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 border",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Fatura Gemii"}),Array.isArray(Se[be.id])&&Se[be.id].length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500",children:[e.jsx("th",{className:"py-1 pr-4",children:"Numara"}),e.jsx("th",{className:"py-1 pr-4",children:"Tarih"}),e.jsx("th",{className:"py-1 pr-4",children:"Tutar"}),e.jsx("th",{className:"py-1 pr-4",children:"Durum"}),e.jsx("th",{className:"py-1 pr-4",children:"Balantlar"})]})}),e.jsx("tbody",{children:Se[be.id].slice(0,le[be.id]?Se[be.id].length:6).map(Be=>{const ot=Be.status||(Be.paid?"paid":"unknown"),lt=(()=>{switch(ot){case"paid":return"bg-green-100 text-green-700 border border-green-200";case"open":return"bg-yellow-100 text-yellow-700 border border-yellow-200";case"draft":return"bg-blue-100 text-blue-700 border border-blue-200";case"uncollectible":return"bg-orange-100 text-orange-700 border border-orange-200";case"void":return"bg-gray-200 text-gray-600 border border-gray-300";case"upcoming":return"bg-purple-100 text-purple-700 border border-purple-200";default:return"bg-gray-100 text-gray-700 border border-gray-200"}})();return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-1 pr-4",children:Be.number||Be.id}),e.jsx("td",{className:"py-1 pr-4",children:Be.created?new Date(Be.created).toLocaleDateString():"-"}),e.jsx("td",{className:"py-1 pr-4",children:typeof Be.total=="number"?`${(Be.total/100).toLocaleString(void 0,{minimumFractionDigits:2})} ${Be.currency?.toUpperCase()}`:"-"}),e.jsx("td",{className:"py-1 pr-4",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium inline-block ${lt}`,children:ot})}),e.jsxs("td",{className:"py-1 pr-4 space-x-2",children:[Be.hostedInvoiceUrl&&e.jsx("a",{className:"text-blue-600 hover:underline",href:Be.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",children:"Grntle"}),Be.pdf&&e.jsx("a",{className:"text-blue-600 hover:underline",href:Be.pdf,target:"_blank",rel:"noreferrer",children:"PDF"})]})]},Be.id)})})]}),Se[be.id].length>6&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("button",{onClick:()=>ie(Be=>({...Be,[be.id]:!Be[be.id]})),className:"text-xs px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-50",children:le[be.id]?"Daha az gster":`Tmn gster (${Se[be.id].length})`})})]}):e.jsxs("div",{className:"text-sm text-gray-500",children:["Fatura bulunamad.",ne[be.id]&&!ne[be.id].stripeCustomerId&&e.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(Stripe mteri ID yok  ilk abonelik/fatura ilemi sonras oluur)"})]})]})]})]})]})},be.id))})]})}),g==="tenants"&&e.jsx("div",{className:"mt-2"}),g==="data"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Veri Taban Tablolar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"irket:"}),e.jsxs("select",{value:D,onChange:be=>{const Be=be.target.value;F(Be),b(Be)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Tm"}),a.map(be=>e.jsx("option",{value:be.id,children:be.companyName||be.name},be.id))]})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tablolar varsaylan olarak gizlidir. Grntlemek iin tablo balna tklayn."}),we("customers",r.customers,["name","email","company","phone","totalSpent"]),we("suppliers",r.suppliers,["name","email","company","phone","totalPaid"]),we("products",r.products,["name","description","price","category","stock"]),we("invoices",r.invoices,["invoiceNumber","customerName","amount","status","date"]),we("expenses",r.expenses,["expenseNumber","supplierName","amount","category","date"])]})}),g==="backups"&&e.jsx(YS,{}),g==="retention"&&e.jsx(XS,{}),g==="planLimits"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(ZS,{})}),g==="tenantConsole"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(JS,{})}),g==="status"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"p-6",children:e.jsx(e3,{})})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Kullanc Dzenle"}),e.jsx("button",{onClick:L,className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Ad"}),e.jsx("input",{type:"text",value:_.firstName,onChange:be=>M(Be=>({...Be,firstName:be.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Soyad"}),e.jsx("input",{type:"text",value:_.lastName,onChange:be=>M(Be=>({...Be,lastName:be.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:_.email,onChange:be=>M(Be=>({...Be,email:be.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:_.phone,onChange:be=>M(Be=>({...Be,phone:be.target.value})),placeholder:"+90...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("button",{onClick:X,className:"px-4 py-2 text-sm border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50",children:"ifre Sfrlama Maili Gnder"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm border rounded-lg",children:"ptal"}),e.jsx("button",{onClick:G,className:"px-4 py-2 text-sm rounded-lg bg-green-600 text-white hover:bg-green-700",children:"Kaydet"})]})]})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl border border-red-200",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-red-100 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Kullancy Sil"}),e.jsx("button",{onClick:()=>N(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed",children:[e.jsxs("p",{className:"mb-2",children:[e.jsxs("strong",{children:[A.firstName," ",A.lastName]})," - ",A.email]}),e.jsx("p",{className:"mb-2",children:"Bu ilemi dikkatli yapn. Soft silme kullancy pasif hale getirir ve gerektiinde geri dndrlebilir. Hard silme kalcdr ve kullanc kayd tamamen kaldrlr."}),S==="hard"&&e.jsx("p",{className:"text-red-600 font-medium",children:"DKKAT: Hard silme geri alnamaz. lgili ilikisel kaytlar (audit log vb. hari) cascade ile kaybolabilir."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"delMode",value:"soft",checked:S==="soft",onChange:()=>w("soft")}),e.jsx("span",{children:"Soft Sil (Pasifletir)"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"delMode",value:"hard",checked:S==="hard",onChange:()=>w("hard")}),e.jsx("span",{className:"text-red-600",children:"Hard Sil (Kalc)"})]})]})]}),e.jsxs("div",{className:"px-5 py-4 border-t flex items-center justify-between bg-red-50",children:[e.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 text-sm rounded-lg border bg-white hover:bg-gray-50",disabled:j,children:"ptal"}),e.jsx("button",{onClick:async()=>{if(!A)return;const be=S==="hard",Be=be?"Bu kullanc kalc olarak silinecek. Onaylyor musunuz?":"Kullanc pasifletirilecek. Onaylyor musunuz?";if(window.confirm(Be))try{E(!0),await dr.deleteUser(A.id,{hard:be}),s(ot=>be?ot.filter(lt=>lt.id!==A.id):ot.map(lt=>lt.id===A.id?{...lt,isActive:!1}:lt)),B(be?"Kullanc kalc olarak silindi":"Kullanc pasifletirildi"),setTimeout(()=>B(""),2500),N(null)}catch(ot){console.error("Silme hatas",ot),ot?.response?.status===404?(B("Kullanc zaten silinmi veya bulunamad (404)"),setTimeout(()=>B(""),2500),N(null),je(C!=="all"?C:void 0)):alert("Silme baarsz. Konsolu kontrol edin.")}finally{E(!1)}},disabled:j,className:`px-4 py-2 text-sm rounded-lg text-white ${S==="hard"?"bg-red-600 hover:bg-red-700":"bg-orange-600 hover:bg-orange-700"} disabled:opacity-60`,children:j?"leniyor...":S==="hard"?"Kalc Sil":"Pasifletir"})]})]})})]})]})};function t3({isOpen:k,onClose:x,onSelectNewSale:t,onSelectExistingSale:f,onSelectReturn:m}){const{t:d}=Vt();return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d("invoices.newInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:d("invoices.selectInvoiceType")})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:t,className:"w-full p-6 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg hover:from-blue-100 hover:to-blue-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:e.jsx(As,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d("invoices.newSale")}),e.jsx("p",{className:"text-sm text-gray-600",children:d("invoices.newSaleDescription")}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:d("invoices.newSaleNote")})]})]})}),e.jsx("button",{onClick:f,className:"w-full p-6 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg hover:from-green-100 hover:to-green-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center group-hover:bg-green-600 transition-colors",children:e.jsx(Or,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d("invoices.existingSale")}),e.jsx("p",{className:"text-sm text-gray-600",children:d("invoices.existingSaleDescription")}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:d("invoices.existingSaleNote")})]})]})}),e.jsx("button",{onClick:m,className:"w-full p-6 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg hover:from-red-100 hover:to-red-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors",children:e.jsx(nd,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:d("invoices.returnInvoice")}),e.jsx("p",{className:"text-sm text-gray-600",children:d("invoices.returnInvoiceDescription")}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:d("invoices.returnInvoiceNote")})]})]})})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:d("common.cancel")})})})]})}):null}function r3({isOpen:k,onClose:x,onSelectSale:t,sales:f,existingInvoices:m}){const{formatCurrency:d}=$r(),{t:s}=Vt(),[a,i]=Z.useState(""),r=Z.useMemo(()=>{const o=m.filter(c=>c.saleId).map(c=>c.saleId);return f.filter(c=>!o.includes(c.id))},[f,m]),n=Z.useMemo(()=>{if(!a.trim())return r;const o=a.toLowerCase();return r.filter(c=>c.customerName.toLowerCase().includes(o)||c.productName.toLowerCase().includes(o)||c.saleNumber?.toLowerCase().includes(o))},[r,a]),l=o=>new Date(o).toLocaleDateString("tr-TR");return k?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("sales.selectExistingSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("sales.selectSaleForInvoice")})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:a,onChange:o=>i(o.target.value),placeholder:s("sales.searchSalesPlaceholder"),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:n.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Or,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s(a?"sales.noSalesFound":"sales.noInvoiceableSales")}),e.jsx("p",{className:"text-gray-500",children:s(a?"sales.changeSearchCriteria":"sales.allSalesInvoiced")})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(o=>e.jsx("div",{onClick:()=>t(o),className:"p-6 hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Wr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-medium",children:o.customerName})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Dr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:l(o.date)})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.productName}),o.saleNumber&&e.jsxs("p",{className:"text-sm text-gray-500",children:[s("sales.saleNumber"),": ",o.saleNumber]})]}),o.quantity&&o.unitPrice&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[o.quantity," ",s("sales.pieces"),"  ",d(o.unitPrice)]}),o.notes&&e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',o.notes,'"']})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-green-600 mb-2",children:[e.jsx(ln,{className:"w-5 h-5 mr-1"}),d(o.amount)]}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:s("sales.createInvoice")})]})]})},o.id))})}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s("sales.salesWaitingForInvoice",{count:n.length})}),e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s("common.cancel")})]})})]})}):null}function s3({isOpen:k,onClose:x,onSave:t,sale:f}){const{formatCurrency:m}=$r(),{t:d}=Vt(),[s,a]=Z.useState({dueDate:"",status:"draft",notes:""});sr.useEffect(()=>{if(k&&f){const n=new Date;n.setDate(n.getDate()+30),a({dueDate:n.toISOString().split("T")[0],status:"draft",notes:f.notes||""})}},[k,f]);const i=()=>{if(!f)return;if(!s.dueDate){alert(d("validation.dueDateRequired"));return}const n={saleId:f.id,issueDate:new Date().toISOString().split("T")[0],dueDate:s.dueDate,status:s.status,notes:s.notes.trim(),customerName:f.customerName,customerEmail:f.customerEmail||"",productName:f.productName,quantity:f.quantity||1,unitPrice:f.unitPrice||f.amount,subtotal:f.amount/1.18,taxAmount:f.amount-f.amount/1.18,total:f.amount,type:"service",items:[{description:f.productName,quantity:f.quantity||1,unitPrice:f.unitPrice||f.amount,total:f.amount}]};t(n),x()},r=n=>new Date(n).toLocaleDateString("tr-TR");return!k||!f?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d("invoices.createInvoiceFromSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:d("invoices.completeInvoiceInfo")})]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:d("sales.saleInfo")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[d("common.customer"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:f.customerName})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Sat Tarihi:"}),e.jsx("span",{className:"ml-2 font-medium",children:r(f.date)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Ys,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"rn:"}),e.jsx("span",{className:"ml-2 font-medium",children:f.productName})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tutar:"}),e.jsx("span",{className:"ml-2 font-bold text-green-600",children:m(f.amount)})]})]}),f.saleNumber&&e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[e.jsx("strong",{children:"Sat No:"})," ",f.saleNumber]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fatura Bilgileri"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Dr,{className:"w-4 h-4 inline mr-2"}),"Vade Tarihi *"]}),e.jsx("input",{type:"date",value:s.dueDate,onChange:n=>a({...s,dueDate:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fatura Durumu"}),e.jsxs("select",{value:s.status,onChange:n=>a({...s,status:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"draft",children:"Taslak"}),e.jsx("option",{value:"sent",children:"Gnderildi"}),e.jsx("option",{value:"paid",children:"dendi"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fatura Notlar"}),e.jsx("textarea",{value:s.notes,onChange:n=>a({...s,notes:n.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Fatura ile ilgili notlar..."})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fatura Tutarlar"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ara Toplam:"}),e.jsx("span",{children:m(f.amount/1.18)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"KDV:"}),e.jsx("span",{children:m(f.amount-f.amount/1.18)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-blue-300 pt-2",children:[e.jsx("span",{children:"Toplam:"}),e.jsx("span",{children:m(f.amount)})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ptal"}),e.jsx("button",{onClick:i,disabled:!s.dueDate,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d("invoices.createInvoice")})]})]})})}function n3({isOpen:k,onClose:x,customer:t,onEdit:f,onCreateInvoice:m,onRecordPayment:d,onViewHistory:s}){if(!k||!t)return null;const a=i=>new Date(i).toLocaleDateString("tr-TR");return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-bold text-2xl",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mteri Detaylar"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(t),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(as,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`customer-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kiisel Bilgiler"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ad Soyad:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.name})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(fs,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.email})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Sa,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Telefon:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.phone})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Kayt Tarihi:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a(t.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"irket Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[t.company&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Fr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"irket:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.company})]})]}),t.taxNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-3 text-xs font-bold flex items-center justify-center",children:"VN"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Vergi No:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.taxNumber})]})]})]})]})]}),t.address&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adres Bilgileri"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(xo,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsx("p",{className:"text-gray-700",children:t.address})]})})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Hzl lemler"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>m?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:e.jsx("span",{children:"Fatura Olutur"})}),e.jsx("button",{onClick:()=>s?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:e.jsx("span",{children:"Gemi lemler"})})]})]})]})]})})}function i3({isOpen:k,onClose:x,product:t,onEdit:f}){const{formatCurrency:m}=$r();return!k||!t?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(Ys,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",t.sku]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f&&e.jsx("button",{type:"button",onClick:()=>{f(t),x()},className:"rounded-lg border border-indigo-100 px-4 py-2 text-sm font-medium text-indigo-600 transition-colors hover:bg-indigo-50",children:"Duzenle"}),e.jsx("button",{type:"button",onClick:x,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":"Kapat",children:e.jsx(fr,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"grid gap-6 p-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:"Ozellikler"}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[e.jsx(Wi,{icon:ai,label:"Kategori",value:t.category||"Belirtilmemis"}),e.jsx(Wi,{icon:Gg,label:"SKU",value:t.sku}),e.jsx(Wi,{icon:Zi,label:"Birim",value:t.unit}),e.jsx(Wi,{icon:Dr,label:"Kayit Tarihi",value:new Date(t.createdAt).toLocaleDateString()})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:"Fiyat ve Stok"}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[e.jsx(Wi,{icon:ln,label:"Satis Fiyati",value:m(t.unitPrice||0)}),e.jsx(Wi,{icon:ln,label:"Maliyet",value:m(t.costPrice||0)}),e.jsx(Wi,{icon:Zi,label:"Stok Miktari",value:`${t.stockQuantity} ${t.unit}`}),e.jsx(Wi,{icon:Zi,label:"Kritik Seviye",value:t.reorderLevel})]})]}),t.description&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:"Aciklama"}),e.jsx("p",{className:"mt-3 rounded-lg border border-gray-100 bg-gray-50 p-4 text-sm text-gray-700",children:t.description})]})]})]})})}function Wi({icon:k,label:x,value:t}){return e.jsxs("div",{className:"rounded-lg border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-500",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),x]}),e.jsx("div",{className:"mt-2 text-sm font-medium text-gray-900",children:t})]})}function a3({isOpen:k,onClose:x,supplier:t,onEdit:f,onCreateExpense:m,onViewHistory:d}){if(!t)return null;const s=a=>new Date(a).toLocaleDateString("tr-TR");return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-bold text-2xl",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tedariki Detaylar"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{x(),setTimeout(()=>f(t),100)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(as,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`supplier-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tedariki Ad:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.name})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(fs,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.email})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Sa,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Telefon:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.phone})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Kayt Tarihi:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:s(t.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"irket Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[t.company&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Fr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"irket:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.company})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ai,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Kategori:"}),e.jsx("span",{className:"ml-2",children:e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:t.category})})]})]}),t.taxNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-3 text-xs font-bold flex items-center justify-center",children:"VN"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Vergi No:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.taxNumber})]})]})]})]})]}),t.address&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adres Bilgileri"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(xo,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsx("p",{className:"text-gray-700",children:t.address})]})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Hzl lemler"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>m?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:e.jsx("span",{children:"Gider Olutur"})}),e.jsx("button",{onClick:()=>d?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:e.jsx("span",{children:"Gemi lemler"})}),e.jsxs("button",{onClick:()=>{x(),setTimeout(()=>f(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:"Dzenle"})]})]})]})]})]})})}function Bm({isOpen:k,onClose:x,invoice:t,onEdit:f,onDownload:m}){const{formatCurrency:d}=$r(),{t:s}=Vt(),a=Z.useMemo(()=>({draft:{label:s("status.draft"),class:"bg-gray-100 text-gray-800"},sent:{label:s("status.sent"),class:"bg-blue-100 text-blue-800"},paid:{label:s("status.paid"),class:"bg-green-100 text-green-800"},overdue:{label:s("status.overdue"),class:"bg-red-100 text-red-800"}}),[s]);if(!k||!t)return null;const i=l=>new Date(l).toLocaleDateString("tr-TR"),r=l=>{const o=typeof l=="string"?parseFloat(l):l;return d(o||0)},n=l=>{const o=a[l];return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.class}`,children:o.label})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:l=>l.target===l.currentTarget&&x(),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.invoiceNumber}),e.jsx("p",{className:"text-sm text-gray-500",children:s("invoice.details")})]}),n(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>m?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(cn,{className:"w-4 h-4"}),e.jsx("span",{children:s("invoice.downloadPdf")})]}),e.jsxs("button",{onClick:()=>{x(),setTimeout(()=>f?.(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:s("common.edit")})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`invoice-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("invoice.information")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[s("invoice.type"),":"]}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${t.type==="product"?"bg-blue-100 text-blue-800":t.type==="service"?"bg-green-100 text-green-800":"bg-indigo-100 text-indigo-800"}`,children:t.type==="product"?s("invoice.productSale"):t.type==="service"?s("invoice.serviceSale"):s("invoice.generalSale","Genel")})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[s("invoice.issueDate"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:i(t.issueDate)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[s("invoice.dueDate"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:i(t.dueDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("invoice.customerInfo")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.customer?.name||t.customerName||"Mteri Yok"}),(t.customer?.email||t.customerEmail)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),t.customer?.email||t.customerEmail]}),(t.customer?.address||t.customerAddress)&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(xo,{className:"w-4 h-4 mr-2 mt-0.5"}),e.jsx("span",{children:t.customer?.address||t.customerAddress})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("invoice.itemsServices")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:s("invoice.description")}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:s("invoice.quantity")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:s("invoice.unitPrice")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:s("invoice.total")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.items&&Array.isArray(t.items)&&t.items.map((l,o)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-center",children:l.quantity}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:r(Number(l.unitPrice)||0)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:r(Number(l.total)||0)})]},o))})]})})]}),e.jsx("div",{className:"flex justify-end mb-8",children:e.jsxs("div",{className:"w-80 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[s("invoice.subtotal"),":"]}),e.jsx("span",{className:"font-medium",children:r(Number(t.subtotal)||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[s("invoice.vat"),":"]}),e.jsx("span",{className:"font-medium",children:r(Number(t.taxAmount)||0)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-300 pt-3",children:[e.jsxs("span",{children:[s("invoice.grandTotal"),":"]}),e.jsx("span",{children:r(Number(t.total)||0)})]})]})}),t.notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s("invoice.notes")}),e.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:t.notes})]})]})]})})}function S0({isOpen:k,onClose:x,expense:t,onEdit:f,onDownload:m}){const{formatCurrency:d}=$r(),{t:s}=Vt(),a=Z.useMemo(()=>({draft:{label:s("status.draft"),class:"bg-gray-100 text-gray-800"},approved:{label:s("status.approved"),class:"bg-blue-100 text-blue-800"},paid:{label:s("status.paid"),class:"bg-green-100 text-green-800"},pending:{label:s("status.pending"),class:"bg-yellow-100 text-yellow-800"},rejected:{label:s("status.rejected"),class:"bg-red-100 text-red-800"}}),[s]);if(!k||!t)return null;const i=c=>s(`expenseCategories.${c}`)||c,r=c=>new Date(c).toLocaleDateString("tr-TR"),n=c=>{const p=typeof c=="string"?parseFloat(c):c;return d(p||0)},l=c=>{const p=(c||"").trim(),g=s?.i18n?.language?String(s.i18n.language).slice(0,2).toLowerCase():"tr",h=g==="tr"?"Tedariki Yok":g==="de"?"Kein Lieferant":g==="fr"?"Aucun Fournisseur":"No Supplier";if(!p)return s("common:noSupplier",{defaultValue:h});const y=p.toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(y)?s("common:noSupplier",{defaultValue:h}):p},o=c=>{const p=a[c]||{label:c||"Bilinmeyen",class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.class}`,children:p.label})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.expenseNumber}),e.jsx("p",{className:"text-sm text-gray-500",children:s("expense.details")})]}),o(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m&&e.jsxs("button",{onClick:()=>m(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(cn,{className:"w-4 h-4"}),e.jsx("span",{children:s("invoice.downloadPdf")})]}),e.jsxs("button",{onClick:()=>{x(),setTimeout(()=>f(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:s("common.edit")})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`expense-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("expense.information")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[s("expense.date"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:r(t.expenseDate)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ai,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[s("expense.category"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:i(t.category)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("expense.supplier")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Fr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[s("expense.supplier"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:l(typeof t.supplier=="string"?String(t.supplier):t.supplier?.name)})]}),t.supplier?.email&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.supplier.email})]}),t.supplier?.address&&e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Adres:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.supplier.address})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("invoice.description")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.description})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("expense.amount")}),e.jsx("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-red-800 font-medium text-lg",children:[s("expense.amount"),":"]}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:n(t.amount)})]})})]}),t.receiptUrl&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("expense.receipt")}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bn,{className:"w-5 h-5 text-blue-600"}),e.jsx("a",{href:t.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:s("expense.viewReceipt")})]})})]}),t.notes&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("invoice.notes")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.notes})})]})]})]})})}const si=k=>{if(typeof k=="number")return Number.isFinite(k)?k:0;if(k==null)return 0;const x=String(k).trim();if(!x)return 0;if(x.includes(".")&&x.includes(",")){const m=x.replace(/\./g,"").replace(/,/g,"."),d=parseFloat(m);return Number.isFinite(d)?d:0}if(x.includes(",")&&!x.includes(".")){const f=parseFloat(x.replace(/,/g,"."));return Number.isFinite(f)?f:0}const t=parseFloat(x.replace(/\s/g,""));return Number.isFinite(t)?t:0};function Um({isOpen:k,onClose:x,sale:t,onEdit:f,onDelete:m,onDownload:d}){const{formatCurrency:s}=$r();if(!k||!t)return null;const a=l=>new Date(l).toLocaleDateString("tr-TR"),i=l=>{const o=si(l);return s(o)},r=l=>{const o=(l||"").toString().toLowerCase();let c="pending";["completed","paid","invoiced","approved"].includes(o)?c="completed":["cancelled","canceled","void","refunded","deleted"].includes(o)?c="cancelled":["pending","created","new","draft","open","processing"].includes(o)&&(c="pending");const g={completed:{label:"Tamamland",class:"bg-green-100 text-green-800"},pending:{label:"Bekliyor",class:"bg-yellow-100 text-yellow-800"},cancelled:{label:"ptal",class:"bg-red-100 text-red-800"}}[c]||{label:o||"Bekliyor",class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${g.class}`,children:g.label})},n=l=>({cash:"Nakit",card:"Kredi/Banka Kart",transfer:"Havale/EFT",check:"ek"})[l]||l;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.saleNumber||`SAL-${t.id}`}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sat Detaylar"})]}),r(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[d&&e.jsxs("button",{onClick:()=>d(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(cn,{className:"w-4 h-4"}),e.jsx("span",{children:"PDF ndir"})]}),e.jsxs("button",{onClick:()=>f(t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:"Dzenle"})]}),m&&e.jsxs("button",{onClick:()=>m(t.id),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsx("span",{children:"Sil"})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`sale-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sat Bilgileri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Sat Tarihi:"}),e.jsx("span",{className:"ml-2 font-medium",children:a(t.date)})]}),t.paymentMethod&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Kn,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"deme Yntemi:"}),e.jsx("span",{className:"ml-2 font-medium",children:n(t.paymentMethod)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mteri Bilgileri"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Mteri:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.customerName})]}),t.customerEmail&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-2 text-xs",children:"@"}),e.jsx("span",{className:"text-gray-600",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.customerEmail})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"rn/Hizmet Bilgileri"}),t.items&&t.items.length>0?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"rn/Hizmet"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Miktar"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Birim Fiyat"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Toplam"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.items.map((l,o)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ys,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:l.productName})]})}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:l.quantity}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:i(l.unitPrice)}),e.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:i(l.total&&si(l.total)>0?l.total:si(l.unitPrice)*si(l.quantity))})]},o))}),e.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-4 py-4 text-right font-semibold text-gray-900",children:"Genel Toplam (KDV Hari):"}),e.jsx("td",{className:"px-4 py-4 text-right font-bold text-green-600 text-lg",children:i(t.items.reduce((l,o)=>l+si(o.unitPrice)*si(o.quantity),0))})]})})]})}):e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Ys,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.productName})]}),t.quantity&&t.unitPrice&&e.jsxs("div",{className:"text-sm text-gray-600 ml-8",children:[e.jsxs("span",{children:["Miktar: ",t.quantity]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:["Birim Fiyat: ",i(t.unitPrice)]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:["Toplam (KDV Hari): ",i(si(t.unitPrice)*si(t.quantity))]})]})]})]}),(!t.items||t.items.length===0)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tutar Bilgileri"}),e.jsx("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-green-800 font-medium text-lg",children:"Toplam Tutar (KDV Hari):"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:i(si(t.unitPrice)*si(t.quantity))})]})})]}),t.notes&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notlar"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-gray-700",children:t.notes})})]})]})]})})}const o3={TRY:{symbol:"",locale:"tr-TR",name:"Trk Liras"},USD:{symbol:"$",locale:"en-US",name:"US Dollar"},EUR:{symbol:"",locale:"en-US",name:"Euro"}},C0=(k,x="TRY")=>{const t=typeof k=="number"?k:0,f=o3[x];return f?`${f.symbol}${t.toLocaleString(f.locale,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${t.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`};function l3({isOpen:k=!0,onClose:x,bankAccount:t,bank:f,onEdit:m,onAddTransaction:d,onViewTransactions:s}){const a=t||f;if(!k||!a)return null;const i=o=>o?new Date(o).toLocaleDateString("tr-TR"):"Belirtilmemi",r=(o,c="TRY")=>C0(o,c),n=o=>({checking:"Vadesiz Hesap",savings:"Vadeli Hesap",business:"Ticari Hesap"})[o]||o,l=o=>({TRY:"Trk Liras",USD:"Amerikan Dolar",EUR:"Euro",GBP:"ngiliz Sterlini"})[o]||o;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(Kn,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.bankName}),e.jsx("p",{className:"text-sm text-gray-500",children:"Banka Hesap Detaylar"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(a),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Dzenle",children:e.jsx(as,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`bank-${a.id}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"Mevcut Bakiye"}),e.jsx("p",{className:"text-3xl font-bold",children:r(a.balance,a.currency)}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:l(a.currency)})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.isActive?"bg-green-400 text-green-900":"bg-gray-400 text-gray-900"}`,children:a.isActive?"Aktif":"Pasif"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Hesap Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hesap Ad:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.accountName})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Lc,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hesap No:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.accountNumber})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx($c,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hesap Tr:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n(a.accountType)})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Dr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Al Tarihi:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:i(a.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Banka Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Fr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Banka:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.bankName})]})]}),e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx(Pn,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"IBAN:"}),e.jsx("div",{className:"ml-2 font-medium text-gray-900 font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:a.iban})]})]}),!!a.swiftBic&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Pn,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"SWIFT/BIC:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.swiftBic})]})]}),!!a.routingNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Lc,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Routing Numaras:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.routingNumber})]})]}),!!a.branchCode&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Lc,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"ube Kodu:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:a.branchCode})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ln,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Para Birimi:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[a.currency," - ",l(a.currency)]})]})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Hzl lemler"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs("button",{onClick:()=>{const o=a.iban.replace(/\s/g,"");navigator.clipboard.writeText(o),alert("IBAN kopyaland!")},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[e.jsx(Pn,{className:"w-4 h-4"}),e.jsx("span",{children:"IBAN Kopyala"})]})})]})]})]})})}const ka=({isOpen:k,title:x="Onay",message:t,confirmText:f="Evet",cancelText:m="ptal",danger:d=!1,onConfirm:s,onCancel:a})=>k?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:a}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x})}),e.jsx("div",{className:"px-5 py-4 text-gray-700 whitespace-pre-line",children:t}),e.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex justify-end gap-2",children:[e.jsx("button",{onClick:a,className:"inline-flex items-center px-4 py-2 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-50",children:m}),e.jsx("button",{onClick:s,className:`inline-flex items-center px-4 py-2 rounded-md text-white focus:outline-none ${d?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:f})]})]})]}):null,A0=({isOpen:k,onClose:x,quote:t,onEdit:f,onChangeStatus:m,onRevise:d})=>{const{t:s}=Vt(),{formatCurrency:a}=$r(),[i,r]=sr.useState(!1),n=Z.useMemo(()=>({draft:{label:s("status.draft"),className:"bg-gray-100 text-gray-800"},sent:{label:s("status.sent"),className:"bg-blue-100 text-blue-800"},viewed:{label:s("quotes.statusLabels.viewed"),className:"bg-indigo-100 text-indigo-800"},accepted:{label:s("quotes.statusLabels.accepted"),className:"bg-green-100 text-green-800"},declined:{label:s("quotes.statusLabels.declined"),className:"bg-red-100 text-red-800"},expired:{label:s("quotes.statusLabels.expired"),className:"bg-yellow-100 text-yellow-800"}}),[s]),l=Z.useMemo(()=>{if(!t?.validUntil)return null;const b=new Date(t.validUntil).getTime(),C=new Date().setHours(0,0,0,0);return Math.ceil((b-C)/(1e3*60*60*24))},[t?.validUntil]);if(!k||!t)return null;const o=b=>new Date(b).toLocaleDateString("tr-TR"),c=new Date().toISOString().slice(0,10),p=t.status==="accepted"||t.status==="declined"||t.status==="expired",g=t.status==="accepted",h=t.validUntil?t.validUntil<c:!1,y=!p&&h;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:b=>b.target===b.currentTarget&&x(),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t.quoteNumber,t.version&&t.version>1&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:s("quotes.version",{n:t.version})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:s("quotes.viewModal.details")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n[t.status].className}`,children:n[t.status].label}),g&&e.jsxs("span",{className:"ml-1 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",title:s("quotes.lockedHint")||"Kabul edildi. Bu teklif kilitli.",children:[e.jsx(vn,{className:"w-3 h-3"}),s("quotes.locked",{defaultValue:"Kilitli"})]}),y&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:s("quotes.statusLabels.expired")}),d&&p&&t.status!=="accepted"&&e.jsxs("button",{onClick:()=>{x(),setTimeout(()=>d(t),100)},className:"inline-flex items-center gap-1 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",title:s("quotes.actions.revise"),children:[e.jsx(il,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:s("quotes.actions.revise")})]}),m&&t.status==="draft"&&e.jsxs("button",{onClick:()=>m(t,"sent"),className:"inline-flex items-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",title:s("quotes.actions.send"),children:[e.jsx(r0,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:s("quotes.actions.send")})]}),m&&(t.status==="sent"||t.status==="viewed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",title:s("quotes.actions.accept"),children:[e.jsx(Ur,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:s("quotes.actions.accept")})]}),e.jsxs("button",{onClick:()=>m(t,"declined"),className:"inline-flex items-center gap-1 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",title:s("quotes.actions.decline"),children:[e.jsx(yo,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:s("quotes.actions.decline")})]})]}),f&&!g&&e.jsx("button",{onClick:()=>{x(),setTimeout(()=>f(t),100)},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[g&&e.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 text-gray-800 px-3 py-2 text-sm",children:[" ",s("quotes.lockedBanner",{defaultValue:"Bu teklif kabul edildi ve kilitlidir. Dzenleme veya silme yaplamaz."})]}),Array.isArray(t.items)&&t.items.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:s("invoices.productsAndServices")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:s("invoices.description")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:s("invoices.quantity")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:s("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:s("invoices.totalInclVAT")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(t.items||[]).map(b=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:b.description}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:b.quantity}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:a(b.unitPrice,t.currency)}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:a(b.total,t.currency)})]},b.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[s("quotes.table.date"),":"]}),e.jsx("span",{className:"font-medium",children:o(t.issueDate)})]}),t.validUntil&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[s("quotes.validUntil"),":"]}),e.jsx("span",{className:"font-medium",children:o(t.validUntil)}),typeof l=="number"&&l>=0&&!y&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:s("quotes.expiresIn",{days:l})}),y&&e.jsx("span",{className:"ml-2 text-xs text-red-600",children:s("quotes.expiredOn",{date:o(t.validUntil)})})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Wr,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[s("quotes.table.customer"),":"]}),e.jsx("span",{className:"font-medium",children:t.customerName})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Ab,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[s("quotes.table.amount"),":"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:a(t.total,t.currency)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsxs("span",{className:"mr-2 text-gray-500",children:[s("quotes.createModal.currency"),":"]}),e.jsx("span",{className:"font-medium",children:t.currency})]})]})]}),Array.isArray(t.revisions)&&t.revisions.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:s("quotes.revisionHistory",{defaultValue:"Revizyon Gemii"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"15%"},children:"v"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"25%"},children:s("quotes.table.date")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"25%"},children:s("quotes.validUntil")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"20%"},children:s("quotes.table.status")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",style:{width:"15%"},children:s("quotes.table.amount")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.revisions.map((b,C)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 text-sm text-gray-800",children:["v",b.version]}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:o(b.issueDate)}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:b.validUntil?o(b.validUntil):"-"}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:b.status}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:a(Number(b.total||0),t.currency)})]},`rev-${C}`))})]})})]}),t.scopeOfWorkHtml&&String(t.scopeOfWorkHtml).trim().length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:s("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx("div",{className:"prose max-w-none prose-sm text-gray-800 border border-gray-200 rounded-lg p-4 bg-white",dangerouslySetInnerHTML:{__html:String(t.scopeOfWorkHtml)}})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:async()=>{const{generateQuotePDF:b}=await _r(async()=>{const{generateQuotePDF:C}=await import("./pdfGenerator-35WlICye.js").then(T=>T.p);return{generateQuotePDF:C}},[]);await b({id:t.id,quoteNumber:t.quoteNumber,customerName:t.customerName,customerId:t.customerId,issueDate:t.issueDate,validUntil:t.validUntil,status:t.status,currency:t.currency,total:t.total,items:(t.items||[]).map(C=>({description:C.description,quantity:C.quantity,unitPrice:C.unitPrice,total:C.total})),scopeOfWorkHtml:t.scopeOfWorkHtml||""},{filename:t.quoteNumber})},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",title:s("quotes.actions.downloadPdf"),children:[e.jsx(Vc,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("quotes.actions.downloadPdf")})]}),t.publicId&&e.jsxs("button",{onClick:async()=>{try{const C=`${typeof window<"u"?window.location.origin:""}/public/quote/${encodeURIComponent(String(t.publicId))}`;await navigator.clipboard.writeText(C);try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:s("quotes.actions.copyPublicLinkSuccess",{defaultValue:"Balant kopyaland."}),tone:"success"}}))}catch{}m&&t.status==="draft"&&m(t,"sent")}catch(b){console.warn("Clipboard copy failed, showing fallback",b);try{const T=`${typeof window<"u"?window.location.origin:""}/public/quote/${encodeURIComponent(String(t.publicId))}`;alert(T)}catch{}}},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",title:s("quotes.actions.copyPublicLink",{defaultValue:"Public Link Kopyala"}),children:[e.jsx(Rm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("quotes.actions.copyPublicLink",{defaultValue:"Public Link Kopyala"})})]}),(t.status==="sent"||t.status==="viewed")&&e.jsxs("button",{onClick:()=>{console.log("Resend email (stub) for quote",t.id),alert(s("quotes.actions.resendEmail"))},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",title:s("quotes.actions.resendEmail"),children:[e.jsx(fs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s("quotes.actions.resendEmail")})]})]})]})]})}),i&&e.jsx(ka,{isOpen:!0,title:s("common.confirm",{defaultValue:"Onay"}),message:s("quotes.confirmAccept",{defaultValue:"Teklifi kabul etmek istediinizden emin misiniz? Bu ilem geri alnamaz."}),confirmText:s("common.yes",{defaultValue:"Evet"}),cancelText:s("common.no",{defaultValue:"Hayr"}),onCancel:()=>r(!1),onConfirm:()=>{r(!1),m&&t&&m(t,"accepted")}})]})},_0=({value:k,onChange:x,placeholder:t,height:f=220,readOnly:m,className:d})=>{const s=Z.useRef(null),a=Z.useRef(!1),i=Z.useRef(null),[r,n]=Z.useState(!1),l=Z.useRef(null),[o,c]=Z.useState(!1),[p,g]=Z.useState(!1),[h,y]=Z.useState({r:3,c:3});Z.useEffect(()=>{const B=s.current;B&&typeof k=="string"&&k!==B.innerHTML&&(B.innerHTML=k||"")},[k]);const b=()=>{const B=s.current;if(!B)return;document.activeElement!==B&&B.focus();const K=window.getSelection?.();K&&l.current&&(K.removeAllRanges(),K.addRange(l.current))},C=(B,K)=>{try{b(),document.execCommand(B,!1,K);const U=s.current;U&&x&&x(U.innerHTML)}catch{}},T=B=>{try{b(),document.execCommand("insertHTML",!1,B);const K=s.current;K&&x&&x(K.innerHTML)}catch{}},D=()=>{s.current&&x&&x(s.current.innerHTML)},F=B=>{(B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="b"&&(B.preventDefault(),C("bold")),(B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="u"&&(B.preventDefault(),C("underline")),(B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="i"&&(B.preventDefault(),C("italic")),(B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="z"&&(B.preventDefault(),C("undo")),(B.ctrlKey||B.metaKey)&&B.shiftKey&&B.key.toLowerCase()==="z"&&(B.preventDefault(),C("redo"))},H=({title:B,onClick:K,children:U})=>e.jsx("button",{type:"button",onMouseDown:_=>{_.preventDefault(),K()},title:B,className:"inline-flex items-center justify-center w-8 h-8 rounded-md text-slate-700 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:U}),O=()=>e.jsx("span",{className:"w-px h-6 bg-slate-200","aria-hidden":"true"}),$=typeof f=="number"?`${f}px`:f;return Z.useEffect(()=>{const B=s.current;if(!B)return;const K=(_,M)=>M?_===M||_.contains(M):!1,U=()=>{const _=window.getSelection?.();if(!_||_.rangeCount===0)return;const M=_.getRangeAt(0);K(B,M.commonAncestorContainer)&&(l.current=M.cloneRange())};return document.addEventListener("selectionchange",U),()=>document.removeEventListener("selectionchange",U)},[]),e.jsxs("div",{className:d,children:[!m&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1 border border-slate-200 rounded-t-md bg-white px-2 py-1.5 shadow-sm relative",children:[e.jsx(H,{title:"Kaln (Ctrl+B)",onClick:()=>C("bold"),children:e.jsx(Eb,{className:"w-4 h-4"})}),e.jsx(H,{title:"talik (Ctrl+I)",onClick:()=>C("italic"),children:e.jsx(Kb,{className:"w-4 h-4"})}),e.jsx(H,{title:"Alt izili (Ctrl+U)",onClick:()=>C("underline"),children:e.jsx(lv,{className:"w-4 h-4"})}),e.jsx(H,{title:"st izili",onClick:()=>C("strikeThrough"),children:e.jsx(av,{className:"w-4 h-4"})}),e.jsx(O,{}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{title:"Balk (H1H6)",onClick:()=>c(B=>!B),children:e.jsx(up,{className:"w-4 h-4"})}),o&&e.jsx("div",{className:"absolute z-50 mt-1 w-44 bg-white border border-slate-200 rounded-md shadow-lg p-1",children:[{tag:"P",label:"Paragraf",Icon:mp},{tag:"H1",label:"Balk 1",Icon:up},{tag:"H2",label:"Balk 2",Icon:Fb},{tag:"H3",label:"Balk 3",Icon:Bb},{tag:"H4",label:"Balk 4",Icon:Ub},{tag:"H5",label:"Balk 5",Icon:$b},{tag:"H6",label:"Balk 6",Icon:Vb}].map(({tag:B,label:K,Icon:U})=>e.jsxs("button",{type:"button",onMouseDown:_=>{_.preventDefault(),C("formatBlock",B),c(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm text-slate-700 rounded hover:bg-slate-100",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:K})]},B))})]}),e.jsx(O,{}),e.jsx(H,{title:"Madde aretli Liste",onClick:()=>C("insertUnorderedList"),children:e.jsx(Yb,{className:"w-4 h-4"})}),e.jsx(H,{title:"Numaral Liste",onClick:()=>C("insertOrderedList"),children:e.jsx(Wb,{className:"w-4 h-4"})}),e.jsx(O,{}),e.jsx(H,{title:"Sola Hizala",onClick:()=>C("justifyLeft"),children:e.jsx(jb,{className:"w-4 h-4"})}),e.jsx(H,{title:"Ortala",onClick:()=>C("justifyCenter"),children:e.jsx(kb,{className:"w-4 h-4"})}),e.jsx(H,{title:"Saa Hizala",onClick:()=>C("justifyRight"),children:e.jsx(Sb,{className:"w-4 h-4"})}),e.jsx(H,{title:"ki Yana Yasla",onClick:()=>C("justifyFull"),children:e.jsx(Nb,{className:"w-4 h-4"})}),e.jsx(O,{}),e.jsx(H,{title:"Alnt",onClick:()=>C("formatBlock","BLOCKQUOTE"),children:e.jsx(t0,{className:"w-4 h-4"})}),e.jsx(H,{title:"Kod Blou",onClick:()=>C("formatBlock","PRE"),children:e.jsx(Db,{className:"w-4 h-4"})}),e.jsx(H,{title:"Yatay izgi",onClick:()=>C("insertHorizontalRule"),children:e.jsx(mp,{className:"w-4 h-4"})}),e.jsx(O,{}),e.jsx(H,{title:"Alt indis",onClick:()=>C("subscript"),children:e.jsxs("span",{className:"text-[10px] font-semibold",children:["x",e.jsx("sub",{children:"2"})]})}),e.jsx(H,{title:"st indis",onClick:()=>C("superscript"),children:e.jsxs("span",{className:"text-[10px] font-semibold",children:["x",e.jsx("sup",{children:"2"})]})}),e.jsx(O,{}),e.jsx(H,{title:"Balant Ekle",onClick:()=>{const B=window.prompt("Balant URLsi:");B&&C("createLink",B)},children:e.jsx(Rm,{className:"w-4 h-4"})}),e.jsx(H,{title:"Grsel Ekle",onClick:()=>i.current?.click(),children:e.jsx(Hb,{className:"w-4 h-4"})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:async B=>{const K=B.target.files?.[0];if(!K)return;const U=new FileReader;U.onload=()=>{try{const _=String(U.result||"");_&&C("insertImage",_)}catch{}},U.readAsDataURL(K),B.currentTarget.value=""}}),e.jsx(O,{}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{title:"Tablo Ekle",onClick:()=>g(B=>!B),children:e.jsx("span",{className:"grid grid-cols-3 grid-rows-3 gap-[1px] w-4 h-4",children:Array.from({length:9}).map((B,K)=>e.jsx("span",{className:"bg-slate-500/50"},K))})}),p&&e.jsxs("div",{className:"absolute z-50 mt-1 bg-white border border-slate-200 rounded-md shadow-lg p-2",children:[e.jsx("div",{className:"grid grid-cols-6 gap-1",children:Array.from({length:36}).map((B,K)=>{const U=Math.floor(K/6)+1,_=K%6+1,M=U<=h.r&&_<=h.c;return e.jsx("div",{onMouseEnter:()=>y({r:U,c:_}),onMouseDown:A=>{A.preventDefault();const N=Array.from({length:U}).map(()=>`<tr>${Array.from({length:_}).map(()=>"<td>&nbsp;</td>").join("")}</tr>`).join("");T(`<table><tbody>${N}</tbody></table>`),g(!1)},className:`w-5 h-5 border ${M?"bg-indigo-500 border-indigo-500":"bg-white border-slate-200"} cursor-pointer`},K)})}),e.jsxs("div",{className:"text-xs text-slate-600 mt-2 text-center",children:[h.r,"  ",h.c]})]})]}),e.jsx(O,{}),e.jsx(H,{title:"Geri Al (Ctrl+Z)",onClick:()=>C("undo"),children:e.jsx(cv,{className:"w-4 h-4"})}),e.jsx(H,{title:"Yinele (Shift+Ctrl+Z)",onClick:()=>C("redo"),children:e.jsx(tv,{className:"w-4 h-4"})}),e.jsx(H,{title:"Biimlendirmeyi Temizle",onClick:()=>C("removeFormat"),children:e.jsx(Mb,{className:"w-4 h-4"})})]}),e.jsx("div",{ref:s,className:`border border-slate-200 ${m?"rounded-md":"rounded-b-md"} p-3 focus:outline-none min-h-[140px] prose prose-sm max-w-none bg-white ${r?"ring-2 ring-indigo-500":""}`,contentEditable:!m,suppressContentEditableWarning:!0,onInput:D,onKeyDown:F,style:{height:$,overflowY:"auto"},"data-placeholder":t||"",onFocus:B=>{n(!0),c(!1),g(!1),!k&&!a.current&&(B.currentTarget.innerHTML="",a.current=!0)},onBlur:()=>n(!1)}),e.jsx("style",{children:`
        .prose h1 { font-size: 1.25rem; font-weight: 700; margin: 0.5rem 0; }
        .prose h2 { font-size: 1.1rem; font-weight: 700; margin: 0.5rem 0; }
        .prose p { margin: 0.25rem 0; }
        .prose ul { list-style: disc; padding-left: 1.25rem; margin: 0.25rem 0; }
        .prose ol { list-style: decimal; padding-left: 1.25rem; margin: 0.25rem 0; }
        .prose blockquote { border-left: 3px solid #e5e7eb; color: #374151; padding-left: 0.75rem; margin: 0.5rem 0; }
        .prose pre { background: #0f172a; color: #e5e7eb; padding: 0.5rem 0.75rem; border-radius: 0.375rem; overflow-x: auto; }
        .prose code { background: #f1f5f9; padding: 0.1rem 0.3rem; border-radius: 0.25rem; }
        .prose img { max-width: 100%; height: auto; border-radius: 0.25rem; }
        .prose table { width: 100%; border-collapse: collapse; margin: 0.5rem 0; }
        .prose th, .prose td { border: 1px solid #e5e7eb; padding: 6px; }
        .prose thead th { background: #f9fafb; }
      `})]})},E0=({isOpen:k,onClose:x,quote:t,onSave:f,products:m=[]})=>{const{t:d}=Vt(),[s,a]=Z.useState(null),[i,r]=Z.useState([]),[n,l]=Z.useState(null),[o,c]=Z.useState(""),[p,g]=Z.useState(null);Z.useEffect(()=>{if(t){a({...t});const H=Array.isArray(t.items)&&t.items.length>0?t.items.map(O=>({...O})):[{id:"l1",description:"",quantity:1,unitPrice:0,total:0}];r(H),c(t.scopeOfWorkHtml||"")}else a(null),r([]),c("")},[t]);const h=Z.useMemo(()=>i.reduce((H,O)=>H+(Number(O.total)||0),0),[i]);if(!k||!s)return null;const y=()=>{r(H=>[...H,{id:`l${Date.now()}`,description:"",quantity:1,unitPrice:0,total:0}])},b=H=>{r(O=>O.length===1?O:O.filter($=>$.id!==H))},C=(H,O,$)=>{r(B=>B.map(K=>{if(K.id!==H)return K;const U={...K,[O]:$},_=Number(O==="quantity"?$:U.quantity)||0,M=Number(O==="unitPrice"?$:U.unitPrice)||0;return U.total=_*M,U}))},T=H=>{const O=(H||"").trim().toLowerCase();return m.filter($=>!O||$.name.toLowerCase().includes(O)||($.sku||"").toLowerCase().includes(O)||($.category||"").toLowerCase().includes(O)).slice(0,12)},D=(H,O)=>{r($=>$.map(B=>{if(B.id!==H)return B;const K=B.quantity>0?B.quantity:1,U=Number(O.unitPrice??O.price??B.unitPrice??0);return{...B,productId:String(O.id),description:O.name,unit:O.unit,unitPrice:U,quantity:K,total:K*U}})),l(null)},F=()=>{if(!s||!s.customerName||!s.issueDate)return;const H={...s,items:i,total:h,...o?{scopeOfWorkHtml:o}:{scopeOfWorkHtml:""}};g({title:d("common.confirm",{defaultValue:"Onay"}),message:d("quotes.saveConfirm",{defaultValue:"Deiiklikleri kaydetmek istiyor musunuz?"}),onConfirm:()=>{f(H),x(),g(null)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d("quotes.editModal.title")}),e.jsx("p",{className:"text-sm text-gray-500",children:d("quotes.editModal.subtitle")})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.editModal.quoteNumber")}),e.jsx("input",{type:"text",value:s.quoteNumber,onChange:H=>a({...s,quoteNumber:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.createModal.customer")}),e.jsx("input",{type:"text",value:s.customerName,onChange:H=>a({...s,customerName:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.createModal.date")}),e.jsx("input",{type:"date",value:s.issueDate,onChange:H=>a({...s,issueDate:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.createModal.currency")}),e.jsxs("select",{value:s.currency,onChange:H=>a({...s,currency:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.validUntil")}),e.jsx("input",{type:"date",value:s.validUntil||"",onChange:H=>a({...s,validUntil:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.createModal.amount")}),e.jsx("input",{type:"text",value:Number(h||0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.table.status")}),e.jsxs("select",{value:s.status,onChange:H=>a({...s,status:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"draft",children:d("status.draft")}),e.jsx("option",{value:"sent",children:d("status.sent")}),e.jsx("option",{value:"viewed",children:d("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:d("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:d("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:d("quotes.statusLabels.expired")})]})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:d("invoices.productsAndServices")}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:d("invoices.addLine")})]})]}),e.jsx("div",{className:"overflow-x-auto",style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"45%"},children:d("invoices.description")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"15%"},children:d("invoices.quantity")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"20%"},children:d("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",style:{width:"15%"},children:d("invoices.totalInclVAT")}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",style:{width:"5%"},children:d("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(H=>{const O=T(String(H.description||""));return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2",style:{position:"relative"},children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:H.description||"",onChange:$=>{C(H.id,"description",$.target.value),$.target.value.length>0&&l(H.id)},onClick:()=>{H.description?.length>0&&l(H.id)},onBlur:()=>setTimeout(()=>l($=>$===H.id?null:$),200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:d("invoices.productServiceDescription")}),n===H.id&&O.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[400px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-indigo-50 p-2 text-xs font-medium text-indigo-700 border-b border-indigo-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),O.length," rn bulundu"]})}),O.map($=>e.jsxs("button",{type:"button",onMouseDown:B=>B.preventDefault(),onClick:()=>D(H.id,$),className:"w-full p-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-0.5",children:$.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[$.sku&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded",children:["SKU: ",$.sku]}),e.jsx("span",{className:"font-medium text-green-600",children:($.unitPrice??$.price??0).toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]},`${H.id}-${$.id}`))]})]}),H.unit&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Birim: ",H.unit]})]}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"number",value:H.quantity,onChange:$=>C(H.id,"quantity",parseInt($.target.value,10)||1),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:1,step:1})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"number",value:H.unitPrice,onChange:$=>C(H.id,"unitPrice",parseFloat($.target.value)||0),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:0,step:.01})}),e.jsx("td",{className:"px-3 py-2 text-right text-sm font-medium text-gray-900",children:(H.total||0).toLocaleString("tr-TR",{minimumFractionDigits:2})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("button",{onClick:()=>b(H.id),disabled:i.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ts,{className:"w-4 h-4"})})})]},H.id)})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx(_0,{value:o,onChange:c,placeholder:d("quotes.scopeOfWork.placeholder",{defaultValue:"Proje kapsam, teslimatlar, varsaymlar ve hariler..."}),height:220}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d("quotes.scopeOfWork.note",{defaultValue:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."})})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:d("common.cancel")}),e.jsx("button",{onClick:F,className:"px-5 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700",children:d("common.update")})]})]})}),p&&e.jsx(ka,{isOpen:!0,title:p.title,message:p.message,confirmText:d("common.yes",{defaultValue:"Evet"}),cancelText:d("common.no",{defaultValue:"Hayr"}),onConfirm:p.onConfirm,onCancel:()=>g(null)})]})};function c3({isOpen:k,onClose:x,customer:t,invoices:f,sales:m=[],onViewInvoice:d,onCreateInvoice:s,onViewSale:a,onViewQuote:i}){const{formatCurrency:r}=$r(),{t:n}=Vt(),l=Z.useMemo(()=>({paid:` ${n("status.paid")}`,sent:` ${n("status.sent")}`,overdue:` ${n("status.overdue")}`,draft:` ${n("status.draft")}`}),[n]);if(!k||!t)return null;const o=m.filter(h=>{const y=h.customerName===t.name,b=h.customerEmail===t.email;return y||b});let c=[];try{const h=localStorage.getItem("tenantId")||"",y=h?`quotes_cache_${h}`:"quotes_cache",b=localStorage.getItem(y),C=b?JSON.parse(b):[];Array.isArray(C)&&(c=C.filter(T=>T?.customerName===t.name))}catch{}const p=h=>new Date(h).toLocaleDateString("tr-TR"),g=h=>r(h);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[t.name," - ",n("customer.history")]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[f.length+o.length," ",n("customer.transactions")]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:f.length===0&&o.length===0&&c.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Or,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n("customer.noHistory")}),e.jsxs("p",{className:"text-gray-500 mb-6",children:[t.name," ",n("customer.noHistoryDesc")]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("strong",{children:n("customer.tip")})," ",n("customer.tipDesc")]}),e.jsx("button",{onClick:()=>s?.(t),className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:n("customer.createInvoice")})]})]}):e.jsxs("div",{className:"space-y-4",children:[c.map((h,y)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 text-sm font-bold",children:"Q"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-purple-600",children:[e.jsx("button",{onClick:()=>i?.(h),className:"text-purple-600 hover:text-purple-800 transition-colors cursor-pointer",title:n("quotes.view")||"Teklifi grntle",children:h.quoteNumber}),h.version&&h.version>1?e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["v",h.version]}):null]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),new Date(h.issueDate).toLocaleDateString("tr-TR")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:g(Number(h.total||0))}),e.jsx("div",{className:"text-xs text-gray-500",children:h.status})]})]})},`quote-${y}`)),o.map((h,y)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-sm font-bold",children:"S"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-600",children:e.jsx("button",{onClick:()=>a?.(h),className:"text-green-600 hover:text-green-800 transition-colors cursor-pointer",title:n("sales.view")||"Sat grntle",children:h.saleNumber||`SAL-${h.id}`})}),e.jsx("p",{className:"text-sm text-gray-600",children:h.productName}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),p(h.date)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:["+",g(h.amount)]}),e.jsx("div",{className:"text-sm text-gray-500",children:h.status==="completed"?` ${n("customer.completed")}`:` ${n("customer.waiting")}`})]})]})},`sale-${y}`)),f.map((h,y)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>d?.(h),className:"font-medium text-blue-600 hover:text-blue-800 transition-colors cursor-pointer",title:"Faturay grntle",children:h.invoiceNumber}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),p(h.issueDate)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:g(h.total)}),e.jsx("div",{className:"text-sm text-gray-500",children:l[h.status]||h.status})]})]})},`invoice-${y}`))]})}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Kapat"})})]})})}function d3({isOpen:k,onClose:x,supplier:t,expenses:f,onViewExpense:m,onCreateExpense:d}){const{formatCurrency:s}=$r(),{t:a}=Vt(),i=Z.useMemo(()=>({paid:` ${a("status.paid")}`,approved:` ${a("status.approved")}`,draft:` ${a("status.draft")}`}),[a]);if(!k||!t)return null;const r=l=>new Date(l).toLocaleDateString("tr-TR"),n=l=>s(l);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[t.name," - ",a("supplier.expenseHistory")]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[f.length," ",a("supplier.expensesFound")]})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a("supplier.noExpenseHistory")}),e.jsxs("p",{className:"text-gray-500 mb-6",children:[t.name," ",a("supplier.noExpenseHistoryDesc")]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-red-800",children:[" ",e.jsx("strong",{children:a("supplier.tip")})," ",a("supplier.tipDesc")]}),e.jsx("button",{onClick:()=>d?.(t),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:a("supplier.createExpense")})]})]}):e.jsx("div",{className:"space-y-4",children:f.map((l,o)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(bn,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>m?.(l),className:"font-medium text-red-600 hover:text-red-800 transition-colors cursor-pointer",title:a("supplier.viewExpense"),children:l.expenseNumber}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),r(l.expenseDate)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:["-",n(l.amount)]}),e.jsx("div",{className:"text-sm text-gray-500",children:i[l.status]||l.status})]})]})},o))})}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Kapat"})})]})})}function u3({isOpen:k,onClose:x,title:t,message:f,relatedItems:m,itemType:d}){if(!k)return null;const s=i=>e.jsx("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:i.invoiceNumber}),e.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:[i.total," TL - ",i.status]})]})},i.id),a=i=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:i.expenseNumber}),e.jsx("span",{className:"ml-3 text-sm text-gray-600",children:i.description})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[i.amount," TL"]})]},i.id);return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:x}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:e.jsx(fr,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:e.jsx(dn,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:t}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:f}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Bal ",d==="invoice"?"Faturalar":"Giderler",":"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(i=>d==="invoice"?s(i):a(i))})]}),e.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Anladm"}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:["Silmek iin nce bal ",d==="invoice"?"faturalar":"giderleri"," silmeniz gerekir."]})]})]})})}const nn=({page:k,pageSize:x,total:t,onPageChange:f,onPageSizeChange:m,pageSizeOptions:d=[20,50,100],className:s=""})=>{const{t:a}=Vt(),i=Math.max(1,Math.ceil(t/x)),r=t===0?0:(k-1)*x+1,n=Math.min(t,k*x),l=()=>f(Math.max(1,k-1)),o=()=>f(Math.min(i,k+1)),c=[],p=5;let g=Math.max(1,k-Math.floor(p/2)),h=Math.min(i,g+p-1);h-g+1<p&&(g=Math.max(1,h-p+1));for(let y=g;y<=h;y++)c.push(y);return e.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between ${s}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsxs("span",{children:[a("pagination.itemsPerPage",{defaultValue:"Sayfa bana"}),":"]}),e.jsx("select",{value:x,onChange:y=>m(Number(y.target.value)),className:"px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:d.map(y=>e.jsx("option",{value:y,children:y},y))}),e.jsx("span",{className:"ml-2 text-gray-500",children:a("pagination.range",{start:r,end:n,total:t,defaultValue:`${r}-${n} / ${t}`})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:l,disabled:k<=1,className:`px-3 py-1.5 text-sm rounded-lg border ${k<=1?"text-gray-300 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:a("pagination.previous",{defaultValue:"nceki"})}),g>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(1),className:"px-3 py-1.5 text-sm rounded-lg border text-gray-700 border-gray-300 hover:bg-gray-50",children:"1"}),g>2&&e.jsx("span",{className:"px-2 text-gray-400",children:""})]}),c.map(y=>e.jsx("button",{onClick:()=>f(y),className:`px-3 py-1.5 text-sm rounded-lg border ${y===k?"bg-gray-900 text-white border-gray-900":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:y},y)),h<i&&e.jsxs(e.Fragment,{children:[h<i-1&&e.jsx("span",{className:"px-2 text-gray-400",children:""}),e.jsx("button",{onClick:()=>f(i),className:"px-3 py-1.5 text-sm rounded-lg border text-gray-700 border-gray-300 hover:bg-gray-50",children:i})]}),e.jsx("button",{onClick:o,disabled:k>=i,className:`px-3 py-1.5 text-sm rounded-lg border ${k>=i?"text-gray-300 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:a("pagination.next",{defaultValue:"Sonraki"})})]})]})},em=k=>(k||"").toLowerCase();function m3({customers:k,onAddCustomer:x,onEditCustomer:t,onDeleteCustomer:f,onViewCustomer:m,onSelectCustomer:d,onImportCustomers:s,selectionMode:a=!1}){const{t:i}=Vt(),r=Z.useRef(null),[n,l]=Z.useState(""),[o,c]=Z.useState(1),[p,g]=Z.useState(()=>{const B=typeof window<"u"?localStorage.getItem("customers_pageSize"):null,K=B?Number(B):20;return[20,50,100].includes(K)?K:20}),h=Z.useMemo(()=>Array.isArray(k)?k.filter(Boolean):[],[k]),y=Z.useMemo(()=>{const B=n.trim().toLowerCase();return B?h.filter(K=>{const U=em(K?.name),_=em(K?.email),M=em(K?.company);return U.includes(B)||_.includes(B)||M.includes(B)}):h},[h,n]),b=Z.useMemo(()=>{const B=(o-1)*p;return y.slice(B,B+p)},[y,o,p]);Z.useEffect(()=>{c(1)},[n]);const C=B=>{g(B),typeof window<"u"&&localStorage.setItem("customers_pageSize",String(B)),c(1)},T=()=>{r.current?.click()},D=B=>{const K=B.target.files?.[0];if(!K){B.target.value="";return}s&&s(K),B.target.value=""},F=()=>{const B=["Name,Email,Phone,Address,Company,TaxNumber","John Doe,john.doe@email.com,+1-555-123-4567,123 Main Street New York NY USA,Tech Solutions Inc,123456789","Jane Smith,jane.smith@company.com,+1-555-987-6543,456 Oak Avenue Los Angeles CA USA,Marketing Pro LLC,987654321","Michael Johnson,m.johnson@business.org,+1-555-456-7890,789 Pine Road Chicago IL USA,Johnson & Associates,456789123"].join(`
`),K=new Blob(["\uFEFF"+B],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");if(U.download!==void 0){const _=URL.createObjectURL(K);U.setAttribute("href",_),U.setAttribute("download","customer_import_template.csv"),U.style.visibility="hidden",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(_)}},H=()=>e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Mteri Se":i("customers.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[h.length," ",i("customers.customersRegistered")]})]}),!a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:r,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:D}),e.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 rounded-lg border border-blue-200 px-4 py-2 text-blue-600 transition-colors hover:bg-blue-50",title:i("customers.downloadTemplate"),children:[e.jsx(cn,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.downloadTemplate")})]}),e.jsxs("button",{type:"button",onClick:T,className:"flex items-center gap-2 rounded-lg border border-purple-200 px-4 py-2 text-purple-600 transition-colors hover:bg-purple-50 disabled:cursor-not-allowed disabled:border-gray-200 disabled:text-gray-300",disabled:!s,children:[e.jsx(Om,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.importCSV")})]}),e.jsxs("button",{type:"button",onClick:x,className:"flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-white transition-colors hover:bg-purple-700",children:[e.jsx(As,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.newCustomer")})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:B=>l(B.target.value),placeholder:i("customers.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),O=()=>e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Fr,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:i(n?"customers.noCustomersFound":"customers.noCustomers")}),e.jsx("p",{className:"mb-4 text-gray-500",children:i(n?"customers.noCustomersFoundDesc":"customers.noCustomersDesc")}),!a&&!n&&e.jsx("button",{type:"button",onClick:x,className:"rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:i("customers.createFirstCustomer")})]}),$=(B,K)=>{const U=B?.id!=null?String(B.id):`customer-${K}`,_=B?.name?.trim()||"simsiz Mteri",M=B?.email||"E-posta bilgisi yok",A=B?.phone,N=_.charAt(0).toUpperCase()||"?",S=()=>{if(a){d?.(B);return}m(B)},w=E=>{E.stopPropagation(),t(B)},j=E=>{E.stopPropagation(),B?.id&&f(String(B.id))};return e.jsx("div",{className:"p-4 transition-colors hover:bg-gray-50",role:"button",tabIndex:0,onClick:S,onKeyDown:E=>{E.key==="Enter"&&S()},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100",children:e.jsx("span",{className:"text-lg font-semibold text-purple-600",children:N})}),e.jsxs("div",{children:[a?e.jsx("h3",{className:"font-semibold text-gray-900",children:_}):e.jsx("button",{type:"button",onClick:E=>{E.stopPropagation(),m(B)},className:"font-semibold text-purple-600 transition-colors hover:text-purple-800",children:_}),B?.company&&e.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Fr,{className:"mr-1 h-3 w-3"}),B.company]}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(fs,{className:"h-3 w-3"}),M]}),A&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Sa,{className:"h-3 w-3"}),A]})]})]})]}),!a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:w,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-blue-50 hover:text-blue-600",children:e.jsx(as,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:j,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-red-50 hover:text-red-600",children:e.jsx(ts,{className:"h-4 w-4"})})]})]})},U)};return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white",children:[H(),e.jsx("div",{className:"divide-y divide-gray-200",children:y.length===0?O():b.map($)}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx(nn,{page:o,pageSize:p,total:y.length,onPageChange:c,onPageSizeChange:C})})]})}const qn=async()=>(await _r(async()=>{const{productCategoriesApi:k}=await import("./product-categories-D0ycK-X5.js");return{productCategoriesApi:k}},[])).productCategoriesApi,tm=(k,x)=>{const t=k.trim();switch(t){case"Hizmetler":return x("products.mainCategories.services");case"rnler":return x("products.mainCategories.products");default:return t}};function h3({products:k,categories:x,onAddProduct:t,onEditProduct:f,onDeleteProduct:m,onViewProduct:d,onEditCategory:s,onDeleteCategory:a,onBulkAction:i,onImportProducts:r}){const{formatCurrency:n}=$r(),{t:l}=Vt(),[o,c]=Z.useState(null),[p,g]=Z.useState(""),[h,y]=Z.useState("all"),[b,C]=Z.useState("all"),[T,D]=Z.useState("recent"),[F,H]=Z.useState(!1),[O,$]=Z.useState(null),[B,K]=Z.useState([]),[U,_]=Z.useState(null),[M,A]=Z.useState(!1),[N,S]=Z.useState([]),[w,j]=Z.useState(!1),E=Z.useRef(null),[I,L]=Z.useState(null),[G,X]=Z.useState(1),[re,q]=Z.useState(()=>{const $e=typeof window<"u"?localStorage.getItem("products_pageSize"):null,Ke=$e?Number($e):20;return[20,50,100].includes(Ke)?Ke:20});Z.useEffect(()=>{(async()=>{try{const ht=await(await qn()).getAll({includeInactive:!0});S(ht)}catch(Ke){console.error("Kategoriler yklenirken hata:",Ke)}})()},[]);const ee=sr.useRef(null),R=sr.useRef(null),z=sr.useRef(null),W=sr.useRef(null),se="Genel",he=($e,Ke)=>$e.localeCompare(Ke,"tr-TR",{sensitivity:"accent"})===0,ne=Z.useMemo(()=>N.filter(Ke=>Ke.isActive).map(Ke=>Ke.name.trim()).filter(Ke=>!!Ke).sort((Ke,ht)=>Ke.localeCompare(ht,"tr-TR")),[N]),me=Z.useMemo(()=>N.filter($e=>!$e.isActive).sort(($e,Ke)=>$e.name.localeCompare(Ke.name,"tr-TR")),[N]),Se=Z.useMemo(()=>{const Ke=ne.filter(St=>N.find(Ne=>Ne.name.localeCompare(St,"tr-TR",{sensitivity:"accent"})===0)?.isProtected||he(St,se)).map(St=>{const xt=N.find(Ie=>Ie.name.localeCompare(St,"tr-TR",{sensitivity:"accent"})===0),Ne=ne.filter(Ie=>{const Ge=N.find(ct=>ct.name.localeCompare(Ie,"tr-TR",{sensitivity:"accent"})===0);return!Ge?.isProtected&&!he(Ie,se)&&Ge?.parentId===xt?.id});return{mainCategory:St,subCategories:Ne,categoryObj:xt}}),ht=ne.filter(St=>{const xt=N.find(Ne=>Ne.name.localeCompare(St,"tr-TR",{sensitivity:"accent"})===0);return!xt?.isProtected&&!he(St,se)&&!xt?.parentId});return{hierarchicalCategories:Ke,orphanSubCategories:ht}},[ne,N,se]),{hierarchicalCategories:Ee,orphanSubCategories:le}=Se,ie=Z.useMemo(()=>{const $e=new Map;return k.forEach(Ke=>{const ht=(Ke.category||se).trim()||se;$e.set(ht,($e.get(ht)??0)+1)}),$e},[k]);sr.useEffect(()=>{h!=="all"&&!ne.some($e=>he($e,h))&&y("all")},[ne,h]),sr.useEffect(()=>{if(!O)return;const $e=Ke=>{const ht=Ke.target,xt={category:ee,stock:R,sort:z}[O]?.current;xt&&!xt.contains(ht)&&$(null)};return document.addEventListener("mousedown",$e),()=>document.removeEventListener("mousedown",$e)},[O]),sr.useEffect(()=>{K($e=>$e.filter(Ke=>k.some(ht=>ht.id===Ke)))},[k]);const ce=Z.useMemo(()=>{const $e=Math.floor(k.reduce((xt,Ne)=>{const Ie=Number(Ne.stockQuantity)||0;return xt+Ie},0)),Ke=k.reduce((xt,Ne)=>{const Ie=Number(Ne.stockQuantity)||0,Ge=Number(Ne.unitPrice)||0;return xt+Ie*Ge},0),ht=k.filter(xt=>{const Ne=Number(xt.stockQuantity)||0,Ie=Number(xt.reorderLevel)||0;return Ne<Ie}).length,St=k.filter(xt=>xt.status!=="archived").length;return{totalStock:$e,totalValue:Ke,lowStock:ht,activeCount:St}},[k]),ae=Z.useMemo(()=>{const $e=p.trim().toLowerCase(),Ke=Ne=>$e?Ne.name.toLowerCase().includes($e)||Ne.sku.toLowerCase().includes($e)||Ne.category.toLowerCase().includes($e):!0,ht=Ne=>h==="all"?!0:he(Ne.category,h),St=Ne=>b==="all"?!0:b==="low"?Ne.stockQuantity<Ne.reorderLevel:b==="out"?Ne.stockQuantity===0:b==="overstock"?Ne.stockQuantity>Ne.reorderLevel*2:!0;return k.filter(Ne=>Ke(Ne)&&ht(Ne)&&St(Ne)).sort((Ne,Ie)=>{switch(T){case"price-desc":return Ie.unitPrice-Ne.unitPrice;case"price-asc":return Ne.unitPrice-Ie.unitPrice;case"stock-desc":return Ie.stockQuantity-Ne.stockQuantity;case"stock-asc":return Ne.stockQuantity-Ie.stockQuantity;case"recent":default:return new Date(Ie.createdAt).getTime()-new Date(Ne.createdAt).getTime()}})},[k,p,h,b,T]),ge=$e=>{const Ke=N.find(ht=>ht.name.localeCompare($e,"tr-TR",{sensitivity:"accent"})===0);_({id:Ke?.id||"",name:$e.trim(),taxRate:Ke?.taxRate??18,isActive:Ke?.isActive??!0,isProtected:Ke?.isProtected??!1})},pe=async($e,Ke,ht)=>{if(!U)try{await(await qn()).create({name:$e.trim(),taxRate:Ke,parentId:ht});const Ge=await(await qn()).getAll({includeInactive:!0});S(Ge);try{window.dispatchEvent(new Event("product-categories-updated"))}catch{}A(!1);return}catch(Ie){console.error("Kategori eklenirken hata:",Ie),Ie.response?.data?.message&&alert(Ie.response.data.message);return}const St=U.name,xt=$e.trim(),Ne=N.find(Ie=>Ie.name.localeCompare(St,"tr-TR",{sensitivity:"accent"})===0);if(!Ne){console.error("Kategori bulunamad:",St),_(null);return}if(Ne.isProtected&&xt!==St){alert(`"${St}" ana kategori olduu iin ismi deitirilemez. Sadece KDV oran gncellenebilir.`),_(null);return}try{await(await qn()).update(Ne.id,{name:xt!==St?xt:void 0,taxRate:Ke!==U.taxRate?Ke:void 0});const Ge=await(await qn()).getAll({includeInactive:!0});S(Ge);try{window.dispatchEvent(new Event("product-categories-updated"))}catch{}if(xt!==St){if(ne.some(Mt=>!he(Mt,St)&&he(Mt,xt)))return;s(St,xt)}_(null)}catch(Ie){console.error("Kategori gncellenirken hata:",Ie),Ie.response?.data?.message&&c({title:l("common.error"),message:Ie.response.data.message})}},Ae=async $e=>{try{await(await qn()).delete($e);const ht=await(await qn()).getAll({includeInactive:!0});S(ht);try{window.dispatchEvent(new Event("product-categories-updated"))}catch{}_(null)}catch(Ke){console.error("Kategori arivlenirken hata:",Ke);const ht=Ke?.response?.data;if(ht?.code==="CATEGORY_HAS_PRODUCTS"){const St=Number(ht?.count??0);_(null),c({title:l("common.warning"),message:l("products.cannotArchiveCategoryWithProducts",{count:St})})}else ht?.message&&(_(null),c({title:l("common.error"),message:ht.message}))}},fe=async $e=>{try{await(await qn()).update($e,{isActive:!0});const ht=await(await qn()).getAll({includeInactive:!0});S(ht);try{window.dispatchEvent(new Event("product-categories-updated"))}catch{}_(null)}catch(Ke){console.error("Kategori aktif edilirken hata:",Ke),Ke.response?.data?.message&&c({title:l("common.error"),message:Ke.response.data.message})}},te=async $e=>{if(typeof window>"u")return;if(he($e,se)){c({title:l("common.warning"),message:l("products.generalCategoryCannotDeleteAlert")});return}const Ke=N.find(xt=>xt.name.localeCompare($e,"tr-TR",{sensitivity:"accent"})===0);if(Ke?.isProtected){c({title:l("common.warning"),message:l("products.categoryCannotDeleteProtected",{category:$e})});return}const ht=ie.get($e)??0,St=ht>0?l("products.deleteCategoryWithProducts",{count:ht,defaultCategory:se}):l("products.deleteCategoryConfirm");L({title:l("products.deleteCategory"),message:St,confirmText:l("common.yes"),cancelText:l("common.no"),onConfirm:async()=>{try{if(Ke){await(await qn()).delete(Ke.id);const Ne=await(await qn()).getAll({includeInactive:!0});S(Ne);try{window.dispatchEvent(new Event("product-categories-updated"))}catch{}}a($e)}catch(xt){console.error("Kategori silinirken hata:",xt),xt.response?.data?.message&&c({title:l("common.error"),message:xt.response.data.message})}finally{L(null)}}})},ye=[{value:"all",label:l("products.filterCategory")},...ne.map($e=>({value:$e,label:$e}))],Te={all:l("products.allStock"),low:l("products.lowStockFilter"),out:l("products.outOfStock"),overstock:l("products.overstock")},Ce={recent:l("products.newest"),"price-desc":l("products.priceHighLow"),"price-asc":l("products.priceLowHigh"),"stock-desc":l("products.stockHighLow"),"stock-asc":l("products.stockLowHigh")},je=[{id:"category",label:l("products.category"),value:h,display:h==="all"?l("products.filterCategory"):h,options:ye,onChange:y,defaultValue:"all",menuRef:ee},{id:"stock",label:"Stok",value:b,display:Te[b]??b,options:Object.entries(Te).map(([$e,Ke])=>({value:$e,label:Ke})),onChange:C,defaultValue:"all",menuRef:R},{id:"sort",label:"Siralama",value:T,display:Ce[T]??T,options:Object.entries(Ce).map(([$e,Ke])=>({value:$e,label:Ke})),onChange:D,defaultValue:"recent",menuRef:z}],tt=+(h!=="all")+ +(b!=="all")+ +(T!=="recent"),Pe=()=>{y("all"),C("all"),D("recent"),$(null),K([])},ke=()=>{E.current?.click()},ze=$e=>{const Ke=$e.target.files?.[0];if(!Ke){$e.target.value="";return}r&&r(Ke),$e.target.value=""},qe=()=>{const $e=["Name,SKU,UnitPrice,CostPrice,TaxRate,StockQuantity,ReorderLevel,Unit,Category,Description",'rnek rn A,SKU-001,199.90,120.00,18,50,10,adet,Genel,"Aklama: rnek rn A"','rnek rn B,SKU-002,49.99,25.00,10,200,20,adet,Genel,"Aklama: rnek rn B"'].join(`
`),Ke=new Blob(["\uFEFF"+$e],{type:"text/csv;charset=utf-8;"}),ht=document.createElement("a");if(ht.download!==void 0){const St=URL.createObjectURL(Ke);ht.setAttribute("href",St),ht.setAttribute("download","product_import_template.csv"),ht.style.visibility="hidden",document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(St)}},Fe=$e=>{y($e),O==="category"&&$(null),typeof window<"u"&&window.innerWidth<1024&&H(!1)},at=Z.useMemo(()=>{const $e=(G-1)*re;return ae.slice($e,$e+re)},[ae,G,re]),we=Z.useMemo(()=>at.map($e=>$e.id),[at]),Qe=Z.useMemo(()=>we.filter($e=>B.includes($e)),[we,B]),ut=we.length>0&&Qe.length===we.length,be=Qe.length>0&&!ut,Be=Qe.length>0,ot=k.length>0,lt=[{action:"update-price",label:l("products.updatePrice")},{action:"assign-category",label:l("products.assignCategory")},{action:"archive",label:l("products.archive")},{action:"delete",label:l("products.delete"),tone:"danger"}],Et=$e=>{K(Ke=>Ke.includes($e)?Ke.filter(ht=>ht!==$e):[...Ke,$e])},Rt=$e=>{K(Ke=>{if(we.length===0)return Ke;if(we.every(xt=>Ke.includes(xt)))return Ke.filter(xt=>!we.includes(xt));const St=new Set([...Ke,...we]);return Array.from(St)})},yt=$e=>{Qe.length&&(i?.($e,Qe),K(Ke=>Ke.filter(ht=>!Qe.includes(ht))))};sr.useEffect(()=>{W.current&&(W.current.indeterminate=be)},[be]),Z.useEffect(()=>{X(1)},[p,h,b,T]);const Ut=$e=>{q($e),typeof window<"u"&&localStorage.setItem("products_pageSize",String($e)),X(1)};return e.jsxs("div",{className:"space-y-6",children:[I&&e.jsx(ka,{isOpen:!0,title:I.title,message:I.message,confirmText:I.confirmText,cancelText:I.cancelText,danger:!0,onConfirm:I.onConfirm,onCancel:()=>L(null)}),o&&e.jsx(mo,{isOpen:!0,title:o.title,message:o.message,onClose:()=>c(null)}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.totalProducts")}),e.jsx(Ys,{className:"h-5 w-5 text-indigo-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:ce.activeCount}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.activeProductsDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.stockValue")}),e.jsx(_b,{className:"h-5 w-5 text-emerald-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:n(ce.totalValue||0)}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.totalStockCostDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.totalStock")}),e.jsx(Zi,{className:"h-5 w-5 text-blue-500"})]}),e.jsxs("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:[ce.totalStock.toLocaleString("tr-TR")," ",l("products.unit")]}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.totalUnitsDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.lowStock")}),e.jsx(dn,{className:"h-5 w-5 text-orange-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:ce.lowStock}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.criticalLevelDesc")})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row",children:[e.jsx("aside",{className:`${F?"block":"hidden"} lg:block lg:w-72 lg:flex-shrink-0`,children:e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 lg:sticky lg:top-24",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:l("products.productCategories")}),e.jsxs("p",{className:"text-xs text-gray-500",children:[ne.length," ",l("products.categoriesCount")," - ",k.length," ",l("products.productsCount")]})]}),e.jsxs("button",{type:"button",onClick:()=>{_(null),A(!0)},className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 transition-colors hover:bg-gray-50",children:[e.jsx(ai,{className:"h-4 w-4"}),l("products.addCategory")]})]}),e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsxs("button",{type:"button",onClick:()=>Fe("all"),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${h==="all"?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"truncate",children:l("products.allProducts")}),e.jsx("span",{className:"text-xs text-gray-500",children:k.length})]}),e.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[ne.length," ",l("products.categoriesCount")]}),e.jsx("button",{type:"button",onClick:()=>j($e=>!$e),className:"text-[11px] text-indigo-600 hover:text-indigo-700",children:l(w?"products.hideArchived":"products.showArchived")})]}),ne.length===0?e.jsx("p",{className:"rounded-lg bg-gray-50 px-3 py-2 text-xs text-gray-500",children:l("products.noCategories")}):e.jsxs(e.Fragment,{children:[Ee.map(({mainCategory:$e,subCategories:Ke,categoryObj:ht})=>{const St=ie.get($e)??0,xt=h!=="all"&&he($e,h),Ne=he($e,se),Ie=ht?.isProtected||!1;return e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsxs("div",{className:"ml-2",children:[e.jsxs("button",{type:"button",onClick:()=>Fe($e),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm font-medium transition-colors ${xt?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),tm($e,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:St})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>ge($e),className:"text-gray-400 transition-colors hover:text-gray-600",title:l(Ie?"products.mainCategoryEditTooltip":"products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>te($e),disabled:Ne||Ie,className:`transition-colors ${Ne||Ie?"cursor-not-allowed text-gray-300":"text-red-500 hover:text-red-600"}`,title:Ne?l("products.generalCategoryCannotDelete"):Ie?l("products.mainCategoryCannotDelete"):void 0,children:l("products.deleteCategory")})]})]}),Ke.length>0&&e.jsx("div",{className:"ml-6 space-y-1",children:Ke.map(Ge=>{const ct=ie.get(Ge)??0,Mt=h!=="all"&&he(Ge,h);return e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>Fe(Ge),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${Mt?"bg-gray-50 text-gray-700":"text-gray-600 hover:bg-gray-25"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),tm(Ge,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:ct})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>ge(Ge),className:"text-gray-400 transition-colors hover:text-gray-600",title:l("products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>te(Ge),className:"text-red-500 transition-colors hover:text-red-600",children:l("products.deleteCategory")})]})]},Ge)})})]},$e)}),le.length>0&&e.jsxs("div",{className:"space-y-1 mt-4",children:[e.jsx("div",{className:"px-2 py-1",children:e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:l("products.subCategories")})}),le.map($e=>{const Ke=ie.get($e)??0,ht=h!=="all"&&he($e,h);return e.jsxs("div",{className:"ml-4",children:[e.jsxs("button",{type:"button",onClick:()=>Fe($e),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${ht?"bg-gray-50 text-gray-700":"text-gray-600 hover:bg-gray-25"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),tm($e,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:Ke})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>ge($e),className:"text-gray-400 transition-colors hover:text-gray-600",title:l("products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>te($e),className:"text-red-500 transition-colors hover:text-red-600",children:l("products.deleteCategory")})]})]},$e)})]}),w&&e.jsxs("div",{className:"space-y-1 mt-4",children:[e.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:l("products.archivedCategories")}),e.jsx("span",{className:"text-[11px] text-gray-400",children:me.length})]}),me.length===0?e.jsx("div",{className:"ml-2 rounded-lg px-3 py-2 text-xs text-gray-400 bg-gray-50",children:l("products.noArchivedCategories")}):me.map($e=>{const Ke=ie.get($e.name)??0;return e.jsxs("div",{className:"ml-2 flex items-center justify-between rounded-lg px-3 py-2 text-sm text-gray-500 bg-gray-50",children:[e.jsx("span",{className:"truncate",children:$e.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[11px] text-gray-400",children:Ke}),e.jsx("button",{type:"button",onClick:()=>fe($e.id),className:"text-[11px] rounded border border-emerald-200 bg-white px-2 py-1 text-emerald-600 hover:border-emerald-300 hover:text-emerald-700",children:l("products.activate")})]})]},$e.id)})]})]})]})]})}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l("products.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[ae.length," ",l("products.title").toLowerCase()," - ",l("invoice.total"),": ",k.length]})]}),e.jsxs("button",{type:"button",onClick:()=>H($e=>!$e),className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-50 lg:hidden",children:[e.jsx(ai,{className:"h-4 w-4"}),l(F?"common.close":"products.manageCategories")]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"sticky top-16 z-20",children:e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-sm backdrop-blur",children:[e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:p,onChange:$e=>g($e.target.value),placeholder:l("products.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-9 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("input",{ref:E,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:ze}),e.jsxs("button",{type:"button",onClick:qe,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-blue-200 px-3 py-2 text-sm font-semibold text-blue-600 transition-colors hover:bg-blue-50",title:l("customers.downloadTemplate"),children:[e.jsx(cn,{className:"h-4 w-4"}),l("customers.downloadTemplate")]}),e.jsxs("button",{type:"button",onClick:ke,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-purple-200 px-3 py-2 text-sm font-semibold text-purple-600 transition-colors hover:bg-purple-50 disabled:cursor-not-allowed disabled:border-gray-200 disabled:text-gray-300",disabled:!r,title:l("customers.importCSV"),children:[e.jsx(Om,{className:"h-4 w-4"}),l("customers.importCSV")]}),e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:[e.jsx(As,{className:"h-4 w-4"}),l("products.newProduct")]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[je.map(({id:$e,label:Ke,display:ht,value:St,options:xt,onChange:Ne,defaultValue:Ie,menuRef:Ge})=>{const ct=St!==Ie;return e.jsxs("div",{ref:Ge,className:"relative flex items-center gap-1",children:[e.jsxs("button",{type:"button",onClick:()=>$(Mt=>Mt===$e?null:$e),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-sm transition-colors ${ct?"border-indigo-200 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:text-gray-800"}`,children:[e.jsxs("span",{className:"whitespace-nowrap",children:[Ke,": ",ht]}),e.jsx(us,{className:"h-3.5 w-3.5"})]}),ct&&e.jsx("button",{type:"button",onClick:()=>{Ne(Ie),O===$e&&$(null)},className:"inline-flex h-6 w-6 items-center justify-center rounded-full border border-gray-200 bg-white text-gray-500 transition-colors hover:border-gray-300 hover:text-gray-700",children:e.jsx(fr,{className:"h-3.5 w-3.5"})}),O===$e&&e.jsx("div",{className:"absolute left-0 top-[calc(100%+0.5rem)] z-20 w-56 rounded-lg border border-gray-200 bg-white p-1 shadow-lg",children:xt.map(Mt=>{const Ct=Mt.value===St;return e.jsxs("button",{type:"button",onClick:()=>{Ne(Mt.value),$(null)},className:`flex w-full items-center justify-between rounded-md px-3 py-2 text-sm transition-colors ${Ct?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:Mt.label}),Ct&&e.jsx(Ur,{className:"h-4 w-4"})]},Mt.value)})})]},$e)}),tt>0&&e.jsx("button",{type:"button",onClick:Pe,className:"ml-auto text-sm font-medium text-indigo-600 transition-colors hover:text-indigo-700",children:"Tumunu temizle"})]}),Be&&e.jsxs("div",{className:"mt-3 flex flex-col gap-3 rounded-lg border border-indigo-100 bg-indigo-50 px-4 py-3 text-sm text-indigo-900 md:flex-row md:items-center md:justify-between",children:[e.jsxs("span",{className:"font-medium",children:["Toplu islem icin ",Qe.length," urun secildi"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[lt.map(({action:$e,label:Ke,tone:ht})=>e.jsx("button",{type:"button",onClick:()=>yt($e),className:`rounded-full px-3 py-1.5 text-sm font-medium transition-colors ${ht==="danger"?"border border-red-200 bg-white text-red-600 hover:border-red-300 hover:text-red-700":"border border-indigo-200 bg-white text-indigo-600 hover:border-indigo-300 hover:text-indigo-700"}`,children:Ke},$e)),e.jsx("button",{type:"button",onClick:()=>K($e=>$e.filter(Ke=>!Qe.includes(Ke))),className:"rounded-full border border-gray-200 px-3 py-1.5 text-sm font-medium text-gray-600 transition-colors hover:border-gray-300 hover:text-gray-800",children:"Secimleri kaldir"})]})]})]})}),e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white",children:ae.length===0?ot?e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-16",children:[e.jsx(Ys,{className:"h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l("products.noProducts")}),e.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:l("transactions.noTransactions")}),e.jsx("button",{type:"button",onClick:Pe,className:"rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-100",children:l("common.search")})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-16",children:[e.jsx(Ys,{className:"h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l("products.noProductsYet")}),e.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:"Urun ekleyerek envanterinizi takip etmeye baslayin. Fiyat, stok ve kategori bilgileriniz burada gorunecek."}),e.jsx("button",{type:"button",onClick:t,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700",children:l("products.addFirstProduct")})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1024px] table-fixed divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-4 py-3",children:e.jsx("input",{ref:W,type:"checkbox",checked:we.length>0&&ut,onChange:Rt,"aria-label":l("common.yes"),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("th",{className:"w-[320px] px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.name")}),e.jsx("th",{className:"w-40 px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.category")}),e.jsx("th",{className:"w-32 px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.price")}),e.jsx("th",{className:"w-32 px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.stock")}),e.jsx("th",{className:"w-32 px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.status")}),e.jsx("th",{className:"sticky right-0 z-10 w-44 min-w-[176px] px-6 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-500 bg-gray-50",children:l("products.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:at.map($e=>{const Ke=B.includes($e.id),ht=$e.stockQuantity===0,St=!ht&&$e.stockQuantity<$e.reorderLevel,xt=l(ht?"products.depleted":St?"products.critical":"products.inStock"),Ne=ht?"danger":St?"warning":"success",Ie=Ne==="danger"?"bg-red-100 text-red-700":Ne==="warning"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700";return e.jsxs("tr",{className:`group transition-colors hover:bg-gray-50 ${Ke?"bg-indigo-50":""}`,children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:Ke,onChange:()=>Et($e.id),"aria-label":`Urunu sec: ${$e.name}`,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("td",{className:"w-[320px] whitespace-nowrap px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(Ys,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("button",{type:"button",onClick:()=>d($e),className:"block max-w-[260px] truncate text-left font-medium text-gray-900 transition-colors hover:text-indigo-600",children:$e.name}),e.jsx("div",{className:"hidden text-xs text-gray-500 lg:block",children:e.jsxs("span",{className:"inline-block max-w-[260px] truncate",title:`SKU: ${$e.sku}`,children:["SKU: ",$e.sku]})})]})]})}),e.jsx("td",{className:"w-40 whitespace-nowrap px-6 py-4 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(ai,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"truncate",title:$e.category,children:$e.category})]})}),e.jsxs("td",{className:"w-32 whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-semibold",children:n($e.unitPrice||0)}),e.jsxs("div",{className:"hidden text-xs text-gray-500 lg:block",children:[l("products.costPrice"),": ",n($e.costPrice||0)]})]}),e.jsxs("td",{className:"w-32 whitespace-nowrap px-6 py-4 text-sm text-gray-900",title:`${l("products.minStock")}: ${Math.floor($e.reorderLevel)}`,children:[e.jsxs("div",{className:"font-semibold",children:[Math.floor($e.stockQuantity)," ",$e.unit]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[l("products.minStock"),": ",Math.floor($e.reorderLevel)]})]}),e.jsx("td",{className:"w-32 whitespace-nowrap px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${Ie}`,children:xt})}),e.jsx("td",{className:"sticky right-0 w-44 min-w-[176px] whitespace-nowrap px-6 py-4 text-right text-sm font-medium bg-white group-hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>d($e),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-indigo-600",title:l("products.viewProduct"),children:e.jsx(ss,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>f($e),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-blue-600",title:l("products.edit"),children:e.jsx(as,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>m($e.id),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-red-600",title:l("products.delete"),children:e.jsx(ts,{className:"h-4 w-4"})})]})})]},$e.id)})})]})})}),e.jsx("div",{className:"p-4 border border-t-0 border-gray-200 rounded-b-xl bg-white",children:e.jsx(nn,{page:G,pageSize:re,total:ae.length,onPageChange:X,onPageSizeChange:Ut})})]})]})]}),e.jsx(b0,{isOpen:M||!!U,onClose:()=>{_(null),A(!1)},onSubmit:pe,categories:ne,categoryObjects:N,editingCategory:U,onArchive:$e=>Ae($e),onRestore:$e=>fe($e)})]})}function f3({suppliers:k,onAddSupplier:x,onEditSupplier:t,onDeleteSupplier:f,onViewSupplier:m,onSelectSupplier:d,selectionMode:s=!1}){const{t:a,i18n:i}=Vt(),[r,n]=Z.useState(""),[l,o]=Z.useState("all"),[c,p]=Z.useState(1),[g,h]=Z.useState(()=>{const D=typeof window<"u"?localStorage.getItem("suppliers_pageSize"):null,F=D?Number(D):20;return[20,50,100].includes(F)?F:20}),y=["Ofis Malzemeleri","Teknoloji","Hizmet","retim","Lojistik","Dier"],b=Z.useMemo(()=>k.filter(D=>{const F=D.name.toLowerCase().includes(r.toLowerCase())||D.email.toLowerCase().includes(r.toLowerCase())||(D.company||"").toLowerCase().includes(r.toLowerCase()),H=l==="all"||D.category===l;return F&&H}),[k,r,l]),C=Z.useMemo(()=>{const D=(c-1)*g;return b.slice(D,D+g)},[b,c,g]);Z.useEffect(()=>{p(1)},[r,l]);const T=D=>{h(D),typeof window<"u"&&localStorage.setItem("suppliers_pageSize",String(D)),p(1)};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 min-w-[720px]",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Tedariki Se":a("suppliers.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.length," ",a("suppliers.suppliersRegistered")]})]}),!s&&e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:a("suppliers.newSupplier")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:a("suppliers.search"),value:r,onChange:D=>n(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("select",{value:l,onChange:D=>o(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"all",children:i.language==="tr"?"Tm kategoriler":i.language==="en"?"All categories":i.language==="de"?"Alle Kategorien":i.language==="fr"?"Toutes les catgories":"All categories"}),y.map(D=>e.jsx("option",{value:D,children:D},D))]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:b.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a(r||l!=="all"?"suppliers.noSuppliersFound":"suppliers.noSuppliers")}),e.jsx("p",{className:"text-gray-500 mb-4",children:a(r||l!=="all"?"suppliers.noSuppliersFoundDesc":"suppliers.noSuppliersDesc")}),!s&&!r&&l==="all"&&e.jsx("button",{onClick:x,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:a("suppliers.createFirstSupplier")})]}):C.map(D=>e.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${s?"cursor-pointer":""}`,onClick:()=>s&&d?.(D),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold text-lg",children:D.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"min-w-0",children:[s?e.jsx("h3",{className:"font-semibold text-gray-900",children:D.name}):e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),m(D)},className:"font-semibold text-orange-600 hover:text-orange-800 transition-colors cursor-pointer text-left",title:"Tedariki detaylarn grntle",children:D.name}),D.company&&e.jsxs("p",{className:"text-sm text-gray-600 flex items-center truncate",children:[e.jsx(Fr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:D.company})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 min-w-0",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center truncate",children:[e.jsx(fs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:D.email})]}),D.phone&&e.jsxs("span",{className:"text-sm text-gray-500 flex items-center truncate",children:[e.jsx(Sa,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:D.phone})]}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:D.category})]}),!s&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:hidden",children:[e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),t(D)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),f(D.id)},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete",children:e.jsx(ts,{className:"w-4 h-4"})})]})]})]}),!s&&e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 shrink-0",children:[e.jsx("button",{onClick:()=>t(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(D.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(ts,{className:"w-4 h-4"})})]})]})},D.id))}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:c,pageSize:g,total:b.length,onPageChange:p,onPageSizeChange:T})})]})})}function $m(k,x=250){const[t,f]=Z.useState(k);return Z.useEffect(()=>{const m=setTimeout(()=>f(k),x);return()=>clearTimeout(m)},[k,x]),t}const ii=k=>{if(k==null)return"";try{return String(k).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}catch{return String(k).toLowerCase().trim()}},ki=k=>{if(!k)return 0;if(k instanceof Date){const m=k.getTime();return Number.isFinite(m)?m:0}if(typeof k=="number")return Number.isFinite(k)?k:0;const x=String(k).trim();if(/^\d{4}-\d{2}-\d{2}/.test(x)){const m=new Date(x).getTime();return Number.isFinite(m)?m:0}const t=x.match(/^(\d{1,2})[./-](\d{1,2})[./-](\d{4})(?:[ T](\d{1,2}):(\d{2})(?::(\d{2}))?)?$/);if(t){const m=parseInt(t[1],10),d=parseInt(t[2],10)-1,s=parseInt(t[3],10),a=t[4]?parseInt(t[4],10):0,i=t[5]?parseInt(t[5],10):0,r=t[6]?parseInt(t[6],10):0,n=new Date(s,d,m,a,i,r).getTime();return Number.isFinite(n)?n:0}const f=new Date(x).getTime();return Number.isFinite(f)?f:0},wi=k=>{if(typeof k=="number")return Number.isFinite(k)?k:0;if(k==null)return 0;const t=String(k).trim().replace(/\s/g,"").replace(/\.(?=\d{3}(?:\D|$))/g,"").replace(/,(?=\d{3}(?:\D|$))/g,"").replace(/,(?=\d{1,2}$)/,"."),f=parseFloat(t);return Number.isFinite(f)?f:0},p3=(k,x,t,f,m)=>{let d="",s="";switch(f){case"number":d=wi(k),s=wi(x);break;case"date":d=ki(k),s=ki(x);break;case"string":default:d=ii(k),s=ii(x)}if(m&&f==="string"){const a=m.indexOf(ii(k)),i=m.indexOf(ii(x));if(a!==-1||i!==-1){const r=(a===-1?Number.MAX_SAFE_INTEGER:a)-(i===-1?Number.MAX_SAFE_INTEGER:i);return t==="asc"?r:-r}}return d<s?t==="asc"?-1:1:d>s?t==="asc"?1:-1:0},ms=(k,x,t,f,m,d)=>p3(t(k),t(x),f,m,d),g3=["draft","sent","paid","overdue","cancelled"],x3=["pending","approved","paid","rejected"],y3=["completed","pending","cancelled"],Hp=365;function b3({invoices:k,onAddInvoice:x,onEditInvoice:t,onDeleteInvoice:f,onViewInvoice:m,onUpdateInvoice:d,onDownloadInvoice:s,onVoidInvoice:a,onRestoreInvoice:i}){const{formatCurrency:r}=$r(),{t:n}=Vt(),{tenant:l}=wn(),[o,c]=Z.useState(""),[p,g]=Z.useState("all"),[h,y]=Z.useState(!1),[b,C]=Z.useState(null),[T,D]=Z.useState(null),[F,H]=Z.useState(""),[O,$]=Z.useState(!1),[B,K]=Z.useState(null),[U,_]=Z.useState(""),[M,A]=Z.useState({by:"issueDate",dir:"desc"}),[N,S]=Z.useState(""),[w,j]=Z.useState(""),E=$m(o,300),[I,L]=Z.useState(1),[G,X]=Z.useState(()=>{const te=typeof window<"u"?localStorage.getItem("invoices_pageSize"):null,ye=te?Number(te):20;return[20,50,100].includes(ye)?ye:20}),re=String(l?.subscriptionPlan||"").toLowerCase(),q=re.includes("free")||re.includes("starter"),ee=Z.useMemo(()=>{const te=new Date,ye=new Date(te.getFullYear(),te.getMonth(),1,0,0,0,0),Te=new Date(te.getFullYear(),te.getMonth()+1,0,23,59,59,999);return k.filter(Ce=>{if(Ce?.isVoided)return!1;const je=Ce?.createdAt?new Date(Ce.createdAt):Ce?.issueDate?new Date(Ce.issueDate):null;return!je||Number.isNaN(je.getTime())?!1:je>=ye&&je<=Te}).length},[k]),R=5,z=q&&ee>=R,W=k.filter(te=>{const ye=new Date(te.issueDate),Te=new Date;return Te.setDate(Te.getDate()-Hp),ye>=Te}),se=Z.useMemo(()=>k.filter(te=>{const ye=ii(E),Te=(te.items||te.lineItems||[]).map(at=>at.productName||at.description||"").join(" "),Ce=[te.invoiceNumber,te.customer?.name,te.customer?.email,te.status,te.issueDate,te.dueDate,Te,String(te.total)].map(ii).join(" "),je=ye.length===0||Ce.includes(ye),tt=p==="all"||te.status===p,Pe=h||!te.isVoided,ke=new Date(te.issueDate),ze=new Date;ze.setDate(ze.getDate()-Hp);const qe=ke>=ze;let Fe=!0;return N&&(Fe=Fe&&new Date(te.issueDate)>=new Date(N)),w&&(Fe=Fe&&new Date(te.issueDate)<=new Date(w)),je&&tt&&Pe&&qe&&Fe}).sort((te,ye)=>{switch(M.by){case"invoiceNumber":return ms(te,ye,Te=>Te.invoiceNumber,M.dir,"string");case"customer":return ms(te,ye,Te=>Te.customer?.name||"",M.dir,"string");case"description":return ms(te,ye,Ce=>{const je=Ce.items||Ce.lineItems||[];return je[0]?.productName||je[0]?.description||""},M.dir,"string");case"amount":return ms(te,ye,Te=>wi(Te.total),M.dir,"number");case"status":return ms(te,ye,Te=>Te.status,M.dir,"string",g3);case"dueDate":{const Te=ki(te.dueDate),Ce=ki(ye.dueDate);return Te===Ce?ms(te,ye,je=>je.invoiceNumber,M.dir,"string"):Te<Ce?M.dir==="asc"?-1:1:M.dir==="asc"?1:-1}case"issueDate":default:{const Te=ki(te.issueDate),Ce=ki(ye.issueDate);return Te===Ce?ms(te,ye,je=>je.invoiceNumber,M.dir,"string"):Te<Ce?M.dir==="asc"?-1:1:M.dir==="asc"?1:-1}}}),[k,E,p,h,N,w,M.by,M.dir]),he=Z.useMemo(()=>{const te=(I-1)*G;return se.slice(te,te+G)},[se,I,G]);Z.useEffect(()=>{L(1)},[E,p,h,N,w,M.by,M.dir]);const ne=te=>{X(te),typeof window<"u"&&localStorage.setItem("invoices_pageSize",String(te)),L(1)},me=te=>{A(ye=>ye.by===te?{...ye,dir:ye.dir==="asc"?"desc":"asc"}:{by:te,dir:te==="amount"||te==="dueDate"||te==="issueDate"?"desc":"asc"})},Se=({active:te})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:te?M.dir==="asc"?"":"":""}),Ee=(te,ye)=>{if(ye)return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ptal Edildi"});const Ce={draft:{label:n("status.draft"),class:"bg-gray-100 text-gray-800"},sent:{label:n("status.sent"),class:"bg-blue-100 text-blue-800"},paid:{label:n("status.paid"),class:"bg-green-100 text-green-800"},overdue:{label:n("status.overdue"),class:"bg-red-100 text-red-800"},cancelled:{label:n("status.cancelled"),class:"bg-red-100 text-red-800"}}[te]||{label:te,class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ce.class}`,children:Ce.label})},le=te=>new Date(te).toLocaleDateString("tr-TR"),ie=te=>r(te),ce=(te,ye,Te)=>{C(te),D(ye),H(Te)},ae=te=>{T==="status"?d({...te,status:F}):T==="dueDate"?d({...te,dueDate:F}):T==="issueDate"&&d({...te,issueDate:F}),C(null),D(null),H("")},ge=()=>{C(null),D(null),H("")},pe=te=>{K(te),$(!0)},Ae=()=>{B&&a&&U.trim()&&(a(B.id,U),$(!1),K(null),_(""))},fe=te=>{i&&i(te)};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n("invoices.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[W.length," ",n("invoices.invoicesRegistered"),"  ",k.length-W.length," ",n("invoices.inArchive")]})]}),e.jsxs("button",{onClick:x,disabled:z,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${z?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,title:z?"Starter/Free planda bu ayki fatura limiti doldu (5/5)":void 0,children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:n("invoices.newInvoice")})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:n("invoices.search"),value:o,onChange:te=>c(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:p,onChange:te=>g(te.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:n("invoices.filterAll")}),e.jsx("option",{value:"draft",children:n("status.draft")}),e.jsx("option",{value:"sent",children:n("status.sent")}),e.jsx("option",{value:"paid",children:n("status.paid")}),e.jsx("option",{value:"overdue",children:n("status.overdue")}),e.jsx("option",{value:"cancelled",children:n("status.cancelled")})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:n("common.startDate")}),e.jsx("input",{type:"date",value:N,onChange:te=>S(te.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:n("common.endDate")}),e.jsx("input",{type:"date",value:w,onChange:te=>j(te.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(N||w)&&e.jsx("button",{onClick:()=>{S(""),j("")},className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",title:n("archive.clearFilters"),children:n("archive.clearFilters")})]}),e.jsxs("label",{className:"flex items-center px-3 py-2 text-sm text-gray-700 whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:te=>y(te.target.checked),className:"mr-2"}),n(h?"invoices.hideVoided":"invoices.showVoided")]}),q&&e.jsxs("div",{className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-gray-50 whitespace-nowrap",children:["Bu ay: ",e.jsxs("strong",{className:`${z?"text-red-600":"text-gray-900"}`,children:[ee,"/",R]})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:se.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Or,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n(o||p!=="all"?"invoices.noInvoicesFound":"invoices.noInvoices")}),e.jsx("p",{className:"text-gray-500 mb-4",children:n(o||p!=="all"?"invoices.noInvoicesFoundDesc":"invoices.noInvoicesDesc")}),!o&&p==="all"&&e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:n("invoices.createFirstInvoice")})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1024px] table-fixed",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>me("invoiceNumber"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[n("invoices.invoiceNumber"),e.jsx(Se,{active:M.by==="invoiceNumber"})]}),e.jsxs("th",{onClick:()=>me("customer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[n("invoices.customer"),e.jsx(Se,{active:M.by==="customer"})]}),e.jsxs("th",{onClick:()=>me("description"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-[320px]",children:[n("common.description"),e.jsx(Se,{active:M.by==="description"})]}),e.jsxs("th",{onClick:()=>me("amount"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[n("invoices.amount"),e.jsx(Se,{active:M.by==="amount"})]}),e.jsxs("th",{onClick:()=>me("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[n("invoices.status"),e.jsx(Se,{active:M.by==="status"})]}),e.jsxs("th",{onClick:()=>me("issueDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[n("invoices.date"),e.jsx(Se,{active:M.by==="issueDate"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-44 min-w-[176px] sticky right-0 bg-gray-50 z-10",children:n("invoices.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>m(te),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors cursor-pointer",title:n("invoices.viewInvoice"),children:te.invoiceNumber})}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),le(te.dueDate)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.customer?.name||"Mteri Yok"}),e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:te.customer?.email||""})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 max-w-[260px]",children:(()=>{const ye=te.items||te.lineItems||[];return ye.length>0?e.jsxs("div",{className:"space-y-1",children:[ye.slice(0,2).map((Te,Ce)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-gray-400 mr-1",children:""}),e.jsxs("span",{className:"line-clamp-1",children:[Te.productName||Te.description||"rn",Te.quantity&&` (${Te.quantity}x)`]})]},Ce)),ye.length>2&&e.jsxs("div",{className:"text-xs text-gray-400",children:["+",ye.length-2," daha..."]})]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"rn bilgisi yok"})})()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ie(Number(te.total)||0)})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b===te.id&&T==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:F,onChange:ye=>H(ye.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"draft",children:n("status.draft")}),e.jsx("option",{value:"sent",children:n("status.sent")}),e.jsx("option",{value:"paid",children:n("status.paid")}),e.jsx("option",{value:"overdue",children:n("status.overdue")})]}),e.jsx("button",{onClick:()=>ae(te),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":n("common.save"),children:e.jsx(Ur,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:ge,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":n("common.cancel"),children:e.jsx(fr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>!te.isVoided&&ce(te.id,"status",te.status),className:`${te.isVoided?"cursor-not-allowed":"cursor-pointer hover:opacity-80"} transition-opacity inline-block`,children:Ee(te.status,te.isVoided)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b===te.id&&T==="issueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:F,onChange:ye=>H(ye.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>ae(te),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ge,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-4 h-4"})})]}):e.jsx("div",{onClick:()=>ce(te.id,"issueDate",te.issueDate),className:"cursor-pointer hover:bg-gray-50 rounded p-1",children:le(te.issueDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m(te),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:n("invoices.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(te),disabled:te.isVoided,className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${te.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:te.isVoided?"ptal edilmi fatura dzenlenemez":n("invoices.edit"),children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s&&s(te)},className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:n("invoices.download"),children:e.jsx(cn,{className:"w-4 h-4"})}),te.isVoided?e.jsx("button",{onClick:()=>fe(te.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Faturay geri ykle",children:e.jsx(nd,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>pe(te),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:"Faturay iptal et",children:e.jsx(Im,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(te.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:n("invoices.delete"),children:e.jsx(ts,{className:"w-4 h-4"})})]})})]},te.id))})]})})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:I,pageSize:G,total:se.length,onPageChange:L,onPageSizeChange:ne})}),O&&B&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Faturay ptal Et"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:B.invoiceNumber})," numaral faturay iptal etmek istediinizden emin misiniz?"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ptal Nedeni *"}),e.jsx("textarea",{value:U,onChange:te=>_(te.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:"ptal nedenini aklayn...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{$(!1),K(null),_("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ptal"}),e.jsx("button",{onClick:Ae,disabled:!U.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Faturay ptal Et"})]})]})})]})}function v3({expenses:k,onAddExpense:x,onEditExpense:t,onDeleteExpense:f,onViewExpense:m,onUpdateExpense:d,onDownloadExpense:s,onVoidExpense:a,onRestoreExpense:i}){const{formatCurrency:r}=$r(),{t:n,i18n:l}=Vt(),{tenant:o}=wn(),[c,p]=Z.useState(""),[g,h]=Z.useState("all"),[y,b]=Z.useState("all"),[C,T]=Z.useState(!1),[D,F]=Z.useState(null),[H,O]=Z.useState(null),[$,B]=Z.useState(""),[K,U]=Z.useState(!1),[_,M]=Z.useState(null),[A,N]=Z.useState(""),[S,w]=Z.useState({by:"expenseDate",dir:"desc"}),[j,E]=Z.useState(""),[I,L]=Z.useState(""),G=$m(c,300),[X,re]=Z.useState(1),[q,ee]=Z.useState(()=>{const je=localStorage.getItem("expenses_pageSize"),tt=je?Number(je):20;return[20,50,100].includes(tt)?tt:20});Z.useEffect(()=>{localStorage.setItem("expenses_pageSize",String(q))},[q]);const R=String(o?.subscriptionPlan||"").toLowerCase(),z=R.includes("free")||R.includes("starter"),W=Z.useMemo(()=>{const je=new Date,tt=new Date(je.getFullYear(),je.getMonth(),1,0,0,0,0),Pe=new Date(je.getFullYear(),je.getMonth()+1,0,23,59,59,999);return k.filter(ke=>{if(ke?.isVoided)return!1;const ze=ke?.createdAt?new Date(ke.createdAt):ke?.expenseDate?new Date(ke.expenseDate):null;return!ze||Number.isNaN(ze.getTime())?!1:ze>=tt&&ze<=Pe}).length},[k]),se=5,he=z&&W>=se,ne=["equipment","utilities","rent","salaries","personnel","supplies","marketing","travel","insurance","taxes","other"],me=je=>{const tt=n(`expenseCategories.${je}`)||je;return String(tt).replace(/\s*\([^)]*\)\s*/g,"").trim()},Se=Z.useMemo(()=>k.filter(je=>{const tt=ii(G),Pe=[je.expenseNumber,je.description,je.supplier?.name,je.category,je.status,je.expenseDate,String(je.amount)].map(ii).join(" "),ke=tt.length===0||Pe.includes(tt),ze=g==="all"||je.status===g,qe=y==="all"||je.category===y,Fe=C||!je.isVoided;let at=!0;return j&&(at=at&&new Date(je.expenseDate)>=new Date(j)),I&&(at=at&&new Date(je.expenseDate)<=new Date(I)),ke&&ze&&qe&&Fe&&at}).sort((je,tt)=>{switch(S.by){case"description":return ms(je,tt,Pe=>Pe.description,S.dir,"string");case"supplier":return ms(je,tt,Pe=>Pe.supplier?.name||"",S.dir,"string");case"category":return ms(je,tt,Pe=>Pe.category,S.dir,"string");case"amount":return ms(je,tt,Pe=>wi(Pe.amount),S.dir,"number");case"status":return ms(je,tt,Pe=>Pe.status,S.dir,"string",x3);case"expenseDate":default:{const Pe=ki(je.expenseDate),ke=ki(tt.expenseDate);return Pe===ke?ms(je,tt,ze=>ze.description||"",S.dir,"string"):Pe<ke?S.dir==="asc"?-1:1:S.dir==="asc"?1:-1}}}),[k,G,g,y,C,j,I,S.by,S.dir]);Z.useEffect(()=>{re(1)},[G,g,y,C,j,I,S.by,S.dir]);const Ee=Z.useMemo(()=>{const je=(X-1)*q;return Se.slice(je,je+q)},[Se,X,q]),le=je=>{w(tt=>tt.by===je?{...tt,dir:tt.dir==="asc"?"desc":"asc"}:{by:je,dir:je==="amount"||je==="expenseDate"?"desc":"asc"})},ie=({active:je})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:je?S.dir==="asc"?"":"":""}),ce=(je,tt)=>{if(tt)return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ptal Edildi"});const ke={pending:{label:n("status.pending"),class:"bg-yellow-100 text-yellow-800"},approved:{label:n("status.approved"),class:"bg-blue-100 text-blue-800"},paid:{label:n("status.paid"),class:"bg-green-100 text-green-800"},rejected:{label:n("status.rejected"),class:"bg-red-100 text-red-800"}}[je]||{label:je,class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ke.class}`,children:ke.label})},ae=je=>new Date(je).toLocaleDateString("tr-TR"),ge=je=>{const tt=typeof je=="string"?parseFloat(je):je;return r(tt||0)},pe=(je,tt,Pe)=>{F(je),O(tt),B(Pe)},Ae=je=>{H==="status"&&d({...je,status:$}),F(null),O(null),B("")},fe=()=>{F(null),O(null),B("")},te=je=>{M(je),U(!0)},ye=()=>{_&&a&&A.trim()&&(a(_.id,A),U(!1),M(null),N(""))},Te=je=>{i&&i(je)},Ce=je=>{const tt=(je||"").trim(),Pe=(l.language||"tr").slice(0,2).toLowerCase(),ke=Pe==="tr"?"Tedariki Yok":Pe==="de"?"Kein Lieferant":Pe==="fr"?"Aucun Fournisseur":"No Supplier";if(!tt)return n("common:noSupplier",{defaultValue:ke});const ze=tt.toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(ze)?n("common:noSupplier",{defaultValue:ke}):tt};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n("expenses.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.length," ",n("expenses.expensesRegistered")]})]}),e.jsxs("button",{onClick:x,disabled:he,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${he?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,title:he?"Starter/Free planda bu ayki gider limiti doldu (5/5)":void 0,children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:n("expenses.newExpense")})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:n("expenses.search"),value:c,onChange:je=>p(je.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:g,onChange:je=>h(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:n("expenses.filterAll")}),e.jsx("option",{value:"pending",children:n("status.pending")}),e.jsx("option",{value:"approved",children:n("status.approved")}),e.jsx("option",{value:"paid",children:n("status.paid")}),e.jsx("option",{value:"rejected",children:n("status.rejected")})]}),e.jsxs("select",{value:y,onChange:je=>b(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:l.language==="tr"?"Tm kategoriler":l.language==="en"?"All categories":l.language==="de"?"Alle Kategorien":l.language==="fr"?"Toutes les catgories":"All categories"}),ne.map(je=>e.jsx("option",{value:je,children:me(je)},je))]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:n("common.startDate")}),e.jsx("input",{type:"date",value:j,onChange:je=>E(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:n("common.endDate")}),e.jsx("input",{type:"date",value:I,onChange:je=>L(je.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(j||I)&&e.jsx("button",{onClick:()=>{E(""),L("")},className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",title:n("archive.clearFilters"),children:n("archive.clearFilters")})]}),e.jsxs("label",{className:"flex items-center px-3 py-2 text-sm text-gray-700 whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:je=>T(je.target.checked),className:"mr-2"}),n(C?"fiscalPeriods.filters.hideVoided":"fiscalPeriods.filters.showVoided")]}),z&&e.jsxs("div",{className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-gray-50 whitespace-nowrap",children:["Bu ay: ",e.jsxs("strong",{className:`${he?"text-red-600":"text-gray-900"}`,children:[W,"/",se]})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:Se.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n(c||g!=="all"||y!=="all"?"expenses.noExpensesFound":"expenses.noExpenses")}),e.jsx("p",{className:"text-gray-500 mb-4",children:n(c||g!=="all"||y!=="all"?"expenses.noExpensesFoundDesc":"expenses.noExpensesDesc")}),!c&&g==="all"&&y==="all"&&e.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:n("expenses.createFirstExpense")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1024px] table-fixed",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>le("description"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-[320px]",children:[n("expenses.description"),e.jsx(ie,{active:S.by==="description"})]}),e.jsxs("th",{onClick:()=>le("supplier"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[n("expenses.supplier"),e.jsx(ie,{active:S.by==="supplier"})]}),e.jsxs("th",{onClick:()=>le("category"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[n("expenses.category"),e.jsx(ie,{active:S.by==="category"})]}),e.jsxs("th",{onClick:()=>le("amount"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[n("expenses.amount"),e.jsx(ie,{active:S.by==="amount"})]}),e.jsxs("th",{onClick:()=>le("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[n("expenses.status"),e.jsx(ie,{active:S.by==="status"})]}),e.jsxs("th",{onClick:()=>le("expenseDate"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[n("expenses.date"),e.jsx(ie,{active:S.by==="expenseDate"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-44 min-w-[176px] sticky right-0 bg-gray-50 z-10",children:n("expenses.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map(je=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(bn,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>m(je),className:"text-red-600 hover:text-red-800 font-medium transition-colors cursor-pointer",title:n("expenses.viewExpense"),children:je.expenseNumber})}),e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[260px]",title:je.description,children:je.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ce(typeof je.supplier=="string"?String(je.supplier):je.supplier?.name)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:me(je.category)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:["-",ge(je.amount)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D===je.id&&H==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:$,onChange:tt=>B(tt.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-red-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"pending",children:n("status.pending")}),e.jsx("option",{value:"approved",children:n("status.approved")}),e.jsx("option",{value:"paid",children:n("status.paid")}),e.jsx("option",{value:"rejected",children:n("status.rejected")})]}),e.jsx("button",{onClick:()=>Ae(je),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":n("common.save"),children:e.jsx(Ur,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:fe,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":n("common.cancel"),children:e.jsx(fr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>!je.isVoided&&pe(je.id,"status",je.status),className:`${je.isVoided?"cursor-not-allowed":"cursor-pointer hover:opacity-80"} transition-opacity inline-block`,children:ce(je.status,je.isVoided)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D===je.id&&H==="dueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:$,onChange:tt=>B(tt.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-red-500"}),e.jsx("button",{onClick:()=>Ae(je),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:fe,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),ae(je.expenseDate)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m(je),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:n("expenses.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(je),disabled:je.isVoided,className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${je.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:je.isVoided?"ptal edilmi gider dzenlenemez":n("expenses.edit"),children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s&&s(je)},className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:n("expenses.download"),children:e.jsx(cn,{className:"w-4 h-4"})}),je.isVoided?e.jsx("button",{onClick:()=>Te(je.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Gideri geri ykle",children:e.jsx(nd,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>te(je),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:"Gideri iptal et",children:e.jsx(Im,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(je.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:n("expenses.delete"),children:e.jsx(ts,{className:"w-4 h-4"})})]})})]},je.id))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:X,pageSize:q,total:Se.length,onPageChange:re,onPageSizeChange:je=>{ee(je),re(1)}})})]})}),K&&_&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gideri ptal Et"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:_.description})," giderini iptal etmek istediinizden emin misiniz?"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ptal Nedeni *"}),e.jsx("textarea",{value:A,onChange:je=>N(je.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:"ptal nedenini aklayn...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{U(!1),M(null),N("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ptal"}),e.jsx("button",{onClick:ye,disabled:!A.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Gideri ptal Et"})]})]})})]})}function w3({bankAccounts:k,onAddBank:x,onEditBank:t,onDeleteBank:f,onViewBank:m}){const{t:d}=Vt(),[s,a]=Z.useState(""),[i,r]=Z.useState("all"),[n,l]=Z.useState(1),[o,c]=Z.useState(()=>{const D=typeof window<"u"?localStorage.getItem("banks_pageSize"):null,F=D?Number(D):20;return[20,50,100].includes(F)?F:20}),p=Z.useMemo(()=>k.filter(D=>{const F=D.bankName.toLowerCase().includes(s.toLowerCase())||D.accountName.toLowerCase().includes(s.toLowerCase())||D.accountNumber.includes(s),H=i==="all"||i==="active"&&D.isActive||i==="inactive"&&!D.isActive;return F&&H}),[k,s,i]),g=Z.useMemo(()=>{const D=(n-1)*o;return p.slice(D,D+o)},[p,n,o]);Z.useEffect(()=>{l(1)},[s,i]);const h=D=>{c(D),typeof window<"u"&&localStorage.setItem("banks_pageSize",String(D)),l(1)},y=(D,F="TRY")=>C0(D,F),b=D=>(typeof D=="number"?D:0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}),C=D=>{const H={checking:{label:"Vadesiz",class:"bg-blue-100 text-blue-800"},savings:{label:"Vadeli",class:"bg-green-100 text-green-800"},business:{label:"Ticari",class:"bg-purple-100 text-purple-800"}}[D];return H?e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.class}`,children:H.label}):e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:D})},T=p.reduce((D,F)=>F.currency==="TRY"?D+F.balance:D,0);return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-x-auto",children:e.jsxs("div",{className:"min-w-[720px]",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d("banks.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.length," ",d("banks.accountsRegistered"),"  ",d("banks.totalBalance"),": ",b(T)]})]}),e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:d("banks.newAccount")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:d("banks.search"),value:s,onChange:D=>a(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("select",{value:i,onChange:D=>r(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"all",children:d("banks.filterAll")}),e.jsx("option",{value:"active",children:d("chartOfAccounts.active")}),e.jsx("option",{value:"inactive",children:d("chartOfAccounts.passive")})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:p.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Kn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d(s||i!=="all"?"banks.noBanksFound":"banks.noBanks")}),e.jsx("p",{className:"text-gray-500 mb-4",children:d(s||i!=="all"?"banks.noBanksFoundDesc":"banks.noBanksDesc")}),!s&&i==="all"&&e.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:d("banks.createFirstAccount")})]}):g.map(D=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Kn,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("button",{onClick:()=>m(D),className:"font-semibold text-green-600 hover:text-green-800 transition-colors cursor-pointer text-left",title:"Hesap detaylarn grntle",children:D.bankName}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center truncate",children:[e.jsx(Fr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:D.accountName})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 min-w-0",children:[e.jsx("span",{className:"text-sm text-gray-500 truncate",children:e.jsx("span",{className:"truncate",children:D.accountNumber})}),C(D.accountType),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.isActive?"Aktif":"Pasif"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:hidden",children:[e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),m(D)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"View",title:d("common.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),t(D)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit",title:d("common.edit"),children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),f(D.id)},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete",title:d("common.delete"),children:e.jsx(ts,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(ln,{className:"w-4 h-4 mr-1 text-green-600 sm:inline hidden"}),y(D.balance,D.currency)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["IBAN: ",D.iban.slice(0,8),"..."]})]}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Grntle",children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Dzenle",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(D.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:e.jsx(ts,{className:"w-4 h-4"})})]})]})]})},D.id))}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:n,pageSize:o,total:p.length,onPageChange:l,onPageSizeChange:h})})]})})}const Gs=k=>{if(typeof k=="number")return k;if(k==null)return 0;const x=String(k).trim();if(/^\d+\.?\d*$/.test(x)){const m=parseFloat(x);return isNaN(m)?0:m}if(x.includes(",")){const m=x.replace(/\./g,"").replace(/,/g,"."),d=parseFloat(m);return isNaN(d)?0:d}const t=x.replace(/\s/g,""),f=parseFloat(t);return isNaN(f)?0:f},Vm=k=>{if(!k)return new Date("1970-01-01");const x=String(k);if(/^\d{4}-\d{2}-\d{2}/.test(x))return new Date(x);if(/^\d{2}\.\d{2}\.\d{4}$/.test(x)){const[t,f,m]=x.split(".");return new Date(`${m}-${f}-${t}`)}return new Date(x)},rm=k=>{const x=String(k||"").toLowerCase();return x.includes("paid")||x.includes("den")||x.includes("odendi")||x.includes("dendi")},k3=k=>{const x=String(k||"").toLowerCase();return x.includes("completed")||x.includes("tamam")},Kp=k=>k==null?0:k.total!=null?Gs(k.total):k.amount!=null?Gs(k.amount):Array.isArray(k.items)?k.items.reduce((x,t)=>x+Gs(t.quantity)*Gs(t.unitPrice),0):0,Gp=k=>Gs(k?.amount),Wp=k=>k?.amount!=null?Gs(k.amount):Gs(k?.quantity)*Gs(k?.unitPrice),N3=k=>Vm(k?.issueDate??k?.date),j3=k=>Vm(k?.expenseDate??k?.date),S3=k=>Vm(k?.date??k?.saleDate);function C3({invoices:k=[],expenses:x=[],sales:t=[],customers:f=[]}){const{t:m}=Vt(),{formatCurrency:d}=$r(),s=new Date;console.log("DEBUG expenses (first 5):",x.slice(0,5));const[a,i]=Z.useState(new Set),r=w=>{const j=new Set(a);j.has(w)?j.delete(w):j.add(w),i(j)},n=()=>{const w=new Date;console.log(`Generating last 6 months from: ${w.toLocaleDateString("tr-TR")}`);const j=[],E=[m("months.short.jan"),m("months.short.feb"),m("months.short.mar"),m("months.short.apr"),m("months.short.may"),m("months.short.jun"),m("months.short.jul"),m("months.short.aug"),m("months.short.sep"),m("months.short.oct"),m("months.short.nov"),m("months.short.dec")];for(let I=0;I<6;I++){const L=new Date(w.getFullYear(),w.getMonth()-I,1),G=L.getMonth(),X=L.getFullYear();console.log(`  Month ${I}: ${E[G]} ${X} (index: ${G})`);const re=k.filter(ne=>{if(!rm(ne.status))return!1;const me=N3(ne);return me.getMonth()===G&&me.getFullYear()===X}),q=x.filter(ne=>{if(!rm(ne.status))return!1;const me=j3(ne);return me.getMonth()===G&&me.getFullYear()===X}),ee=t.filter(ne=>{if(!k3(ne.status)||k.some(Ee=>Ee.notes&&Ee.notes.includes(ne.saleNumber||`SAL-${ne.id}`)))return!1;const Se=S3(ne);return Se.getMonth()===G&&Se.getFullYear()===X}),R=re.reduce((ne,me)=>ne+Kp(me),0),z=ee.reduce((ne,me)=>ne+Wp(me),0),W=R+z,se=q.reduce((ne,me)=>ne+Gp(me),0);console.log(`Month ${E[G]}: invoiceIncome=${R}, salesIncome=${z}, totalIncome=${W}, totalExpense=${se}`);const he={month:E[G],monthIndex:G,year:X,income:W,expense:se};j.push(he)}return j},l=Z.useMemo(()=>n(),[k,x,t,m]),o=k.filter(w=>w.status==="paid").reduce((w,j)=>w+Kp(j),0),c=t.filter(w=>w.status!=="completed"?!1:!k.some(E=>E.notes&&E.notes.includes(w.saleNumber||`SAL-${w.id}`))).reduce((w,j)=>w+Wp(j),0),p=o+c;console.log("Revenue calculation:"),console.log("- Paid invoice revenue:",o),console.log("- Direct sales revenue:",c),console.log("- Total revenue:",p);const g=x.filter(w=>rm(w.status)).reduce((w,j)=>w+Gp(j),0);console.log("Total expenses (paid only):",g);const h=p-g,y=p>0?h/p*100:0,b=l.map(w=>({month:w.month,income:w.income,expense:w.expense,net:w.income-w.expense})),C=Z.useMemo(()=>{const w=new Map;return k.filter(j=>j.status==="paid").forEach(j=>{(j.items||[]).forEach(E=>{const I=w.get(E.description)||{name:E.description,total:0,count:0};I.total+=Gs(E.total),I.count+=1,w.set(E.description,I)})}),t.forEach(j=>{if(j.status==="completed"&&!k.some(I=>I.notes&&I.notes.includes(j.saleNumber||`SAL-${j.id}`))){const I=w.get(j.productName)||{name:j.productName,total:0,count:0};I.total+=Gs(j.amount),I.count+=1,w.set(j.productName,I)}}),Array.from(w.values()).sort((j,E)=>E.total-j.total).slice(0,8)},[k,t]),T=Z.useMemo(()=>{const w=new Map;return x.filter(j=>j.status==="paid").forEach(j=>{const E=w.get(j.category)||{category:j.category,total:0,count:0};E.total+=Gs(j.amount),E.count+=1,w.set(j.category,E)}),Array.from(w.values()).sort((j,E)=>E.total-j.total)},[x]),D=Z.useMemo(()=>{const w=new Map;return k.filter(j=>j.status==="paid").forEach(j=>{const E=w.get(j.customerName)||{name:j.customerName,total:0,count:0,lastPurchase:j.issueDate};E.total+=Gs(j.total),E.count+=1,new Date(j.issueDate)>new Date(E.lastPurchase)&&(E.lastPurchase=j.issueDate),w.set(j.customerName,E)}),t.filter(j=>j.status==="completed").forEach(j=>{if(!k.some(I=>I.notes&&I.notes.includes(j.saleNumber||`SAL-${j.id}`))){const I=w.get(j.customerName)||{name:j.customerName,total:0,count:0,lastPurchase:j.date};I.total+=Gs(j.amount),I.count+=1,new Date(j.date)>new Date(I.lastPurchase)&&(I.lastPurchase=j.date),w.set(j.customerName,I)}}),Array.from(w.values()).sort((j,E)=>E.total-j.total).slice(0,8)},[k,t]),F=w=>{const j=Gs(w);return d(j)},H=w=>new Date(w).toLocaleDateString("tr-TR"),O=b[b.length-1],$=b[b.length-2],B=$?.income>0?(O.income-$.income)/$.income*100:0,K=k.filter(w=>w.status==="paid").length,U=t.filter(w=>w.status!=="completed"?!1:!k.some(E=>E.notes&&E.notes.includes(w.saleNumber||`SAL-${w.id}`))).length,_=K+U,M=_>0?p/_:0;console.log("Transaction counts:"),console.log("- Paid invoices:",K),console.log("- Direct sales:",U),console.log("- Total transactions:",_),console.log("- Average sale:",M);const A=[{title:m("reports.growthRate"),value:`${B>=0?"+":""}${B.toFixed(1)}%`,change:B>=0?"increase":"decrease",color:"blue",icon:vs},{title:m("reports.profitMargin"),value:`${y.toFixed(1)}%`,change:y>=20?"increase":"decrease",color:"green",icon:Fc},{title:m("reports.averageSale"),value:F(M),change:"increase",color:"purple",icon:ln},{title:m("reports.activeCustomers"),value:D.length.toString(),change:"increase",color:"orange",icon:hs}],N=b,S=Math.max(...N.flatMap(w=>[w.income,w.expense]),1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(sd,{className:"w-8 h-8 text-blue-600 mr-3"}),m("reports.title")]}),e.jsx("p",{className:"text-gray-600",children:m("reports.subtitle")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:m("reports.reportDate")}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.toLocaleDateString("tr-TR")})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r("overview"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx($c,{className:"w-6 h-6 text-blue-600 mr-3"}),m("reports.overview")]}),a.has("overview")?e.jsx(us,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ms,{className:"w-5 h-5 text-gray-400"})]})}),!a.has("overview")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"cursor-pointer",onClick:()=>r("basic-metrics"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("reports.basicMetrics")}),a.has("basic-metrics")?e.jsx(us,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ms,{className:"w-4 h-4 text-gray-400"})]}),!a.has("basic-metrics")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:m("reports.totalIncome")}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:F(p)})]})]})}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ym,{className:"w-8 h-8 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:m("reports.totalExpense")}),e.jsx("p",{className:"text-xl font-bold text-red-700",children:F(g)})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ln,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:m("reports.netProfit")}),e.jsx("p",{className:`text-xl font-bold ${h>=0?"text-blue-700":"text-red-700"}`,children:F(h)})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:m("reports.totalCustomers")}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:f.length})]})]})})]})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>r("monthly-chart"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("reports.last6MonthsPerformance")}),a.has("monthly-chart")?e.jsx(us,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ms,{className:"w-4 h-4 text-gray-400"})]}),!a.has("monthly-chart")&&e.jsx("div",{className:"space-y-4",children:N.map((w,j)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.month}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m("reports.net"),": ",F(w.net)]})]}),e.jsxs("div",{className:"relative h-8 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 h-4 bg-blue-500 rounded-sm",style:{width:`${S>0?w.income/S*100:0}%`}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-4 bg-red-500 rounded-sm",style:{width:`${S>0?w.expense/S*100:0}%`}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[m("common.income"),": ",F(w.income)]}),e.jsxs("span",{children:[m("common.expense"),": ",F(w.expense)]})]})]},j))})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>r("financial-health"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("reports.financialHealth")}),a.has("financial-health")?e.jsx(us,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ms,{className:"w-4 h-4 text-gray-400"})]}),!a.has("financial-health")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:m("reports.profitMargin")}),e.jsxs("p",{className:"text-2xl font-bold",children:[y.toFixed(1),"%"]})]}),e.jsx(Fc,{className:"w-8 h-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:m("reports.growthRate")}),e.jsxs("p",{className:"text-2xl font-bold",children:[`${B>=0?"+":""}${B.toFixed(1)}`,"%"]})]}),e.jsx(vs,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:m("reports.averageSale")}),e.jsx("p",{className:"text-2xl font-bold",children:F(M)})]}),e.jsx(ln,{className:"w-8 h-8 text-purple-200"})]})})]})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>r("payment-status"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("reports.paymentStatusAnalysis")}),a.has("payment-status")?e.jsx(us,{className:"w-4 h-4 text-gray-400"}):e.jsx(Ms,{className:"w-4 h-4 text-gray-400"})]}),!a.has("payment-status")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:m("reports.invoiceStatuses")}),e.jsx("div",{className:"space-y-2",children:["paid","sent","draft","overdue"].map(w=>{const j=k.filter(I=>I.status===w).length,E={paid:"bg-green-100 text-green-800",sent:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"};return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E[w]}`,children:m(`status.${w}`)}),e.jsx("span",{className:"font-medium",children:j})]},w)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:m("reports.expenseStatuses")}),e.jsx("div",{className:"space-y-2",children:["paid","approved","draft"].map(w=>{const j=x.filter(I=>I.status===w).length,E={paid:"bg-green-100 text-green-800",approved:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"};return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E[w]}`,children:m(`status.${w}`)}),e.jsx("span",{className:"font-medium",children:j})]},w)})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r("revenue"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(vs,{className:"w-6 h-6 text-green-600 mr-3"}),m("reports.revenueAnalysis")]}),a.has("revenue")?e.jsx(us,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ms,{className:"w-5 h-5 text-gray-400"})]})}),!a.has("revenue")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.productBasedSales")}),e.jsx("div",{className:"space-y-3",children:C.map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w.count," ",m("reports.sales")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-600",children:F(w.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m("reports.avg"),": ",F(w.total/w.count)]})]})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.monthlyRevenueTrend")}),e.jsx("div",{className:"space-y-3",children:N.map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 w-12",children:w.month}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all duration-300",style:{width:`${S>0?w.income/S*100:0}%`}})})}),e.jsx("span",{className:"text-sm font-semibold text-green-600 w-24 text-right",children:F(w.income)})]},j))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r("expenses"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(bn,{className:"w-6 h-6 text-red-600 mr-3"}),m("reports.expenseAnalysis")]}),a.has("expenses")?e.jsx(us,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ms,{className:"w-5 h-5 text-gray-400"})]})}),!a.has("expenses")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.categoryBasedExpenses")}),e.jsx("div",{className:"space-y-3",children:T.map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.category}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w.count," ",m("reports.expenses")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-red-600",children:F(w.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m("reports.avg"),": ",F(w.total/w.count)]})]})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.monthlyExpenseTrend")}),e.jsx("div",{className:"space-y-3",children:N.map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 w-12",children:w.month}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${S>0?w.expense/S*100:0}%`}})})}),e.jsx("span",{className:"text-sm font-semibold text-red-600 w-24 text-right",children:F(w.expense)})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.topSuppliers")}),e.jsx("div",{className:"space-y-3",children:(()=>{const w=new Map;return x.filter(j=>j.status==="paid").forEach(j=>{const E=w.get(j.supplier)||{name:j.supplier,total:0,count:0,lastExpense:j.expenseDate};E.total+=Gs(j.amount),E.count+=1,new Date(j.expenseDate)>new Date(E.lastExpense)&&(E.lastExpense=j.expenseDate),w.set(j.supplier,E)}),Array.from(w.values()).sort((j,E)=>E.total-j.total).slice(0,5)})().map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:w.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name||m("reports.noSupplier")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w.count," ",m("reports.expenses"),"  ",m("reports.last"),": ",H(w.lastExpense)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-red-600",children:F(w.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m("reports.avg"),": ",F(w.total/w.count)]})]})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.recentExpenses")}),e.jsx("div",{className:"space-y-2",children:x.filter(w=>w.status==="paid").sort((w,j)=>new Date(j.expenseDate).getTime()-new Date(w.expenseDate).getTime()).slice(0,5).map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.supplier,"  ",H(w.expenseDate)]})]}),e.jsx("div",{className:"text-sm font-semibold text-red-600",children:F(w.amount)})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.expenseCategoryDistribution")}),e.jsx("div",{className:"space-y-3",children:T.slice(0,6).map((w,j)=>{const E=g>0?w.total/g*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.category}),e.jsxs("div",{className:"text-xs text-gray-500",children:[E.toFixed(1),"%  ",F(w.total)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${E}%`}})})]},j)})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r("customers"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(hs,{className:"w-6 h-6 text-purple-600 mr-3"}),m("reports.customerAnalysis")]}),a.has("customers")?e.jsx(us,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ms,{className:"w-5 h-5 text-gray-400"})]})}),!a.has("customers")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.topCustomers")}),e.jsx("div",{className:"space-y-3",children:D.map((w,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:w.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name||m("reports.noCustomer")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[w.count," ",m("reports.purchases"),"  ",m("reports.last"),": ",H(w.lastPurchase)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-purple-600",children:F(w.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m("reports.avg"),": ",F(w.total/w.count)]})]})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.customerStatistics")}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.length}),e.jsx("div",{className:"text-sm text-purple-600",children:m("reports.totalCustomers")})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:D.length}),e.jsx("div",{className:"text-sm text-green-600",children:m("reports.activeCustomersCount")})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F(D.length>0?p/D.length:0)}),e.jsx("div",{className:"text-sm text-blue-600",children:m("reports.revenuePerCustomer")})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:D.length>0?(_/D.length).toFixed(1):"0"}),e.jsx("div",{className:"text-sm text-orange-600",children:m("reports.salesPerCustomer")})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:D.length>0?Math.round(_/D.length):0}),e.jsx("div",{className:"text-sm text-indigo-600",children:m("reports.averagePurchases")})]}),e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-pink-600",children:D.length>0?Math.max(...D.map(w=>w.count)):0}),e.jsx("div",{className:"text-sm text-pink-600",children:m("reports.maxPurchases")})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>r("performance"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Fc,{className:"w-6 h-6 text-orange-600 mr-3"}),m("reports.performanceReports")]}),a.has("performance")?e.jsx(us,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ms,{className:"w-5 h-5 text-gray-400"})]})}),!a.has("performance")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.kpiDashboard")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map((w,j)=>e.jsxs("div",{className:`bg-${w.color}-50 rounded-lg p-4 border border-${w.color}-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-${w.color}-600 text-sm font-medium`,children:w.title}),e.jsx("p",{className:`text-2xl font-bold text-${w.color}-700`,children:w.value})]}),e.jsx(w.icon,{className:`w-8 h-8 text-${w.color}-600`})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[w.change==="increase"?e.jsx(vs,{className:"w-4 h-4 text-green-500 mr-1"}):e.jsx(ym,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:`text-xs ${w.change==="increase"?"text-green-600":"text-red-600"}`,children:w.change==="increase"?m("reports.increase"):m("reports.decrease")})]})]},j))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.monthlyPerformanceTable")}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-green-600 mb-1",children:m("reports.totalIncome6Months")}),e.jsx("div",{className:"text-lg font-bold text-green-700",children:F(N.reduce((w,j)=>w+j.income,0))})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-red-600 mb-1",children:m("reports.totalExpense6Months")}),e.jsx("div",{className:"text-lg font-bold text-red-700",children:F(N.reduce((w,j)=>w+j.expense,0))})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 mb-1",children:m("reports.netProfit6Months")}),e.jsx("div",{className:`text-lg font-bold ${N.reduce((w,j)=>w+j.net,0)>=0?"text-blue-700":"text-red-700"}`,children:F(N.reduce((w,j)=>w+j.net,0))})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:m("reports.month")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:m("common.income")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:m("common.expense")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:m("reports.profit")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:m("reports.profitMarginPercent")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:m("reports.expenseRatio")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map((w,j)=>{const E=w.income>0?w.net/w.income*100:0,I=w.income>0?w.expense/w.income*100:0;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:w.month}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-medium",children:F(w.income)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600 font-medium",children:F(w.expense)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-medium ${w.net>=0?"text-green-600":"text-red-600"}`,children:F(w.net)}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${E>=0?"text-green-600":"text-red-600"}`,children:[E.toFixed(1),"%"]}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${I<=70?"text-green-600":I<=85?"text-yellow-600":"text-red-600"}`,children:[I.toFixed(1),"%"]})]},j)})})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m("reports.expenseEfficiency")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:m("reports.expenseCategoryPerformance")}),e.jsx("div",{className:"space-y-2",children:T.slice(0,5).map((w,j)=>{const E=g>0?w.total/g*100:0;return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:[E.toFixed(1),"%  ",F(w.total)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${E}%`}})})]},j)})})]})})]})]})]})]})})}function A3({accounts:k=[],onAccountsUpdate:x,invoices:t=[],expenses:f=[],sales:m=[],customers:d=[]}){const{formatCurrency:s,getCurrencySymbol:a}=$r(),{t:i}=Vt(),[r,n]=Z.useState(""),[l,o]=Z.useState("all"),[c,p]=Z.useState(new Set),[g,h]=Z.useState(null),[y,b]=Z.useState(null),[C,T]=Z.useState({}),[D,F]=Z.useState(!1),[H,O]=Z.useState(null),$=[{label:"Dier",value:"other"},{label:"Ekipman",value:"equipment"},{label:"Faturalar",value:"utilities"},{label:"Kira",value:"rent"},{label:"Maalar",value:"salaries"},{label:"Malzemeler",value:"supplies"},{label:"Pazarlama",value:"marketing"},{label:"Personel",value:"personnel"},{label:"Seyahat",value:"travel"},{label:"Sigorta",value:"insurance"},{label:"Vergiler",value:"taxes"}],B={"Kira Giderleri":"rent","Personel Giderleri":"personnel","Fatura Giderleri":"utilities",Dier:"other",Ekipman:"equipment",Faturalar:"utilities",Kira:"rent",Maalar:"salaries",Malzemeler:"supplies",Pazarlama:"marketing",Personel:"personnel",Seyahat:"travel",Sigorta:"insurance",Vergiler:"taxes"},K=()=>[{id:"1",code:"100",name:i("chartOfAccounts.accountNames.100"),type:"asset",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"2",code:"101",name:i("chartOfAccounts.accountNames.101"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"3",code:"102",name:i("chartOfAccounts.accountNames.102"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"4",code:"120",name:i("chartOfAccounts.accountNames.120"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"5",code:"150",name:i("chartOfAccounts.accountNames.150"),type:"asset",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"7",code:"200",name:i("chartOfAccounts.accountNames.200"),type:"liability",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"8",code:"201",name:i("chartOfAccounts.accountNames.201"),type:"liability",parentId:"7",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"10",code:"300",name:i("chartOfAccounts.accountNames.300"),type:"equity",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"13",code:"600",name:i("chartOfAccounts.accountNames.600"),type:"revenue",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"14",code:"601",name:i("chartOfAccounts.accountNames.601"),type:"revenue",parentId:"13",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"15",code:"602",name:i("chartOfAccounts.accountNames.602"),type:"revenue",parentId:"13",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"16",code:"700",name:i("chartOfAccounts.accountNames.700"),type:"expense",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"17",code:"701",name:i("chartOfAccounts.accountNames.701"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"18",code:"702",name:i("chartOfAccounts.accountNames.702"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"19",code:"703",name:i("chartOfAccounts.accountNames.703"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"}],[U,_]=Z.useState(k.length>0?k:K());Z.useEffect(()=>{k.length===0&&_(K())},[i]);const M=ae=>{switch(ae.code){case"101":return t.filter(pe=>pe.status==="paid"&&pe.paymentMethod==="cash").reduce((pe,Ae)=>pe+(Number(Ae.total)||0),0);case"102":return t.filter(pe=>pe.status==="paid"&&(pe.paymentMethod==="card"||pe.paymentMethod==="transfer")).reduce((pe,Ae)=>pe+(Number(Ae.total)||0),0);case"120":return t.filter(pe=>pe.status==="sent"||pe.status==="overdue").reduce((pe,Ae)=>pe+(Number(Ae.total)||0),0);case"201":return f.filter(pe=>pe.status==="approved"||pe.status==="pending").reduce((pe,Ae)=>pe+(Number(Ae.amount)||0),0);case"601":return t.filter(pe=>pe.type!=="refund"&&(pe.status==="paid"||pe.status==="sent"||pe.status==="overdue")&&pe.type==="product").reduce((pe,Ae)=>pe+(Number(Ae.total)||0),0);case"602":return t.filter(pe=>pe.type!=="refund"&&(pe.status==="paid"||pe.status==="sent"||pe.status==="overdue")&&pe.type==="service").reduce((pe,Ae)=>pe+(Number(Ae.total)||0),0);case"701":return f.filter(pe=>pe.category==="rent").reduce((pe,Ae)=>pe+(Number(Ae.amount)||0),0);case"702":return f.filter(pe=>pe.category==="personnel").reduce((pe,Ae)=>pe+(Number(Ae.amount)||0),0);case"703":return f.filter(pe=>pe.category==="utilities").reduce((pe,Ae)=>pe+(Number(Ae.amount)||0),0);case"700":return f.reduce((pe,Ae)=>pe+(Number(Ae.amount)||0),0);default:if(ae.type==="expense"&&ae.parentId&&U.find(Ae=>Ae.id===ae.parentId)?.code==="700"){const Ae=B[ae.name];if(Ae)return f.filter(fe=>fe.category===Ae).reduce((fe,te)=>fe+(Number(te.amount)||0),0)}return ae.balance}},A=ae=>{const ge=["101","102","120","201","600","601","602","700","701","702","703"];return ae.type==="expense"&&ae.parentId&&U.find(Ae=>Ae.id===ae.parentId)?.code==="700"&&B[ae.name]?!0:ge.includes(ae.code)},N=ae=>{const ge=ae.code,pe={101:"Kasa: denen faturalarn nakit demeleri (Faturalar > dendi)",102:"Bankalar: denen faturalarn banka/kart demeleri (Faturalar > dendi)",120:"Alclar: denmemi faturalar (Faturalar > Gnderildi/Vadesi Geti)",201:"Satclar: denmemi giderler (Giderler > Onayland/Beklemede)",600:"GELRLER: Tm gelirler toplam (Faturalar sayfasndan)",601:"Sat Gelirleri: rn kategorili faturalar (rnler > rnler kategorisi)",602:"Hizmet Gelirleri: Hizmet kategorili faturalar (rnler > Hizmetler kategorisi)",700:"GDERLER: Tm giderler toplam (Giderler sayfasndan)",701:"Kira Giderleri: Kira kategorili giderler (Giderler sayfasndan)",702:"Personel Giderleri: Personel kategorili giderler (Giderler sayfasndan)",703:"Fatura Giderleri: Fatura kategorili giderler (Giderler sayfasndan)"};return ae.type==="expense"&&ae.parentId&&U.find(fe=>fe.id===ae.parentId)?.code==="700"&&B[ae.name]?`${ae.name}: ${ae.name} kategorili giderler (Giderler sayfasndan)`:pe[ge]||"Bu hesap dier sayfalardan otomatik ynetilir"};sr.useEffect(()=>{console.log(" Hesap Plan Veri Kontrol:",{invoicesCount:t.length,expensesCount:f.length,salesCount:m.length,customersCount:d.length,sampleInvoice:t[0],sampleExpense:f[0],sampleSale:m[0]});const ae=U.map(ge=>{if(A(ge)){const pe=M(ge);return{...ge,balance:pe>0?pe:ge.balance}}return ge});_(ae)},[t,f,m,d]);const S=U.filter(ae=>{const ge=ae.name.toLowerCase().includes(r.toLowerCase())||ae.code.includes(r),pe=l==="all"||ae.type===l;return ge&&pe}),w=ae=>i(`chartOfAccounts.accountTypeLabels.${ae}`,ae),j=ae=>({asset:"bg-blue-100 text-blue-800",liability:"bg-red-100 text-red-800",equity:"bg-purple-100 text-purple-800",revenue:"bg-green-100 text-green-800",expense:"bg-orange-100 text-orange-800"})[ae]||"bg-gray-100 text-gray-800",E=ae=>{const ge=Number(ae)||0;return s(ge)},I=ae=>{const ge=Number(ae)||0,pe=Math.abs(ge),Ae=a();if(pe>=1e6){const fe=ge/1e6;return`${Ae}${fe.toFixed(2)}M`}if(pe>=1e3){const fe=ge/1e3;return`${Ae}${fe.toFixed(2)}K`}return s(ge)},L=ae=>ae?ae.replace(/^0+/,"")||"0":"",G=ae=>{const ge=new Set(c);ge.has(ae)?ge.delete(ae):ge.add(ae),p(ge)},X=ae=>S.filter(ge=>ge.parentId===ae),re=ae=>S.some(ge=>ge.parentId===ae),q=(ae,ge,pe)=>{h(ae),b(ge),T({[ge]:String(pe)})},ee=ae=>{if(!y||!g)return;const ge={...ae};y==="code"?ge.code=C.code||ae.code:y==="name"?ge.name=C.name||ae.name:y==="balance"&&(ge.balance=parseFloat(C.balance)||ae.balance);const pe=U.map(Ae=>Ae.id===ae.id?ge:Ae);_(pe),x&&x(pe),R()},R=()=>{h(null),b(null),T({})},z=(ae,ge)=>{T(pe=>({...pe,[ae]:ge}))},W=ae=>{if(ae){const Ae=U.find(fe=>fe.id===ae);if(Ae?.parentId){alert("Alt kategorilere tekrar alt kategori eklenemez. Sadece ana kategorilere alt kategori eklenebilir.");return}if(Ae?.code==="700"){O(ae),F(!0);return}}const ge={id:Date.now().toString(),code:"",name:"Yeni Hesap",type:ae?se(ae):"asset",parentId:ae,isActive:!0,balance:0,createdAt:new Date().toISOString()},pe=[...U,ge];_(pe),x&&x(pe),setTimeout(()=>{q(ge.id,"name",ge.name)},100)},se=ae=>U.find(pe=>pe.id===ae)?.type||"asset",he=(ae,ge)=>{if(!H)return;if(U.some(Te=>Te.parentId!==H?!1:B[Te.name]===ae)){alert(`"${ge}" kategorisi zaten eklenmi. Her kategori sadece bir kez eklenebilir.`),F(!1),O(null);return}const Ae=U.filter(Te=>Te.code.startsWith("70")&&Te.parentId===H).map(Te=>parseInt(Te.code)).filter(Te=>!isNaN(Te)),fe=Ae.length>0?Math.max(...Ae)+1:704,te={id:Date.now().toString(),code:fe.toString(),name:ge,type:"expense",parentId:H,isActive:!0,balance:0,createdAt:new Date().toISOString()},ye=[...U,te];_(ye),x&&x(ye),F(!1),O(null)},ne=ae=>U.filter(pe=>pe.parentId===ae).reduce((pe,Ae)=>{if(U.some(ye=>ye.parentId===Ae.id))return pe+ne(Ae.id);let te=0;if(A(Ae)){const ye=M(Ae);te=ye>0?ye:Number(Ae.balance)||0}else te=Number(Ae.balance)||0;return pe+te},0),me=ae=>{if(ae.code==="700"||ae.code==="600")return M(ae);if(re(ae.id))return ne(ae.id);if(A(ae)){const pe=M(ae);return pe>0?pe:Number(ae.balance)||0}return Number(ae.balance)||0},Se=ae=>{if(confirm("Bu hesab silmek istediinizden emin misiniz?")){if(U.some(Ae=>Ae.parentId===ae)){alert("Bu hesabn alt hesaplar var. nce alt hesaplar silin.");return}const pe=U.filter(Ae=>Ae.id!==ae);_(pe),x&&x(pe)}},Ee=ae=>{const ge={...ae,isActive:!ae.isActive},pe=U.map(Ae=>Ae.id===ae.id?ge:Ae);_(pe),x&&x(pe)},le=(ae,ge=0)=>{const pe=re(ae.id),Ae=c.has(ae.id),fe=X(ae.id),te=g===ae.id;return e.jsxs(sr.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${ge*20}px`},children:[pe&&e.jsx("button",{onClick:()=>G(ae.id),className:"mr-2 p-1 hover:bg-gray-200 rounded",children:Ae?e.jsx(Ob,{className:"w-4 h-4 text-gray-600"}):e.jsx(Lb,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Oc,{className:"w-4 h-4 text-blue-600"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[te&&y==="code"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:C.code||"",onChange:ye=>z("code",ye.target.value),className:"w-16 px-2 py-1 text-xs border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}),e.jsx("button",{onClick:()=>ee(ae),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-3 h-3"})}),e.jsx("button",{onClick:R,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-3 h-3"})})]}):e.jsxs("span",{onClick:()=>!A(ae)&&q(ae.id,"code",ae.code),className:`text-sm font-medium text-blue-600 px-1 py-0.5 rounded ${A(ae)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-blue-50"}`,title:A(ae)?N(ae):"Kodu dzenlemek iin tklayn",children:[L(ae.code),A(ae)&&e.jsx("span",{className:"ml-1 text-xs",children:""})]}),e.jsx("span",{className:"text-gray-400",children:"-"}),te&&y==="name"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:C.name||"",onChange:ye=>z("name",ye.target.value),className:"px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}),e.jsx("button",{onClick:()=>ee(ae),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-3 h-3"})}),e.jsx("button",{onClick:R,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-3 h-3"})})]}):e.jsxs("span",{onClick:()=>!A(ae)&&q(ae.id,"name",ae.name),className:`text-sm font-medium text-gray-900 px-1 py-0.5 rounded ${A(ae)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-gray-50"}`,title:A(ae)?N(ae):"Ad dzenlemek iin tklayn",children:[ae.name,A(ae)&&e.jsx("span",{className:"ml-1 text-xs",children:""})]})]})})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(ae.type)}`,children:w(ae.type)})}),e.jsx("td",{className:"px-6 py-4 text-right",style:{minWidth:"180px"},children:te&&y==="balance"?e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx("input",{type:"number",value:C.balance||"",onChange:ye=>z("balance",ye.target.value),className:"w-24 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-right",step:"0.01",autoFocus:!0}),e.jsx("button",{onClick:()=>ee(ae),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-3 h-3"})}),e.jsx("button",{onClick:R,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-3 h-3"})})]}):e.jsx("div",{className:"text-right max-w-xs ml-auto",children:pe?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-blue-600 truncate",title:E(me(ae)),children:E(me(ae))}),e.jsxs("div",{className:"text-xs text-gray-500",children:["(",i("chartOfAccounts.allSummed"),")"]})]}):e.jsxs("span",{onClick:()=>!A(ae)&&q(ae.id,"balance",ae.balance),className:`inline-block text-sm font-semibold text-gray-900 px-2 py-1 rounded truncate max-w-full ${A(ae)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-gray-50"}`,title:A(ae)?`${E(me(ae))} - ${N(ae)}`:`${E(me(ae))} (Dzenlemek iin tklayn)`,children:[E(me(ae)),A(ae)&&e.jsx("span",{className:"ml-1 text-xs text-blue-600",children:""})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>Ee(ae),className:`px-2 py-1 rounded-full text-xs font-medium cursor-pointer transition-colors ${ae.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,title:"Durumu deitirmek iin tklayn",children:ae.isActive?i("chartOfAccounts.statusLabels.active"):i("chartOfAccounts.statusLabels.inactive")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>W(ae.id),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Alt hesap ekle",children:e.jsx(As,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Se(ae.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Hesab sil",children:e.jsx(ts,{className:"w-4 h-4"})})]})})]}),pe&&Ae&&fe.map(ye=>le(ye,ge+1))]},ae.id)},ie=S.filter(ae=>!ae.parentId),ce=U.reduce((ae,ge)=>{const pe=re(ge.id);if(!pe&&ge.isActive){let Ae=0;if(A(ge)){const fe=M(ge);Ae=fe>0?fe:Number(ge.balance)||0}else Ae=Number(ge.balance)||0;(ge.type==="revenue"||ge.type==="expense")&&console.log(` ${ge.name} (${ge.code}):`,{type:ge.type,balance:Ae,storedBalance:ge.balance,isDataFromOtherPages:A(ge),hasChildren:pe}),ae[ge.type]=(ae[ge.type]||0)+Ae}return ae},{});return console.log(" Hesaplanan Toplamlar:",ce),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Oc,{className:"w-8 h-8 text-blue-600 mr-3"}),i("chartOfAccounts.title")]}),e.jsx("p",{className:"text-gray-600",children:i("chartOfAccounts.subtitle")})]}),e.jsxs("button",{onClick:()=>W(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:i("chartOfAccounts.newAccount")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.asset")}),e.jsx("div",{className:"text-lg font-bold text-blue-700 truncate",title:E(ce.asset||0),children:I(ce.asset||0)})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-red-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.liability")}),e.jsx("div",{className:"text-lg font-bold text-red-700 truncate",title:E(ce.liability||0),children:I(ce.liability||0)})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-purple-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.equity")}),e.jsx("div",{className:"text-lg font-bold text-purple-700 truncate",title:E(ce.equity||0),children:I(ce.equity||0)})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-green-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.revenue")}),e.jsx("div",{className:"text-lg font-bold text-green-700 truncate",title:E(ce.revenue||0),children:I(ce.revenue||0)})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-orange-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.expense")}),e.jsx("div",{className:"text-lg font-bold text-orange-700 truncate",title:E(ce.expense||0),children:I(ce.expense||0)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:i("chartOfAccounts.search"),value:r,onChange:ae=>n(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:l,onChange:ae=>o(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:i("chartOfAccounts.accountTypes.all")}),e.jsx("option",{value:"asset",children:i("chartOfAccounts.accountTypesPlural.asset")}),e.jsx("option",{value:"liability",children:i("chartOfAccounts.accountTypesPlural.liability")}),e.jsx("option",{value:"equity",children:i("chartOfAccounts.accountTypesPlural.equity")}),e.jsx("option",{value:"revenue",children:i("chartOfAccounts.accountTypesPlural.revenue")}),e.jsx("option",{value:"expense",children:i("chartOfAccounts.accountTypesPlural.expense")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i("chartOfAccounts.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[U.length," ",i("chartOfAccounts.accountsRegistered"),"  ",i("chartOfAccounts.clickToEdit")]})]}),e.jsx("div",{className:"text-xs text-gray-500 bg-blue-50 px-3 py-2 rounded-lg",children:i("chartOfAccounts.tooltips.editHint")})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1024px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.accountName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.type")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.balance")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.status")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Oc,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Henz hesap bulunmuyor"}),e.jsx("p",{className:"text-gray-400 text-sm",children:i("chartOfAccounts.addAccountTip")})]})}):ie.map(ae=>le(ae))})]})})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:e.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gider Kategorisi Sein"}),e.jsx("button",{onClick:()=>{F(!1),O(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(fr,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Giderler kategorisine eklenecek alt kategoriyi sein. Bu kategori, giderler sayfasndaki kategorilerle otomatik eletirilecektir."}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-96 overflow-y-auto",children:$.map(ae=>{const ge=U.some(pe=>pe.parentId!==H?!1:B[pe.name]===ae.value);return e.jsx("button",{onClick:()=>!ge&&he(ae.value,ae.label),disabled:ge,className:`px-4 py-3 text-left border rounded-lg transition-colors ${ge?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed opacity-60":"border-gray-200 hover:bg-blue-50 hover:border-blue-300"}`,children:e.jsxs("span",{className:"text-sm font-medium flex items-center justify-between",children:[ae.label,ge&&e.jsx(Ur,{className:"w-4 h-4 text-green-500"})]})},ae.value)})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:()=>{F(!1),O(null)},className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ptal"})})]})})})]})}function _3({invoices:k=[],expenses:x=[],sales:t=[],customers:f=[],suppliers:m=[],onViewInvoice:d,onViewExpense:s,onViewSale:a,onViewCustomer:i,onViewSupplier:r,onDownloadInvoice:n,onDownloadExpense:l,onDownloadSale:o}){const{formatCurrency:c}=$r(),{t:p}=Vt(),[g,h]=Z.useState(""),[y,b]=Z.useState(""),[C,T]=Z.useState(new Set(["invoices","expenses","sales"])),[D,F]=Z.useState("all"),[H,O]=Z.useState(1),[$,B]=Z.useState(()=>{const ke=typeof window<"u"?localStorage.getItem("archive_invoices_pageSize"):null,ze=ke?Number(ke):20;return[20,50,100].includes(ze)?ze:20}),[K,U]=Z.useState(1),[_,M]=Z.useState(()=>{const ke=typeof window<"u"?localStorage.getItem("archive_expenses_pageSize"):null,ze=ke?Number(ke):20;return[20,50,100].includes(ze)?ze:20}),[A,N]=Z.useState(1),[S,w]=Z.useState(()=>{const ke=typeof window<"u"?localStorage.getItem("archive_sales_pageSize"):null,ze=ke?Number(ke):20;return[20,50,100].includes(ze)?ze:20}),[j,E]=Z.useState(1),[I,L]=Z.useState(()=>{const ke=typeof window<"u"?localStorage.getItem("archive_customers_pageSize"):null,ze=ke?Number(ke):20;return[20,50,100].includes(ze)?ze:20}),[G,X]=Z.useState(1),[re,q]=Z.useState(()=>{const ke=typeof window<"u"?localStorage.getItem("archive_suppliers_pageSize"):null,ze=ke?Number(ke):20;return[20,50,100].includes(ze)?ze:20}),ee=k.filter(ke=>ke.status==="paid"||ke.status==="overdue"),R=x.filter(ke=>ke.status==="paid"),z=t.filter(ke=>ke.status==="completed"||ke.status==="cancelled"),W=f,se=m,he=ke=>{const ze=new Set(C);ze.has(ke)?ze.delete(ke):ze.add(ke),T(ze)},ne=ke=>new Date(ke).toLocaleDateString("tr-TR"),me=ke=>{const ze=typeof ke=="number"?ke:parseFloat(String(ke??""));return Number.isFinite(ze)?ze:0},Se=ke=>c(me(ke)),Ee=(ke,ze)=>{const Fe={paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[ke]||"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fe}`,children:p(`status.${ke}`,ke)})},le=(ke,ze)=>ke.filter(qe=>{const Fe=g===""||ze.some(we=>{const Qe=qe[we];return Qe&&Qe.toString().toLowerCase().includes(g.toLowerCase())}),at=y===""||(()=>{const we=new Date(qe.issueDate||qe.expenseDate||qe.date||qe.createdAt),Qe=new Date(y);return we.toDateString()===Qe.toDateString()})();return Fe&&at}),ie=le(ee,["invoiceNumber","customerName"]),ce=le(R,["expenseNumber","description","supplier"]),ae=le(z,["saleNumber","customerName","productName"]),ge=le(W,["name","email","company"]),pe=le(se,["name","email","company"]),Ae=Z.useMemo(()=>{const ke=(H-1)*$;return ie.slice(ke,ke+$)},[ie,H,$]),fe=Z.useMemo(()=>{const ke=(K-1)*_;return ce.slice(ke,ke+_)},[ce,K,_]),te=Z.useMemo(()=>{const ke=(A-1)*S;return ae.slice(ke,ke+S)},[ae,A,S]),ye=Z.useMemo(()=>{const ke=(j-1)*I;return ge.slice(ke,ke+I)},[ge,j,I]),Te=Z.useMemo(()=>{const ke=(G-1)*re;return pe.slice(ke,ke+re)},[pe,G,re]),Ce=ee.reduce((ke,ze)=>ke+me(ze.total??ze.amount??ze.grandTotal),0)+z.reduce((ke,ze)=>ke+me(ze.amount??ze.total),0),je=R.reduce((ke,ze)=>ke+me(ze.amount??ze.total),0),tt=[{id:"all",label:p("archive.tabs.all"),count:ie.length+ce.length+ae.length},{id:"invoices",label:p("archive.tabs.invoices"),count:ie.length},{id:"expenses",label:p("archive.tabs.expenses"),count:ce.length},{id:"sales",label:p("archive.tabs.sales"),count:ae.length},{id:"contacts",label:p("archive.tabs.contacts"),count:ge.length+pe.length}],Pe=ke=>D==="all"||D===ke||D==="contacts"&&(ke==="customers"||ke==="suppliers");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Kg,{className:"w-8 h-8 text-gray-600 mr-3"}),p("archive.title")]}),e.jsx("p",{className:"text-gray-600",children:p("archive.subtitle")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:p("archive.totalArchive")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee.length+R.length+z.length+W.length+se.length})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Or,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:p("archive.archivedInvoices")}),e.jsx("p",{className:"text-lg font-bold text-blue-700",children:ee.length})]})]})}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bn,{className:"w-6 h-6 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:p("archive.archivedExpenses")}),e.jsx("p",{className:"text-lg font-bold text-red-700",children:R.length})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:p("archive.archivedSales")}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:z.length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(hs,{className:"w-6 h-6 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:p("archive.totalContacts")}),e.jsx("p",{className:"text-lg font-bold text-purple-700",children:W.length+se.length})]})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:p("archive.searchPlaceholder"),value:g,onChange:ke=>h(ke.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Dr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"date",value:y,onChange:ke=>b(ke.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),e.jsx("button",{onClick:()=>{h(""),b("")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:p("archive.clearFilters")})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:tt.map(ke=>e.jsxs("button",{onClick:()=>F(ke.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${D===ke.id?"border-gray-600 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[ke.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 py-1 px-2 rounded-full text-xs",children:ke.count})]},ke.id))})}),e.jsxs("div",{className:"p-6",children:[Pe("invoices")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>he("invoices"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Or,{className:"w-5 h-5 text-blue-600 mr-2"}),p("archive.sections.archivedInvoices")," (",ie.length,")"]}),C.has("invoices")?e.jsx(Ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),C.has("invoices")&&e.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 overflow-hidden",children:ie.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Or,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:p("archive.empty.invoices")}),e.jsx("p",{className:"text-sm text-gray-400",children:p("archive.empty.invoicesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-blue-800 uppercase",children:p("archive.table.invoice")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-blue-800 uppercase",children:p("archive.table.customer")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-blue-800 uppercase",children:p("archive.table.amount")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-blue-800 uppercase",children:p("archive.table.status")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-blue-800 uppercase",children:p("archive.table.date")}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-blue-800 uppercase",children:p("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ae.map(ke=>e.jsxs("tr",{className:"hover:bg-blue-25 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>d?.(ke),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:ke.invoiceNumber})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ke.customerName}),e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:Se(ke.total)}),e.jsx("td",{className:"px-4 py-3",children:Ee(ke.status)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ne(ke.issueDate)}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>d?.(ke),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:p("archive.actions.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n?.(ke),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:p("archive.actions.download"),children:e.jsx(cn,{className:"w-4 h-4"})})]})})]},ke.id))})]})}),e.jsx("div",{className:"p-3 border-t border-blue-200 bg-blue-50",children:e.jsx(nn,{page:H,pageSize:$,total:ie.length,onPageChange:O,onPageSizeChange:ke=>{B(ke),typeof window<"u"&&localStorage.setItem("archive_invoices_pageSize",String(ke)),O(1)}})})]})})]}),Pe("expenses")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>he("expenses"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(bn,{className:"w-5 h-5 text-red-600 mr-2"}),p("archive.sections.archivedExpenses")," (",ce.length,")"]}),C.has("expenses")?e.jsx(Ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),C.has("expenses")&&e.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 overflow-hidden",children:ce.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(bn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:p("archive.empty.expenses")}),e.jsx("p",{className:"text-sm text-gray-400",children:p("archive.empty.expensesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-red-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-red-800 uppercase",children:p("archive.table.expense")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-red-800 uppercase",children:p("archive.table.supplier")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-red-800 uppercase",children:p("archive.table.category")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-red-800 uppercase",children:p("archive.table.amount")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-red-800 uppercase",children:p("archive.table.date")}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-red-800 uppercase",children:p("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-red-100",children:fe.map(ke=>e.jsxs("tr",{className:"hover:bg-red-25 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("button",{onClick:()=>s?.(ke),className:"text-red-600 hover:text-red-800 font-medium transition-colors",children:ke.expenseNumber}),e.jsx("div",{className:"text-xs text-gray-500",children:ke.description})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ke.supplier}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:ke.category})}),e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-red-600",children:["-",Se(ke.amount)]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ne(ke.expenseDate)}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>s?.(ke),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:p("archive.actions.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l?.(ke),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:p("archive.actions.download"),children:e.jsx(cn,{className:"w-4 h-4"})})]})})]},ke.id))})]})}),e.jsx("div",{className:"p-3 border-t border-red-200 bg-red-50",children:e.jsx(nn,{page:K,pageSize:_,total:ce.length,onPageChange:U,onPageSizeChange:ke=>{M(ke),typeof window<"u"&&localStorage.setItem("archive_expenses_pageSize",String(ke)),U(1)}})})]})})]}),Pe("sales")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>he("sales"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 text-green-600 mr-2"}),p("archive.sections.archivedSales")," (",ae.length,")"]}),C.has("sales")?e.jsx(Ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),C.has("sales")&&e.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 overflow-hidden",children:ae.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(vs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:p("archive.empty.sales")}),e.jsx("p",{className:"text-sm text-gray-400",children:p("archive.empty.salesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-green-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.sale")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.customer")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.product")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.amount")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.status")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-green-800 uppercase",children:p("archive.table.date")}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-green-800 uppercase",children:p("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-green-100",children:te.map(ke=>e.jsxs("tr",{className:"hover:bg-green-25 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>a?.(ke),className:"text-green-600 hover:text-green-800 font-medium transition-colors",children:ke.saleNumber||`SAL-${ke.id}`})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ke.customerName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ke.productName}),e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-green-600",children:Se(ke.amount)}),e.jsx("td",{className:"px-4 py-3",children:Ee(ke.status)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ne(ke.date)}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>a?.(ke),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:p("archive.actions.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>o?.(ke),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:p("archive.actions.download"),children:e.jsx(cn,{className:"w-4 h-4"})})]})})]},ke.id))})]})}),e.jsx("div",{className:"p-3 border-t border-green-200 bg-green-50",children:e.jsx(nn,{page:A,pageSize:S,total:ae.length,onPageChange:N,onPageSizeChange:ke=>{w(ke),typeof window<"u"&&localStorage.setItem("archive_sales_pageSize",String(ke)),N(1)}})})]})})]}),Pe("contacts")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>he("customers"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(hs,{className:"w-5 h-5 text-purple-600 mr-2"}),p("archive.sections.customers")," (",ge.length,")"]}),C.has("customers")?e.jsx(Ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),C.has("customers")&&e.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 overflow-hidden",children:ge.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(hs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:p("archive.empty.customers")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-purple-100",children:ye.map(ke=>e.jsx("div",{className:"p-4 hover:bg-purple-25 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold",children:ke.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>i?.(ke),className:"font-medium text-purple-600 hover:text-purple-800 transition-colors",children:ke.name}),ke.company&&e.jsx("p",{className:"text-sm text-gray-600",children:ke.company}),e.jsx("p",{className:"text-xs text-gray-500",children:ke.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[p("archive.table.registered"),": ",ne(ke.createdAt)]}),e.jsx("button",{onClick:()=>i?.(ke),className:"p-1 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors mt-1",title:p("archive.actions.view"),children:e.jsx(ss,{className:"w-4 h-4"})})]})]})},ke.id))}),e.jsx("div",{className:"p-3 border-t border-purple-200 bg-purple-50",children:e.jsx(nn,{page:j,pageSize:I,total:ge.length,onPageChange:E,onPageSizeChange:ke=>{L(ke),typeof window<"u"&&localStorage.setItem("archive_customers_pageSize",String(ke)),E(1)}})})]})})]}),Pe("contacts")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>he("suppliers"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Fr,{className:"w-5 h-5 text-orange-600 mr-2"}),p("archive.sections.suppliers")," (",pe.length,")"]}),C.has("suppliers")?e.jsx(Ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),C.has("suppliers")&&e.jsx("div",{className:"bg-orange-50 rounded-lg border border-orange-200 overflow-hidden",children:pe.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Fr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:p("archive.empty.suppliers")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-orange-100",children:Te.map(ke=>e.jsx("div",{className:"p-4 hover:bg-orange-25 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold",children:ke.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>r?.(ke),className:"font-medium text-orange-600 hover:text-orange-800 transition-colors",children:ke.name}),ke.company&&e.jsx("p",{className:"text-sm text-gray-600",children:ke.company}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:ke.email}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:ke.category})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[p("archive.table.registered"),": ",ne(ke.createdAt)]}),e.jsx("button",{onClick:()=>r?.(ke),className:"p-1 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors mt-1",title:p("archive.actions.view"),children:e.jsx(ss,{className:"w-4 h-4"})})]})]})},ke.id))}),e.jsx("div",{className:"p-3 border-t border-orange-200 bg-orange-50",children:e.jsx(nn,{page:G,pageSize:re,total:pe.length,onPageChange:X,onPageSizeChange:ke=>{q(ke),typeof window<"u"&&localStorage.setItem("archive_suppliers_pageSize",String(ke)),X(1)}})})]})})]}),D==="all"&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ea,{className:"w-5 h-5 text-gray-600 mr-2"}),p("archive.sections.archiveSummary")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:p("archive.summary.financial")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.summary.totalIncome"),":"]}),e.jsx("span",{className:"font-semibold text-green-600",children:Se(Ce)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.summary.totalExpense"),":"]}),e.jsx("span",{className:"font-semibold text-red-600",children:Se(je)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-300 pt-2",children:[e.jsxs("span",{className:"text-gray-900 font-medium",children:[p("archive.summary.netArchive"),":"]}),e.jsx("span",{className:`font-bold ${Ce-je>=0?"text-green-600":"text-red-600"}`,children:Se(Ce-je)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:p("archive.summary.recordCounts")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.archivedInvoices"),":"]}),e.jsx("span",{className:"font-medium",children:ee.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.archivedExpenses"),":"]}),e.jsx("span",{className:"font-medium",children:R.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.archivedSales"),":"]}),e.jsx("span",{className:"font-medium",children:z.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[p("archive.totalContacts"),":"]}),e.jsx("span",{className:"font-medium",children:W.length+se.length})]})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:p("archive.info.title")}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:p("archive.info.description")})]})]})})]})]})]})}const Yi=k=>{if(typeof k=="number")return Number.isFinite(k)?k:0;if(k==null)return 0;const x=String(k).trim();if(!x)return 0;if(x.includes(".")&&x.includes(",")){const m=x.replace(/\./g,"").replace(/,/g,"."),d=parseFloat(m);return Number.isFinite(d)?d:0}if(x.includes(",")&&!x.includes(".")){const f=parseFloat(x.replace(/,/g,"."));return Number.isFinite(f)?f:0}const t=parseFloat(x.replace(/\s/g,""));return Number.isFinite(t)?t:0};function E3({invoices:k,expenses:x,sales:t}){const{formatCurrency:f}=$r(),[m]=Z.useState(""),[d]=Z.useState(""),[s]=Z.useState(""),[a]=Z.useState(""),[i]=Z.useState(""),[r]=Z.useState("all"),[n,l]=Z.useState(null),[o,c]=Z.useState(null),[p,g]=Z.useState(null),[h,y]=Z.useState(1),[b,C]=Z.useState(()=>{const B=typeof window<"u"?localStorage.getItem("ledger_pageSize"):null,K=B?Number(B):20;return[20,50,100].includes(K)?K:20}),T=Z.useMemo(()=>{const B=[],K=[],U=N=>N==null?0:N.total!=null?Yi(N.total):N.amount!=null?Yi(N.amount):Array.isArray(N.items)?N.items.reduce((S,w)=>S+Yi(w.quantity)*Yi(w.unitPrice),0):0,_=N=>N==null?0:Yi(N.amount),M=N=>N?.amount!=null?Yi(N.amount):Yi(N?.quantity)*Yi(N?.unitPrice);k.forEach(N=>{K.push({date:N.issueDate,type:"invoice",data:N})}),x.forEach(N=>{K.push({date:N.expenseDate,type:"expense",data:N})}),t.forEach(N=>{K.push({date:N.date,type:"sale",data:N})}),K.sort((N,S)=>new Date(S.date).getTime()-new Date(N.date).getTime());let A=0;return K.forEach(N=>{if(N.type==="invoice"){const S=N.data,w=U(S);S.status==="paid"&&(A+=w);const j=S.type==="product"?"rn Sat Geliri":"Hizmet Geliri";B.push({id:`inv-${S.id}`,date:S.issueDate,description:`Fatura - ${S.customerName||S.customer?.name||"Mteri"}`,reference:S.invoiceNumber,customer:S.customerName||S.customer?.name||"",category:j,debit:0,credit:S.status==="paid"?w:0,displayCredit:w,balance:A,type:"invoice",originalData:S})}else if(N.type==="expense"){const S=N.data,w=_(S);S.status==="paid"&&(A-=w),B.push({id:`exp-${S.id}`,date:S.expenseDate,description:`Gider - ${S.description}`,reference:S.expenseNumber,customer:S.supplier?.name||S.supplier||"",category:S.category,debit:S.status==="paid"?w:0,credit:0,displayDebit:w,balance:A,type:"expense",originalData:S})}else if(N.type==="sale"){const S=N.data,w=M(S);S.status==="completed"&&(A+=w),B.push({id:`sal-${S.id}`,date:S.date,description:`Direkt Sat - ${S.productName}`,reference:S.saleNumber||`SAL-${S.id}`,customer:S.customerName,category:"Direkt Sat Geliri",debit:0,credit:S.status==="completed"?w:0,displayCredit:w,balance:A,type:"sale",originalData:S})}}),B},[k,x,t]),D=Z.useMemo(()=>T.filter(B=>{const K=r==="all"||B.type===r,U=!m||B.description&&B.description.toLowerCase().includes(m.toLowerCase())||B.reference&&B.reference.toLowerCase().includes(m.toLowerCase())||B.customer&&B.customer.toLowerCase().includes(m.toLowerCase()),_=new Date(B.date),M=!d||_>=new Date(d),A=!s||_<=new Date(s),N=M&&A,S=!a||B.customer&&B.customer.toLowerCase().includes(a.toLowerCase()),w=!i||B.category&&B.category.toLowerCase().includes(i.toLowerCase());return K&&U&&N&&S&&w}),[T,r,m,d,s,a,i]),F=Z.useMemo(()=>{const B=(h-1)*b;return D.slice(B,B+b)},[D,h,b]);Z.useEffect(()=>{y(1)},[r,m,d,s,a,i]);const H=B=>{C(B),typeof window<"u"&&localStorage.setItem("ledger_pageSize",String(B)),y(1)},O=B=>f(B||0),$=B=>B==="invoice"?e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}):B==="expense"?e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"G"})}):B==="sale"?e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xs font-bold",children:"S"})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Toplam Credit"}),e.jsx("div",{className:"text-xl font-semibold",children:O(D.reduce((B,K)=>B+K.credit,0))})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Toplam Debit"}),e.jsx("div",{className:"text-xl font-semibold",children:O(D.reduce((B,K)=>B+K.debit,0))})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Net Bakiye"}),e.jsx("div",{className:"text-xl font-semibold",children:O(D.reduce((B,K)=>B+K.credit-K.debit,0))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"divide-y divide-gray-100",children:[F.map(B=>e.jsxs("div",{className:"grid grid-cols-12 items-center px-4 py-3",children:[e.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[$(B.type),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[B.reference?`Ref: ${B.reference}  `:"",B.customer||"-"]})]})]}),e.jsx("div",{className:"col-span-2 text-sm text-gray-700",children:B.date}),e.jsx("div",{className:"col-span-3 text-sm text-gray-700",children:B.category||"-"}),e.jsx("div",{className:"col-span-2 text-right",children:e.jsx("span",{className:`text-sm font-medium ${(B.displayDebit??B.debit)>0?"text-red-600":"text-gray-400"}`,children:O(B.displayDebit??B.debit)})}),e.jsx("div",{className:"col-span-2 text-right",children:e.jsx("span",{className:`text-sm font-medium ${(B.displayCredit??B.credit)>0?"text-green-600":"text-gray-400"}`,children:O(B.displayCredit??B.credit)})})]},B.id)),D.length===0&&e.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Kayt bulunamad."})]}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:h,pageSize:b,total:D.length,onPageChange:y,onPageSizeChange:H})})]}),n&&e.jsx(Bm,{invoice:n,isOpen:!0,onClose:()=>l(null),onEdit:()=>{}}),o&&e.jsx(S0,{expense:o,isOpen:!0,onClose:()=>c(null),onEdit:()=>{}}),p&&e.jsx(Um,{sale:p,isOpen:!0,onClose:()=>g(null),onEdit:()=>{}})]})}const Xi=k=>{if(typeof k=="number")return Number.isFinite(k)?k:0;if(k==null)return 0;const x=String(k).trim();if(!x)return 0;if(x.includes(".")&&x.includes(",")){const m=x.replace(/\./g,"").replace(/,/g,"."),d=parseFloat(m);return Number.isFinite(d)?d:0}if(x.includes(",")&&!x.includes(".")){const f=parseFloat(x.replace(/,/g,"."));return Number.isFinite(f)?f:0}const t=parseFloat(x.replace(/\s/g,""));return Number.isFinite(t)?t:0};function T3({customers:k=[],sales:x=[],invoices:t=[],products:f=[],onSalesUpdate:m,onUpsertSale:d,onCreateInvoice:s,onEditInvoice:a,onDownloadSale:i}){const{t:r,i18n:n}=Vt(),{formatCurrency:l}=$r(),[o,c]=Z.useState(!1),[p,g]=Z.useState(!1),[h,y]=Z.useState(!1),[b,C]=Z.useState(!1),[T,D]=Z.useState(!1),[F,H]=Z.useState(null),[O,$]=Z.useState(null),[B,K]=Z.useState(null),[U,_]=Z.useState(null),[M,A]=Z.useState(null),[N,S]=Z.useState(""),[w,j]=Z.useState("all"),[E,I]=Z.useState(null),[L,G]=Z.useState(""),[X,re]=Z.useState("date"),[q,ee]=Z.useState("desc"),R=$m(N,300),[z,W]=Z.useState(1),[se,he]=Z.useState(()=>{const we=typeof window<"u"?localStorage.getItem("sales_pageSize"):null,Qe=we?Number(we):20;return[20,50,100].includes(Qe)?Qe:20}),ne=we=>{console.log(" SimpleSalesPage: Yeni sat ekleniyor"),d?(d(we),c(!1),A(null)):(K(we),y(!0))},me=we=>{if(!B)return;const Qe={id:B.id,saleNumber:B.saleNumber,customerName:B.customerName,customerEmail:B.customerEmail,productName:B.productName,quantity:B.quantity,unitPrice:B.unitPrice,amount:B.total,date:B.saleDate,status:B.status,paymentMethod:B.paymentMethod},ut=[Qe,...x];if(m&&m(ut),we&&s){const Be=B?.taxRate??18,ot=B.quantity||1,lt=B.total,Rt=(B.unitPrice||lt/ot)/(1+Be/100),yt=Rt*ot,Ut={id:`inv-${Date.now()}`,invoiceNumber:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,customerName:B.customerName,customerEmail:B.customerEmail||"",customerAddress:"",issueDate:B.saleDate,dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"sent",type:"product",items:[{id:"1",description:B.productName,quantity:ot,unitPrice:Rt,total:yt}],subtotal:yt,taxAmount:lt-yt,total:lt,notes:`Bu fatura ${B.saleNumber||`SAL-${B.id}`} numaral sattan otomatik oluturulmutur.`};s(Ut),setTimeout(()=>{i&&i(Qe)},500)}y(!1),K(null)},Se=we=>{console.log(" SimpleSalesPage: Sat dzenleniyor:",we.id),A(we),c(!0)},Ee=we=>{if(console.log(" SimpleSalesPage: Sat gncelleniyor"),d)d(we),A(null),c(!1);else{const Qe=x.map(ut=>ut.id===we.id?we:ut);m&&m(Qe),A(null)}},le=we=>{if(confirm(r("sales.deleteConfirm"))){const Qe=x.filter(ut=>String(ut.id)!==String(we));m&&m(Qe),p&&(g(!1),_(null))}},ie=we=>{_(we),g(!0)},ce=we=>we==null||isNaN(we)?l(0):l(we),ae=we=>new Date(we).toLocaleDateString("tr-TR"),ge=x.reduce((we,Qe)=>{if(Array.isArray(Qe.items)&&Qe.items.length>0){const ut=Qe.items.reduce((be,Be)=>be+Xi(Be.unitPrice)*Xi(Be.quantity),0);return we+ut}return we+Xi(Qe.unitPrice)*Xi(Qe.quantity)},0),pe=x.filter(we=>we.status==="completed").length,Ae=(n.language||"").toLowerCase(),fe=Ae.startsWith("tr")?" (KDV Hari)":Ae.startsWith("en")?" (Net of VAT)":Ae.startsWith("fr")?" (HT)":Ae.startsWith("de")?" (netto)":"",te=x.filter(we=>{const Qe=ii(R),ut=we.items&&we.items.length>0&&we.items[0].productName||"",be=(we.status||"").toString().toLowerCase(),Be=["completed","paid","invoiced","approved"].includes(be)?"completed":["cancelled","canceled","void","refunded","deleted"].includes(be)?"cancelled":(["pending","created","new","draft","open","processing"].includes(be),"pending"),ot=[we.saleNumber,we.customerName,we.customerEmail,we.productName,ut,Be,we.date,String(we.amount??we.total??wi(we.quantity)*wi(we.unitPrice))].map(ii).join(" ");return(Qe.length===0||ot.includes(Qe))&&(w==="all"||Be===w)}).sort((we,Qe)=>{switch(X){case"saleNumber":return ms(we,Qe,ut=>ut.saleNumber||`SAL-${ut.id}`,q,"string");case"customer":return ms(we,Qe,ut=>ut.customerName||"",q,"string");case"product":return ms(we,Qe,be=>be.items&&be.items.length>0?be.items[0].productName||"":be.productName||"",q,"string");case"amount":return ms(we,Qe,be=>wi(be.amount??be.total??wi(be.quantity)*wi(be.unitPrice)),q,"number");case"status":return ms(we,Qe,ut=>ut.status,q,"string",y3);case"date":default:return ms(we,Qe,ut=>ki(ut.date),q,"date")}}),ye=Z.useMemo(()=>{const we=(z-1)*se;return te.slice(we,we+se)},[te,z,se]);Z.useEffect(()=>{W(1)},[R,w,X,q]);const Te=we=>{he(we),typeof window<"u"&&localStorage.setItem("sales_pageSize",String(we)),W(1)},Ce=we=>{X===we?ee(Qe=>Qe==="asc"?"desc":"asc"):(re(we),ee(we==="amount"||we==="date"?"desc":"asc"))},je=({active:we})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:we?q==="asc"?"":"":""}),tt=we=>{const Qe=(we||"").toString().toLowerCase();let ut="pending";["completed","paid","invoiced","approved"].includes(Qe)?ut="completed":["cancelled","canceled","void","refunded","deleted"].includes(Qe)?ut="cancelled":["pending","created","new","draft","open","processing"].includes(Qe)&&(ut="pending");const Be={completed:{label:r("status.completed"),class:"bg-green-100 text-green-800"},pending:{label:r("status.pending"),class:"bg-yellow-100 text-yellow-800"},cancelled:{label:r("status.cancelled"),class:"bg-red-100 text-red-800"}}[ut]||{label:Qe||r("status.pending"),class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Be.class}`,children:Be.label})},Pe=(we,Qe,ut)=>{I({saleId:we,field:Qe}),G(String(ut))},ke=we=>{if(!E)return;const Qe={...we};if(E.field==="amount"){const be=parseFloat(L)||0;Qe.amount=be}else E.field==="status"&&(Qe.status=L);const ut=x.map(be=>be.id===we.id?Qe:be);m&&m(ut),I(null),G("")},ze=()=>{I(null),G("")},qe=we=>{console.log(" Fatura oluturma talebi:",we.id,we.saleNumber);const Qe=t.find(ut=>ut.saleId&&String(ut.saleId)===String(we.id)||we.invoiceId&&String(we.invoiceId)===String(ut.id));Qe?(console.log(" Mevcut fatura bulundu:",Qe.invoiceNumber,Qe),console.log(" Mteri bilgisi:",Qe.customer),$(Qe),D(!0)):(console.log(" Yeni fatura oluturulacak"),H(we),C(!0))},Fe=async()=>{if(F){const we=F;if(we.invoiceId){console.log(" Bu satn zaten faturas var:",we.invoiceId);const ct=t.find(Mt=>Mt.id===we.invoiceId);if(ct){C(!1),H(null),$(ct),D(!0);return}}console.log(" Fatura oluturma balad:",{saleCustomerName:we.customerName,saleCustomerEmail:we.customerEmail,totalCustomers:k.length,availableCustomers:k.map(ct=>({id:ct.id,name:ct.name,email:ct.email}))});const Qe=we.quantity&&we.quantity>0?we.quantity:1,ut=we.productId?f.find(ct=>String(ct.id)===String(we.productId)):f.find(ct=>ct.name.toLowerCase()===(we.productName||"").toLowerCase()),be=we.unitPrice&&we.unitPrice>0?we.unitPrice:ut?.unitPrice??0,Be=we.amount&&we.amount>0?we.amount:be*Qe,ot=Number.isFinite(Be)?Be:0,lt=Qe>0?ot/Qe:be,Et=(ut?.category||"").toLowerCase().trim(),Rt=(ut?.name||we.productName||"").toLowerCase().trim();console.log(" FATURA TR DEBUG:",{"rn Ad":ut?.name||we.productName,"Kategori (Raw)":ut?.category,"Kategori (Lower)":Et,"rn Ad (Lower)":Rt,matchedProduct:ut});let yt="product";const Ut=["hizmet","danmanlk","danismanlik","eitim","egitim","reklam","pazarlama"];if(Ut.some(ct=>Et.includes(ct))?(yt="service",console.log(" Kategori kontrolnden HZMET SATII belirlendi")):Et.length===0?Ut.some(ct=>Rt.includes(ct))?(yt="service",console.log(" rn adndan HZMET SATII belirlendi")):console.log(" RN SATII belirlendi (varsaylan - kategori yok)"):console.log(" RN SATII belirlendi (varsaylan - hizmet deil)"),console.log(" SONU: invoiceType =",yt),k.length===0){console.error(" Mteri listesi bo! nce mteri ekleyin."),alert(`Fatura oluturmak iin nce en az bir mteri eklemelisiniz.

"Mteriler" sayfasndan yeni mteri ekleyebilirsiniz.`),C(!1);return}const $e=we.customerName?.toLowerCase().trim()||"",Ke=we.customerEmail?.toLowerCase().trim()||"",ht=k.find(ct=>{const Mt=ct.name?.toLowerCase().trim()||"",Ct=ct.email?.toLowerCase().trim()||"";return Mt===$e||Ct===Ke||Mt.includes($e)||$e.includes(Mt)});console.log(" Mteri eletirme sonucu:",{found:!!ht,matchedCustomer:ht?{id:ht.id,name:ht.name}:null});const St=ht||k[0];ht||console.warn(" Tam eleme bulunamad, ilk mteri kullanlyor:",{fallbackCustomer:{id:St.id,name:St.name}});const xt=ut?.taxRate??18,Ne=Qe>0?lt/(1+xt/100):lt,Ie=Ne*Qe,Ge={saleId:we.id,customerId:String(St.id),type:yt,issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"sent",lineItems:[{productId:ut?.id,productName:ut?.name||we.productName,description:ut?.name||we.productName,quantity:Qe,unitPrice:Ne,total:Ie,taxRate:xt}],subtotal:Ie,taxAmount:ot-Ie,total:ot,notes:"Bu fatura "+(we.saleNumber||"SAL-"+we.id)+" numaral sattan oluturulmutur."};console.log(" Fatura data hazr:",{customerId:Ge.customerId,customerName:we.customerName,saleId:Ge.saleId,totalWithTax:ot,unitPriceWithTax:lt,quantity:Qe,lineItems:Ge.lineItems});try{if(s){const ct=await s(Ge);if(ct&&ct.id){console.log(" Fatura oluturuldu, sat gncelleniyor:",{invoiceId:ct.id,saleId:we.id});const Mt={...we,invoiceId:ct.id},Ct=x.map(Jt=>Jt.id===we.id?Mt:Jt);m&&m(Ct),console.log(" Sat-Fatura ilikisi kuruldu"),C(!1),H(null)}else console.error(" Fatura oluturuldu ama ID alnamad:",ct)}}catch(ct){console.error(" Fatura oluturma hatas:",ct);return}}},at=()=>{C(!1),H(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(vs,{className:"w-8 h-8 text-green-600 mr-3"}),r("sidebar.sales")]}),e.jsx("p",{className:"text-gray-600",children:r("sales.subtitle")})]}),e.jsxs("button",{onClick:()=>{console.log(" SimpleSalesPage: Yeni Sat butonu tkland, editingSale temizleniyor"),A(null),c(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:r("sales.newSale")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ln,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:r("sales.totalSales")+fe}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:ce(ge)})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ys,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:r("sales.totalSalesCount")}),e.jsx("p",{className:"text-xl font-bold text-blue-700",children:x.length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wr,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:r("sales.completed")}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:pe})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("sales.salesList")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[x.length," ",r("sales.salesRegistered")]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:r("sales.search"),value:N,onChange:we=>S(we.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("select",{value:w,onChange:we=>j(we.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"all",children:n.language==="tr"?"Tm Durumlar":n.language==="en"?"All Statuses":n.language==="de"?"Alle Status":n.language==="fr"?"Tous les Statuts":"All Statuses"}),e.jsx("option",{value:"completed",children:r("status.completed")}),e.jsx("option",{value:"pending",children:r("status.pending")}),e.jsx("option",{value:"cancelled",children:r("status.cancelled")})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:te.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vs,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r(N||w!=="all"?"sales.noSalesFound":"sales.noSales")}),e.jsx("p",{className:"text-gray-500 mb-4",children:r(N||w!=="all"?"sales.noSalesFoundDesc":"sales.noSalesDesc")}),!N&&w==="all"&&e.jsx("button",{onClick:()=>{console.log(" SimpleSalesPage: Yeni Sat butonu (bo liste) tkland"),A(null),c(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r("sales.createFirstSale")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto relative",children:e.jsxs("table",{className:"w-full min-w-[1024px] table-fixed",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>Ce("saleNumber"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[r("sales.sale"),e.jsx(je,{active:X==="saleNumber"})]}),e.jsxs("th",{onClick:()=>Ce("customer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[r("sales.customer"),e.jsx(je,{active:X==="customer"})]}),e.jsxs("th",{onClick:()=>Ce("product"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-[320px]",children:[r("sales.productService"),e.jsx(je,{active:X==="product"})]}),e.jsxs("th",{onClick:()=>Ce("amount"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[r("sales.amount"),e.jsx(je,{active:X==="amount"})]}),e.jsxs("th",{onClick:()=>Ce("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[r("sales.status"),e.jsx(je,{active:X==="status"})]}),e.jsxs("th",{onClick:()=>Ce("date"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[r("sales.date"),e.jsx(je,{active:X==="date"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-44 min-w-[176px] sticky right-0 bg-gray-50 z-10",children:r("sales.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ye.map(we=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(vs,{className:"w-4 h-4 text-green-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>ie(we),className:"text-green-600 hover:text-green-800 font-medium transition-colors cursor-pointer",title:r("sales.viewSale"),children:we.saleNumber||`SAL-${we.id}`})})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:we.customerName}),we.customerEmail&&e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:we.customerEmail})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:we.items&&we.items.length>0?e.jsx("div",{children:e.jsxs("div",{className:"text-sm text-gray-900 truncate max-w-[260px]",title:we.items[0].productName,children:[we.items[0].productName,we.items.length>1&&e.jsxs("span",{className:"ml-2 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded whitespace-nowrap",children:["+",we.items.length-1," rn"]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[260px]",title:we.productName,children:we.productName}),we.quantity&&we.unitPrice&&e.jsxs("div",{className:"text-xs text-gray-500",children:[we.quantity," x ",ce(we.unitPrice)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E?.saleId===we.id&&E?.field==="amount"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:L,onChange:Qe=>G(Qe.target.value),className:"w-24 text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500",min:"0",step:"0.01"}),e.jsx("button",{onClick:()=>ke(we),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(Ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ze,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(fr,{className:"w-4 h-4"})})]}):e.jsx("span",{onClick:()=>Pe(we.id,"amount",we.amount),className:"text-sm font-semibold text-green-600 cursor-pointer hover:bg-green-50 rounded p-1 transition-colors",title:"Tutar dzenlemek iin tklayn",children:ce(we.items&&we.items.length>0?we.items.reduce((Qe,ut)=>Qe+Xi(ut.unitPrice)*Xi(ut.quantity),0):Xi(we.unitPrice)*Xi(we.quantity))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E?.saleId===we.id&&E?.field==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:L,onChange:Qe=>G(Qe.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"completed",children:r("status.completed")}),e.jsx("option",{value:"pending",children:r("status.pending")}),e.jsx("option",{value:"cancelled",children:r("status.cancelled")})]}),e.jsx("button",{onClick:()=>ke(we),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":r("common.save"),children:e.jsx(Ur,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:ze,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":r("common.cancel"),children:e.jsx(fr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>Pe(we.id,"status",we.status),className:"cursor-pointer hover:opacity-80 transition-opacity inline-block",title:r("sales.editSale"),children:tt(we.status)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),ae(we.date)]}),we.paymentMethod&&e.jsx("div",{className:"text-xs text-gray-400",children:we.paymentMethod==="cash"?r("common.cash"):we.paymentMethod==="card"?r("common.card"):we.paymentMethod==="transfer"?r("common.transfer"):r("common.check")})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>ie(we),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:r("sales.viewSale"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Se(we),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:r("sales.editSale"),children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i?.(we),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:r("sales.download"),children:e.jsx(cn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>qe(we),className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${t.some(Qe=>Qe.saleId&&String(Qe.saleId)===String(we.id)||we.invoiceId&&String(we.invoiceId)===String(Qe.id))?"text-blue-600 hover:text-blue-700 hover:bg-blue-50 bg-blue-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:t.some(Qe=>Qe.saleId&&String(Qe.saleId)===String(we.id)||we.invoiceId&&String(we.invoiceId)===String(Qe.id))?r("sales.viewSale"):r("sales.createInvoice"),children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>le(we.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:r("sales.deleteSale"),children:e.jsx(ts,{className:"w-4 h-4"})})]})})]},`${we.id}-${we.saleNumber||""}`))})]})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:z,pageSize:se,total:te.length,onPageChange:W,onPageSizeChange:Te})})]})})]}),e.jsx(v0,{isOpen:o,onClose:()=>{console.log(" SimpleSalesPage: Modal kapatlyor, editingSale temizleniyor"),c(!1),A(null)},onSave:M?Ee:ne,sale:M,customers:k||[],products:f}),e.jsx(Um,{isOpen:p,onClose:()=>{g(!1),_(null)},sale:U,onEdit:we=>{g(!1),Se(we)},onDelete:we=>le(we),onDownload:i}),h&&B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(bs,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r("sales.saleCompleted")}),e.jsx("p",{className:"text-sm text-gray-500",children:r("sales.createInvoiceQuestion")})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:r("sales.saleSummary")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[r("sales.customer"),":"]}),e.jsx("span",{className:"font-medium",children:B.customerName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[r("sales.productService"),":"]}),e.jsx("span",{className:"font-medium",children:B.productName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[r("sales.amount"),":"]}),e.jsx("span",{className:"font-bold text-green-600",children:ce(B.total||0)})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Or,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:r("sales.createInvoiceQuestion")}),e.jsx("p",{className:"text-xs text-blue-600",children:r("sales.invoiceWillBeDownloaded")})]})]})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:()=>me(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Sadece Sat"}),e.jsxs("button",{onClick:()=>me(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2",children:[e.jsx(Or,{className:"w-4 h-4"}),e.jsx("span",{children:"Fatura ile Birlikte"})]})]})]})}),e.jsx(Bm,{isOpen:T,onClose:()=>{D(!1),$(null)},invoice:O,onEdit:we=>{D(!1),$(null),$(null),a&&a(we)},onDownload:we=>{_r(async()=>{const{generateInvoicePDF:Qe}=await import("./pdfGenerator-35WlICye.js").then(ut=>ut.p);return{generateInvoicePDF:Qe}},[]).then(({generateInvoicePDF:Qe})=>{const ut={...we,customerName:we.customer?.name||we.customerName||"Mteri Yok",customerEmail:we.customer?.email||we.customerEmail||"",customerAddress:we.customer?.address||we.customerAddress||""};Qe(ut)})}}),b&&F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r("invoice.createInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:r("sales.createInvoiceQuestion")})]})]}),e.jsx("button",{onClick:at,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(fr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(vs,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:r("sales.saleSummary")}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:[e.jsxs("strong",{children:[r("sales.customer"),":"]})," ",F.customerName]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:[e.jsxs("strong",{children:[r("sales.productService"),":"]})," ",F.productName]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsxs("strong",{children:[r("sales.amount"),":"]})," ",ce(F.amount)]})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Or,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:r("sales.confirmInvoiceCreation")}),e.jsx("p",{className:"text-xs text-blue-600",children:r("sales.invoiceWillOpen")})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:at,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ptal"}),e.jsxs("button",{onClick:Fe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2",children:[e.jsx(Or,{className:"w-4 h-4"}),e.jsx("span",{children:"Evet, Olutur"})]})]})]})})]})}const sm=(k,x)=>new Date(k.getTime()+x*864e5),Cc=k=>k.toISOString().slice(0,10),T0=({isOpen:k,onClose:x,customers:t,products:f,defaultCurrency:m,onCreate:d})=>{const{t:s}=Vt(),{formatCurrency:a,currency:i}=$r(),[r,n]=Z.useState(()=>{const w=new Date;return{currency:m??i??"TRY",issueDate:Cc(w),validUntil:Cc(sm(w,30)),validityDays:30}}),[l,o]=Z.useState([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]),[c,p]=Z.useState(""),[g,h]=Z.useState(!1),[y,b]=Z.useState(null),[C,T]=Z.useState(null),[D,F]=Z.useState(""),H=Z.useMemo(()=>{const w=c.trim().toLowerCase();return t.filter(j=>{const E=(j.name||"").toLowerCase(),I=(j.company||"").toLowerCase();return w?E.includes(w)||I.includes(w):!0})},[t,c]),O=w=>{const j=w.trim().toLowerCase();return f.filter(E=>!j||E.name.toLowerCase().includes(j)||(E.sku||"").toLowerCase().includes(j)||(E.category||"").toLowerCase().includes(j)).slice(0,12)},$=()=>{const w={id:Date.now().toString(),description:"",quantity:1,unitPrice:0,total:0};o(j=>[...j,w])},B=w=>{o(j=>j.length===1?j:j.filter(E=>E.id!==w)),T(j=>j===w?null:j)},K=(w,j,E)=>{o(I=>I.map(L=>{if(L.id!==w)return L;const G={...L,[j]:E};if(j==="quantity"||j==="unitPrice"){const X=Number(j==="quantity"?E:G.quantity)||0,re=Number(j==="unitPrice"?E:G.unitPrice)||0;G.total=X*re}return G}))},U=Z.useMemo(()=>l.reduce((w,j)=>w+(Number(j.total)||0),0),[l]),[_,M]=Z.useState(null);if(!k)return null;const A=w=>{b(w),p(w.name),h(!1)},N=(w,j)=>{o(E=>E.map(I=>{if(I.id!==w)return I;const L=I.quantity>0?I.quantity:1,G=Number(j.unitPrice??j.price??I.unitPrice??0);return{...I,productId:String(j.id),description:j.name,unit:j.unit,unitPrice:G,quantity:L,total:L*G}})),T(null)},S=()=>{y&&(l.length===0||l.every(w=>!w.description||(Number(w.total)||0)<=0)||M({title:s("common.confirm",{defaultValue:"Onay"}),message:s("quotes.createConfirm",{defaultValue:"Teklifi kaydetmek istediinize emin misiniz?"}),onConfirm:()=>{d({customer:y,issueDate:r.issueDate,validUntil:r.validUntil,currency:r.currency,items:l,total:U,scopeOfWorkHtml:D}),M(null)}}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 h-full w-full flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s("quotes.createModal.title")})}),e.jsxs("div",{className:"px-6 py-4 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("invoices.customerName")}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:c,onChange:w=>{p(w.target.value),b(null),h(w.target.value.length>0)},onFocus:()=>h(!0),className:"w-full pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:s("invoices.customerSearchPlaceholder")}),y&&e.jsx(Ur,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-indigo-600 w-4 h-4"})]}),g&&H.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[H.length," mteri bulundu"]}),H.map(w=>e.jsxs("button",{type:"button",onMouseDown:j=>j.preventDefault(),onClick:()=>A(w),className:"w-full p-3 text-left hover:bg-indigo-50 border-b last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:w.name}),w.company&&e.jsx("div",{className:"text-xs text-gray-600",children:w.company}),e.jsx("div",{className:"text-xs text-gray-500",children:w.email})]},w.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("quotes.createModal.currency")}),e.jsxs("select",{value:r.currency,onChange:w=>n(j=>({...j,currency:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("quotes.createModal.date")}),e.jsx("input",{type:"date",value:r.issueDate,onChange:w=>n(j=>({...j,issueDate:w.target.value,validUntil:Cc(sm(new Date(w.target.value),j.validityDays||30))})),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("quotes.validUntil")}),e.jsx("input",{type:"date",value:r.validUntil,onChange:w=>n(j=>({...j,validUntil:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("quotes.validityDays",{defaultValue:"Geerlilik (gn)"})}),e.jsx("input",{type:"number",min:1,value:r.validityDays,onChange:w=>n(j=>{const E=Math.max(1,parseInt(w.target.value||"1",10));return{...j,validityDays:E,validUntil:Cc(sm(new Date(j.issueDate),E))}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:s("invoices.productsAndServices")}),e.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:s("invoices.addLine")})]})]}),e.jsx("div",{className:"overflow-x-auto",style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg table-fixed",style:{position:"relative"},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"44%"},children:s("invoices.description")}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"12%"},children:s("invoices.quantity")}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"18%"},children:s("invoices.unitPriceExclVAT",{defaultValue:"Birim Fiyat (KDV Hari)"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"18%"},children:s("common.totalExclVAT",{defaultValue:"Toplam (KDV Hari)"})}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700",style:{width:"8%"},children:s("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",style:{position:"relative"},children:l.map(w=>{const j=O(w.description);return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-2",style:{position:"static"},children:[e.jsxs("div",{className:"relative",style:{position:"static"},children:[e.jsx("input",{type:"text",value:w.description,onChange:E=>{K(w.id,"description",E.target.value),E.target.value.length>0&&T(w.id)},onClick:()=>{w.description.length>0&&T(w.id)},onBlur:()=>setTimeout(()=>T(E=>E===w.id?null:E),200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:s("invoices.productServiceDescription")}),C===w.id&&j.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[400px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-indigo-50 p-2 text-xs font-medium text-indigo-700 border-b border-indigo-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),j.length," rn bulundu"]})}),j.map(E=>e.jsxs("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>N(w.id,E),className:"w-full p-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-0.5",children:E.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[E.sku&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded",children:["SKU: ",E.sku]}),e.jsx("span",{className:"font-medium text-green-600",children:(E.unitPrice??E.price??0).toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]},`${w.id}-${E.id}`))]})]}),w.unit&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Birim: ",w.unit]})]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",value:w.quantity,onChange:E=>K(w.id,"quantity",parseInt(E.target.value,10)||1),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:1,step:1})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",value:w.unitPrice,onChange:E=>K(w.id,"unitPrice",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:0,step:.01})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"font-medium text-gray-900",children:(w.total||0).toLocaleString("tr-TR",{minimumFractionDigits:2})})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>B(w.id),disabled:l.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ts,{className:"w-4 h-4"})})})]},w.id)})})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-end",children:e.jsxs("div",{className:"w-64 flex justify-between text-lg font-semibold",children:[e.jsxs("span",{children:[s("invoices.grandTotalExclVAT",{defaultValue:"Genel Toplam (KDV Hari)"}),":"]}),e.jsx("span",{children:a(U,r.currency)})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx(_0,{value:D,onChange:F,placeholder:s("quotes.scopeOfWork.placeholder",{defaultValue:"Proje kapsam, teslimatlar, varsaymlar ve hariler..."}),height:240}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s("quotes.scopeOfWork.note",{defaultValue:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."})})]})]}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:s("common.cancel")}),e.jsx("button",{onClick:S,disabled:!y||U<=0,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s("quotes.createModal.create")})]})]})}),_&&e.jsx(ka,{isOpen:!0,title:_.title,message:_.message,confirmText:s("common.yes",{defaultValue:"Evet"}),cancelText:s("common.no",{defaultValue:"Hayr"}),onConfirm:_.onConfirm,onCancel:()=>M(null)})]})},P3=async()=>(await it.get("/quotes")).data,s5=async k=>(await it.get(`/quotes/${k}`)).data,Yp=async k=>(await it.post("/quotes",k)).data,co=async(k,x)=>(await it.patch(`/quotes/${k}`,x)).data,D3=async k=>{await it.delete(`/quotes/${k}`)},I3=async k=>(await it.get(`/public/quotes/${k}`)).data,M3=async k=>(await it.post(`/public/quotes/${k}/viewed`,{})).data,R3=async k=>(await it.post(`/public/quotes/${k}/accept`,{})).data,z3=async k=>(await it.post(`/public/quotes/${k}/decline`,{})).data,O3=({customers:k=[],products:x=[]})=>{const{t}=Vt(),{formatCurrency:f,currency:m}=$r(),{tenant:d}=wn(),[s,a]=Z.useState(""),[i,r]=Z.useState("all"),[n,l]=Z.useState("date"),[o,c]=Z.useState("desc"),[p,g]=Z.useState(!1),[h,y]=Z.useState(null),[b,C]=Z.useState(!1),[T,D]=Z.useState(!1),[F,H]=Z.useState(null),[O,$]=Z.useState(null),[B,K]=Z.useState(null),[U,_]=Z.useState(1),[M,A]=Z.useState(()=>{const te=typeof window<"u"?localStorage.getItem("quotes_pageSize"):null,ye=te?Number(te):20;return[20,50,100].includes(ye)?ye:20}),[N,S]=Z.useState(null),[w,j]=Z.useState(null),[E,I]=Z.useState(""),L=(te,ye)=>new Date(te.getTime()+ye*864e5),G=te=>te.toISOString().slice(0,10),[X,re]=Z.useState([]);sr.useEffect(()=>{let te=!1;return(async()=>{try{const ye=await P3();if(te)return;const Te=(Array.isArray(ye)?ye:[]).map(Ce=>({id:String(Ce.id),publicId:Ce.publicId,quoteNumber:Ce.quoteNumber,customerName:Ce.customer?.name||Ce.customerName||"",customerId:Ce.customerId,issueDate:String(Ce.issueDate).slice(0,10),validUntil:Ce.validUntil?String(Ce.validUntil).slice(0,10):void 0,currency:Ce.currency,total:Number(Ce.total)||0,status:Ce.status,version:Ce.version||1,scopeOfWorkHtml:Ce.scopeOfWorkHtml||"",items:Array.isArray(Ce.items)?Ce.items.map(je=>({id:je.id||`${Math.random()}`,description:je.description,quantity:je.quantity,unitPrice:je.unitPrice,total:je.total,productId:je.productId,unit:je.unit})):[],revisions:Array.isArray(Ce.revisions)?Ce.revisions:[],convertedToSale:!1,createdAt:Ce.createdAt||Ce.created_at||void 0,updatedAt:Ce.updatedAt||Ce.updated_at||void 0}));re(Te)}catch(ye){console.error("Quotes yklenemedi:",ye),re([])}})(),()=>{te=!0}},[]);const q=Z.useMemo(()=>{const te=s.toLowerCase().trim();return X.filter(ye=>{const Te=[ye.quoteNumber,ye.customerName,ye.status,ye.currency,ye.issueDate,String(ye.total)].join(" ").toLowerCase(),Ce=te.length===0||Te.includes(te),je=i==="all"||ye.status===i;return Ce&&je}).sort((ye,Te)=>{const Ce=o==="asc"?1:-1;switch(n){case"quoteNumber":return ye.quoteNumber.localeCompare(Te.quoteNumber)*Ce;case"customer":return ye.customerName.localeCompare(Te.customerName)*Ce;case"currency":return ye.currency.localeCompare(Te.currency)*Ce;case"total":return(ye.total-Te.total)*Ce;case"status":return ye.status.localeCompare(Te.status)*Ce;case"date":default:return(new Date(ye.issueDate).getTime()-new Date(Te.issueDate).getTime())*Ce}})},[X,s,i,n,o]),ee=Z.useMemo(()=>{const te=(U-1)*M;return q.slice(te,te+M)},[q,U,M]);Z.useEffect(()=>{_(1)},[s,i,n,o]);const R=te=>{A(te),typeof window<"u"&&localStorage.setItem("quotes_pageSize",String(te)),_(1)},z=te=>{l(ye=>ye===te?(c(Te=>Te==="asc"?"desc":"asc"),ye):(c(te==="total"||te==="date"?"desc":"asc"),te))},W=({active:te})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:te?o==="asc"?"":"":""}),se=te=>new Date(te).toLocaleDateString("tr-TR"),he=(te,ye)=>f(te,ye),ne=te=>{const Te={draft:{label:t("status.draft"),className:"bg-gray-100 text-gray-800"},sent:{label:t("status.sent"),className:"bg-blue-100 text-blue-800"},viewed:{label:t("quotes.statusLabels.viewed"),className:"bg-indigo-100 text-indigo-800"},accepted:{label:t("quotes.statusLabels.accepted"),className:"bg-green-100 text-green-800"},declined:{label:t("quotes.statusLabels.declined"),className:"bg-red-100 text-red-800"},expired:{label:t("quotes.statusLabels.expired"),className:"bg-yellow-100 text-yellow-800"}}[te];return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te.className}`,children:Te.label})},me=()=>g(!0),Se=()=>g(!1);sr.useEffect(()=>{const te=()=>{me()};return typeof window<"u"&&window.addEventListener("open-new-quote-modal",te),()=>{typeof window<"u"&&window.removeEventListener("open-new-quote-modal",te)}},[]);const Ee=te=>{const ye=X.find(Te=>Te.id===te)||null;K(ye)},le=te=>{y(te),C(!0)},ie=te=>{y(te),D(!0)},ce=()=>C(!1),ae=()=>D(!1),ge=te=>{H(te)};sr.useEffect(()=>{const te=new Date().toISOString().slice(0,10),ye=["accepted","declined","expired"],Te=X.map(Ce=>!ye.includes(Ce.status)&&Ce.validUntil&&Ce.validUntil<te?{...Ce,status:"expired"}:Ce);re(Te)},[]);const pe=(te,ye,Te)=>{X.find(je=>je.id===te)?.status!=="accepted"&&(S(te),j(ye),I(Te))},Ae=()=>{S(null),j(null),I("")},fe=async te=>{if(w)try{if(w==="status"){const ye=E,Te=await co(String(te.id),{status:ye});re(Ce=>Ce.map(je=>je.id===te.id?{...je,status:Te.status}:je)),y(Ce=>Ce&&Ce.id===te.id?{...Ce,status:Te.status}:Ce)}if(w==="issueDate"){const ye=E,Te=await co(String(te.id),{issueDate:ye});re(Ce=>Ce.map(je=>je.id===te.id?{...je,issueDate:String(Te.issueDate).slice(0,10)}:je)),y(Ce=>Ce&&Ce.id===te.id?{...Ce,issueDate:String(Te.issueDate).slice(0,10)}:Ce)}}finally{S(null),j(null),I("")}};return sr.useEffect(()=>{try{const te=localStorage.getItem("tenantId")||"",ye=te?`quotes_cache_${te}`:"quotes_cache",Te=X.map(Ce=>({id:Ce.id,quoteNumber:Ce.quoteNumber,customerName:Ce.customerName,customerId:Ce.customerId,issueDate:Ce.issueDate,validUntil:Ce.validUntil,currency:Ce.currency,total:Ce.total,status:Ce.status,version:Ce.version,scopeOfWorkHtml:Ce.scopeOfWorkHtml,items:Ce.items,createdAt:Ce.createdAt,updatedAt:Ce.updatedAt}));localStorage.setItem(ye,JSON.stringify(Te));try{window.dispatchEvent(new Event("quotes-cache-updated"))}catch{}}catch{}},[X]),e.jsxs("div",{className:"space-y-6",children:[O&&e.jsx(ka,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.duplicateConfirm"),confirmText:t("common.yes",{defaultValue:"Evet"}),cancelText:t("common.no",{defaultValue:"Hayr"}),onCancel:()=>$(null),onConfirm:async()=>{const te=O;if(te){try{const ye=await Yp({customerId:te.customerId,customerName:te.customerName,issueDate:new Date().toISOString().slice(0,10),validUntil:te.validUntil,currency:te.currency,total:te.total,status:"draft",items:(te.items||[]).map(Ce=>({description:Ce.description,quantity:Ce.quantity,unitPrice:Ce.unitPrice,total:Ce.total,productId:Ce.productId,unit:Ce.unit})),scopeOfWorkHtml:te.scopeOfWorkHtml||""}),Te={id:ye.id,publicId:ye.publicId,quoteNumber:ye.quoteNumber,customerName:ye.customer?.name||ye.customerName||te.customerName,customerId:ye.customerId,issueDate:String(ye.issueDate).slice(0,10),validUntil:ye.validUntil?String(ye.validUntil).slice(0,10):void 0,currency:ye.currency,total:Number(ye.total)||0,status:ye.status,version:ye.version||1,scopeOfWorkHtml:ye.scopeOfWorkHtml||"",items:Array.isArray(ye.items)?ye.items:[],createdAt:ye.createdAt||new Date().toISOString(),updatedAt:ye.updatedAt||new Date().toISOString()};re(Ce=>[Te,...Ce])}catch(ye){console.error("Duplicate quote failed:",ye)}$(null)}}}),F&&e.jsx(ka,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.reviseConfirm"),confirmText:t("common.yes",{defaultValue:"Evet"}),cancelText:t("common.no",{defaultValue:"Hayr"}),onCancel:()=>H(null),onConfirm:async()=>{const te=F;if(!te)return;const ye=new Date,Te=G(ye),Ce=G(L(ye,30)),je={version:te.version||1,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,total:te.total,items:te.items?te.items.map(tt=>({...tt})):void 0,snapshotAt:new Date().toISOString()};try{const tt=await co(String(te.id),{status:"draft",issueDate:Te,validUntil:Ce,version:(te.version||1)+1,revisions:[...te.revisions||[],je]});re(Pe=>Pe.map(ke=>ke.id===te.id?{...ke,status:tt.status,issueDate:String(tt.issueDate).slice(0,10),validUntil:tt.validUntil?String(tt.validUntil).slice(0,10):void 0,version:tt.version||ke.version,revisions:Array.isArray(tt.revisions)?tt.revisions:ke.revisions,updatedAt:tt.updatedAt||ke.updatedAt}:ke)),y(Pe=>Pe&&Pe.id===te.id?{...Pe,status:"draft",issueDate:Te,validUntil:Ce,version:(te.version||1)+1}:Pe)}catch(tt){console.error("Revise failed:",tt)}H(null)}}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("quotes.title")}),e.jsx("p",{className:"text-sm text-gray-500",children:t("quotes.comingSoon")})]}),e.jsxs("button",{type:"button",onClick:me,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-700",children:[e.jsx(As,{className:"w-4 h-4"}),t("quotes.newQuote")]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t("quotes.search"),value:s,onChange:te=>a(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("select",{value:i,onChange:te=>r(te.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:t("quotes.filterAll")}),e.jsx("option",{value:"draft",children:t("status.draft")}),e.jsx("option",{value:"sent",children:t("status.sent")}),e.jsx("option",{value:"viewed",children:t("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:t("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:t("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:t("quotes.statusLabels.expired")})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:q.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Or,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t(s||i!=="all"?"quotes.noQuotesFound":"quotes.noQuotes")}),e.jsx("p",{className:"text-gray-500 mb-4",children:t(s||i!=="all"?"quotes.noQuotesFoundDesc":"quotes.noQuotesDesc")}),!s&&i==="all"&&e.jsx("button",{onClick:me,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:t("quotes.createFirstQuote")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[900px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>z("quoteNumber"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.quote"),e.jsx(W,{active:n==="quoteNumber"})]}),e.jsxs("th",{onClick:()=>z("customer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.customer"),e.jsx(W,{active:n==="customer"})]}),e.jsxs("th",{onClick:()=>z("total"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.amount"),e.jsx(W,{active:n==="total"})]}),e.jsxs("th",{onClick:()=>z("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.status"),e.jsx(W,{active:n==="status"})]}),e.jsxs("th",{onClick:()=>z("date"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.date"),e.jsx(W,{active:n==="date"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:t("quotes.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(te=>e.jsxs(sr.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(Or,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 truncate",children:[e.jsx("button",{onClick:()=>le(te),className:"text-indigo-600 hover:text-indigo-800 font-medium transition-colors cursor-pointer",title:t("quotes.view"),children:te.quoteNumber}),te.version&&te.version>1&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:t("quotes.version",{n:te.version})})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Dr,{className:"w-3 h-3 mr-1"}),se(te.issueDate)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:te.customerName}),e.jsx("div",{className:"text-xs text-gray-500",children:te.currency})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:he(te.total,te.currency)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N===te.id&&w==="status"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:E,onChange:ye=>I(ye.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"draft",children:t("status.draft")}),e.jsx("option",{value:"sent",children:t("status.sent")}),e.jsx("option",{value:"viewed",children:t("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:t("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:t("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:t("quotes.statusLabels.expired")})]}),e.jsx("button",{onClick:()=>fe(te),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:t("common.save"),children:e.jsx(Ur,{className:"w-3 h-3"})}),e.jsx("button",{onClick:Ae,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:t("common.cancel"),children:e.jsx(fr,{className:"w-3 h-3"})})]}):e.jsx("div",{onClick:()=>pe(te.id,"status",te.status),className:`${te.status==="accepted"?"cursor-default opacity-90":"cursor-pointer hover:opacity-80"} inline-block transition-opacity`,title:te.status==="accepted"?t("quotes.statusLabels.accepted"):t("common.edit"),children:ne(te.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N===te.id&&w==="issueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:E,onChange:ye=>I(ye.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500"}),e.jsx("button",{onClick:()=>fe(te),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:t("common.save"),children:e.jsx(Ur,{className:"w-3 h-3"})}),e.jsx("button",{onClick:Ae,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:t("common.cancel"),children:e.jsx(fr,{className:"w-3 h-3"})})]}):e.jsx("div",{onClick:()=>pe(te.id,"issueDate",te.issueDate),className:`${te.status==="accepted"?"cursor-default":"cursor-pointer hover:bg-gray-50"} rounded p-1`,title:te.status==="accepted"?t("quotes.statusLabels.accepted"):t("common.edit"),children:se(te.issueDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>le(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.view"),children:e.jsx(ss,{className:"w-4 h-4"})}),e.jsx("button",{onClick:async()=>{const{generateQuotePDF:ye}=await _r(async()=>{const{generateQuotePDF:Te}=await import("./pdfGenerator-35WlICye.js").then(Ce=>Ce.p);return{generateQuotePDF:Te}},[]);await ye({id:te.id,quoteNumber:te.quoteNumber,customerName:te.customerName,customerId:te.customerId,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,currency:te.currency,total:te.total,items:(te.items||[]).map(Te=>({description:Te.description,quantity:Te.quantity,unitPrice:Te.unitPrice,total:Te.total})),scopeOfWorkHtml:te.scopeOfWorkHtml||""},{filename:te.quoteNumber})},className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.actions.downloadPdf"),children:e.jsx(Vc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.actions.duplicate"),children:e.jsx(xm,{className:"w-4 h-4"})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>ie(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.edit"),children:e.jsx(as,{className:"w-4 h-4"})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>Ee(te.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:t("quotes.delete"),children:e.jsx(ts,{className:"w-4 h-4"})})]})})]}),e.jsx("tr",{className:"sm:hidden",children:e.jsx("td",{className:"px-6 pb-4",colSpan:6,children:e.jsxs("div",{className:"flex items-center justify-start gap-3",children:[e.jsx("button",{onClick:()=>le(te),className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.view"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ss,{className:"w-3 h-3"})," ",t("quotes.view")]})}),e.jsx("button",{onClick:async()=>{const{generateQuotePDF:ye}=await _r(async()=>{const{generateQuotePDF:Te}=await import("./pdfGenerator-35WlICye.js").then(Ce=>Ce.p);return{generateQuotePDF:Te}},[]);await ye({id:te.id,quoteNumber:te.quoteNumber,customerName:te.customerName,customerId:te.customerId,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,currency:te.currency,total:te.total,items:(te.items||[]).map(Te=>({description:Te.description,quantity:Te.quantity,unitPrice:Te.unitPrice,total:Te.total})),scopeOfWorkHtml:te.scopeOfWorkHtml||""},{filename:te.quoteNumber})},className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.actions.downloadPdf"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Vc,{className:"w-3 h-3"})," PDF"]})}),e.jsx("button",{onClick:()=>$(te),className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.actions.duplicate"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(xm,{className:"w-3 h-3"})," ",t("quotes.actions.duplicate")]})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>ie(te),className:"px-2 py-1 text-indigo-700 bg-indigo-50 rounded hover:bg-indigo-100 text-xs",title:t("quotes.edit"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(as,{className:"w-3 h-3"})," ",t("quotes.edit")]})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>Ee(te.id),className:"px-2 py-1 text-red-700 bg-red-50 rounded hover:bg-red-100 text-xs",title:t("quotes.delete"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(ts,{className:"w-3 h-3"})," ",t("quotes.delete")]})})]})})})]},te.id))})]})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(nn,{page:U,pageSize:M,total:q.length,onPageChange:_,onPageSizeChange:R})})]})})]}),p&&e.jsx(T0,{isOpen:p,onClose:Se,customers:k,products:x,defaultCurrency:m,onCreate:async te=>{try{const ye=String(te.customer.id??"").trim(),Te=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(ye),Ce=await Yp({customerId:Te?ye:void 0,customerName:te.customer.name,issueDate:te.issueDate,validUntil:te.validUntil,currency:te.currency,total:te.total,items:te.items.map(tt=>({description:tt.description,quantity:tt.quantity,unitPrice:tt.unitPrice,total:tt.total,productId:tt.productId,unit:tt.unit})),scopeOfWorkHtml:te.scopeOfWorkHtml||""}),je={id:Ce.id,publicId:Ce.publicId,quoteNumber:Ce.quoteNumber,customerName:Ce.customer?.name||Ce.customerName||te.customer.name,customerId:Ce.customerId,issueDate:String(Ce.issueDate).slice(0,10),validUntil:Ce.validUntil?String(Ce.validUntil).slice(0,10):void 0,currency:Ce.currency,total:Number(Ce.total)||0,status:Ce.status,version:Ce.version||1,scopeOfWorkHtml:Ce.scopeOfWorkHtml||"",items:Array.isArray(Ce.items)?Ce.items:te.items,createdAt:Ce.createdAt||new Date().toISOString(),updatedAt:Ce.updatedAt||new Date().toISOString()};re(tt=>[je,...tt])}catch(ye){console.error("Quote create failed:",ye)}finally{Se()}}}),B&&e.jsx(ka,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.deleteConfirm",{defaultValue:`${B.quoteNumber} numaral teklifi silmek istediinize emin misiniz? Bu ilem geri alnamaz.`}),confirmText:t("common.delete",{defaultValue:"Sil"}),cancelText:t("common.cancel",{defaultValue:"Vazge"}),onCancel:()=>K(null),onConfirm:async()=>{const te=B?.id;if(!te){K(null);return}try{await D3(String(te)),re(ye=>ye.filter(Te=>Te.id!==te))}catch(ye){console.error("Delete quote failed:",ye)}K(null)}}),e.jsx(A0,{isOpen:b,onClose:ce,quote:h,onEdit:te=>{ce(),setTimeout(()=>ie(te),100)},onChangeStatus:async(te,ye)=>{try{const Te=await co(String(te.id),{status:ye});re(Ce=>Ce.map(je=>je.id===te.id?{...je,status:Te.status}:je)),y(Ce=>Ce&&Ce.id===te.id?{...Ce,status:Te.status}:Ce),re(Ce=>Ce.map(je=>je.id===te.id?{...je,updatedAt:Te.updatedAt||je.updatedAt}:je))}catch(Te){console.error("Quote status update failed:",Te)}},onRevise:te=>ge(te)}),e.jsx(E0,{isOpen:T,onClose:ae,quote:h,onSave:async te=>{try{const ye=await co(String(te.id),{customerId:te.customerId,customerName:te.customerName,issueDate:te.issueDate,validUntil:te.validUntil,currency:te.currency,total:te.total,items:(te.items||[]).map(Te=>({description:Te.description,quantity:Te.quantity,unitPrice:Te.unitPrice,total:Te.total,productId:Te.productId,unit:Te.unit})),scopeOfWorkHtml:te.scopeOfWorkHtml||"",status:te.status});re(Te=>Te.map(Ce=>Ce.id===ye.id?{...Ce,publicId:ye.publicId||Ce.publicId,customerName:ye.customer?.name||ye.customerName||te.customerName,customerId:ye.customerId,issueDate:String(ye.issueDate).slice(0,10),validUntil:ye.validUntil?String(ye.validUntil).slice(0,10):void 0,currency:ye.currency,total:Number(ye.total)||0,status:ye.status,version:ye.version||Ce.version,scopeOfWorkHtml:ye.scopeOfWorkHtml||"",items:Array.isArray(ye.items)?ye.items:Ce.items,updatedAt:ye.updatedAt||Ce.updatedAt}:Ce)),y(Te=>Te&&Te.id===ye.id?{...Te,customerName:ye.customer?.name||ye.customerName||te.customerName,customerId:ye.customerId,issueDate:String(ye.issueDate).slice(0,10),validUntil:ye.validUntil?String(ye.validUntil).slice(0,10):void 0,currency:ye.currency,total:Number(ye.total)||0,status:ye.status,version:ye.version||Te.version,scopeOfWorkHtml:ye.scopeOfWorkHtml||"",items:Array.isArray(ye.items)?ye.items:Te.items,updatedAt:ye.updatedAt||Te.updatedAt}:Te)}catch(ye){console.error("Quote update failed:",ye)}},products:x})]})},L3=({onNavigateToFiscalPeriods:k})=>{const{t:x}=Vt("common"),[t,f]=Z.useState([]),[m,d]=Z.useState(!0),s=async()=>{try{const n=await it.get("/fiscal-periods");f(n.data)}catch(n){console.error("Dnemler yklenemedi:",n)}finally{d(!1)}};Z.useEffect(()=>{s()},[]);const a={total:t.length,locked:t.filter(n=>n.isLocked).length,unlocked:t.filter(n=>!n.isLocked).length,current:t.find(n=>{const l=new Date,o=new Date(n.periodStart),c=new Date(n.periodEnd);return l>=o&&l<=c})},i=!!a.current,r=t.some(n=>t.some(l=>n.id!==l.id&&new Date(n.periodStart)<new Date(l.periodEnd)&&new Date(n.periodEnd)>new Date(l.periodStart)));return m?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dr,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x("fiscalPeriods.widget.title")})]}),e.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x("fiscalPeriods.widget.managePeriods")})]})}),e.jsx("div",{className:"p-6",children:t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Dr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:x("fiscalPeriods.widget.noActivePeriod")}),e.jsx("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:x("fiscalPeriods.widget.createActivePeriod")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.total}),e.jsx("div",{className:"text-sm text-gray-500",children:x("fiscalPeriods.widget.totalPeriods")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:a.locked}),e.jsx("div",{className:"text-sm text-gray-500",children:x("fiscalPeriods.widget.lockedPeriods")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.unlocked}),e.jsx("div",{className:"text-sm text-gray-500",children:x("fiscalPeriods.active")})]})]}),i&&a.current&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(bs,{className:"h-4 w-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:x("fiscalPeriods.widget.activePeriod")})]}),e.jsx("div",{className:"text-lg font-semibold text-blue-900",children:a.current.name}),e.jsxs("div",{className:"text-sm text-blue-700",children:[new Date(a.current.periodStart).toLocaleDateString("tr-TR")," -",new Date(a.current.periodEnd).toLocaleDateString("tr-TR")]}),a.current.isLocked&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(vn,{className:"h-3 w-3 text-red-600 mr-1"}),e.jsx("span",{className:"text-xs text-red-600",children:x("fiscalPeriods.locked")})]})]}),(!i||r)&&e.jsxs("div",{className:"space-y-2",children:[!i&&e.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(dn,{className:"h-4 w-4 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-sm text-yellow-800",children:x("fiscalPeriods.widget.warnings.noActive")})]}),r&&e.jsxs("div",{className:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(dn,{className:"h-4 w-4 text-red-600 mr-2"}),e.jsx("span",{className:"text-sm text-red-800",children:x("fiscalPeriods.widget.warnings.overlapping")})]})]}),t.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:x("fiscalPeriods.title")}),e.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(n.periodStart).toLocaleDateString("tr-TR")," -",new Date(n.periodEnd).toLocaleDateString("tr-TR")]})]}),e.jsx("div",{className:"flex items-center",children:n.isLocked?e.jsx(vn,{className:"h-3 w-3 text-red-600"}):e.jsx(bm,{className:"h-3 w-3 text-green-600"})})]},n.id))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:k,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:x("fiscalPeriods.widget.managePeriods")})})]})})]})},oi=()=>{const{t:k}=Vt("common"),{currentLanguage:x,changeLanguage:t,languages:f}=Ca(),m=s=>{t(s)},d=()=>{window.location.href="/"};return e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:d,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(ml,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:k("common.backToHome","Back to Home")})]}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Ni,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Comptario"})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pn,{className:"h-4 w-4 text-gray-500"}),e.jsx("select",{value:x,onChange:s=>m(s.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded cursor-pointer pr-8",children:f.map(s=>e.jsxs("option",{value:s.code,children:[s.flag," ",s.name]},s.code))})]})})]})})})};function Xp(){const{login:k,isLoading:x}=wn(),{t}=Vt(),[f,m]=Z.useState(()=>{let g="";try{if(g=sessionStorage.getItem("prefill_email")||localStorage.getItem("prefill_email")||"",g){try{sessionStorage.removeItem("prefill_email")}catch{}try{localStorage.removeItem("prefill_email")}catch{}}}catch{}return{email:g,password:""}}),[d,s]=Z.useState(!1),[a,i]=Z.useState(""),[r,n]=Z.useState(!1),l=async g=>{g.preventDefault(),i("");try{await k(f.email,f.password)}catch(h){i(h.message||"Giri srasnda bir hata olutu")}},o=typeof a=="string"&&a.toLowerCase().includes("verify"),c=async()=>{if(f.email){n(!0);try{await Ws.resendVerification(f.email),i(t("auth.verificationEmailSent","Dorulama e-postas gnderildi. Ltfen e-postanz kontrol edin."))}catch(g){i(g?.message||t("common.error","Hata"))}finally{n(!1)}}},p=g=>{m(h=>({...h,[g.target.name]:g.target.value}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Fr,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("auth.welcomeTitle","Ho Geldiniz")}),e.jsx("p",{className:"text-gray-600",children:t("auth.welcomeSubtitle","Hesabnza giri yaparak devam edin")})]}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.emailAddress","E-posta Adresi")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(fs,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:f.email,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.emailPlaceholder","ornek@email.com")})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.password","ifre")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(vn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:d?"text":"password",required:!0,value:f.password,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordPlaceholder","")}),e.jsx("button",{type:"button",onClick:()=>s(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:d?e.jsx(nl,{className:"h-5 w-5"}):e.jsx(ss,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:t("auth.rememberMe","Beni hatrla")})]}),e.jsx("button",{type:"button",onClick:()=>window.location.hash="forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors font-medium",children:t("auth.forgotPassword","ifremi unuttum")})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t("auth.signIn","Giri Yap")}),e.jsx(fo,{className:"h-4 w-4"})]})})]}),a&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:[e.jsx("span",{children:a}),o&&e.jsx("button",{type:"button",disabled:r,onClick:c,className:"ml-auto text-blue-700 underline disabled:opacity-50",children:r?t("common.loading","Ykleniyor..."):t("auth.resendVerification","Dorulama e-postasn tekrar gnder")})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:t("auth.or","veya")})})]}),e.jsxs("button",{type:"button",onClick:()=>window.location.href="#admin",className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(Fr,{className:"h-5 w-5"}),t("auth.adminLogin","Ynetici Girii")]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[t("auth.noAccount","Hesabnz yok mu?")," ",e.jsx("button",{onClick:()=>window.location.href="#register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:t("auth.createFreeAccount","cretsiz hesap oluturun")})]})})]})})})]})}function F3(){const{register:k,isLoading:x}=wn(),{t}=Vt(),[f,m]=Z.useState(()=>{let $="";try{$=sessionStorage.getItem("prefill_email")||localStorage.getItem("prefill_email")||""}catch{}return{name:"",email:$,password:"",confirmPassword:"",company:"",phone:"",address:""}}),[d,s]=Z.useState(!1),[a,i]=Z.useState(!1),[r,n]=Z.useState(!1),[l,o]=Z.useState(""),[c,p]=Z.useState(""),[g,h]=Z.useState(null),[y,b]=Z.useState(0),[C,T]=Z.useState(!1),[D,F]=Z.useState(null);Z.useEffect(()=>{try{sessionStorage.removeItem("prefill_email")}catch{}try{localStorage.removeItem("prefill_email")}catch{}try{const $=sessionStorage.getItem("pending_verification_email");"true".toLowerCase()==="true"&&$&&(h($),p("Hesabnz oluturuldu. Ltfen e-postanz kontrol edin ve dorulama balantsna tklayn."))}catch{}},[]),Z.useEffect(()=>{if(y<=0)return;const $=setInterval(()=>b(B=>B-1),1e3);return()=>clearInterval($)},[y]);const H=async $=>{if($.preventDefault(),o(""),p(""),F(null),!f.name||!f.email||!f.password){o("Ltfen tm zorunlu alanlar doldurun");return}if(f.password!==f.confirmPassword){o("ifreler elemiyor");return}if(f.password.length<6){o("ifre en az 6 karakter olmaldr");return}if(!d){o("Kullanm Koullar ve Gizlilik Politikasn kabul etmelisiniz");return}try{const B={name:f.name,email:f.email,password:f.password,company:f.company,phone:f.phone,address:f.address};await k(B);const K="true".toLowerCase()==="true";K?(p("Hesabnz oluturuldu. Ltfen e-postanz kontrol edin ve dorulama balantsna tklayn."),h(f.email)):p("Hesabnz baaryla oluturuldu! Giri yapabilirsiniz."),K||setTimeout(()=>{window.location.href="#login"},2e3)}catch(B){const K=B?.response?.status??B?.status,U=B?.response?.data?.message||B?.message||"",_=String(U).toLowerCase();K===409||U==="EMAIL_IN_USE"||_.includes("already exists")||_.includes("zaten")?F({email:f.email}):o(U||"Kayt srasnda bir hata olutu")}},O=$=>{m(B=>({...B,[$.target.name]:$.target.value}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(vm,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("auth.registerTitle","Hesap Olutur")}),e.jsx("p",{className:"text-gray-600",children:t("auth.registerSubtitle","cretsiz hesabnz oluturun ve hemen balayn")})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[l&&!D&&e.jsx("div",{className:"flex items-center space-x-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:e.jsx("span",{children:l})}),D&&e.jsxs("div",{className:"space-y-3 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[e.jsxs("p",{className:"font-semibold",children:["Bu e-posta ile zaten bir hesap var: ",e.jsx("span",{className:"underline",children:D.email})]}),e.jsx("p",{children:"Nasl devam etmek istersiniz?"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:["ifrenizi biliyorsanz ",e.jsx("button",{type:"button",onClick:()=>window.location.hash="login",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Giri yapn"})]}),e.jsxs("li",{children:["ifrenizi hatrlamyorsanz ",e.jsx("button",{type:"button",onClick:()=>window.location.hash="forgot-password",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"ifre sfrlama balants isteyin"})]}),e.jsx("li",{children:"Farkl bir hesap oluturmak istiyorsanz baka bir e-posta adresiyle tekrar deneyin."})]}),e.jsx("div",{className:"text-xs text-amber-700 pt-1",children:"Gvenlik iin hangi e-postalarn kaytl olduunu aka gstermiyoruz; bu uyar sizin girdinizden yola karak gsterilir."})]}),c&&e.jsxs("div",{className:"space-y-3 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5 w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:c}),g&&e.jsxs("p",{className:"text-xs mt-1",children:["Gnderilen adres: ",e.jsx("span",{className:"font-mono",children:g})]})]})]}),g&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{type:"button",onClick:()=>window.location.hash="verify-notice",className:"inline-flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-blue-600 text-white text-xs font-semibold hover:bg-blue-700 transition-colors",children:"Dorulama Durumunu Gr"}),e.jsxs("button",{type:"button",disabled:y>0||C,onClick:async()=>{if(!(!g||y>0)){T(!0);try{await _r(()=>Promise.resolve().then(()=>qg),void 0).then($=>$.authService.resendVerification(g)),b(60)}catch{b(60)}finally{T(!1)}}},className:"inline-flex items-center justify-center gap-2 px-3 py-2 rounded-md border text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed bg-white text-gray-700 hover:bg-gray-50 border-gray-300",children:[C?e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):e.jsx(il,{className:"h-4 w-4"}),y>0?`Tekrar gnder (${y}s)`:"Tekrar Gnder"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.fullName","Ad Soyad")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Wr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"name",value:f.name,onChange:O,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.fullNamePlaceholder","Adnz ve soyadnz girin"),required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.emailAddress","E-posta Adresi")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(fs,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",value:f.email,onChange:O,disabled:!!(sessionStorage.getItem("pending_invite_token")||localStorage.getItem("pending_invite_token")),className:`w-full pl-10 pr-4 py-3 border ${sessionStorage.getItem("pending_invite_token")||localStorage.getItem("pending_invite_token")?"bg-gray-100 text-gray-600 cursor-not-allowed":"border-gray-300"} rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:t("auth.emailPlaceholder","ornek@email.com"),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.companyName","irket Ad")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Fr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"company",value:f.company,onChange:O,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.companyPlaceholder","irket adnz (opsiyonel)")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.phone","Telefon")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Sa,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:O,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.phonePlaceholder","0555 123 45 67 (opsiyonel)")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.password","ifre")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(vn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:a?"text":"password",name:"password",value:f.password,onChange:O,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordHint","En az 6 karakter"),required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(nl,{className:"h-5 w-5"}):e.jsx(ss,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.passwordConfirm","ifre Onay")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(vn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:f.confirmPassword,onChange:O,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordConfirmPlaceholder","ifrenizi tekrar girin"),required:!0}),e.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:r?e.jsx(nl,{className:"h-5 w-5"}):e.jsx(ss,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{id:"terms-checkbox",type:"checkbox",checked:d,onChange:$=>s($.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms-checkbox",className:"text-sm text-gray-600 leading-5",children:[t("auth.termsText.prefix","unlar kabul ederim: "),e.jsx("a",{href:"#legal/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.terms","Hizmet artlar")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/dpa",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("auth.dataProcessing","Veri leme Szlemesi")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.privacy","Gizlilik Politikas")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/cookies",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.cookies","erez Politikas")}),t("auth.termsText.suffix"," belgelerini okudum.")]})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(vm,{className:"h-4 w-4"}),e.jsx("span",{children:t("auth.registerCta","Hesap Olutur")})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[t("auth.alreadyHaveAccount","Zaten hesabnz var m?")," ",e.jsx("button",{onClick:()=>window.location.href="#login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:t("auth.goToLogin","Giri yapn")})]})})]})]})})]})}function B3(){const{t:k}=Vt(),[x,t]=Z.useState(""),[f,m]=Z.useState(!1),[d,s]=Z.useState(null),[a,i]=Z.useState(!1),[r,n]=Z.useState(0);sr.useEffect(()=>{if(r<=0)return;const o=setInterval(()=>n(c=>c>0?c-1:0),1e3);return()=>clearInterval(o)},[r]);const l=async o=>{o.preventDefault(),s(null),i(!0);try{if(r>0)return;await Ws.forgotPassword(x),m(!0),n(60)}catch(c){s(c?.message||"lem srasnda bir hata olutu")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1 mb-4",children:[e.jsx(ml,{className:"h-4 w-4"})," ",k("common.back")]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:k("auth.forgotPassword")}),e.jsx("p",{className:"text-gray-600 mb-6",children:k("auth.forgotPasswordHelp")}),f?e.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-emerald-900",children:k("auth.resetEmailSent")}):e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:k("auth.emailAddress")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(fs,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:x,onChange:o=>t(o.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:k("auth.emailPlaceholder")})]})]}),e.jsx("button",{type:"submit",disabled:a||r>0,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(r0,{className:"h-4 w-4"})," ",r>0?k("auth.resendIn",{seconds:r}):k("auth.sendResetLink")]})}),d&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-red-700",children:d})]})]})})})]})}function Qp(k){return Z.useMemo(()=>{const x=new URL(window.location.href);if(x.hash&&x.hash.includes("?")){const t=x.hash.indexOf("?"),f=x.hash.substring(t+1),d=new URLSearchParams(f).get(k);if(d)return d}return x.searchParams.get(k)||""},[])}function U3(){const{t:k}=Vt(),x=Qp("token"),t=Qp("u"),[f,m]=Z.useState(""),[d,s]=Z.useState(""),[a,i]=Z.useState(!1),[r,n]=Z.useState(null),[l,o]=Z.useState(!1),[c,p]=Z.useState(0),[g,h]=Z.useState([]);Z.useEffect(()=>{let b=!1;return f?(async()=>{try{const D=(await _r(()=>import("./main-OvjXmFPz.js").then(F=>F.m),[])).default(f||"");b||(p(D.score||0),h(D.feedback?.suggestions||[]))}catch{}})():(p(0),h([])),()=>{b=!0}},[f]);const y=async b=>{if(b.preventDefault(),n(null),!f||f.length<8){n(k("auth.passwordTooShort","ifre en az 8 karakter olmal"));return}if(c<3){n(k("auth.passwordTooWeak","Ltfen daha gl bir ifre belirleyin"));return}if(f!==d){n(k("auth.passwordMismatch","ifreler elemiyor"));return}o(!0);try{x&&t?await Ws.resetPasswordHashed(x,t,f):await Ws.resetPassword(x,f),i(!0)}catch(C){n(C?.message||"lem baarsz")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1 mb-4",children:[e.jsx(ml,{className:"h-4 w-4"})," ",k("common.back","Geri")]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:k("auth.resetPassword","ifre Sfrla")}),e.jsx("p",{className:"text-gray-600 mb-6",children:k("auth.resetPasswordHelp","Yeni ifrenizi belirleyin.")}),a?e.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-emerald-900 flex items-center gap-2",children:[e.jsx(bs,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:k("auth.passwordResetSuccess","ifreniz gncellendi")}),e.jsx("button",{onClick:()=>window.location.hash="login",className:"text-emerald-700 underline",children:k("auth.goToLogin","Girie dn")})]})]}):e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:k("auth.newPassword","Yeni ifre")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(vn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",required:!0,value:f,onChange:b=>m(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:k("auth.passwordPlaceholder","")})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded",children:e.jsx("div",{className:`h-2 rounded ${c>=3?"bg-emerald-500":c===2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${(c+1)*20}%`}})}),g.length>0&&e.jsx("ul",{className:"mt-1 text-xs text-gray-500 list-disc list-inside",children:g.slice(0,2).map((b,C)=>e.jsx("li",{children:b},C))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:k("auth.confirmPassword","ifreyi Dorula")}),e.jsx("input",{type:"password",required:!0,value:d,onChange:b=>s(b.target.value),className:"w-full pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:k("auth.passwordPlaceholder","")})]}),r&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-red-700",children:r}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l?k("common.loading","Ykleniyor..."):k("auth.updatePassword","ifreyi Gncelle")})]})]})})})]})}function Zp(k){return Z.useMemo(()=>{const x=new URL(window.location.href);if(x.hash&&x.hash.includes("?")){const t=x.hash.indexOf("?"),f=x.hash.substring(t+1),d=new URLSearchParams(f).get(k);if(d)return d}return x.searchParams.get(k)||""},[])}function $3(){const{t:k}=Vt(),x=Zp("token"),t=Zp("u"),[f,m]=Z.useState("loading"),[d,s]=Z.useState(null),[a,i]=Z.useState(5);return Z.useEffect(()=>{x&&(async()=>{try{if(x&&t)await Ws.verifyEmailHashed(x,t);else if(x)await Ws.verifyEmail(x);else throw new Error("Token bulunamad");m("success");try{sessionStorage.removeItem("pending_verification_email")}catch{}}catch(n){m("error"),s(n?.message||"Dorulama baarsz")}})()},[x,t]),Z.useEffect(()=>{if(f!=="success")return;const r=setInterval(()=>i(l=>l-1),1e3),n=setTimeout(()=>{window.location.hash="login"},5e3);return()=>{clearInterval(r),clearTimeout(n)}},[f]),e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center gap-1 mb-4",children:[e.jsx(ml,{className:"h-4 w-4"})," ",k("common.back","Geri")]}),f==="loading"&&e.jsx("div",{children:k("common.loading","Ykleniyor...")}),f==="success"&&e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(bs,{className:"h-12 w-12 text-emerald-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k("auth.emailVerified","E-posta doruland")}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[k("auth.redirectingToLogin","Giri sayfasna ynlendiriliyorsunuz...")," (",a,")"]}),e.jsx("button",{onClick:()=>window.location.hash="login",className:"text-blue-600 underline",children:k("auth.goToLogin","Girie dn")})]}),f==="error"&&e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(yo,{className:"h-12 w-12 text-red-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k("auth.verificationFailed","Dorulama baarsz")}),d&&e.jsx("p",{className:"text-gray-600",children:d}),e.jsx("button",{onClick:()=>{t?window.location.hash="login":window.location.hash="register"},className:"text-sm text-blue-600 underline mt-2",children:k("auth.backToStart","Baa dn")})]})]})})})]})}function V3(){const{t:k}=Vt(),[x,t]=Z.useState(0),f=Z.useMemo(()=>{try{return sessionStorage.getItem("pending_verification_email")||""}catch{return""}},[]);Z.useEffect(()=>{let d;return x>0&&(d=setInterval(()=>t(s=>s>0?s-1:0),1e3)),()=>d&&clearInterval(d)},[x]);const m=async()=>{if(f&&!(x>0))try{await Ws.resendVerification(f),t(60)}catch{t(60)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center gap-1 mb-4",children:[e.jsx(ml,{className:"h-4 w-4"})," ",k("common.back","Geri")]}),e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-600 text-white flex items-center justify-center",children:e.jsx(fs,{className:"h-8 w-8"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:k("auth.verifyYourEmail","E-postanz dorulayn")}),e.jsx("p",{className:"text-gray-600 mb-6",children:f?e.jsxs(e.Fragment,{children:[k("auth.verifySentTo","Dorulama balants e-posta adresinize gnderildi:")," ",e.jsx("strong",{children:f})]}):k("auth.verifySent","E-posta adresinize dorulama balants gnderdik.")}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("button",{onClick:m,disabled:!f||x>0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white disabled:opacity-50",children:[e.jsx(il,{className:"h-4 w-4"}),x>0?k("auth.resendIn","Tekrar gnderilebilir:")+` ${x}s`:k("auth.resend","Tekrar gnder")]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(ov,{className:"h-3 w-3"}),k("auth.resendCooldown","Gvenlik iin 60 saniye bekleme uygulanr")]})]})]})})})]})}const q3=({onTryForFree:k,onSignIn:x})=>{const{t}=Vt(),{currentLanguage:f,changeLanguage:m,languages:d}=Ca(),[s,a]=Z.useState(!1),[i,r]=Z.useState(!1),[n,l]=Z.useState(!1);Z.useEffect(()=>{const p=()=>{l(window.scrollY>0)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const o=[{key:"features",href:"#features",label:t("landing.nav.features")},{key:"pricing",href:"#pricing",label:t("landing.nav.pricing")},{key:"faq",href:"#faq",label:t("landing.nav.faq")},{key:"contact",href:"#contact",label:t("landing.nav.contact")}],c=p=>{const g=document.querySelector(p);g&&g.scrollIntoView({behavior:"smooth"}),a(!1)};return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-white/95 backdrop-blur-md shadow-sm":"bg-transparent"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx(Ni,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Comptario"})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:o.map(p=>e.jsx("button",{onClick:()=>c(p.href),className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:p.label},p.key))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>r(!i),className:"flex items-center space-x-1 text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors","aria-expanded":i,"aria-haspopup":"true",children:[e.jsx("span",{className:"text-lg",children:d.find(p=>p.code===f)?.flag}),e.jsx(us,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsx("div",{className:"py-1",children:d.map(p=>e.jsxs("button",{onClick:()=>{m(p.code),r(!1)},className:`${f===p.code?"bg-gray-100 text-gray-900":"text-gray-700"} group flex items-center px-4 py-2 text-sm w-full hover:bg-gray-50`,children:[e.jsx("span",{className:"mr-3 text-lg",children:p.flag}),p.name]},p.code))})})]}),e.jsx("button",{onClick:x,className:"text-gray-700 hover:text-gray-900 px-4 py-2 text-sm font-medium transition-colors",children:t("landing.cta.signin")}),e.jsx("button",{onClick:k,className:"bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:t("landing.cta.try")})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>a(!s),className:"text-gray-700 hover:text-gray-900 p-2","aria-expanded":s,"aria-label":"Toggle navigation menu",children:s?e.jsx(fr,{className:"h-6 w-6"}):e.jsx(Jg,{className:"h-6 w-6"})})})]}),s&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[o.map(p=>e.jsx("button",{onClick:()=>c(p.href),className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium w-full text-left",children:p.label},p.key)),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Language"}),d.map(p=>e.jsxs("button",{onClick:()=>{m(p.code),a(!1)},className:`${f===p.code?"bg-gray-100 text-gray-900":"text-gray-700"} flex items-center px-3 py-2 text-base font-medium w-full hover:bg-gray-50`,children:[e.jsx("span",{className:"mr-3 text-lg",children:p.flag}),p.name]},p.code))]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsx("button",{onClick:x,className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium w-full text-left",children:t("landing.cta.signin")}),e.jsx("button",{onClick:k,className:"bg-gray-900 text-white px-3 py-2 rounded-lg text-base font-medium hover:bg-gray-800 transition-colors w-full",children:t("landing.cta.try")})]})]})})]})})},H3=({onTryForFree:k,onSignIn:x,onWatchDemo:t})=>{const{t:f}=Vt();return e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 via-white to-blue-50/30 pt-24 pb-20 sm:pt-32 sm:pb-24 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-indigo-100/40 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-emerald-100/40 to-green-100/40 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-purple-100/30 to-pink-100/30 rounded-full blur-2xl"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-700 text-sm font-medium mb-8 shadow-sm",children:[e.jsx(Ni,{className:"h-4 w-4 mr-2 text-blue-600"}),f("landing.hero.badge")]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:f("landing.hero.title")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto md:mx-0 leading-relaxed",children:f("landing.hero.sub")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center md:justify-start items-center mb-12",children:[e.jsxs("button",{onClick:k,className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[f("landing.cta.try"),e.jsx(fo,{className:"h-5 w-5"})]}),e.jsx("button",{onClick:x,className:"bg-white/80 backdrop-blur-sm text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:border-gray-400 hover:bg-white transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:f("landing.cta.signin")}),e.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors",children:e.jsx(zm,{className:"h-5 w-5 ml-0.5"})}),f("landing.cta.watchDemo")]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{children:f("landing.hero.features.pdf")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:f("landing.hero.features.currency")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:f("landing.hero.features.vat")})]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"comptario.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-md flex items-center justify-center",children:e.jsx(Ni,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Comptario"})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 rounded-2xl border border-emerald-200",children:[e.jsx("div",{className:"text-emerald-600 font-semibold text-lg",children:"2,450"}),e.jsx("div",{className:"text-sm text-gray-600",children:f("landing.hero.mockup.revenue")})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-2xl border border-blue-200",children:[e.jsx("div",{className:"text-blue-600 font-semibold text-lg",children:"1,280"}),e.jsx("div",{className:"text-sm text-gray-600",children:f("landing.hero.mockup.expenses")})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-2xl border border-purple-200",children:[e.jsx("div",{className:"text-purple-600 font-semibold text-lg",children:"441"}),e.jsx("div",{className:"text-sm text-gray-600",children:f("landing.hero.mockup.vat")})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(Or,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Invoice #INV-2024-001"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Client ABC Ltd."})]})]}),e.jsx("div",{className:"text-emerald-600 font-semibold",children:"850"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Kn,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Office Supplies"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Supplier XYZ"})]})]}),e.jsx("div",{className:"text-red-600 font-semibold",children:"125"})]})]})]})]})})]})})]})},K3=()=>{const{t:k}=Vt(),x=[{icon:Or,title:k("landing.features.inv.title"),description:k("landing.features.inv.desc"),color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{icon:bn,title:k("landing.features.exp.title"),description:k("landing.features.exp.desc"),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{icon:sd,title:k("landing.features.vat.title"),description:k("landing.features.vat.desc"),color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{icon:Ib,title:k("landing.features.fx.title"),description:k("landing.features.fx.desc"),color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}];return e.jsx("section",{id:"features",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:k("landing.features.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:k("landing.features.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:x.map((t,f)=>{const m=t.icon;return e.jsxs("div",{className:`relative p-6 rounded-2xl border ${t.borderColor} ${t.bgColor} hover:shadow-lg transition-all duration-300 hover:scale-105 group`,children:[e.jsx("div",{className:`w-12 h-12 ${t.bgColor} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(m,{className:`h-6 w-6 ${t.color}`})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent to-transparent group-hover:from-white/20 group-hover:to-transparent transition-all duration-300 pointer-events-none"})]},f)})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsx("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-gray-100 text-gray-700",children:e.jsxs("span",{className:"text-sm font-medium",children:[" ",k("landing.value.title")]})})})]})})},G3=()=>{const{t:k}=Vt(),x="#register",t=()=>{if(x.startsWith("#")){window.location.hash=x.replace("#","");return}window.location.href=x},f=[{icon:hs,title:k("landing.value.freelancers.title"),description:k("landing.value.freelancers.desc"),features:[k("landing.value.freelancers.basic"),k("landing.value.freelancers.expense"),k("landing.value.freelancers.tax")]},{icon:Fr,title:k("landing.value.small.title"),description:k("landing.value.small.desc"),features:[k("landing.value.small.currency"),k("landing.value.small.customer"),k("landing.value.small.reporting")]},{icon:vs,title:k("landing.value.growing.title"),description:k("landing.value.growing.desc"),features:[k("landing.value.growing.team"),k("landing.value.growing.api"),k("landing.value.growing.support")]}];return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:k("landing.value.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:k("landing.value.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:f.map((m,d)=>{const s=m.icon;return e.jsxs("div",{className:`bg-white p-8 rounded-2xl shadow-sm border transition-all duration-300 hover:shadow-lg ${d===0?"border-blue-200 hover:border-blue-300":d===1?"border-emerald-200 hover:border-emerald-300":"border-purple-200 hover:border-purple-300"}`,children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center mb-6 ${d===0?"bg-blue-500":d===1?"bg-emerald-500":"bg-purple-500"}`,children:e.jsx(s,{className:"h-7 w-7 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:m.title}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:m.description}),e.jsx("ul",{className:"space-y-3",children:m.features.map((a,i)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Ur,{className:`h-4 w-4 mr-3 flex-shrink-0 ${d===0?"text-blue-500":d===1?"text-emerald-500":"text-purple-500"}`}),a]},i))})]},d)})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-200 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:k("landing.value.cta.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:k("landing.value.cta.subtitle")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsx("button",{onClick:t,className:"bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors",children:k("landing.value.cta.trial")})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 pt-8 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"10k+"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.value.stats.users")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"50k+"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.value.stats.invoices")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.value.stats.uptime")})]})]})]})})]})})},W3=()=>{const{t:k}=Vt(),x=[{icon:Cs,title:k("landing.security.features.hosting.title"),description:k("landing.security.features.hosting.desc")},{icon:vn,title:k("landing.security.features.encryption.title"),description:k("landing.security.features.encryption.desc")},{icon:Hc,title:k("landing.security.features.backups.title"),description:k("landing.security.features.backups.desc")},{icon:Rb,title:k("landing.security.features.gdpr.title"),description:k("landing.security.features.gdpr.desc")},{icon:Pn,title:k("landing.security.features.monitoring.title"),description:k("landing.security.features.monitoring.desc")},{icon:uv,title:k("landing.security.features.uptime.title"),description:k("landing.security.features.uptime.desc")}];return e.jsx("section",{id:"security",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-700 text-sm font-medium mb-4",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),k("landing.security.badge")]}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:k("landing.security.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:k("landing.security.items")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:x.map((t,f)=>{const m=t.icon;return e.jsxs("div",{className:"text-center p-6 rounded-xl border border-gray-200 hover:border-green-200 hover:shadow-lg transition-all duration-300 hover:bg-green-50/30",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(m,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]},f)})}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl p-8 md:p-10 border border-green-100/60 shadow-sm text-center",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:k("landing.security.trusted.title")}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-3xl mx-auto",children:k("landing.security.trusted.desc")}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 items-stretch",children:[e.jsx("div",{"aria-label":"GDPR",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center mb-3",children:e.jsx(nv,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"GDPR"}),e.jsx("div",{className:"text-xs text-gray-500",children:k("landing.security.trusted.gdpr")})]})}),e.jsx("div",{"aria-label":"ISO 27001",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center mb-3",children:e.jsx(Cb,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"ISO 27001"}),e.jsx("div",{className:"text-xs text-gray-500",children:k("landing.security.trusted.iso")})]})}),e.jsx("div",{"aria-label":"SOC 2",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center mb-3",children:e.jsx(Cs,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"SOC 2"}),e.jsx("div",{className:"text-xs text-gray-500",children:k("landing.security.trusted.soc")})]})}),e.jsx("div",{"aria-label":"SSL",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-50 text-amber-600 flex items-center justify-center mb-3",children:e.jsx(vn,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"SSL"}),e.jsx("div",{className:"text-xs text-gray-500",children:k("landing.security.trusted.ssl")})]})})]})]})]})})},Y3=()=>{const{t:k}=Vt(),x=[{name:"Sarah Johnson",role:k("landing.testimonials.sarah.role"),company:k("landing.testimonials.sarah.company"),content:k("landing.testimonials.sarah.content"),rating:5,avatar:""},{name:"Marcus Weber",role:k("landing.testimonials.marcus.role"),company:k("landing.testimonials.marcus.company"),content:k("landing.testimonials.marcus.content"),rating:5,avatar:""},{name:"Elena Rodriguez",role:k("landing.testimonials.elena.role"),company:k("landing.testimonials.elena.company"),content:k("landing.testimonials.elena.content"),rating:5,avatar:""}];return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:k("landing.testimonials.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:k("landing.testimonials.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((t,f)=>e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 relative",children:[e.jsx("div",{className:"absolute top-6 right-6 text-gray-200",children:e.jsx(t0,{className:"h-8 w-8"})}),e.jsx("div",{className:"flex items-center mb-4",children:[...Array(t.rating)].map((m,d)=>e.jsx(s0,{className:"h-5 w-5 text-yellow-400 fill-current"},d))}),e.jsxs("blockquote",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',t.content,'"']}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-2xl mr-4",children:t.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.role,", ",t.company]})]})]})]},f))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"4.9/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.testimonials.stats.rating")})]}),e.jsx("div",{className:"w-px h-12 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"10,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.testimonials.stats.customers")})]}),e.jsx("div",{className:"w-px h-12 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"50+"}),e.jsx("div",{className:"text-sm text-gray-600",children:k("landing.testimonials.stats.countries")})]})]})})]})})},X3=({loginUrl:k})=>{const{t:x}=Vt(),t=[{name:x("landing.pricing.starter"),price:x("landing.pricing.price.free"),priceMonthly:x("landing.pricing.price.free"),annualLine:x("landing.pricing.annualLine.free",""),description:x("landing.pricing.plans.starter.desc"),features:[x("landing.pricing.features.users1"),x("landing.pricing.features.invoices5"),x("landing.pricing.features.expenses5"),x("landing.pricing.features.vat"),x("landing.pricing.features.pdf"),x("landing.pricing.features.quotesBasic")],cta:x("landing.pricing.cta"),popular:!1},{name:x("landing.pricing.pro"),price:x("landing.pricing.price.pro"),priceMonthly:x("landing.pricing.price.pro"),annualLine:x("landing.pricing.annualLine.pro"),description:x("landing.pricing.plans.pro.desc"),features:[x("landing.pricing.features.users3"),x("landing.pricing.features.unlimitedInvoicesExpenses"),x("landing.pricing.features.customerSupplierUnlimited"),x("landing.pricing.features.quotesAdvanced"),x("landing.pricing.features.products"),x("landing.pricing.features.reports")],cta:x("landing.pricing.cta"),popular:!0},{name:x("landing.pricing.business"),price:x("landing.pricing.price.biz"),priceMonthly:x("landing.pricing.price.biz"),annualLine:x("landing.pricing.annualLine.biz",""),description:x("landing.pricing.plans.business.desc"),features:[x("landing.pricing.features.usersUnlimited"),x("landing.pricing.features.everythingPro"),x("landing.pricing.features.teamCollaboration"),x("landing.pricing.features.dedicatedSupport"),x("landing.pricing.features.bankUnlimited"),x("landing.pricing.features.reports")],cta:x("landing.pricing.ctaContact")||"Contact us",popular:!1}],f=()=>{if(k.startsWith("#")){window.location.hash=k.replace("#","");return}if(k==="/register"){window.location.hash="register";return}if(k==="/login"){window.location.hash="login";return}window.location.href=k};return e.jsx("section",{id:"pricing",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:x("landing.pricing.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:x("landing.pricing.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:t.map((m,d)=>e.jsxs("div",{className:`relative rounded-2xl border-2 p-8 ${m.popular?"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-500 shadow-xl scale-105":"bg-white border-gray-200 hover:border-gray-300"} transition-all duration-300 hover:shadow-lg`,children:[m.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs("span",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center shadow-lg",children:[e.jsx(s0,{className:"h-4 w-4 mr-1 fill-current"}),x("landing.pricing.popular")]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.name}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:m.priceMonthly}),m.annualLine&&e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:m.annualLine}),e.jsx("p",{className:"text-gray-600",children:m.description}),d===1&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:x("landing.pricing.pro.extraUser")})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:m.features.map((s,a)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(Ur,{className:`h-5 w-5 mr-3 flex-shrink-0 ${m.popular?"text-blue-500":"text-emerald-500"}`}),e.jsx("span",{className:"text-gray-700",children:s})]},a))}),e.jsxs("button",{onClick:()=>{d===2?window.location.href="mailto:support@comptario.com?subject=Business Plan Inquiry":f()},className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center ${m.popular?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600 shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[m.cta,e.jsx(fo,{className:"h-4 w-4 ml-2"})]}),d===0&&e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:x("landing.pricing.features.noCredit")})]},d))}),e.jsxs("div",{className:"max-w-3xl mx-auto mt-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 bg-gray-50 border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(qc,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("span",{children:x("landing.pricing.notes.vatAndCurrency")})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ur,{className:"h-5 w-5 text-emerald-500 mr-2"}),e.jsx("span",{children:x("landing.pricing.notes.cancelAnytime")})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ur,{className:"h-5 w-5 text-emerald-500 mr-2"}),e.jsx("span",{children:x("landing.pricing.features.noCredit")})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:x("landing.pricing.trust")})]}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("p",{className:"text-gray-600",children:[x("landing.pricing.questions")," ",e.jsx("button",{onClick:()=>{const m=document.getElementById("faq");m&&m.scrollIntoView({behavior:"smooth"})},className:"text-gray-900 font-medium hover:underline",children:x("landing.pricing.checkFaq")})," ",x("landing.pricing.or")," ",e.jsx("a",{href:"mailto:support@comptario.com",className:"text-gray-900 font-medium hover:underline",children:x("landing.pricing.contactSupport")})]})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-green-100 text-green-700",children:[e.jsx(Ur,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:x("landing.pricing.guarantee")})]})})]})})},Q3=()=>{const{t:k}=Vt(),[x,t]=Z.useState(0),f=[{question:k("landing.faq.q1"),answer:k("landing.faq.a1")},{question:k("landing.faq.q2"),answer:k("landing.faq.a2")},{question:k("landing.faq.q3"),answer:k("landing.faq.a3")},{question:k("landing.faq.q4"),answer:k("landing.faq.a4")},{question:k("landing.faq.q5"),answer:k("landing.faq.a5")},{question:k("landing.faq.q6"),answer:k("landing.faq.a6")}],m=d=>{t(x===d?null:d)};return e.jsx("section",{id:"faq",className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:k("landing.faq.title")}),e.jsxs("p",{className:"text-xl text-gray-600",children:[k("landing.faq.subtitle")," ",e.jsx("a",{href:"mailto:support@comptario.com",className:"text-gray-900 font-medium hover:underline",children:k("landing.faq.contactUs")}),"."]})]}),e.jsx("div",{className:"space-y-4",children:f.map((d,s)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:border-blue-200 transition-colors",children:[e.jsxs("button",{onClick:()=>m(s),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-blue-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset","aria-expanded":x===s,children:[e.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:d.question}),x===s?e.jsx(Ms,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}):e.jsx(us,{className:"h-5 w-5 text-gray-500 flex-shrink-0"})]}),x===s&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.answer})})]},s))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-2xl shadow-sm border border-blue-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:k("landing.faq.support.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:k("landing.faq.support.desc")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsx("a",{href:"mailto:support@comptario.com",className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 text-center shadow-lg hover:shadow-xl",children:k("landing.faq.support.contact")})})]})})]})})},Z3=({loginUrl:k})=>{const{t:x}=Vt(),t=()=>{if(k.startsWith("#")){window.location.hash=k.replace("#","");return}if(k==="/register"){window.location.hash="register";return}if(k==="/login"){window.location.hash="login";return}window.location.href=k};return e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-900 to-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-blue-500/10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-20 h-20 bg-purple-500/10 rounded-full blur-xl"}),e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-2xl mb-8",children:e.jsx(Ni,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight",children:x("landing.finalCta.title")}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed",children:x("landing.finalCta.subtitle")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:e.jsxs("button",{onClick:t,className:"bg-white text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-all duration-300 flex items-center gap-2 shadow-xl hover:shadow-2xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-900",children:[e.jsx(iv,{className:"h-5 w-5"}),x("landing.finalCta.cta"),e.jsx(fo,{className:"h-5 w-5"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-gray-400 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{children:x("landing.finalCta.trial")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{children:x("landing.finalCta.noSetup")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{children:x("landing.finalCta.cancel")})]})]})]}),e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"10,000+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:x("landing.value.stats.users")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"500,000+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:x("landing.value.stats.invoices")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"50+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:x("landing.finalCta.stats.countries")})]})]})})]})})},J3=()=>{const{currentLanguage:k,changeLanguage:x,languages:t}=Ca(),f=new Date().getFullYear(),d={tr:{product:"RN",features:"zellikler",pricing:"Fiyatlar",security:"Gvenlik",api:"API",company:"RKET",about:"Hakknda",support:"DESTEK",helpCenter:"Yardm Merkezi",contactUs:"letiim",community:"Topluluk",legal:"HUKUK",privacy:"Gizlilik Politikas",terms:"Hizmet artlar",cookies:"erez Politikas",emailPolicy:"E-posta Politikas",subprocessors:"Alt leyiciler",imprint:"Knye",description:"Modern iletmeler iin basit, gvenli n muhasebe yazlm. Faturalar, giderleri ve KDV'yi gvenle ynetin.",email:"support@comptario.com",languages:"4 dilde mevcut",gdprCompliant:"GDPR Uyumlu",stayUpdated:"Gncel kaln",updatesDesc:"Yeni zellikler ve en iyi uygulamalar hakknda gncellemeler aln.",emailPlaceholder:"E-posta adresinizi girin",subscribe:"Abone Ol",copyright:` ${f} Comptario. Tm haklar sakldr.`,madeWith:"Avrupa'da  ile yapld"},en:{product:"PRODUCT",features:"Features",pricing:"Pricing",security:"Security",api:"API",company:"COMPANY",about:"About",support:"SUPPORT",helpCenter:"Help Center",contactUs:"Contact Us",community:"Community",legal:"LEGAL",privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy",emailPolicy:"Email Policy",subprocessors:"Subprocessors",imprint:"Imprint",description:"Simple, secure pre-accounting software for modern businesses. Manage invoices, expenses, and VAT with confidence.",email:"support@comptario.com",languages:"Available in 4 languages",gdprCompliant:"GDPR Compliant",stayUpdated:"Stay updated",updatesDesc:"Get the latest updates on new features and best practices.",emailPlaceholder:"Enter your email",subscribe:"Subscribe",copyright:` ${f} Comptario. All rights reserved.`,madeWith:"Made with  in Europe"},de:{product:"PRODUKT",features:"Funktionen",pricing:"Preise",security:"Sicherheit",api:"API",company:"UNTERNEHMEN",about:"ber uns",support:"SUPPORT",helpCenter:"Hilfe Center",contactUs:"Kontakt",community:"Community",legal:"RECHTLICHES",privacy:"Datenschutz",terms:"Nutzungsbedingungen",cookies:"Cookie-Richtlinie",emailPolicy:"E-Mail-Richtlinie",subprocessors:"Unterauftragsverarbeiter",imprint:"Impressum",description:"Einfache, sichere Vorbuchhaltungssoftware fr moderne Unternehmen. Verwalten Sie Rechnungen, Ausgaben und MwSt. mit Vertrauen.",email:"support@comptario.com",languages:"In 4 Sprachen verfgbar",gdprCompliant:"DSGVO-konform",stayUpdated:"Bleiben Sie auf dem Laufenden",updatesDesc:"Erhalten Sie die neuesten Updates zu neuen Funktionen und bewhrten Praktiken.",emailPlaceholder:"E-Mail eingeben",subscribe:"Abonnieren",copyright:` ${f} Comptario. Alle Rechte vorbehalten.`,madeWith:"Mit  in Europa gemacht"},fr:{product:"PRODUIT",features:"Fonctionnalits",pricing:"Prix",security:"Scurit",api:"API",company:"ENTREPRISE",about:" propos",support:"SUPPORT",helpCenter:"Centre d'aide",contactUs:"Nous contacter",community:"Communaut",legal:"JURIDIQUE",privacy:"Politique de confidentialit",terms:"Conditions de service",cookies:"Politique des cookies",emailPolicy:"Politique e-mail",subprocessors:"Sous-traitants",imprint:"Mentions lgales",description:"Logiciel de pr-comptabilit simple et scuris pour les entreprises modernes. Grez les factures, les dpenses et la TVA en toute confiance.",email:"support@comptario.com",languages:"Disponible en 4 langues",gdprCompliant:"Conforme RGPD",stayUpdated:"Restez inform",updatesDesc:"Recevez les dernires mises  jour sur les nouvelles fonctionnalits et les meilleures pratiques.",emailPlaceholder:"Entrez votre e-mail",subscribe:"S'abonner",copyright:` ${f} Comptario. Tous droits rservs.`,madeWith:"Fait avec  en Europe"}}[k],s=[{title:d.product,links:[{name:d.features,href:"#features"},{name:d.pricing,href:"#pricing"},{name:d.security,href:"#security"},{name:d.api,href:"#api"}]},{title:d.company,links:[{name:d.about,href:"#about"}]},{title:d.support,links:[{name:d.helpCenter,href:"#help"},{name:d.contactUs,href:"mailto:support@comptario.com"}]},{title:d.legal,links:[{name:d.privacy,href:"#legal/privacy"},{name:d.terms,href:"#legal/terms"},{name:d.cookies,href:"#legal/cookies"},{name:d.emailPolicy,href:"#legal/email-policy"},{name:"DPA",href:"#legal/dpa"},{name:d.subprocessors,href:"#legal/subprocessors"},{name:d.imprint,href:"#legal/imprint"}]}],a=i=>{if(i.startsWith("#legal/"))window.location.hash=i;else if(i==="#help")window.location.hash="help";else if(i==="#about")window.location.hash="about";else if(i==="#api")window.location.hash="api";else if(i.startsWith("#")){const r=document.querySelector(i);r&&r.scrollIntoView({behavior:"smooth"})}};return e.jsx("footer",{id:"contact",className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx(Ni,{className:"h-5 w-5 text-gray-900"})}),e.jsx("span",{className:"text-xl font-bold",children:"Comptario"})]}),e.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:d.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("a",{href:"mailto:support@comptario.com",className:"hover:text-white transition-colors",children:d.email})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(Pn,{className:"h-4 w-4"}),e.jsx("span",{children:d.languages})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(Cs,{className:"h-4 w-4"}),e.jsx("span",{children:d.gdprCompliant})]})]})]}),s.map((i,r)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wide mb-4",children:i.title}),e.jsx("ul",{className:"space-y-3",children:i.links.map((n,l)=>e.jsx("li",{children:n.href.startsWith("#")?e.jsx("button",{onClick:()=>a(n.href),className:"text-gray-400 hover:text-white transition-colors text-sm",children:n.name}):e.jsx("a",{href:n.href,className:"text-gray-400 hover:text-white transition-colors text-sm",...n.href.startsWith("mailto:")?{}:{target:"_blank",rel:"noopener noreferrer"},children:n.name})},l))})]},r))]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:d.copyright}),e.jsxs("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:d.madeWith}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pn,{className:"h-4 w-4 text-gray-400"}),e.jsx("div",{className:"flex items-center space-x-1",children:t.map(i=>e.jsx("button",{onClick:()=>x(i.code),className:`px-2 py-1 rounded text-sm transition-colors ${k===i.code?"bg-white text-gray-900":"text-gray-400 hover:text-white"}`,title:i.name,children:i.flag},i.code))})]})]})]})]})})},e6=({onClose:k})=>{Z.useEffect(()=>{const t=f=>{f.key==="Escape"&&k()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[k]),Z.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const x=t=>{t.target===t.currentTarget&&k()};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:x,children:e.jsxs("div",{className:"relative bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("button",{onClick:k,className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors","aria-label":"Close video",children:e.jsx(fr,{className:"h-5 w-5"})}),e.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(zm,{className:"h-10 w-10 ml-1"})}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Comptario Demo"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"See how easy it is to manage your pre-accounting with Comptario"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Demo video coming soon. In the meantime, try our free trial!"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Comptario Product Demo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Discover how Comptario can streamline your invoicing, expense tracking, and VAT management in just a few minutes."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>{k(),window.open("/login","_blank")},className:"bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:"Start Free Trial"}),e.jsx("button",{onClick:k,className:"text-gray-700 hover:text-gray-900 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Close"})]})]})]})})},t6=()=>{const{t:k,i18n:x}=Vt(),[t,f]=Z.useState(!1),m="#register";Z.useEffect(()=>{document.title=k("landing.seo.title");const r=document.querySelector('meta[name="description"]');if(r)r.setAttribute("content",k("landing.seo.description"));else{const y=document.createElement("meta");y.name="description",y.content=k("landing.seo.description"),document.head.appendChild(y)}const n=document.querySelector('meta[property="og:title"]');if(n)n.setAttribute("content",k("landing.seo.title"));else{const y=document.createElement("meta");y.setAttribute("property","og:title"),y.content=k("landing.seo.title"),document.head.appendChild(y)}const l=document.querySelector('meta[property="og:description"]');if(l)l.setAttribute("content",k("landing.seo.description"));else{const y=document.createElement("meta");y.setAttribute("property","og:description"),y.content=k("landing.seo.description"),document.head.appendChild(y)}const o=document.querySelector('link[rel="canonical"]');if(o)o.setAttribute("href",window.location.origin);else{const y=document.createElement("link");y.rel="canonical",y.href=window.location.origin,document.head.appendChild(y)}["tr","en","de","fr"].forEach(y=>{const b=document.querySelector(`link[hreflang="${y}"]`);if(b)b.setAttribute("href",`${window.location.origin}?lang=${y}`);else{const C=document.createElement("link");C.rel="alternate",C.hreflang=y,C.href=`${window.location.origin}?lang=${y}`,document.head.appendChild(C)}});const p={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:k("landing.faq.q1"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a1")}},{"@type":"Question",name:k("landing.faq.q2"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a2")}},{"@type":"Question",name:k("landing.faq.q3"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a3")}},{"@type":"Question",name:k("landing.faq.q4"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a4")}},{"@type":"Question",name:k("landing.faq.q5"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a5")}},{"@type":"Question",name:k("landing.faq.q6"),acceptedAnswer:{"@type":"Answer",text:k("landing.faq.a6")}}]},g=document.querySelector('script[type="application/ld+json"]');g&&g.remove();const h=document.createElement("script");return h.type="application/ld+json",h.textContent=JSON.stringify(p),document.head.appendChild(h),()=>{document.title="Comptario"}},[k,x.language]);const d=()=>{m.startsWith("#")?window.location.hash=m.replace("#",""):window.location.href=m},s=()=>{window.location.hash="#login"},a=()=>{f(!0)},i=r=>{if(r.key==="Enter"){const n=document.getElementById("main-content");n&&(n.focus(),n.scrollIntoView())}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",onKeyDown:i,children:"Skip to main content"}),e.jsx(q3,{onTryForFree:d,onSignIn:s}),e.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[e.jsx(H3,{onTryForFree:d,onSignIn:s,onWatchDemo:a}),e.jsx(K3,{}),e.jsx(G3,{}),e.jsx(W3,{}),e.jsx(Y3,{}),e.jsx(X3,{loginUrl:m}),e.jsx(Q3,{}),e.jsx(Z3,{loginUrl:m})]}),e.jsx(J3,{}),t&&e.jsx(e6,{onClose:()=>f(!1)})]})},r6=()=>{const{t:k}=Vt("about");return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-10 space-y-10",children:[e.jsxs("header",{className:"mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:k("title")}),e.jsx("p",{className:"text-slate-600 mt-2",children:k("subtitle")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:k("whoWeAre.title")}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:k("whoWeAre.text")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:k("offerings.title")}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:k("offerings.items",{returnObjects:!0}).map((x,t)=>e.jsx("li",{children:x},t))})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:k("approach.title")}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:k("approach.text")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:k("contact.title")}),e.jsxs("p",{className:"text-slate-700",children:[k("contact.text")," ",e.jsx("a",{className:"text-indigo-600 hover:underline",href:"mailto:support@comptario.com",children:"support@comptario.com"})]}),e.jsx("p",{className:"text-slate-500 text-sm mt-3",children:k("contact.emailNotice")})]})]})]})},lo=({children:k})=>e.jsx("code",{className:"px-1.5 py-0.5 bg-slate-100 text-slate-800 rounded font-mono text-[13px]",children:k}),Ac=({children:k})=>e.jsx("pre",{className:"bg-slate-900 text-slate-100 rounded-lg p-4 overflow-x-auto text-sm",children:e.jsx("code",{children:k})}),ya=({title:k,children:x})=>e.jsxs("section",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:k}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-5",children:x})]}),s6=()=>{const{t:k}=Vt("api"),x=k("gettingStarted.baseUrlValue");return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:k("title")}),e.jsx("p",{className:"text-slate-600 mt-2",children:k("subtitle")}),e.jsx(ya,{title:k("gettingStarted.title"),children:e.jsxs("div",{className:"space-y-3 text-slate-700",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-indigo-50 text-indigo-700 text-sm border border-indigo-100",children:[k("gettingStarted.baseUrl"),": ",e.jsx(lo,{children:x})]}),e.jsxs("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 text-sm border border-emerald-100",children:[k("gettingStarted.versioning"),": ",e.jsx(lo,{children:"/v1"})]})]}),e.jsx("p",{className:"text-slate-600",children:k("gettingStarted.versioningText")}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:k("gettingStarted.prerequisites",{returnObjects:!0}).map((t,f)=>e.jsx("li",{children:t},f))})]})}),e.jsx(ya,{title:k("auth.title"),children:e.jsxs("div",{className:"space-y-3 text-slate-700",children:[e.jsxs("p",{children:[e.jsxs("b",{children:[k("auth.method"),":"]})," ",k("auth.pat")]}),e.jsx("p",{children:k("auth.how")}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-slate-600 mb-2",children:[k("auth.example"),":"]}),e.jsx(Ac,{children:`curl -s   -H "Authorization: Bearer <TOKEN>"   ${x}/v1/customers`})]})]})}),e.jsx(ya,{title:k("endpoints.title"),children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:k("endpoints.customers.title")}),e.jsxs("ul",{className:"mt-2 text-slate-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("div",{className:"text-slate-500 text-sm",children:k("endpoints.customers.list")}),e.jsx(lo,{children:k("endpoints.customers.get")})]}),e.jsxs("li",{children:[e.jsx("div",{className:"text-slate-500 text-sm",children:k("endpoints.customers.create")}),e.jsx(lo,{children:k("endpoints.customers.post")})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:k("endpoints.invoices.title")}),e.jsxs("ul",{className:"mt-2 text-slate-700 space-y-2",children:[e.jsxs("li",{children:[e.jsx("div",{className:"text-slate-500 text-sm",children:k("endpoints.invoices.list")}),e.jsx(lo,{children:k("endpoints.invoices.get")})]}),e.jsxs("li",{children:[e.jsx("div",{className:"text-slate-500 text-sm",children:k("endpoints.invoices.create")}),e.jsx(lo,{children:k("endpoints.invoices.post")})]})]})]})]})}),e.jsx(ya,{title:k("webhooks.title"),children:e.jsxs("div",{className:"space-y-3 text-slate-700",children:[e.jsx("p",{children:k("webhooks.text")}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600 mb-1",children:"Events"}),e.jsx("ul",{className:"list-disc pl-5",children:k("webhooks.events",{returnObjects:!0}).map((t,f)=>e.jsx("li",{children:t},f))})]}),e.jsx("p",{children:k("webhooks.security")}),e.jsx("p",{children:k("webhooks.retries")})]})}),e.jsxs(ya,{title:k("rateLimits.title"),children:[e.jsx("p",{className:"text-slate-700",children:k("rateLimits.text")}),e.jsx("p",{className:"text-slate-700 mt-1",children:k("rateLimits.headers")})]}),e.jsx(ya,{title:k("errors.title"),children:e.jsxs("div",{className:"space-y-3 text-slate-700",children:[e.jsxs("p",{className:"text-slate-600",children:[k("errors.shape"),":"]}),e.jsx(Ac,{children:`{
  "status": 401,
  "code": "auth.unauthorized",
  "message": "Unauthorized",
  "details": [
    { "field": "customer.email", "message": "Invalid email" }
  ]
}`}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:k("errors.fields.status")}),e.jsx("li",{children:k("errors.fields.code")}),e.jsx("li",{children:k("errors.fields.message")}),e.jsx("li",{children:k("errors.fields.details")})]})]})}),e.jsx(ya,{title:k("examples.title"),children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:k("examples.listCustomers")}),e.jsx(Ac,{children:`curl -s -X GET   -H "Authorization: Bearer <TOKEN>"   ${x}/v1/customers`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:k("examples.createInvoice")}),e.jsx(Ac,{children:`curl -s -X POST   -H "Authorization: Bearer <TOKEN>"   -H "Content-Type: application/json"   -d '{
    "customerId": "cus_123",
    "items": [
      { "description": "Service", "quantity": 1, "unitPrice": 100 }
    ]
  }'   ${x}/v1/invoices`})]})]})})]})]})},_c={tr:"Son gncelleme: 10 Kasm 2025",en:"Last updated: November 10, 2025",de:"Zuletzt aktualisiert: 10. November 2025",fr:"Dernire mise  jour : 10 novembre 2025"},Dt={companyName:"Peaknova (trading as Comptario)",address:"30 Rue Jean Turel, 73200 Albertville, France",email:"legal@comptario.com",dataProtectionEmail:"privacy@comptario.com",representative:"Mustafa BASOL",identifiers:{siren:"937704740",siret:"93770474000011",tva:"",rcs:"",ape:""},hostingProvider:"Hostinger International Ltd.",emailInfrastructure:"Amazon Simple Email Service (SES), Amazon Web Services EMEA SARL  EU (Frankfurt)"},Jp=()=>{const{i18n:k}=Vt("common"),x=k.language,t={tr:{title:"Hizmet artlar",subtitle:"Comptario muhasebe hizmetlerini kullanmnz iin artlar ve koullar",lastUpdated:_c.tr,sections:{acceptance:{title:"artlarn Kabul",content:"Bu hizmet artlar, Comptario muhasebe platformunu kullanmnz dzenler. Hizmeti kullanarak bu artlar kabul etmi saylrsnz."},service:{title:"Hizmet Tanm",content:"Comptario, kk ve orta lekli iletmeler iin bulut tabanl muhasebe zmleri sunar:",features:{invoicing:"Fatura oluturma ve ynetimi",expenses:"Gider takibi ve kategorilendirme",reporting:"Finansal raporlama ve analiz",multiTenant:"oklu mteri ynetimi"}},serviceEmails:{title:"Hizmet E-postalar",content:"E-posta iletiimi yalnzca ilem ve hesapla ilgili bildirimler (dorulama, gvenlik uyarlar, faturalama gibi) iin kullanlr. Pazarlama amal toplu e-posta gnderilmez."},responsibilities:{title:"Kullanc Sorumluluklar",content:"Hizmetimizi kullanrken aadaki sorumluluklarnz bulunmaktadr:",items:{accuracy:"Girdiiniz verilerin doruluunu salamak",compliance:"Yasal dzenlemelere uyum gstermek",security:"Hesap gvenliinizi korumak",backups:"Verilerinizin yedeklerini almak"}},dataProtection:{title:"Veri Koruma",content:"Kiisel verileriniz GDPR ve KVKK dzenlemelerine uygun olarak ilenir. Detayl bilgi iin gizlilik politikamz inceleyiniz."},acceptableUse:{title:"Kabul Edilebilir Kullanm",items:["Hizmet spam, kt amal yazlm datm veya yetkisiz veri toplama iin kullanlamaz","Hesap paylam veya sistemin ktye kullanm yasaktr","Hukuka aykr ierik barndrlamaz veya iletilemez"]},liability:{title:"Sorumluluk Snrlamas",content:"Comptario, hizmet kesintileri veya veri kayplar nedeniyle oluabilecek dolayl zararlardan sorumlu deildir."},termination:{title:"Hizmet Sonlandrma",content:"Bu szleme, taraflardan biri tarafndan 30 gn nceden bildirimde bulunularak sonlandrlabilir."},changes:{title:"art Deiiklikleri",content:"Bu artlar zaman zaman gncellenebilir. nemli deiiklikler e-posta yoluyla bildirilecektir."}},contact:{title:"letiim Bilgileri",email:"E-posta",address:"Adres",company:"irket",addressValue:Dt.address,companyValue:Dt.companyName},backToApp:"Uygulamaya Geri Dn"},en:{title:"Terms of Service",subtitle:"Terms and conditions for using Comptario accounting services",lastUpdated:_c.en,sections:{acceptance:{title:"Acceptance of Terms",content:"These terms of service govern your use of the Comptario accounting platform. By using the service, you agree to these terms."},service:{title:"Service Description",content:"Comptario provides cloud-based accounting solutions for small and medium businesses:",features:{invoicing:"Invoice creation and management",expenses:"Expense tracking and categorization",reporting:"Financial reporting and analysis",multiTenant:"Multi-client management"}},serviceEmails:{title:"Service Emails",content:"We use email only for transactional and account-related communications (e.g., verification, security alerts, billing). We do not send marketing bulk emails."},responsibilities:{title:"User Responsibilities",content:"When using our service, you have the following responsibilities:",items:{accuracy:"Ensure the accuracy of data you enter",compliance:"Comply with legal regulations",security:"Protect your account security",backups:"Backup your data"}},dataProtection:{title:"Data Protection",content:"Your personal data is processed in accordance with GDPR regulations. Please review our privacy policy for detailed information."},acceptableUse:{title:"Acceptable Use",items:["You may not use the service for spam, malware distribution, or unauthorized data scraping","Account sharing or abuse of system resources is prohibited","Illegal content may not be hosted or transmitted"]},liability:{title:"Limitation of Liability",content:"Comptario is not responsible for indirect damages that may occur due to service interruptions or data loss."},termination:{title:"Service Termination",content:"This agreement may be terminated by either party with 30 days' prior notice."},changes:{title:"Changes to Terms",content:"These terms may be updated from time to time. Important changes will be notified via email."}},contact:{title:"Contact Information",email:"Email",address:"Address",company:"Company",addressValue:Dt.address,companyValue:Dt.companyName},backToApp:"Back to App"},de:{title:"Nutzungsbedingungen",subtitle:"Geschftsbedingungen fr die Nutzung der Comptario Buchhaltungsdienste",lastUpdated:_c.de,sections:{acceptance:{title:"Annahme der Bedingungen",content:"Diese Nutzungsbedingungen regeln Ihre Nutzung der Comptario Buchhaltungsplattform. Durch die Nutzung des Dienstes stimmen Sie diesen Bedingungen zu."},service:{title:"Servicebeschreibung",content:"Comptario bietet cloud-basierte Buchhaltungslsungen fr kleine und mittlere Unternehmen:",features:{invoicing:"Rechnungserstellung und -verwaltung",expenses:"Ausgabenverfolgung und -kategorisierung",reporting:"Finanzberichterstattung und -analyse",multiTenant:"Multi-Kunden-Management"}},serviceEmails:{title:"Service-E-Mails",content:"E-Mails werden ausschlielich fr transaktionale und kontobezogene Mitteilungen verwendet (z. B. Verifizierung, Sicherheitswarnungen, Abrechnung). Marketing-Massenmails werden nicht versendet."},responsibilities:{title:"Benutzerverantwortlichkeiten",content:"Bei der Nutzung unseres Dienstes haben Sie folgende Verantwortlichkeiten:",items:{accuracy:"Sicherstellen der Genauigkeit der eingegebenen Daten",compliance:"Einhaltung gesetzlicher Vorschriften",security:"Schutz Ihrer Kontosicherheit",backups:"Sicherung Ihrer Daten"}},dataProtection:{title:"Datenschutz",content:"Ihre personenbezogenen Daten werden gem GDPR-Vorschriften verarbeitet. Bitte lesen Sie unsere Datenschutzrichtlinie fr detaillierte Informationen."},acceptableUse:{title:"Zulssige Nutzung",items:["Keine Nutzung fr Spam, Malware-Verteilung oder unbefugtes Datenscraping","Kontoteilung oder Missbrauch von Systemressourcen ist untersagt","Illegale Inhalte drfen nicht gehostet oder bertragen werden"]},liability:{title:"Haftungsbeschrnkung",content:"Comptario ist nicht verantwortlich fr indirekte Schden, die durch Serviceunterbrechungen oder Datenverlust entstehen knnen."},termination:{title:"Service-Kndigung",content:"Diese Vereinbarung kann von beiden Parteien mit 30-tgiger Vorankndigung gekndigt werden."},changes:{title:"nderungen der Bedingungen",content:"Diese Bedingungen knnen von Zeit zu Zeit aktualisiert werden. Wichtige nderungen werden per E-Mail mitgeteilt."}},contact:{title:"Kontaktinformationen",email:"E-Mail",address:"Adresse",company:"Unternehmen",addressValue:Dt.address,companyValue:Dt.companyName},backToApp:"Zurck zur App"},fr:{title:"Conditions d'utilisation",subtitle:"Termes et conditions pour l'utilisation des services comptables Comptario",lastUpdated:_c.fr,sections:{acceptance:{title:"Acceptation des conditions",content:"Ces conditions d'utilisation rgissent votre utilisation de la plateforme comptable Comptario. En utilisant le service, vous acceptez ces conditions."},service:{title:"Description du service",content:"Comptario fournit des solutions comptables bases sur le cloud pour les petites et moyennes entreprises :",features:{invoicing:"Cration et gestion de factures",expenses:"Suivi et catgorisation des dpenses",reporting:"Rapports financiers et analyse",multiTenant:"Gestion multi-clients"}},serviceEmails:{title:"E-mails de service",content:"Nous utilisons l'e-mail uniquement pour les communications transactionnelles et lies au compte (vrification, alertes de scurit, facturation). Nous n'envoyons pas d'e-mails marketing en masse."},responsibilities:{title:"Responsabilits de l'utilisateur",content:"Lors de l'utilisation de notre service, vous avez les responsabilits suivantes :",items:{accuracy:"Assurer l'exactitude des donnes que vous saisissez",compliance:"Respecter les rglementations lgales",security:"Protger la scurit de votre compte",backups:"Sauvegarder vos donnes"}},dataProtection:{title:"Protection des donnes",content:"Vos donnes personnelles sont traites conformment aux rglementations GDPR. Veuillez consulter notre politique de confidentialit pour des informations dtailles."},acceptableUse:{title:"Utilisation acceptable",items:["Le service ne peut pas tre utilis pour le spam, la distribution de logiciels malveillants ou le scraping non autoris","Le partage de compte ou l'abus des ressources systme est interdit","Les contenus illgaux ne peuvent pas tre hbergs ni transmis"]},liability:{title:"Limitation de responsabilit",content:"Comptario n'est pas responsable des dommages indirects qui peuvent survenir en raison d'interruptions de service ou de perte de donnes."},termination:{title:"Rsiliation du service",content:"Cet accord peut tre rsili par l'une ou l'autre partie avec un pravis de 30 jours."},changes:{title:"Modifications des conditions",content:"Ces conditions peuvent tre mises  jour de temps  autre. Les modifications importantes seront notifies par e-mail."}},contact:{title:"Informations de contact",email:"Email",address:"Adresse",company:"Entreprise",addressValue:Dt.address,companyValue:Dt.companyName},backToApp:"Retour  l'application"}},f=t[x]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Or,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600",children:f.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-500",children:[e.jsx(Dr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:f.lastUpdated})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Wr,{className:"h-6 w-6 mr-2 text-blue-600"}),f.sections.acceptance.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.acceptance.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.serviceEmails.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.serviceEmails.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.service.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.service.content}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:f.sections.service.features.invoicing}),e.jsx("li",{children:f.sections.service.features.expenses}),e.jsx("li",{children:f.sections.service.features.reporting}),e.jsx("li",{children:f.sections.service.features.multiTenant})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.responsibilities.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.responsibilities.content}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:f.sections.responsibilities.items.accuracy}),e.jsx("li",{children:f.sections.responsibilities.items.compliance}),e.jsx("li",{children:f.sections.responsibilities.items.security}),e.jsx("li",{children:f.sections.responsibilities.items.backups})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Cs,{className:"h-6 w-6 mr-2 text-green-600"}),f.sections.dataProtection.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.dataProtection.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.liability.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.liability.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.acceptableUse.title}),Array.isArray(f.sections.acceptableUse.items)?e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.acceptableUse.items.map((m,d)=>e.jsx("li",{children:m},d))}):e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.acceptableUse.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.termination.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.termination.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.changes.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.changes.content})]}),e.jsxs("section",{className:"border-t border-gray-200 pt-8 mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.contact.title}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[f.contact.email,":"]})," ",Dt.email]}),e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[f.contact.address,":"]})," ",f.contact.addressValue]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[f.contact.company,":"]})," ",f.contact.companyValue]})]})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",f.backToApp]})})]})})},eg=()=>{const{i18n:k}=Vt("common"),x=k.language,t={tr:{title:"Gizlilik Politikas",subtitle:"Kiisel verilerinizi nasl topladmz, kullandmz ve koruduumuz",sections:{introduction:{title:"Giri",content:"Comptario olarak, gizliliinizi ciddiye alyoruz. Bu gizlilik politikas, kiisel verilerinizi nasl topladmz, kullandmz, paylatmz ve koruduumuzu aklar."},dataController:{title:"Veri Sorumlusu",content:`Veri sorumlusu: ${Dt.companyName}. Adres: ${Dt.address}. letiim: ${Dt.dataProtectionEmail}`},dataCollection:{title:"Topladmz Veriler",personal:{title:"Kiisel Bilgiler",items:["Adnz ve soyadnz","E-posta adresiniz","irket adnz","Telefon numaranz (istee bal)"]},business:{title:" Verileri",items:["Fatura bilgileri ve mteri verileri","Gider kaytlar ve tedariki bilgileri","Mteri iletiim bilgileri","Finansal raporlar ve vergi bilgileri"]}},dataUsage:{title:"Verileri Nasl Kullanyoruz",items:["Muhasebe hizmetlerini salamak","Mteri destei sunmak","Hizmetlerimizi gelitirmek","Yasal ykmllklerimizi yerine getirmek"]},dataSecurity:{title:"Veri Gvenlii",content:"Verilerinizi korumak iin endstri standard gvenlik nlemleri alyoruz.",items:["SSL/TLS ifreleme","Snrl eriim kontrolleri","Srekli gvenlik izleme","Dzenli veri yedekleme"]},legalBases:{title:"leme Hukuki Dayanaklar (GDPR md. 6)",items:["Ak rza (md. 6/1-a)","Szlemenin ifas iin gereklilik (md. 6/1-b)","Hukuki ykmlle uyum (md. 6/1-c)","Meru menfaat (md. 6/1-f)  kullanc beklentileri ve gizlilikle dengelenmitir"]},dataRetention:{title:"Veri Saklama Sreleri",items:["Hesap ve faturalama verileri: vergi mevzuat gerei en az 10 yl","Destek kaytlar: en fazla 24 ay","Analitik veriler: 14-26 ay arasnda (ara ayarna bal)","erez tercihleri: tercih sresi boyunca veya silinene kadar"]},userRights:{title:"GDPR Haklarnz",content:"GDPR kapsamnda aadaki haklara sahipsiniz:",items:["Verilerinize eriim hakk","Verilerin dzeltilmesi hakk","Verilerin silinmesi hakk","Veri tanabilirlii hakk"]},complaints:{title:"ikayet ve Bavuru",content:"Veri koruma haklarnzn ihlal edildiini dnyorsanz, ncelikle bizimle iletiime geebilirsiniz. Ayrca ikamet ettiiniz lkedeki yetkili veri koruma otoritesine ikayette bulunma hakkna sahipsiniz."},contact:{title:"letiim",content:"Gizlilik ile ilgili sorularnz iin bizimle iletiime geebilirsiniz:",email:Dt.dataProtectionEmail}}},en:{title:"Privacy Policy",subtitle:"How we collect, use, and protect your personal data",sections:{introduction:{title:"Introduction",content:"At Comptario, we take your privacy seriously. This privacy policy explains how we collect, use, share, and protect your personal data."},dataController:{title:"Data Controller",content:`Data Controller: ${Dt.companyName}. Address: ${Dt.address}. Contact: ${Dt.dataProtectionEmail}`},dataCollection:{title:"Data We Collect",personal:{title:"Personal Information",items:["Your name and surname","Your email address","Your company name","Your phone number (optional)"]},business:{title:"Business Data",items:["Invoice information and customer data","Expense records and supplier information","Customer contact information","Financial reports and tax information"]}},dataUsage:{title:"How We Use Your Data",items:["To provide accounting services","To provide customer support","To improve our services","To fulfill our legal obligations"]},dataSecurity:{title:"Data Security",content:"We implement industry-standard security measures to protect your data.",items:["SSL/TLS encryption","Limited access controls","Continuous security monitoring","Regular data backups"]},legalBases:{title:"Legal Bases for Processing (GDPR Art. 6)",items:["Consent (Art. 6(1)(a))","Contract necessity (Art. 6(1)(b))","Legal obligation (Art. 6(1)(c))","Legitimate interests (Art. 6(1)(f))  balanced with user privacy"]},dataRetention:{title:"Data Retention",items:["Account and invoicing data: at least 10 years due to tax laws","Support tickets and communications: up to 24 months","Analytics data: 1426 months (tool configuration dependent)","Cookie preferences: for the duration of your choice or until cleared"]},userRights:{title:"Your GDPR Rights",content:"Under GDPR, you have the following rights:",items:["Right to access your data","Right to rectify your data","Right to erase your data","Right to data portability"]},complaints:{title:"Complaints",content:"If you believe your data protection rights have been violated, please contact us first. You also have the right to lodge a complaint with your local data protection authority."},contact:{title:"Contact",content:"For privacy-related questions, please contact us:",email:Dt.dataProtectionEmail}}},de:{title:"Datenschutzrichtlinie",subtitle:"Wie wir Ihre personenbezogenen Daten sammeln, verwenden und schtzen",sections:{introduction:{title:"Einfhrung",content:"Bei Comptario nehmen wir Ihre Privatsphre ernst. Diese Datenschutzrichtlinie erklrt, wie wir Ihre personenbezogenen Daten sammeln, verwenden, teilen und schtzen."},dataController:{title:"Verantwortlicher (Controller)",content:`Verantwortlicher: ${Dt.companyName}. Adresse: ${Dt.address}. Kontakt: ${Dt.dataProtectionEmail}`},dataCollection:{title:"Daten, die wir sammeln",personal:{title:"Persnliche Informationen",items:["Ihr Vor- und Nachname","Ihre E-Mail-Adresse","Ihr Firmenname","Ihre Telefonnummer (optional)"]},business:{title:"Geschftsdaten",items:["Rechnungsinformationen und Kundendaten","Ausgabenaufzeichnungen und Lieferanteninformationen","Kundenkontaktinformationen","Finanzberichte und Steuerinformationen"]}},dataUsage:{title:"Wie wir Ihre Daten verwenden",items:["Zur Bereitstellung von Buchhaltungsdiensten","Zur Bereitstellung von Kundensupport","Zur Verbesserung unserer Dienste","Zur Erfllung unserer rechtlichen Verpflichtungen"]},dataSecurity:{title:"Datensicherheit",content:"Wir implementieren branchenbliche Sicherheitsmanahmen zum Schutz Ihrer Daten.",items:["SSL/TLS-Verschlsselung","Begrenzte Zugriffskontrollen","Kontinuierliche Sicherheitsberwachung","Regelmige Datensicherungen"]},legalBases:{title:"Rechtsgrundlagen der Verarbeitung (Art. 6 DSGVO)",items:["Einwilligung (Art. 6 Abs. 1 lit. a)","Vertragserfllung (Art. 6 Abs. 1 lit. b)","Rechtliche Verpflichtung (Art. 6 Abs. 1 lit. c)","Berechtigte Interessen (Art. 6 Abs. 1 lit. f)  unter Wahrung der Privatsphre"]},dataRetention:{title:"Aufbewahrungsfristen",items:["Konto- und Rechnungsdaten: mindestens 10 Jahre (Steuerrecht)","Support-Kommunikation: bis zu 24 Monate","Analysedaten: 1426 Monate (werkzeugspezifisch)","Cookie-Einstellungen: fr die gewhlte Dauer bzw. bis zur Lschung"]},userRights:{title:"Ihre GDPR-Rechte",content:"Unter der GDPR haben Sie folgende Rechte:",items:["Recht auf Zugang zu Ihren Daten","Recht auf Berichtigung Ihrer Daten","Recht auf Lschung Ihrer Daten","Recht auf Datenbertragbarkeit"]},complaints:{title:"Beschwerderecht",content:"Wenn Sie der Ansicht sind, dass Ihre Datenschutzrechte verletzt wurden, kontaktieren Sie uns bitte zunchst. Sie haben auerdem das Recht, eine Beschwerde bei der zustndigen Datenschutzaufsichtsbehrde einzureichen."},contact:{title:"Kontakt",content:"Fr datenschutzbezogene Fragen kontaktieren Sie uns bitte:",email:Dt.dataProtectionEmail}}},fr:{title:"Politique de confidentialit",subtitle:"Comment nous collectons, utilisons et protgeons vos donnes personnelles",sections:{introduction:{title:"Introduction",content:"Chez Comptario, nous prenons votre vie prive au srieux. Cette politique de confidentialit explique comment nous collectons, utilisons, partageons et protgeons vos donnes personnelles."},dataController:{title:"Responsable du traitement",content:`Responsable: ${Dt.companyName}. Adresse: ${Dt.address}. Contact: ${Dt.dataProtectionEmail}`},dataCollection:{title:"Donnes que nous collectons",personal:{title:"Informations personnelles",items:["Votre nom et prnom","Votre adresse e-mail","Le nom de votre entreprise","Votre numro de tlphone (optionnel)"]},business:{title:"Donnes commerciales",items:["Informations de facturation et donnes client","Enregistrements de dpenses et informations fournisseur","Informations de contact client","Rapports financiers et informations fiscales"]}},dataUsage:{title:"Comment nous utilisons vos donnes",items:["Pour fournir des services comptables","Pour fournir un support client","Pour amliorer nos services","Pour respecter nos obligations lgales"]},dataSecurity:{title:"Scurit des donnes",content:"Nous mettons en uvre des mesures de scurit standards de l'industrie pour protger vos donnes.",items:["Chiffrement SSL/TLS","Contrles d'accs limits","Surveillance de scurit continue","Sauvegardes rgulires des donnes"]},legalBases:{title:"Bases lgales du traitement (RGPD art. 6)",items:["Consentement (art. 6(1)(a))","Ncessit contractuelle (art. 6(1)(b))","Obligation lgale (art. 6(1)(c))","Intrts lgitimes (art. 6(1)(f))  quilibrs avec la vie prive"]},dataRetention:{title:"Dures de conservation",items:["Donnes de compte et de facturation : au moins 10 ans (obligations fiscales)","Tickets de support : jusqu' 24 mois","Donnes analytiques : 1426 mois (selon l'outil)","Prfrences cookies : pendant la dure choisie ou jusqu' suppression"]},userRights:{title:"Vos droits GDPR",content:"Sous le GDPR, vous avez les droits suivants:",items:["Droit d'accs  vos donnes","Droit de rectification de vos donnes","Droit d'effacement de vos donnes","Droit  la portabilit des donnes"]},complaints:{title:"Rclamations",content:"Si vous estimez que vos droits en matire de protection des donnes ont t viols, veuillez d'abord nous contacter. Vous avez galement le droit d'introduire une rclamation auprs de l'autorit de protection des donnes comptente."},contact:{title:"Contact",content:"Pour les questions lies  la confidentialit, veuillez nous contacter:",email:Dt.dataProtectionEmail}}}},f=t[x]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Cs,{className:"h-8 w-8 text-green-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600",children:f.subtitle}),e.jsx("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-500",children:e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full font-medium",children:"GDPR Compliant"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ss,{className:"h-6 w-6 mr-2 text-blue-600"}),f.sections.introduction.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.introduction.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(hs,{className:"h-6 w-6 mr-2 text-blue-600"}),f.sections.dataController.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.dataController.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ji,{className:"h-6 w-6 mr-2 text-orange-600"}),f.sections.dataCollection.title]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:f.sections.dataCollection.personal.title}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-6",children:f.sections.dataCollection.personal.items.map((m,d)=>e.jsx("li",{children:m},d))}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:f.sections.dataCollection.business.title}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-6",children:f.sections.dataCollection.business.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(vn,{className:"h-6 w-6 mr-2 text-purple-600"}),f.sections.dataUsage.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.dataUsage.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Cs,{className:"h-6 w-6 mr-2 text-red-600"}),f.sections.dataSecurity.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.dataSecurity.content}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.dataSecurity.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Cs,{className:"h-6 w-6 mr-2 text-green-600"}),f.sections.legalBases.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.legalBases.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ji,{className:"h-6 w-6 mr-2 text-orange-600"}),f.sections.dataRetention.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.dataRetention.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(hs,{className:"h-6 w-6 mr-2 text-green-600"}),f.sections.userRights.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.userRights.content}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:f.sections.userRights.items.map((m,d)=>e.jsx("li",{children:m},d))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Pn,{className:"h-6 w-6 mr-2 text-blue-600"}),f.sections.complaints.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.complaints.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Pn,{className:"h-6 w-6 mr-2 text-blue-600"}),f.sections.contact.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.contact.content}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:e.jsx("p",{className:"text-blue-800 font-medium",children:f.sections.contact.email})})]})]})})]})})},tg=()=>{const[k,x]=Z.useState(null),[t,f]=Z.useState(!0),[m,d]=Z.useState(null),{currentLanguage:s}=Ca(),a={tr:{title:"Alt lemci Listesi",subtitle:"Comptario tarafndan kiisel veri ileme faaliyetleri iin kullanlan alt ilemcilerin tam listesi",lastUpdated:"Son gncelleme",loading:"Alt ilemciler ykleniyor...",error:"Alt ilemciler yklenirken hata olutu",retry:"Tekrar Dene",noData:"Veri bulunamadi",provider:"Salayc",purpose:"Ama",region:"Blge",dataCategories:"Veri Kategorileri",dpaStatus:"DPA Durumu",available:"Mevcut",purposes:{hosting:"Bulut barndrma ve altyap hizmetleri",payment:"deme ileme ve finansal hizmetler",email:"E-posta teslimat ve iletiim hizmetleri",analytics:"Web sitesi analitik ve performans izleme",cdn:"erik datm a ve gvenlik hizmetleri"},categories:{technical:"Teknik veri",user:"Kullanc verisi",transaction:"lem verisi",payment:"deme verisi",customer:"Mteri verisi",email:"E-posta adresleri",communication:"letiim verisi",usage:"Kullanm verisi",analytics:"Analitik veri",security:"Gvenlik kaytlar"}},en:{title:"Subprocessors List",subtitle:"Complete list of subprocessors used by Comptario for personal data processing activities",lastUpdated:"Last updated",loading:"Loading subprocessors...",error:"Error loading subprocessors",retry:"Retry",noData:"No data available",provider:"Provider",purpose:"Purpose",region:"Region",dataCategories:"Data Categories",dpaStatus:"DPA Status",available:"Available",purposes:{hosting:"Cloud hosting and infrastructure services",payment:"Payment processing and financial services",email:"Email delivery and communication services",analytics:"Website analytics and performance monitoring",cdn:"Content delivery network and security services"},categories:{technical:"Technical data",user:"User data",transaction:"Transaction data",payment:"Payment data",customer:"Customer data",email:"Email addresses",communication:"Communication data",usage:"Usage data",analytics:"Analytics data",security:"Security logs"}},de:{title:"Auftragsverarbeiter Liste",subtitle:"Vollstndige Liste der von Comptario fr die Verarbeitung personenbezogener Daten verwendeten Auftragsverarbeiter",lastUpdated:"Zuletzt aktualisiert",loading:"Auftragsverarbeiter werden geladen...",error:"Fehler beim Laden der Auftragsverarbeiter",retry:"Wiederholen",noData:"Keine Daten verfgbar",provider:"Anbieter",purpose:"Zweck",region:"Region",dataCategories:"Datenkategorien",dpaStatus:"DPA Status",available:"Verfgbar",purposes:{hosting:"Cloud-Hosting und Infrastrukturdienste",payment:"Zahlungsabwicklung und Finanzdienstleistungen",email:"E-Mail-Zustellung und Kommunikationsdienste",analytics:"Website-Analyse und Leistungsberwachung",cdn:"Content Delivery Network und Sicherheitsdienste"},categories:{technical:"Technische Daten",user:"Benutzerdaten",transaction:"Transaktionsdaten",payment:"Zahlungsdaten",customer:"Kundendaten",email:"E-Mail-Adressen",communication:"Kommunikationsdaten",usage:"Nutzungsdaten",analytics:"Analysedaten",security:"Sicherheitsprotokolle"}},fr:{title:"Liste des Sous-traitants",subtitle:"Liste complte des sous-traitants utiliss par Comptario pour les activits de traitement des donnes personnelles",lastUpdated:"Dernire mise  jour",loading:"Chargement des sous-traitants...",error:"Erreur lors du chargement des sous-traitants",retry:"Ressayer",noData:"Aucune donne disponible",provider:"Fournisseur",purpose:"Objectif",region:"Rgion",dataCategories:"Catgories de Donnes",dpaStatus:"Statut DPA",available:"Disponible",purposes:{hosting:"Services d'hbergement cloud et d'infrastructure",payment:"Services de traitement des paiements et financiers",email:"Services de livraison d'e-mails et de communication",analytics:"Analyse de site web et surveillance des performances",cdn:"Rseau de diffusion de contenu et services de scurit"},categories:{technical:"Donnes techniques",user:"Donnes utilisateur",transaction:"Donnes de transaction",payment:"Donnes de paiement",customer:"Donnes client",email:"Adresses e-mail",communication:"Donnes de communication",usage:"Donnes d'utilisation",analytics:"Donnes analytiques",security:"Journaux de scurit"}}};Z.useEffect(()=>{(async()=>{try{wr.info("Loading subprocessors data...");const o={subprocessors:[{id:"1",name:"Amazon Web Services (AWS) - SES (Frankfurt, eu-central-1)",purpose:"Transactional email delivery and infrastructure (no marketing emails)",region:"EU (Frankfurt)",dataCategories:["Email addresses","Transactional metadata","Technical delivery logs"],dpaLink:"https://aws.amazon.com/compliance/gdpr-center/",lastUpdated:"2025-11-10"},{id:"2",name:"Stripe Inc.",purpose:"Payment processing and financial services",region:"US, EU",dataCategories:["Payment data","Transaction data","Customer data"],dpaLink:"https://stripe.com/privacy",lastUpdated:"2025-11-10"},{id:"3",name:"Google Analytics",purpose:"Website analytics and performance monitoring",region:"US, EU",dataCategories:["Usage data","Analytics data","Technical data"],dpaLink:"https://privacy.google.com/businesses/processorterms/",lastUpdated:"2025-11-10"},{id:"4",name:"Cloudflare Inc.",purpose:"Content delivery network and security services",region:"Global",dataCategories:["Technical data","Security logs"],dpaLink:"https://www.cloudflare.com/cloudflare-customer-dpa/",lastUpdated:"2025-11-10"}],lastModified:"2025-11-10T10:00:00Z",version:"1.1",changelog:[{date:"2025-10-30",version:"1.0",changes:["Initial subprocessors list created"],author:"Legal Team"},{date:"2025-11-10",version:"1.1",changes:["Removed SendGrid (no longer used)","Refined AWS SES Frankfurt entry with scope clarification"],author:"Legal Team"}]};wr.debug("Using hardcoded data:",o),x(o)}catch(o){console.error("Error loading subprocessors:",o),d("Failed to load subprocessors")}finally{f(!1)}})()},[]);const i=l=>l.includes("EU")?"":l.includes("US")?"":(l.includes("Global"),""),r=l=>{const o={tr:{"Amazon Web Services (AWS)":{name:"Amazon Web Services (AWS)",purpose:"Bulut barndrma ve altyap hizmetleri",categories:["Teknik veri","Kullanc verisi","lem verisi"]},"Stripe Inc.":{name:"Stripe Inc.",purpose:"deme ileme ve finansal hizmetler",categories:["deme verisi","lem verisi","Mteri verisi"]},"SendGrid Inc.":{name:"SendGrid Inc.",purpose:"E-posta teslimat ve iletiim hizmetleri",categories:["E-posta adresleri","letiim verisi"]},"Google Analytics":{name:"Google Analytics",purpose:"Web sitesi analitik ve performans izleme",categories:["Kullanm verisi","Analitik veri","Teknik veri"]},"Cloudflare Inc.":{name:"Cloudflare Inc.",purpose:"erik datm a ve gvenlik hizmetleri",categories:["Teknik veri","Gvenlik kaytlar"]}}};return s==="tr"&&o.tr[l.name]?o.tr[l.name]:{name:l.name,purpose:l.purpose,categories:l.dataCategories}},n=a[s];return t?e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:n.loading})]})}):m?e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:n.error}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:n.retry})]})}):k?e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(Hc,{className:"h-8 w-8 text-indigo-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:n.title}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:n.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-6 text-sm text-gray-500",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[n.lastUpdated,": ",new Date(k.lastModified).toLocaleDateString()]})]})]}),e.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.provider}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.purpose}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.region}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.dataCategories}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.dpaStatus})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.subprocessors.map((l,o)=>{const c=r(l);return e.jsxs("tr",{className:o%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:c.purpose})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx("span",{className:"mr-2",children:i(l.region)}),l.region]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:c.categories.join(", ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("a",{href:l.dpaLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 underline",children:n.available})]})})]},l.id)})})]})})}),e.jsx("div",{className:"lg:hidden space-y-6",children:k.subprocessors.map(l=>{const o=r(l);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:o.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Pn,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"mr-2",children:i(l.region)}),l.region]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("a",{href:l.dpaLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 underline",children:"DPA"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n.purpose}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:o.purpose})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n.dataCategories}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:o.categories.map((c,p)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:c},p))})})]})]})]},l.id)})}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsxs("p",{children:[n.lastUpdated,": ",new Date(k.lastModified).toLocaleDateString()]})})]})}):e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:n.noData})})})},rg=()=>{const{currentLanguage:k}=Ca(),x={tr:{title:"Veri leme Szlemesi (DPA)",subtitle:"Comptario ile mteriler arasndaki kiisel veri ileme szlemesi ve GDPR uyumluluk bilgileri",lastUpdated:"Son gncelleme",overview:"Genel Bak",overviewText:"Bu Veri leme Szlemesi (DPA), Comptario hizmetlerini kullanan mterilerimiz ile aramzdaki kiisel veri ileme faaliyetlerini dzenler ve GDPR (Genel Veri Koruma Ynetmelii) uyumluluunu salar.",sections:{definitions:{title:"Tanmlar",items:[{term:"Veri Sorumlusu",definition:"Comptario hizmetlerini kullanan ve kiisel verilerin ilenme amalarn ve aralarn belirleyen kurulu."},{term:"Veri leyici",definition:"Veri sorumlusu adna kiisel verileri ileyen Comptario irketi."},{term:"Kiisel Veri",definition:"Kimlii belirli veya belirlenebilir gerek kiiye ilikin her trl bilgi."},{term:"leme",definition:"Kiisel veriler zerinde gerekletirilen her trl ilem (toplama, kaydetme, dzenleme, deitirme, sorgulama, kullanma, aktarma, yaygnlatrma, snflandrma, silme vb.)."}]},processing:{title:"Veri leme Detaylar",categories:{title:"lenen Veri Kategorileri",items:["Kimlik bilgileri (ad, soyad, e-posta)","letiim bilgileri (telefon, adres)","Finansal veriler (fatura bilgileri, deme kaytlar)"," verileri (mteri kaytlar, rn bilgileri)","Teknik veriler (IP adresi, kullanm kaytlar)"]},purposes:{title:"leme Amalar",items:["Muhasebe ve finansal hizmetlerin salanmas","Mteri destek hizmetleri","Sistem gvenlii ve performans optimizasyonu","Yasal ykmllklerin yerine getirilmesi","Hizmet gelitirme ve analiz"]},subjects:{title:"Veri Konusu Kategorileri",items:["Mteri temsilcileri","Son kullanclar","Tedarikiler"," ortaklar","Web sitesi ziyaretileri"]}},obligations:{title:"Comptario'nun Ykmllkleri",items:["Kiisel verileri yalnzca mterinin talimatlar dorultusunda ileme","Uygun teknik ve organizasyonel gvenlik nlemlerini uygulama","Personel gizlilik ykmllklerini salama","Alt ilemci kullanmnda mteri onay alma","Veri ihlallerini gecikmeksizin bildirme","Veri konularnn haklarn kullanmasna yardmc olma","Mterinin denetim haklarn destekleme"]},security:{title:"Gvenlik nlemleri",items:["Veri ifreleme (transit ve rest halinde)","Eriim kontrol ve kimlik dorulama","Dzenli gvenlik testleri ve penetrasyon testleri","Personel gvenlik eitimleri","Olay mdahale prosedrleri","Dzenli gvenlik gncellemeleri"]},internationalTransfers:{title:"Uluslararas Aktarmlar",content:"Kiisel veriler ncelikle AB/AEA iinde ilenir. nc lkelere aktarm gerekirse, Aktarm Etki Deerlendirmesi yaplr ve Standart Szleme Hkmleri (SCCs) ile ek teknik/organizasyonel nlemler uygulanr."},additionalSecurity:{title:"Ek Gvenlik Tedbirleri",items:["Mmkn olduunda mteri verilerinin sahte/anonimletirilmesi","Ayr retim ve test ortamlar","Eriimlerin en az ayrcalk ilkesine gre snrlandrlmas"]},dataSubjects:{title:"Veri Konusu Haklar",items:["Bilgilendirilme hakk","Eriim hakk","Dzeltme hakk",'Silme hakk ("unutulma hakk")',"lemeyi kstlama hakk","Veri tanabilirlii hakk","tiraz etme hakk"]},contact:{title:"letiim Bilgileri",dpo:"Veri Koruma Sorumlusu",email:Dt.dataProtectionEmail,address:`${Dt.companyName}, ${Dt.address}`,phone:""}}},en:{title:"Data Processing Agreement (DPA)",subtitle:"Personal data processing agreement between Comptario and customers and GDPR compliance information",lastUpdated:"Last updated",overview:"Overview",overviewText:"This Data Processing Agreement (DPA) governs the personal data processing activities between Comptario and our customers using our services, ensuring GDPR (General Data Protection Regulation) compliance.",sections:{definitions:{title:"Definitions",items:[{term:"Data Controller",definition:"The organization using Comptario services that determines the purposes and means of personal data processing."},{term:"Data Processor",definition:"Comptario company that processes personal data on behalf of the data controller."},{term:"Personal Data",definition:"Any information relating to an identified or identifiable natural person."},{term:"Processing",definition:"Any operation performed on personal data (collection, recording, organization, structuring, storage, adaptation, retrieval, consultation, use, disclosure, transmission, dissemination, alignment, combination, restriction, erasure, or destruction)."}]},processing:{title:"Data Processing Details",categories:{title:"Categories of Personal Data",items:["Identity information (name, surname, email)","Contact information (phone, address)","Financial data (invoice information, payment records)","Business data (customer records, product information)","Technical data (IP address, usage logs)"]},purposes:{title:"Purposes of Processing",items:["Providing accounting and financial services","Customer support services","System security and performance optimization","Compliance with legal obligations","Service development and analysis"]},subjects:{title:"Categories of Data Subjects",items:["Customer representatives","End users","Suppliers","Business partners","Website visitors"]}},obligations:{title:"Comptario's Obligations",items:["Process personal data only on customer instructions","Implement appropriate technical and organizational security measures","Ensure staff confidentiality obligations","Obtain customer approval for sub-processor usage","Notify data breaches without delay","Assist with data subject rights exercises","Support customer audit rights"]},security:{title:"Security Measures",items:["Data encryption (in transit and at rest)","Access control and authentication","Regular security testing and penetration tests","Staff security training","Incident response procedures","Regular security updates"]},internationalTransfers:{title:"International Transfers",content:"Personal data is primarily processed within the EU/EEA. Where transfers to third countries occur, Transfer Impact Assessments are conducted and Standard Contractual Clauses (SCCs) plus supplementary technical/organizational measures are applied."},additionalSecurity:{title:"Additional Security Measures",items:["Pseudonymization/Anonymization of customer data when possible","Separated production and test environments","Least-privilege access controls enforced"]},dataSubjects:{title:"Data Subject Rights",items:["Right to be informed","Right of access","Right to rectification",'Right to erasure ("right to be forgotten")',"Right to restrict processing","Right to data portability","Right to object"]},contact:{title:"Contact Information",dpo:"Data Protection Officer",email:Dt.dataProtectionEmail,address:`${Dt.companyName}, ${Dt.address}`,phone:""}}},de:{title:"Datenverarbeitungsvertrag (DPA)",subtitle:"Vereinbarung zur Verarbeitung personenbezogener Daten zwischen Comptario und Kunden sowie DSGVO-Compliance-Informationen",lastUpdated:"Zuletzt aktualisiert",overview:"berblick",overviewText:"Diese Vereinbarung ber die Auftragsverarbeitung (DPA) regelt die Verarbeitung personenbezogener Daten zwischen Comptario und unseren Kunden und stellt die Einhaltung der DSGVO sicher.",sections:{definitions:{title:"Definitionen",items:[{term:"Datenverantwortlicher",definition:"Die Organisation, die Comptario-Dienste nutzt und die Zwecke und Mittel der Verarbeitung personenbezogener Daten bestimmt."},{term:"Datenverarbeiter",definition:"Das Unternehmen Comptario, das personenbezogene Daten im Auftrag des Datenverantwortlichen verarbeitet."},{term:"Personenbezogene Daten",definition:"Alle Informationen, die sich auf eine identifizierte oder identifizierbare natrliche Person beziehen."},{term:"Verarbeitung",definition:"Jeder Vorgang im Zusammenhang mit personenbezogenen Daten (Erhebung, Erfassung, Organisation, Strukturierung, Speicherung, Anpassung, Abruf, Einsichtnahme, Verwendung, Offenlegung, bermittlung, Verbreitung, Abgleich, Kombination, Einschrnkung, Lschung oder Vernichtung)."}]},processing:{title:"Details zur Datenverarbeitung",categories:{title:"Kategorien personenbezogener Daten",items:["Identittsinformationen (Name, Nachname, E-Mail)","Kontaktinformationen (Telefon, Adresse)","Finanzdaten (Rechnungsinformationen, Zahlungsaufzeichnungen)","Geschftsdaten (Kundendatenstze, Produktinformationen)","Technische Daten (IP-Adresse, Nutzungsprotokolle)"]},purposes:{title:"Zwecke der Verarbeitung",items:["Bereitstellung von Buchhaltungs- und Finanzdienstleistungen","Kundensupport-Services","Systemsicherheit und Leistungsoptimierung","Einhaltung gesetzlicher Verpflichtungen","Serviceentwicklung und Analyse"]},subjects:{title:"Kategorien von betroffenen Personen",items:["Kundenvertreter","Endbenutzer","Lieferanten","Geschftspartner","Website-Besucher"]}},obligations:{title:"Verpflichtungen von Comptario",items:["Verarbeitung personenbezogener Daten nur nach Kundenanweisungen","Umsetzung angemessener technischer und organisatorischer Sicherheitsmanahmen","Gewhrleistung der Vertraulichkeitsverpflichtungen der Mitarbeiter","Einholung der Genehmigung des Kunden fr die Nutzung von Unterauftragsverarbeitern","Unverzgliche Meldung von Datenschutzverletzungen","Untersttzung bei der Ausbung von Rechten betroffener Personen","Untersttzung der Audit-Rechte des Kunden"]},security:{title:"Sicherheitsmanahmen",items:["Datenverschlsselung (bei bertragung und im Ruhezustand)","Zugriffskontrolle und Authentifizierung","Regelmige Sicherheitstests und Penetrationstests","Sicherheitsschulungen fr Mitarbeiter","Vorfallerkennungs- und Reaktionsverfahren","Regelmige Sicherheitsupdates"]},internationalTransfers:{title:"Internationale bermittlungen",content:"Personenbezogene Daten werden primr innerhalb der EU/des EWR verarbeitet. Bei bermittlungen in Drittlnder werden Transfer Impact Assessments durchgefhrt und Standardvertragsklauseln (SCCs) sowie zustzliche technische/organisatorische Manahmen angewandt."},additionalSecurity:{title:"Zustzliche Sicherheitsmanahmen",items:["Pseudonymisierung/Anonymisierung von Kundendaten, wenn mglich","Getrennte Produktions- und Testumgebungen","Durchsetzung des Least-Privilege-Prinzips beim Zugriff"]},dataSubjects:{title:"Rechte der betroffenen Personen",items:["Recht auf Information","Recht auf Auskunft","Recht auf Berichtigung",'Recht auf Lschung ("Recht auf Vergessenwerden")',"Recht auf Einschrnkung der Verarbeitung","Recht auf Datenbertragbarkeit","Widerspruchsrecht"]},contact:{title:"Kontaktinformationen",dpo:"Datenschutzbeauftragter",email:Dt.dataProtectionEmail,address:`${Dt.companyName}, ${Dt.address}`,phone:""}}},fr:{title:"Accord de Traitement des Donnes (DPA)",subtitle:"Accord de traitement des donnes personnelles entre Comptario et les clients et informations de conformit RGPD",lastUpdated:"Dernire mise  jour",overview:"Aperu",overviewText:"Cet Accord de Traitement des Donnes (DPA) rgit les activits de traitement des donnes personnelles entre Comptario et nos clients utilisant nos services, garantissant la conformit au RGPD.",sections:{definitions:{title:"Dfinitions",items:[{term:"Responsable du Traitement",definition:"L'organisation utilisant les services Comptario qui dtermine les finalits et les moyens du traitement des donnes personnelles."},{term:"Sous-traitant",definition:"La socit Comptario qui traite les donnes personnelles pour le compte du responsable du traitement."},{term:"Donnes Personnelles",definition:"Toute information concernant une personne physique identifie ou identifiable."},{term:"Traitement",definition:"Toute opration effectue sur des donnes personnelles (collecte, enregistrement, organisation, structuration, conservation, adaptation, extraction, consultation, utilisation, communication, diffusion, rapprochement, interconnexion, limitation, effacement ou destruction)."}]},processing:{title:"Dtails du Traitement des Donnes",categories:{title:"Catgories de Donnes Personnelles",items:["Informations d'identit (nom, prnom, email)","Informations de contact (tlphone, adresse)","Donnes financires (informations de facturation, enregistrements de paiement)","Donnes commerciales (dossiers clients, informations produits)","Donnes techniques (adresse IP, journaux d'utilisation)"]},purposes:{title:"Finalits du Traitement",items:["Fourniture de services comptables et financiers","Services de support client","Scurit du systme et optimisation des performances","Respect des obligations lgales","Dveloppement et analyse des services"]},subjects:{title:"Catgories de Personnes Concernes",items:["Reprsentants clients","Utilisateurs finaux","Fournisseurs","Partenaires commerciaux","Visiteurs du site web"]}},obligations:{title:"Obligations de Comptario",items:["Traiter les donnes personnelles uniquement selon les instructions du client","Mettre en uvre des mesures de scurit techniques et organisationnelles appropries","Assurer les obligations de confidentialit du personnel","Obtenir l'approbation du client pour l'utilisation de sous-traitants","Notifier les violations de donnes sans dlai","Assister dans l'exercice des droits des personnes concernes","Soutenir les droits d'audit du client"]},security:{title:"Mesures de Scurit",items:["Chiffrement des donnes (en transit et au repos)","Contrle d'accs et authentification","Tests de scurit rguliers et tests de pntration","Formation  la scurit du personnel","Procdures de rponse aux incidents","Mises  jour de scurit rgulires"]},internationalTransfers:{title:"Transferts internationaux",content:"Les donnes personnelles sont principalement traites au sein de l'UE/EEE. En cas de transferts vers des pays tiers, des valuations d'impact sur les transferts sont ralises et les Clauses Contractuelles Types (CCT) ainsi que des mesures techniques/organisationnelles supplmentaires sont appliques."},additionalSecurity:{title:"Mesures de scurit supplmentaires",items:["Pseudonymisation/Anonymisation des donnes clients lorsque possible","Environnements de production et de test spars","Contrles daccs selon le principe du moindre privilge"]},dataSubjects:{title:"Droits des Personnes Concernes",items:["Droit d'tre inform","Droit daccs","Droit de rectification",`Droit  l'effacement ("droit  l'oubli")`,"Droit de limiter le traitement","Droit  la portabilit des donnes","Droit d'opposition"]},contact:{title:"Informations de Contact",dpo:"Dlgu  la Protection des Donnes",email:Dt.dataProtectionEmail,address:`${Dt.companyName}, ${Dt.address}`,phone:""}}}},t=x[k]||x.tr;return e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Or,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:t.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-6 text-sm text-gray-500",children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.lastUpdated,": 10.11.2025"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Cs,{className:"h-6 w-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.overview})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.overviewText})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.definitions.title}),e.jsx("div",{className:"space-y-4",children:t.sections.definitions.items.map((f,m)=>e.jsxs("div",{className:"border-l-4 border-blue-600 pl-4",children:[e.jsx("dt",{className:"font-semibold text-gray-900",children:f.term}),e.jsx("dd",{className:"text-gray-700 mt-1",children:f.definition})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ji,{className:"h-6 w-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.processing.title})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.categories.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.categories.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:f})]},m))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.purposes.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.purposes.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:f})]},m))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.subjects.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.subjects.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(hs,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:f})]},m))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.obligations.title}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.obligations.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Cs,{className:"h-6 w-6 text-red-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.security.title})]}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.security.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.sections.internationalTransfers.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.sections.internationalTransfers.content})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.sections.additionalSecurity.title}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.additionalSecurity.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(hs,{className:"h-6 w-6 text-purple-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.dataSubjects.title})]}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.dataSubjects.items.map((f,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(bs,{className:"h-5 w-5 text-purple-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},m))})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.contact.title}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsxs("strong",{children:[t.sections.contact.dpo,":"]})}),e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.email]}),e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.address]}),t.sections.contact.phone?e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.phone]}):null]})]}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsx("p",{children:k==="tr"?"Bu DPA, GDPR ve dier veri koruma dzenlemelerine uygun olarak hazrlanmtr.":k==="en"?"This DPA has been prepared in accordance with GDPR and other data protection regulations.":k==="de"?"Diese DPA wurde in bereinstimmung mit der DSGVO und anderen Datenschutzbestimmungen erstellt.":"Ce DPA a t prpar conformment au RGPD et aux autres rglementations sur la protection des donnes."})})]})})},sg=()=>{const{i18n:k}=Vt("common"),{openModal:x}=Lm(),t=k.language;Z.useEffect(()=>{try{window.location.hash==="#cookie-preferences"&&x();const d=()=>{window.location.hash==="#cookie-preferences"&&x()};return window.addEventListener("hashchange",d),()=>window.removeEventListener("hashchange",d)}catch{}},[x]);const f={tr:{title:"erez Politikas",subtitle:"Web sitemizde erezleri nasl kullandmz ve ynetebileceiniz",preferencesTitle:"erez Tercihlerinizi Ynetin",preferencesDescription:"Hangi erezlerin saklanacan seebilirsiniz. Kiiselletirme iin baz erezler gereklidir.",manageButton:"erez Tercihlerini Ynet",sections:{whatAre:{title:"erezler Nedir?",content:"erezler, web sitesi ziyaretiniz srasnda taraycnzda saklanan kk veri dosyalardr. Bu dosyalar, web sitesinin dzgn almas ve size daha iyi bir deneyim sunmas iin kullanlr."},howWeUse:{title:"erezleri Nasl Kullanyoruz?",content:"Comptario olarak erezleri u amalarla kullanyoruz: oturum ynetimi, kullanc tercihlerini hatrlama, site performansn analiz etme ve gvenlii salama."},consentMode:{title:"Onay Modu (Consent Mode)",content:"Google Consent Mode v2 ve benzeri mekanizmalar destekliyoruz. Tercihleriniz dorultusunda lm/analitik etiketleri uyarlanr; onay verilmeden gerekli olmayan erezler yerletirilmez. Tercihlerinizi bu sayfadaki butonla dilediiniz an gncelleyebilirsiniz."},thirdParty:{title:"nc Taraf erezleri",content:"Baz hizmetlerimiz iin gvenilir nc taraf salayclardan erezler kullanyoruz:",partners:{title:" Ortaklarmz:",analytics:"Web sitesi kullanm istatistikleri",payments:"Gvenli deme ilemleri",support:"Mteri destek hizmetleri"}},managing:{title:"erezleri Ynetme",content:"erez tercihlerinizi istediiniz zaman deitirebilirsiniz. Ayrca tarayc ayarlarndan da erezleri ynetebilirsiniz:",browsers:{chrome:"Ayarlar > Gizlilik ve Gvenlik > erezler",firefox:"Ayarlar > Gizlilik ve Gvenlik > erezler ve Site Verileri",safari:"Tercihler > Gizlilik > erezleri Ynet",edge:"Ayarlar > erezler ve Site zinleri"}}},contact:{title:"letiim",email:"E-posta",cmp:"erez Ynetimi",cmpNote:"Yukardaki butonu kullanarak tercihlerinizi deitirebilirsiniz",privacyEmail:Dt.dataProtectionEmail},backToApp:"Uygulamaya Geri Dn"},en:{title:"Cookie Policy",subtitle:"How we use cookies on our website and how you can manage them",preferencesTitle:"Manage Your Cookie Preferences",preferencesDescription:"You can choose which cookies to store. Some cookies are necessary for personalization.",manageButton:"Manage Cookie Preferences",sections:{whatAre:{title:"What Are Cookies?",content:"Cookies are small data files stored in your browser during your website visit. These files are used to help the website function properly and provide you with a better experience."},howWeUse:{title:"How We Use Cookies?",content:"At Comptario, we use cookies for the following purposes: session management, remembering user preferences, analyzing site performance, and ensuring security."},consentMode:{title:"Consent Mode",content:"We support Google Consent Mode v2 and similar frameworks. Measurement/analytics tags adapt to your choices; non-essential cookies are not set before consent. You can update your preferences at any time using the button above."},thirdParty:{title:"Third-Party Cookies",content:"We use cookies from trusted third-party providers for some of our services:",partners:{title:"Our Partners:",analytics:"Website usage statistics",payments:"Secure payment processing",support:"Customer support services"}},managing:{title:"Managing Cookies",content:"You can change your cookie preferences at any time. You can also manage cookies through your browser settings:",browsers:{chrome:"Settings > Privacy and Security > Cookies",firefox:"Settings > Privacy and Security > Cookies and Site Data",safari:"Preferences > Privacy > Manage Cookies",edge:"Settings > Cookies and Site Permissions"}}},contact:{title:"Contact",email:"Email",cmp:"Cookie Management",cmpNote:"You can change your preferences using the button above",privacyEmail:Dt.dataProtectionEmail},backToApp:"Back to App"},de:{title:"Cookie-Richtlinie",subtitle:"Wie wir Cookies auf unserer Website verwenden und wie Sie sie verwalten knnen",preferencesTitle:"Verwalten Sie Ihre Cookie-Einstellungen",preferencesDescription:"Sie knnen whlen, welche Cookies gespeichert werden sollen. Einige Cookies sind fr die Personalisierung notwendig.",manageButton:"Cookie-Einstellungen verwalten",sections:{whatAre:{title:"Was sind Cookies?",content:"Cookies sind kleine Datendateien, die whrend Ihres Website-Besuchs in Ihrem Browser gespeichert werden. Diese Dateien werden verwendet, um der Website beim ordnungsgemen Funktionieren zu helfen und Ihnen eine bessere Erfahrung zu bieten."},howWeUse:{title:"Wie verwenden wir Cookies?",content:"Bei Comptario verwenden wir Cookies fr folgende Zwecke: Sitzungsverwaltung, Benutzereinstellungen merken, Site-Performance analysieren und Sicherheit gewhrleisten."},consentMode:{title:"Einwilligungsmodus",content:"Wir untersttzen den Google Consent Mode v2 und hnliche Rahmenwerke. Mess-/Analyse-Tags passen sich Ihren Entscheidungen an; nicht notwendige Cookies werden ohne Einwilligung nicht gesetzt. Sie knnen Ihre Einstellungen jederzeit ber die oben stehende Schaltflche ndern."},thirdParty:{title:"Drittanbieter-Cookies",content:"Wir verwenden Cookies von vertrauenswrdigen Drittanbietern fr einige unserer Dienste:",partners:{title:"Unsere Partner:",analytics:"Website-Nutzungsstatistiken",payments:"Sichere Zahlungsabwicklung",support:"Kundensupport-Services"}},managing:{title:"Cookies verwalten",content:"Sie knnen Ihre Cookie-Einstellungen jederzeit ndern. Sie knnen Cookies auch ber Ihre Browser-Einstellungen verwalten:",browsers:{chrome:"Einstellungen > Datenschutz und Sicherheit > Cookies",firefox:"Einstellungen > Datenschutz und Sicherheit > Cookies und Website-Daten",safari:"Einstellungen > Datenschutz > Cookies verwalten",edge:"Einstellungen > Cookies und Website-Berechtigungen"}}},contact:{title:"Kontakt",email:"E-Mail",cmp:"Cookie-Verwaltung",cmpNote:"Sie knnen Ihre Einstellungen ber die obige Schaltflche ndern",privacyEmail:Dt.dataProtectionEmail},backToApp:"Zurck zur App"},fr:{title:"Politique des cookies",subtitle:"Comment nous utilisons les cookies sur notre site web et comment vous pouvez les grer",preferencesTitle:"Grez vos prfrences de cookies",preferencesDescription:"Vous pouvez choisir quels cookies stocker. Certains cookies sont ncessaires pour la personnalisation.",manageButton:"Grer les prfrences de cookies",sections:{whatAre:{title:"Que sont les cookies ?",content:"Les cookies sont de petits fichiers de donnes stocks dans votre navigateur lors de votre visite sur le site web. Ces fichiers sont utiliss pour aider le site web  fonctionner correctement et vous offrir une meilleure exprience."},howWeUse:{title:"Comment utilisons-nous les cookies ?",content:"Chez Comptario, nous utilisons les cookies aux fins suivantes : gestion de session, mmorisation des prfrences utilisateur, analyse des performances du site et assurance de la scurit."},consentMode:{title:"Mode de consentement",content:"Nous prenons en charge Google Consent Mode v2 et des cadres similaires. Les balises de mesure/analyse s'adaptent  vos choix ; les cookies non essentiels ne sont pas dposs avant consentement. Vous pouvez mettre  jour vos prfrences  tout moment via le bouton ci-dessus."},thirdParty:{title:"Cookies tiers",content:"Nous utilisons des cookies de fournisseurs tiers de confiance pour certains de nos services :",partners:{title:"Nos partenaires :",analytics:"Statistiques d'utilisation du site web",payments:"Traitement scuris des paiements",support:"Services de support client"}},managing:{title:"Gestion des cookies",content:"Vous pouvez modifier vos prfrences de cookies  tout moment. Vous pouvez galement grer les cookies via les paramtres de votre navigateur :",browsers:{chrome:"Paramtres > Confidentialit et scurit > Cookies",firefox:"Paramtres > Confidentialit et scurit > Cookies et donnes de site",safari:"Prfrences > Confidentialit > Grer les cookies",edge:"Paramtres > Cookies et autorisations de site"}}},contact:{title:"Contact",email:"Email",cmp:"Gestion des cookies",cmpNote:"Vous pouvez modifier vos prfrences en utilisant le bouton ci-dessus",privacyEmail:Dt.dataProtectionEmail},backToApp:"Retour  l'application"}},m=f[t]||f.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(Mm,{className:"h-8 w-8 text-yellow-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:m.title}),e.jsx("p",{className:"text-lg text-gray-600",children:m.subtitle})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center justify-center",children:[e.jsx(hl,{className:"h-6 w-6 mr-2 text-blue-600"}),m.preferencesTitle]}),e.jsx("p",{className:"text-gray-600 mb-6",children:m.preferencesDescription}),e.jsx("button",{onClick:()=>{try{x()}catch{}try{window.dispatchEvent(new Event("open-cookie-preferences"))}catch{}try{window.location.hash="cookie-preferences"}catch{}},className:"relative px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","data-testid":"open-cookie-preferences",children:m.manageButton})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.sections.whatAre.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:m.sections.whatAre.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.sections.howWeUse.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:m.sections.howWeUse.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.sections.consentMode.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:m.sections.consentMode.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.sections.thirdParty.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:m.sections.thirdParty.content}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:m.sections.thirdParty.partners.title}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsxs("li",{children:[" Google Analytics - ",m.sections.thirdParty.partners.analytics]}),e.jsxs("li",{children:[" Stripe - ",m.sections.thirdParty.partners.payments]}),e.jsxs("li",{children:[" Intercom - ",m.sections.thirdParty.partners.support]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.sections.managing.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:m.sections.managing.content}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Chrome"}),e.jsx("p",{className:"text-gray-600 text-sm",children:m.sections.managing.browsers.chrome})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Firefox"}),e.jsx("p",{className:"text-gray-600 text-sm",children:m.sections.managing.browsers.firefox})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Safari"}),e.jsx("p",{className:"text-gray-600 text-sm",children:m.sections.managing.browsers.safari})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Edge"}),e.jsx("p",{className:"text-gray-600 text-sm",children:m.sections.managing.browsers.edge})]})]})]}),e.jsxs("section",{className:"border-t border-gray-200 pt-8 mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:m.contact.title}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[m.contact.email,":"]})," privacy@comptario.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[m.contact.cmp,":"]})," ",m.contact.cmpNote]}),e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx("strong",{children:t.startsWith("tr")?"Veri Koruma:":t.startsWith("de")?"Datenschutz:":t.startsWith("fr")?"Protection des donnes :":"Data Protection:"})," ",m.contact.privacyEmail]})]})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",m.backToApp]})})]})})},ng=()=>{const{i18n:k}=Vt("common"),x=(k.language||"en").split("-")[0],t={tr:{title:"Knye",intro:"Bu sayfa, yasal bildirim ve iletiim bilgilerimizi ierir.",companyInfo:"irket Bilgileri",companyName:"irket Ad",address:"Adres",contact:"letiim",legal:"Yasal Bilgiler",email:"E-posta",responsible:"Sorumlu Kii",responsibleValue:Dt.representative,companyValue:Dt.companyName,addressValue:Dt.address,emailValue:Dt.email,legalNote:"Comptario, Peaknova tarafndan salanmaktadr. Bu sayfa, 5651 ve ilgili dzenlemeler erevesinde bilgilendirme amaldr."},en:{title:"Imprint",intro:"This page contains our legal notice and contact information.",companyInfo:"Company Information",companyName:"Company Name",address:"Address",contact:"Contact",legal:"Legal Information",email:"Email",responsible:"Responsible Person",responsibleValue:Dt.representative,companyValue:Dt.companyName,addressValue:Dt.address,emailValue:Dt.email,legalNote:"Comptario is provided by Peaknova. This page serves as a legal notice as required by applicable regulations."},de:{title:"Impressum",intro:"Diese Seite enthlt unser rechtliches Impressum und Kontaktinformationen.",companyInfo:"Unternehmensinformationen",companyName:"Unternehmensname",address:"Adresse",contact:"Kontakt",legal:"Rechtliche Informationen",email:"E-Mail",responsible:"Verantwortliche Person",responsibleValue:Dt.representative,companyValue:Dt.companyName,addressValue:Dt.address,emailValue:Dt.email,legalNote:"Comptario wird von Peaknova bereitgestellt. Diese Seite dient als rechtlicher Hinweis gem den geltenden Vorschriften."},fr:{title:"Mentions lgales",intro:"Cette page contient nos mentions lgales et nos informations de contact.",companyInfo:"Informations sur lentreprise",companyName:"Nom de lentreprise",address:"Adresse",contact:"Contact",legal:"Informations lgales",email:"Email",responsible:"Responsable",responsibleValue:Dt.representative,companyValue:Dt.companyName,addressValue:Dt.address,emailValue:Dt.email,legalNote:"Comptario est fourni par Peaknova. Cette page constitue une mention lgale conformment aux rglementations applicables."}},f=t[x]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(Fr,{className:"h-8 w-8 text-indigo-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600",children:f.intro})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Fr,{className:"h-6 w-6 mr-2 text-indigo-600"}),f.companyInfo]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[f.companyName,":"]})," ",f.companyValue]}),e.jsxs("p",{className:"text-gray-700 mb-2 flex items-center",children:[e.jsx(xo,{className:"h-5 w-5 mr-2 text-gray-500"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[f.address,":"]})," ",f.addressValue]})]}),e.jsxs("p",{className:"text-gray-700 mb-2 flex items-center",children:[e.jsx(fs,{className:"h-5 w-5 mr-2 text-gray-500"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[f.email,":"]})," ",f.emailValue]})]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[f.responsible,":"]})," ",f.responsibleValue]})]})]}),e.jsxs("section",{className:"mb-2",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(sv,{className:"h-6 w-6 mr-2 text-rose-600"}),f.legal]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:f.legalNote})]}),e.jsxs("section",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:x==="tr"?"Altyap ve letiim":x==="de"?"Infrastruktur & Kontakt":x==="fr"?"Infrastructures & Contact":"Infrastructure & Contact"}),e.jsxs("ul",{className:"text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:x==="tr"?"Barndrma Salayc:":x==="de"?"Hosting-Anbieter:":x==="fr"?"Hbergeur :":"Hosting Provider:"})," ",Dt.hostingProvider]}),e.jsxs("li",{children:[e.jsx("strong",{children:x==="tr"?"E-posta Altyaps:":x==="de"?"E-Mail-Infrastruktur:":x==="fr"?"Infrastructure e-mail :":"Email Infrastructure:"})," ",Dt.emailInfrastructure]}),e.jsxs("li",{children:[e.jsx("strong",{children:x==="tr"?"Veri Koruma letiimi:":x==="de"?"Datenschutz Kontakt:":x==="fr"?"Contact protection des donnes :":"Data Protection Contact:"})," ",Dt.dataProtectionEmail]})]})]}),Dt.identifiers&&Dt.identifiers.siren?e.jsxs("section",{className:"mt-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(qc,{className:"h-5 w-5 mr-2 text-gray-600"}),x==="fr"?"Identifiants":x==="de"?"Kennnummern":x==="tr"?"Kimlik Bilgileri":"Identifiers"]}),e.jsxs("ul",{className:"text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"SIREN:"})," ",Dt.identifiers.siren]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SIRET:"})," ",Dt.identifiers.siret]}),Dt.identifiers?.tva,Dt.identifiers?.rcs,Dt.identifiers?.ape,Dt.identifiers?.steuernummer&&e.jsxs("li",{children:[e.jsx("strong",{children:"Steuernummer:"})," ",Dt.identifiers.steuernummer]}),Dt.identifiers?.umsatzsteuerID&&e.jsxs("li",{children:[e.jsx("strong",{children:"USt-IdNr.:"})," ",Dt.identifiers.umsatzsteuerID]}),Dt.identifiers?.handelsregisternummer&&e.jsxs("li",{children:[e.jsx("strong",{children:"Handelsregisternummer:"})," ",Dt.identifiers.handelsregisternummer]})]})]}):null]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",x==="tr"?"Uygulamaya Geri Dn":x==="de"?"Zurck zur App":x==="fr"?"Retour  l'application":"Back to App"]})})]})})},ig=()=>{const{currentLanguage:k}=Ca(),x={tr:{title:"E-posta ve Anti-Spam Politikas",lastUpdated:"Son gncelleme: 10.11.2025",intro:"Bu politika Comptario tarafndan gnderilen e-postalarn kapsamn, amacn ve spam kart yaklammz aklar.",scope:{title:"Kapsam",items:["Bu politika Comptario platformu ve ilikili alan adlar zerinden gnderilen tm e-postalar kapsar.","Politika; kullanc hesaplar, kurulu yelii, gvenlik, faturalama, yasal bildirimler ve kritik ilem aklarna ilikin iletileri ierir."]},transactionalOnly:{title:"Sadece lem ve Zorunlu Bildirim E-postalar",items:["Pazarlama, promosyon veya toplu reklam e-postalar gndermiyoruz.","Tm e-postalar; hesap oluturma, e-posta dorulama, ifre sfrlama, deme/fatura bildirimi, gvenlik uyarlar, rol/organizasyon deiiklikleri, yasal zorunlu gncellemeler ve kritik sistem bilgilendirmeleri ile snrldr.","Kullanclar gereksiz e-posta kirliliine maruz braklmaz; asgari gerekli iletiim yaklam uygulanr."]},acceptableUse:{title:"Kabul Edilebilir Kullanm (E-posta)",items:["Platform zerinden yetkisiz ekilde toplu e-posta gnderimi yaplamaz.","Kullanc hesaplarna ait iletiim adresleri nc taraflara pazarlama amacyla aktarlmaz.","pheli yetkisiz eriim tespit edilirse ilgili hesaplara ait e-posta bildirimleri gvenlik amacyla kstlanabilir."]},antiSpam:{title:"Anti-Spam Yaklam",items:["SPF, DKIM ve DMARC yaplandrmalar uygulanr (e-posta btnl ve kimlik dorulama).","Yalnzca gvenilir ilem tetikleyicileri e-posta oluturabilir.","Gereksiz tekrarl gnderimler tespit edilirse sistem oran snrlama (rate limiting) uygular.","Yanltc konu satr veya gnderen bilgisi kullanlmaz."]},infrastructure:{title:"Altyap ve Teslimat",items:[`E-posta iletimi: ${Dt.emailInfrastructure}.`,"Teslimat kalitesi dzenli olarak izlenir (bounce/complaint oranlar).","Gerekirse teslimat zincirine ek gvenlik katmanlar (ifreleme, imzalama) eklenir."]},abuse:{title:"Ktye Kullanm Bildirimi",text:`Bu politikay ihlal eden veya yetkisiz grndn dndnz bir e-posta aldysanz ltfen u adrese bildirin: ${Dt.dataProtectionEmail}`},contact:{title:"letiim",text:`Sorular iin ${Dt.dataProtectionEmail} veya ${Dt.email} adresine ulaabilirsiniz.`}},en:{title:"Email & Anti-Spam Policy",lastUpdated:"Last updated: 10 Nov 2025",intro:"This policy explains the scope, purpose and anti-abuse posture of emails sent by Comptario.",scope:{title:"Scope",items:["Applies to all emails sent via the Comptario platform and associated domains.","Covers user account, organization membership, security, billing, legal notices and critical transactional flows."]},transactionalOnly:{title:"Transactional & Mandatory Notices Only",items:["We do not send marketing, promotional or bulk advertising emails.","All emails are limited to: account creation, email verification, password reset, payment/invoice notifications, security alerts, role/organization changes, legally mandated updates, and critical system advisories.","Users are not exposed to unnecessary email noise; minimal necessary communication is applied."]},acceptableUse:{title:"Acceptable Email Use",items:["Unauthorized bulk dispatch through the platform is prohibited.","User contact addresses are not sold or transferred to third parties for marketing.","If suspicious unauthorized access is detected, outbound notifications may be restricted for security."]},antiSpam:{title:"Anti-Spam Measures",items:["SPF, DKIM and DMARC are enforced (integrity & authentication).","Only trusted transactional triggers can generate emails.","Rate limiting applies if redundant repetitive sends are detected.","No deceptive subject lines or sender identities."]},infrastructure:{title:"Infrastructure & Delivery",items:[`Delivery infrastructure: ${Dt.emailInfrastructure}.`,"Delivery quality (bounce/complaint rates) is continuously monitored.","Additional cryptographic safeguards may be added where appropriate."]},abuse:{title:"Abuse Reporting",text:`Report any email you believe violates this policy or appears unauthorized to: ${Dt.dataProtectionEmail}`},contact:{title:"Contact",text:`Questions: ${Dt.dataProtectionEmail} or ${Dt.email}`}},de:{title:"E-Mail- & Anti-Spam-Richtlinie",lastUpdated:"Zuletzt aktualisiert: 10.11.2025",intro:"Diese Richtlinie erlutert den Umfang, Zweck und den Anti-Missbrauch-Ansatz der von Comptario versendeten E-Mails.",scope:{title:"Geltungsbereich",items:["Gilt fr alle ber die Comptario-Plattform und zugehrige Domains versendeten E-Mails.","Umfasst Benutzerkonto, Organisationsmitgliedschaft, Sicherheit, Abrechnung, rechtliche Hinweise und kritische transaktionale Ablufe."]},transactionalOnly:{title:"Nur Transaktionale & Gesetzlich Erforderliche Mitteilungen",items:["Wir versenden keine Marketing-, Werbe- oder Bulk-Mails.","Alle E-Mails beschrnken sich auf: Kontoerstellung, E-Mail-Besttigung, Passwort-Reset, Zahlungs-/Rechnungsbenachrichtigungen, Sicherheitswarnungen, Rollen-/Organisationsnderungen, gesetzlich erforderliche Updates und kritische Systemhinweise.","Es gilt das Prinzip der minimal notwendigen Kommunikation. "]},acceptableUse:{title:"Zulssige Nutzung (E-Mail)",items:["Unbefugter Massenversand ber die Plattform ist untersagt.","Kontaktdaten der Nutzer werden nicht zu Marketingzwecken verkauft oder bertragen.","Bei verdchtigem unbefugtem Zugriff knnen ausgehende Benachrichtigungen eingeschrnkt werden."]},antiSpam:{title:"Anti-Spam-Manahmen",items:["SPF, DKIM und DMARC sind implementiert.","Nur vertrauenswrdige transaktionale Auslser knnen E-Mails erzeugen.","Rate Limiting bei erkannten redundanten Wiederholungen.","Keine irrefhrenden Betreffzeilen oder Absenderangaben."]},infrastructure:{title:"Infrastruktur & Zustellung",items:[`Versandinfrastruktur: ${Dt.emailInfrastructure}.`,"Zustellqualitt (Bounce/Beschwerde-Raten) wird berwacht.","Bei Bedarf zustzliche kryptografische Schutzmanahmen."]},abuse:{title:"Meldeweg fr Missbrauch",text:`Melden Sie verdchtige oder unbefugte E-Mails an: ${Dt.dataProtectionEmail}`},contact:{title:"Kontakt",text:`Fragen: ${Dt.dataProtectionEmail} oder ${Dt.email}`}},fr:{title:"Politique E-mail & Anti-Spam",lastUpdated:"Dernire mise  jour : 10/11/2025",intro:"Cette politique dcrit le primtre, lobjectif et lapproche anti-abus des e-mails envoys par Comptario.",scope:{title:"Primtre",items:["Sapplique  tous les e-mails envoys via la plateforme Comptario et les domaines associs.","Couvre les comptes utilisateurs, lappartenance aux organisations, la scurit, la facturation, les notifications lgales et les flux transactionnels critiques."]},transactionalOnly:{title:"Uniquement Transactionnel & Obligations Lgales",items:["Nous nenvoyons pas de-mails marketing, promotionnels ou publicitaires de masse.","Tous les e-mails se limitent  : cration de compte, vrification de-mail, rinitialisation de mot de passe, notifications de paiement/facture, alertes de scurit, changements de rle/organisation, mises  jour lgales obligatoires et avis systmes critiques.","Principe appliqu :  communication minimale ncessaire ."]},acceptableUse:{title:"Utilisation Acceptable (E-mail)",items:["Tout envoi massif non autoris via la plateforme est interdit.","Les adresses des utilisateurs ne sont ni vendues ni transfres  des tiers  des fins marketing.","En cas daccs non autoris suspect, certaines notifications sortantes peuvent tre restreintes."]},antiSpam:{title:"Mesures Anti-Spam",items:["SPF, DKIM et DMARC activs (intgrit & authentification).","Seuls des dclencheurs transactionnels fiables peuvent gnrer des e-mails.","Limitation de frquence si des envois rptitifs redondants sont dtects.","Aucun objet ou expditeur trompeur."]},infrastructure:{title:"Infrastructure & Livraison",items:[`Infrastructure denvoi : ${Dt.emailInfrastructure}.`,"Qualit de livraison surveille (taux de rebond/rclamation).","Des protections cryptographiques additionnelles peuvent tre ajoutes si ncessaire."]},abuse:{title:"Signalement dAbus",text:`Signalez toute violation ou e-mail suspect  : ${Dt.dataProtectionEmail}`},contact:{title:"Contact",text:`Questions : ${Dt.dataProtectionEmail} ou ${Dt.email}`}}},t=x[k]||x.en;return e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12 space-y-10",children:[e.jsxs("header",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center justify-center gap-2",children:[e.jsx(fs,{className:"h-7 w-7 text-indigo-600"})," ",t.title]}),e.jsx("p",{className:"text-sm text-slate-500",children:t.lastUpdated}),e.jsx("p",{className:"text-slate-600 mt-4 max-w-2xl mx-auto leading-relaxed",children:t.intro})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.scope.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.scope.items.map((f,m)=>e.jsx("li",{children:f},m))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.transactionalOnly.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.transactionalOnly.items.map((f,m)=>e.jsx("li",{children:f},m))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.acceptableUse.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.acceptableUse.items.map((f,m)=>e.jsx("li",{children:f},m))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.antiSpam.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.antiSpam.items.map((f,m)=>e.jsx("li",{children:f},m))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.infrastructure.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.infrastructure.items.map((f,m)=>e.jsx("li",{children:f},m))})]}),e.jsxs("section",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-900 mb-3 flex items-center gap-2",children:[e.jsx(Im,{className:"h-5 w-5"})," ",t.abuse.title]}),e.jsx("p",{className:"text-indigo-800 leading-relaxed",children:t.abuse.text})]}),e.jsxs("section",{className:"bg-slate-100 border border-slate-300 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5"})," ",t.contact.title]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:t.contact.text})]}),e.jsx("div",{className:"text-center text-xs text-slate-500 pt-4",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",Dt.companyName,". All rights reserved."]})})]})})},n6=()=>{const k=n=>{const l=document.getElementById(n);l&&l.scrollIntoView({behavior:"smooth",block:"start"})},{t:x}=Vt("help"),[t,f]=Z.useState(""),m=Z.useMemo(()=>({sidebarTitle:x("sidebarTitle"),pageTitle:x("pageTitle"),overviewDesc:x("overviewDesc"),labels:{tip:x("labels.tip")},sections:x("sections",{returnObjects:!0}),gettingStarted:x("gettingStarted",{returnObjects:!0}),customers:x("customers",{returnObjects:!0}),suppliers:x("suppliers",{returnObjects:!0}),products:x("products",{returnObjects:!0}),invoices:x("invoices",{returnObjects:!0}),expenses:x("expenses",{returnObjects:!0}),sales:x("sales",{returnObjects:!0}),bank:x("bank",{returnObjects:!0}),reports:x("reports",{returnObjects:!0}),settings:x("settings",{returnObjects:!0}),users:x("users",{returnObjects:!0}),planLimits:x("planLimits",{returnObjects:!0}),periodLock:x("periodLock",{returnObjects:!0}),securityBackup:x("securityBackup",{returnObjects:!0}),faq:x("faq",{returnObjects:!0})}),[x]),d=Z.useMemo(()=>m.sections||[],[m]),s=n=>n.toLowerCase().includes(t.trim().toLowerCase()),a=({text:n})=>{const l=t.trim();if(!l)return e.jsx(e.Fragment,{children:n});const o=n.split(new RegExp(`(${l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"));return e.jsx(e.Fragment,{children:o.map((c,p)=>c.toLowerCase()===l.toLowerCase()?e.jsx("mark",{className:"bg-yellow-200 rounded px-0.5",children:c},p):e.jsx(sr.Fragment,{children:c},p))})},i=({children:n})=>e.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100 text-blue-900 text-sm",children:n}),r=({children:n})=>e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs rounded border bg-gray-50 border-gray-300 text-gray-800",children:n});return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("aside",{className:"lg:col-span-3",children:e.jsxs("div",{className:"sticky top-24 space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:m.sidebarTitle}),e.jsx("nav",{className:"space-y-1",children:d.map(n=>e.jsx("button",{onClick:()=>k(n.id),className:"block w-full text-left px-3 py-2 rounded-md text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:n.title},n.id))})]})}),e.jsxs("div",{className:"lg:col-span-9 space-y-12",children:[e.jsx("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4",children:e.jsx("input",{type:"text",value:t,onChange:n=>f(n.target.value),placeholder:x("searchPlaceholder",{ns:"common",defaultValue:"Ara..."}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(!t||s(m.pageTitle)||s(m.overviewDesc))&&e.jsxs("section",{id:"overview",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:m.pageTitle}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.jsx(a,{text:m.overviewDesc})})]}),(!t||s(m.gettingStarted.title)||(m.gettingStarted.steps||[]).some(n=>s(n)))&&e.jsxs("section",{id:"getting-started",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.gettingStarted.title}),e.jsx("ol",{className:"list-decimal pl-5 space-y-2 text-gray-700",children:m.gettingStarted.steps.map((n,l)=>e.jsx("li",{children:e.jsx(a,{text:n})},l))}),e.jsx("div",{className:"mt-4",children:e.jsxs(i,{children:[m.labels.tip,": ",m.gettingStarted.tipKeyboard," ",e.jsx(r,{children:"g"})," ",m.gettingStarted.tipAfter]})})]}),(!t||s(m.customers.title)||(m.customers.items||[]).some(n=>s(n)))&&e.jsxs("section",{id:"customers",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.customers.title}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:m.customers.items.map((n,l)=>e.jsx("li",{children:e.jsx(a,{text:n})},l))})]}),(!t||s(m.suppliers.title)||s(m.suppliers.desc))&&e.jsxs("section",{id:"suppliers",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.suppliers.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.suppliers.desc})})]}),(!t||s(m.products.title)||s(m.products.desc)||(m.products.items||[]).some(n=>s(n)))&&e.jsxs("section",{id:"products",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.products.title}),e.jsx("p",{className:"text-gray-700 mb-3",children:e.jsx(a,{text:m.products.desc})}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:m.products.items.map((n,l)=>e.jsx("li",{children:e.jsx(a,{text:n})},l))})]}),(!t||s(m.invoices.title)||(m.invoices.steps||[]).some(n=>s(n)))&&e.jsxs("section",{id:"invoices",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.invoices.title}),e.jsx("ol",{className:"list-decimal pl-5 space-y-2 text-gray-700",children:m.invoices.steps.map((n,l)=>e.jsx("li",{children:e.jsx(a,{text:n})},l))})]}),(!t||s(m.expenses.title)||s(m.expenses.desc))&&e.jsxs("section",{id:"expenses",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.expenses.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.expenses.desc})})]}),(!t||s(m.sales.title)||s(m.sales.desc))&&e.jsxs("section",{id:"sales",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.sales.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.sales.desc})})]}),(!t||s(m.bank.title)||s(m.bank.desc))&&e.jsxs("section",{id:"bank",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.bank.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.bank.desc})})]}),(!t||s(m.reports.title)||s(m.reports.desc))&&e.jsxs("section",{id:"reports",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.reports.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.reports.desc})})]}),(!t||s(m.settings.title)||(m.settings.items||[]).some(n=>s(n)))&&e.jsxs("section",{id:"settings",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.settings.title}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:m.settings.items.map((n,l)=>e.jsx("li",{children:e.jsx(a,{text:n})},l))})]}),(!t||s(m.users.title)||s(m.users.desc))&&e.jsxs("section",{id:"users",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.users.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.users.desc})})]}),(!t||s(m.planLimits.title)||s(m.planLimits.desc))&&e.jsxs("section",{id:"plan-limits",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.planLimits.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.planLimits.desc})})]}),(!t||s(m.periodLock.title)||s(m.periodLock.desc))&&e.jsxs("section",{id:"period-lock",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.periodLock.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(a,{text:m.periodLock.desc})})]}),(!t||s(m.securityBackup.title)||s(m.securityBackup.items?.join(" ")))&&e.jsxs("section",{id:"security-backup",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.securityBackup.title}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[e.jsx("li",{children:e.jsx(a,{text:m.securityBackup.items[0]})}),e.jsx("li",{children:e.jsx(a,{text:m.securityBackup.items[1]})}),e.jsx("li",{children:e.jsx("a",{className:"underline",href:"#legal/cookies",children:m.securityBackup.cookiesText})})]})]}),(!t||s(m.faq.title)||s(m.faq.text))&&e.jsxs("section",{id:"faq-contact",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:m.faq.title}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx(a,{text:m.faq.text.replace("support@comptario.com","")}),e.jsx("a",{className:"underline",href:"mailto:support@comptario.com",children:"support@comptario.com"})]})]})]})]})})]})},ag=()=>{const{t:k}=Vt("common"),{showBanner:x,acceptAll:t,rejectAll:f,openModal:m,closeBanner:d}=Lm(),s=Z.useRef(null);return Z.useEffect(()=>{x&&s.current&&s.current.focus()},[x]),Z.useEffect(()=>{const a=i=>{i.key==="Escape"&&x&&d()};if(x)return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[x,d]),x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:d,"aria-hidden":"true"}),e.jsx("div",{ref:s,role:"dialog","aria-labelledby":"cookie-banner-title","aria-describedby":"cookie-banner-description","aria-modal":"true",tabIndex:-1,className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg transform transition-transform duration-300 ease-in-out",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Mm,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{id:"cookie-banner-title",className:"text-lg font-semibold text-gray-900 mb-1",children:k("cookie.banner.title")}),e.jsx("p",{id:"cookie-banner-description",className:"text-sm text-gray-600 leading-relaxed",children:k("cookie.banner.description")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 lg:flex-shrink-0",children:[e.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:k("cookie.banner.rejectAll")}),e.jsxs("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors inline-flex items-center gap-2",children:[e.jsx(hl,{className:"h-4 w-4","aria-hidden":"true"}),k("cookie.banner.managePreferences")]}),e.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:k("cookie.banner.acceptAll")})]}),e.jsx("button",{onClick:d,className:"absolute top-2 right-2 lg:relative lg:top-auto lg:right-auto p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 rounded-lg","aria-label":k("cookie.banner.close"),children:e.jsx(fr,{className:"h-5 w-5","aria-hidden":"true"})})]})})})]}):null},og=()=>{const{t:k}=Vt("common"),{showModal:x,consent:t,closeModal:f,updateConsent:m,acceptAll:d,rejectAll:s}=Lm(),a=Z.useRef(null),i=Z.useRef(null),[r,n]=Z.useState({necessary:!0,analytics:!1,marketing:!1});Z.useEffect(()=>{t&&n({necessary:t.necessary,analytics:t.analytics,marketing:t.marketing})},[t]),Z.useEffect(()=>{const h=y=>{y.key==="Escape"&&f()};if(x)return i.current&&i.current.focus(),document.addEventListener("keydown",h),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset"}},[x,f]),Z.useEffect(()=>{if(!x||!a.current)return;const h=a.current,y=h.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),b=y[0],C=y[y.length-1],T=D=>{D.key==="Tab"&&(D.shiftKey?document.activeElement===b&&(D.preventDefault(),C.focus()):document.activeElement===C&&(D.preventDefault(),b.focus()))};return h.addEventListener("keydown",T),()=>h.removeEventListener("keydown",T)},[x]);const l=(h,y)=>{n(b=>({...b,[h]:y}))},o=()=>{m(r)},c=()=>{n(h=>({...h,analytics:!0,marketing:!0})),d()},p=()=>{n(h=>({...h,analytics:!1,marketing:!1})),s()};if(!x){try{console.debug("[cookie] CookiePreferencesModal hidden (showModal=false)")}catch{}return null}const g=[{id:"necessary",title:k("cookie.modal.necessary.title"),description:k("cookie.modal.necessary.description"),icon:Cs,enabled:!0,disabled:!0,required:!0},{id:"analytics",title:k("cookie.modal.analytics.title"),description:k("cookie.modal.analytics.description"),icon:sd,enabled:r.analytics,disabled:!1,required:!1},{id:"marketing",title:k("cookie.modal.marketing.title"),description:k("cookie.modal.marketing.description"),icon:Fc,enabled:r.marketing,disabled:!1,required:!1}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity",onClick:f,"aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-labelledby":"cookie-modal-title","aria-describedby":"cookie-modal-description","aria-modal":"true",children:e.jsxs("div",{ref:a,className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mm,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"}),e.jsx("h2",{id:"cookie-modal-title",className:"text-xl font-semibold text-gray-900",children:k("cookie.modal.title")})]}),e.jsx("button",{ref:i,onClick:f,className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg","aria-label":k("cookie.banner.close"),children:e.jsx(fr,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{id:"cookie-modal-description",className:"text-gray-600 mb-6",children:k("cookie.modal.description")}),e.jsx("div",{className:"space-y-6",children:g.map(h=>{const y=h.icon;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(y,{className:"h-5 w-5 text-gray-500 mt-1 flex-shrink-0","aria-hidden":"true"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:h.title}),e.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.required?e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:k("cookie.modal.necessary.alwaysActive")}):e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:h.enabled?k("cookie.modal.analytics.enabled"):k("cookie.modal.analytics.disabled")}),e.jsxs("button",{onClick:()=>!h.disabled&&l(h.id,!h.enabled),disabled:h.disabled,className:`
                            relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                            ${h.enabled?"bg-blue-600":"bg-gray-200"}
                            ${h.disabled?"cursor-not-allowed opacity-50":"cursor-pointer"}
                          `,"aria-pressed":h.enabled,"aria-label":`Toggle ${h.title}`,children:[e.jsx("span",{className:`
                              inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                              ${h.enabled?"translate-x-6":"translate-x-1"}
                            `}),h.enabled&&e.jsx(Ur,{className:"absolute left-1.5 h-3 w-3 text-blue-600","aria-hidden":"true"})]})]})]})},h.id)})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:k("cookie.modal.rejectAll")}),e.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:k("cookie.modal.cancel")}),e.jsxs("div",{className:"flex gap-3 sm:ml-auto",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:k("cookie.modal.acceptSelected")}),e.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:k("cookie.modal.acceptAll")})]})]})]})})]})},i6=({invite:k,token:x,onJoinSuccess:t})=>{const[f,m]=Z.useState(""),[d,s]=Z.useState(!1),[a,i]=Z.useState(!1),[r,n]=Z.useState(null),l=async()=>{if(!f||f.length<6){n("ifre en az 6 karakter olmaldr");return}try{i(!0),await Rs.completeInviteWithPassword(x,f);try{sessionStorage.removeItem("pending_invite_token")}catch{}try{localStorage.removeItem("pending_invite_token")}catch{}try{const{authService:o}=await _r(async()=>{const{authService:c}=await Promise.resolve().then(()=>qg);return{authService:c}},void 0);await o.login({email:k.email,password:f});try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Davet kabul edildi. Ho geldiniz!",tone:"success"}}))}catch{}t?.()}catch{try{sessionStorage.setItem("prefill_email",k.email)}catch{}try{localStorage.setItem("prefill_email",k.email)}catch{}window.location.hash="login"}}catch(o){const c=o?.response?.data?.message||o?.message||"lem baarsz";n(c);try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:c,tone:"error"}}))}catch{}}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(hs,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ifre Belirleyin"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:[k.email," iin hesabnz oluturmak zere bir ifre belirleyin. E-posta dorulamas gerekmez."]}),e.jsxs("div",{className:"text-left space-y-2 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ifre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:f,onChange:o=>m(o.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"En az 6 karakter"}),e.jsx("button",{type:"button",onClick:()=>s(!d),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-500",children:d?"Gizle":"Gster"})]})]}),e.jsx("button",{onClick:l,disabled:a,className:"w-full px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:a?"Kaydediliyor...":"Hesap Olutur ve Katl"}),r&&e.jsx("p",{className:"mt-3 text-sm text-red-600",children:r})]})})},lg=({token:k,onJoinSuccess:x,onNavigateHome:t,onNavigateDashboard:f})=>{const{t:m}=Vt(),{user:d,isAuthenticated:s,logout:a}=wn(),[i,r]=Z.useState(!0),[n,l]=Z.useState(null),[o,c]=Z.useState("validating"),[p,g]=Z.useState(null);Z.useEffect(()=>{h()},[k]);const h=async()=>{try{r(!0),c("validating");const D=await Rs.validateInviteToken(k);if(D.valid&&D.invite){l(D.invite);const F=new Date,H=new Date(D.invite.expiresAt);F>H?c("expired"):D.invite.acceptedAt?c("already_member"):c("valid")}else c("invalid"),g(D.error||"Invalid invite token")}catch(D){console.error("Token validation failed:",D),c("invalid"),g(D.response?.data?.message||"Failed to validate invite token")}finally{r(!1)}},y=async()=>{if(!(!n||!s))try{c("accepting"),await Rs.acceptInvite({token:k}),c("success"),setTimeout(()=>{x?.()},2e3)}catch(D){console.error("Failed to accept invite:",D),c("error"),g(D.response?.data?.message||"Failed to accept invitation")}},b=()=>{t?.()},C=D=>{switch(D){case"OWNER":return e.jsx(Qg,{className:"w-5 h-5 text-yellow-500"});case"ADMIN":return e.jsx(Cs,{className:"w-5 h-5 text-blue-500"});case"MEMBER":return e.jsx(Wr,{className:"w-5 h-5 text-gray-500"})}},T=D=>new Date(D).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(i||o==="validating")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Davet kontrol ediliyor..."}),e.jsx("p",{className:"text-gray-600",children:"Ltfen bekleyin, davet balantnz dorulanyor."})]})});if(o==="invalid"||o==="expired"){const D=o==="expired";return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(yo,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:m(D?"org.join.expired.title":"org.join.invalid.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:m(D?"org.join.expired.subtitle":"org.join.invalid.subtitle")}),e.jsxs("button",{onClick:t,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(qb,{className:"w-4 h-4"}),e.jsx("span",{children:m(D?"org.join.expired.action":"org.join.invalid.action")})]}),p&&e.jsx("p",{className:"mt-4 text-sm text-red-600",children:p})]})})}return o==="already_member"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(hs,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:m("org.join.alreadyMember.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:m("org.join.alreadyMember.subtitle")}),e.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(fo,{className:"w-4 h-4"}),e.jsx("span",{children:m("org.join.alreadyMember.action")})]})]})}):o==="success"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:m("org.join.success.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:n&&m("org.join.success.subtitle",{orgName:n.organization.name})}),e.jsxs("button",{onClick:f,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(fo,{className:"w-4 h-4"}),e.jsx("span",{children:m("org.join.success.action")})]})]})}):o==="error"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(cp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:m("org.join.error.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:m("org.join.error.subtitle")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:y,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:m("org.join.error.tryAgain")}),e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Ana Sayfa"})]}),p&&e.jsx("p",{className:"mt-4 text-sm text-red-600",children:p})]})}):s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(hs,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:m("org.join.title")}),n&&e.jsx("p",{className:"text-gray-600",children:m("org.join.subtitle",{orgName:n.organization.name})})]}),n&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Organizasyon:"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.organization.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Davet edilen e-posta:"}),e.jsx("span",{className:"font-medium text-gray-900",children:n.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[m("org.join.role"),":"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[C(n.role),e.jsx("span",{className:"font-medium text-gray-900",children:m(`org.members.roles.${n.role}`)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Son geerlilik:"}),e.jsx("span",{className:"text-sm text-gray-900",children:T(n.expiresAt)})]})]})}),d&&n&&d.email!==n.email&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(cp,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Uyar:"})," Bu davet ",n.email," adresine gnderilmi, ancak siz ",d.email," ile giri yapmsnz."]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:async()=>{try{sessionStorage.setItem("prefill_email",n.email)}catch{}await a();try{window.location.hash="login"}catch{window.location.href="#login"}},className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.email," ile giri yap"]}),e.jsxs("button",{type:"button",onClick:async()=>{try{sessionStorage.setItem("prefill_email",n.email)}catch{}await a();try{window.location.hash="register"}catch{window.location.href="#register"}},className:"px-3 py-2 text-sm bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:[n.email," ile kayt ol"]})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:y,disabled:o==="accepting"||d&&n&&d.email!==n.email,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o==="accepting"?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(bs,{className:"w-4 h-4"}),e.jsx("span",{children:o==="accepting"?"Katlyor...":m("org.join.accept")})]}),e.jsx("button",{onClick:b,disabled:o==="accepting",className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:m("org.join.decline")})]})]})}):n?e.jsx(i6,{invite:n,token:k,onJoinSuccess:x}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{children:"Geersiz davet veya ykleniyor..."})})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:P0,setPrototypeOf:cg,isFrozen:a6,getPrototypeOf:o6,getOwnPropertyDescriptor:l6}=Object;let{freeze:Xs,seal:Dn,create:Am}=Object,{apply:_m,construct:Em}=typeof Reflect<"u"&&Reflect;Xs||(Xs=function(x){return x});Dn||(Dn=function(x){return x});_m||(_m=function(x,t){for(var f=arguments.length,m=new Array(f>2?f-2:0),d=2;d<f;d++)m[d-2]=arguments[d];return x.apply(t,m)});Em||(Em=function(x){for(var t=arguments.length,f=new Array(t>1?t-1:0),m=1;m<t;m++)f[m-1]=arguments[m];return new x(...f)});const Ec=Qs(Array.prototype.forEach),c6=Qs(Array.prototype.lastIndexOf),dg=Qs(Array.prototype.pop),Qo=Qs(Array.prototype.push),d6=Qs(Array.prototype.splice),Bc=Qs(String.prototype.toLowerCase),nm=Qs(String.prototype.toString),im=Qs(String.prototype.match),Zo=Qs(String.prototype.replace),u6=Qs(String.prototype.indexOf),m6=Qs(String.prototype.trim),Hn=Qs(Object.prototype.hasOwnProperty),Ks=Qs(RegExp.prototype.test),Jo=h6(TypeError);function Qs(k){return function(x){x instanceof RegExp&&(x.lastIndex=0);for(var t=arguments.length,f=new Array(t>1?t-1:0),m=1;m<t;m++)f[m-1]=arguments[m];return _m(k,x,f)}}function h6(k){return function(){for(var x=arguments.length,t=new Array(x),f=0;f<x;f++)t[f]=arguments[f];return Em(k,t)}}function Cr(k,x){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bc;cg&&cg(k,null);let f=x.length;for(;f--;){let m=x[f];if(typeof m=="string"){const d=t(m);d!==m&&(a6(x)||(x[f]=d),m=d)}k[m]=!0}return k}function f6(k){for(let x=0;x<k.length;x++)Hn(k,x)||(k[x]=null);return k}function vi(k){const x=Am(null);for(const[t,f]of P0(k))Hn(k,t)&&(Array.isArray(f)?x[t]=f6(f):f&&typeof f=="object"&&f.constructor===Object?x[t]=vi(f):x[t]=f);return x}function el(k,x){for(;k!==null;){const f=l6(k,x);if(f){if(f.get)return Qs(f.get);if(typeof f.value=="function")return Qs(f.value)}k=o6(k)}function t(){return null}return t}const ug=Xs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),am=Xs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),om=Xs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),p6=Xs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lm=Xs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),g6=Xs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mg=Xs(["#text"]),hg=Xs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),cm=Xs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fg=Xs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tc=Xs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),x6=Dn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),y6=Dn(/<%[\w\W]*|[\w\W]*%>/gm),b6=Dn(/\$\{[\w\W]*/gm),v6=Dn(/^data-[\-\w.\u00B7-\uFFFF]+$/),w6=Dn(/^aria-[\-\w]+$/),D0=Dn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),k6=Dn(/^(?:\w+script|data):/i),N6=Dn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I0=Dn(/^html$/i),j6=Dn(/^[a-z][.\w]*(-[.\w]+)+$/i);var pg=Object.freeze({__proto__:null,ARIA_ATTR:w6,ATTR_WHITESPACE:N6,CUSTOM_ELEMENT:j6,DATA_ATTR:v6,DOCTYPE_NAME:I0,ERB_EXPR:y6,IS_ALLOWED_URI:D0,IS_SCRIPT_OR_DATA:k6,MUSTACHE_EXPR:x6,TMPLIT_EXPR:b6});const tl={element:1,text:3,progressingInstruction:7,comment:8,document:9},S6=function(){return typeof window>"u"?null:window},C6=function(x,t){if(typeof x!="object"||typeof x.createPolicy!="function")return null;let f=null;const m="data-tt-policy-suffix";t&&t.hasAttribute(m)&&(f=t.getAttribute(m));const d="dompurify"+(f?"#"+f:"");try{return x.createPolicy(d,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+d+" could not be created."),null}},gg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function M0(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S6();const x=pt=>M0(pt);if(x.version="3.3.0",x.removed=[],!k||!k.document||k.document.nodeType!==tl.document||!k.Element)return x.isSupported=!1,x;let{document:t}=k;const f=t,m=f.currentScript,{DocumentFragment:d,HTMLTemplateElement:s,Node:a,Element:i,NodeFilter:r,NamedNodeMap:n=k.NamedNodeMap||k.MozNamedAttrMap,HTMLFormElement:l,DOMParser:o,trustedTypes:c}=k,p=i.prototype,g=el(p,"cloneNode"),h=el(p,"remove"),y=el(p,"nextSibling"),b=el(p,"childNodes"),C=el(p,"parentNode");if(typeof s=="function"){const pt=t.createElement("template");pt.content&&pt.content.ownerDocument&&(t=pt.content.ownerDocument)}let T,D="";const{implementation:F,createNodeIterator:H,createDocumentFragment:O,getElementsByTagName:$}=t,{importNode:B}=f;let K=gg();x.isSupported=typeof P0=="function"&&typeof C=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:_,TMPLIT_EXPR:M,DATA_ATTR:A,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:S,ATTR_WHITESPACE:w,CUSTOM_ELEMENT:j}=pg;let{IS_ALLOWED_URI:E}=pg,I=null;const L=Cr({},[...ug,...am,...om,...lm,...mg]);let G=null;const X=Cr({},[...hg,...cm,...fg,...Tc]);let re=Object.seal(Am(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,ee=null;const R=Object.seal(Am(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let z=!0,W=!0,se=!1,he=!0,ne=!1,me=!0,Se=!1,Ee=!1,le=!1,ie=!1,ce=!1,ae=!1,ge=!0,pe=!1;const Ae="user-content-";let fe=!0,te=!1,ye={},Te=null;const Ce=Cr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let je=null;const tt=Cr({},["audio","video","img","source","image","track"]);let Pe=null;const ke=Cr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ze="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let at=Fe,we=!1,Qe=null;const ut=Cr({},[ze,qe,Fe],nm);let be=Cr({},["mi","mo","mn","ms","mtext"]),Be=Cr({},["annotation-xml"]);const ot=Cr({},["title","style","font","a","script"]);let lt=null;const Et=["application/xhtml+xml","text/html"],Rt="text/html";let yt=null,Ut=null;const $e=t.createElement("form"),Ke=function(De){return De instanceof RegExp||De instanceof Function},ht=function(){let De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ut&&Ut===De)){if((!De||typeof De!="object")&&(De={}),De=vi(De),lt=Et.indexOf(De.PARSER_MEDIA_TYPE)===-1?Rt:De.PARSER_MEDIA_TYPE,yt=lt==="application/xhtml+xml"?nm:Bc,I=Hn(De,"ALLOWED_TAGS")?Cr({},De.ALLOWED_TAGS,yt):L,G=Hn(De,"ALLOWED_ATTR")?Cr({},De.ALLOWED_ATTR,yt):X,Qe=Hn(De,"ALLOWED_NAMESPACES")?Cr({},De.ALLOWED_NAMESPACES,nm):ut,Pe=Hn(De,"ADD_URI_SAFE_ATTR")?Cr(vi(ke),De.ADD_URI_SAFE_ATTR,yt):ke,je=Hn(De,"ADD_DATA_URI_TAGS")?Cr(vi(tt),De.ADD_DATA_URI_TAGS,yt):tt,Te=Hn(De,"FORBID_CONTENTS")?Cr({},De.FORBID_CONTENTS,yt):Ce,q=Hn(De,"FORBID_TAGS")?Cr({},De.FORBID_TAGS,yt):vi({}),ee=Hn(De,"FORBID_ATTR")?Cr({},De.FORBID_ATTR,yt):vi({}),ye=Hn(De,"USE_PROFILES")?De.USE_PROFILES:!1,z=De.ALLOW_ARIA_ATTR!==!1,W=De.ALLOW_DATA_ATTR!==!1,se=De.ALLOW_UNKNOWN_PROTOCOLS||!1,he=De.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=De.SAFE_FOR_TEMPLATES||!1,me=De.SAFE_FOR_XML!==!1,Se=De.WHOLE_DOCUMENT||!1,ie=De.RETURN_DOM||!1,ce=De.RETURN_DOM_FRAGMENT||!1,ae=De.RETURN_TRUSTED_TYPE||!1,le=De.FORCE_BODY||!1,ge=De.SANITIZE_DOM!==!1,pe=De.SANITIZE_NAMED_PROPS||!1,fe=De.KEEP_CONTENT!==!1,te=De.IN_PLACE||!1,E=De.ALLOWED_URI_REGEXP||D0,at=De.NAMESPACE||Fe,be=De.MATHML_TEXT_INTEGRATION_POINTS||be,Be=De.HTML_INTEGRATION_POINTS||Be,re=De.CUSTOM_ELEMENT_HANDLING||{},De.CUSTOM_ELEMENT_HANDLING&&Ke(De.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(re.tagNameCheck=De.CUSTOM_ELEMENT_HANDLING.tagNameCheck),De.CUSTOM_ELEMENT_HANDLING&&Ke(De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(re.attributeNameCheck=De.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),De.CUSTOM_ELEMENT_HANDLING&&typeof De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(re.allowCustomizedBuiltInElements=De.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(W=!1),ce&&(ie=!0),ye&&(I=Cr({},mg),G=[],ye.html===!0&&(Cr(I,ug),Cr(G,hg)),ye.svg===!0&&(Cr(I,am),Cr(G,cm),Cr(G,Tc)),ye.svgFilters===!0&&(Cr(I,om),Cr(G,cm),Cr(G,Tc)),ye.mathMl===!0&&(Cr(I,lm),Cr(G,fg),Cr(G,Tc))),De.ADD_TAGS&&(typeof De.ADD_TAGS=="function"?R.tagCheck=De.ADD_TAGS:(I===L&&(I=vi(I)),Cr(I,De.ADD_TAGS,yt))),De.ADD_ATTR&&(typeof De.ADD_ATTR=="function"?R.attributeCheck=De.ADD_ATTR:(G===X&&(G=vi(G)),Cr(G,De.ADD_ATTR,yt))),De.ADD_URI_SAFE_ATTR&&Cr(Pe,De.ADD_URI_SAFE_ATTR,yt),De.FORBID_CONTENTS&&(Te===Ce&&(Te=vi(Te)),Cr(Te,De.FORBID_CONTENTS,yt)),fe&&(I["#text"]=!0),Se&&Cr(I,["html","head","body"]),I.table&&(Cr(I,["tbody"]),delete q.tbody),De.TRUSTED_TYPES_POLICY){if(typeof De.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof De.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=De.TRUSTED_TYPES_POLICY,D=T.createHTML("")}else T===void 0&&(T=C6(c,m)),T!==null&&typeof D=="string"&&(D=T.createHTML(""));Xs&&Xs(De),Ut=De}},St=Cr({},[...am,...om,...p6]),xt=Cr({},[...lm,...g6]),Ne=function(De){let st=C(De);(!st||!st.tagName)&&(st={namespaceURI:at,tagName:"template"});const At=Bc(De.tagName),ve=Bc(st.tagName);return Qe[De.namespaceURI]?De.namespaceURI===qe?st.namespaceURI===Fe?At==="svg":st.namespaceURI===ze?At==="svg"&&(ve==="annotation-xml"||be[ve]):!!St[At]:De.namespaceURI===ze?st.namespaceURI===Fe?At==="math":st.namespaceURI===qe?At==="math"&&Be[ve]:!!xt[At]:De.namespaceURI===Fe?st.namespaceURI===qe&&!Be[ve]||st.namespaceURI===ze&&!be[ve]?!1:!xt[At]&&(ot[At]||!St[At]):!!(lt==="application/xhtml+xml"&&Qe[De.namespaceURI]):!1},Ie=function(De){Qo(x.removed,{element:De});try{C(De).removeChild(De)}catch{h(De)}},Ge=function(De,st){try{Qo(x.removed,{attribute:st.getAttributeNode(De),from:st})}catch{Qo(x.removed,{attribute:null,from:st})}if(st.removeAttribute(De),De==="is")if(ie||ce)try{Ie(st)}catch{}else try{st.setAttribute(De,"")}catch{}},ct=function(De){let st=null,At=null;if(le)De="<remove></remove>"+De;else{const nt=im(De,/^[\r\n\t ]+/);At=nt&&nt[0]}lt==="application/xhtml+xml"&&at===Fe&&(De='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+De+"</body></html>");const ve=T?T.createHTML(De):De;if(at===Fe)try{st=new o().parseFromString(ve,lt)}catch{}if(!st||!st.documentElement){st=F.createDocument(at,"template",null);try{st.documentElement.innerHTML=we?D:ve}catch{}}const Re=st.body||st.documentElement;return De&&At&&Re.insertBefore(t.createTextNode(At),Re.childNodes[0]||null),at===Fe?$.call(st,Se?"html":"body")[0]:Se?st.documentElement:Re},Mt=function(De){return H.call(De.ownerDocument||De,De,r.SHOW_ELEMENT|r.SHOW_COMMENT|r.SHOW_TEXT|r.SHOW_PROCESSING_INSTRUCTION|r.SHOW_CDATA_SECTION,null)},Ct=function(De){return De instanceof l&&(typeof De.nodeName!="string"||typeof De.textContent!="string"||typeof De.removeChild!="function"||!(De.attributes instanceof n)||typeof De.removeAttribute!="function"||typeof De.setAttribute!="function"||typeof De.namespaceURI!="string"||typeof De.insertBefore!="function"||typeof De.hasChildNodes!="function")},Jt=function(De){return typeof a=="function"&&De instanceof a};function Pt(pt,De,st){Ec(pt,At=>{At.call(x,De,st,Ut)})}const Ot=function(De){let st=null;if(Pt(K.beforeSanitizeElements,De,null),Ct(De))return Ie(De),!0;const At=yt(De.nodeName);if(Pt(K.uponSanitizeElement,De,{tagName:At,allowedTags:I}),me&&De.hasChildNodes()&&!Jt(De.firstElementChild)&&Ks(/<[/\w!]/g,De.innerHTML)&&Ks(/<[/\w!]/g,De.textContent)||De.nodeType===tl.progressingInstruction||me&&De.nodeType===tl.comment&&Ks(/<[/\w]/g,De.data))return Ie(De),!0;if(!(R.tagCheck instanceof Function&&R.tagCheck(At))&&(!I[At]||q[At])){if(!q[At]&&Wt(At)&&(re.tagNameCheck instanceof RegExp&&Ks(re.tagNameCheck,At)||re.tagNameCheck instanceof Function&&re.tagNameCheck(At)))return!1;if(fe&&!Te[At]){const ve=C(De)||De.parentNode,Re=b(De)||De.childNodes;if(Re&&ve){const nt=Re.length;for(let dt=nt-1;dt>=0;--dt){const Ft=g(Re[dt],!0);Ft.__removalCount=(De.__removalCount||0)+1,ve.insertBefore(Ft,y(De))}}}return Ie(De),!0}return De instanceof i&&!Ne(De)||(At==="noscript"||At==="noembed"||At==="noframes")&&Ks(/<\/no(script|embed|frames)/i,De.innerHTML)?(Ie(De),!0):(ne&&De.nodeType===tl.text&&(st=De.textContent,Ec([U,_,M],ve=>{st=Zo(st,ve," ")}),De.textContent!==st&&(Qo(x.removed,{element:De.cloneNode()}),De.textContent=st)),Pt(K.afterSanitizeElements,De,null),!1)},tr=function(De,st,At){if(ge&&(st==="id"||st==="name")&&(At in t||At in $e))return!1;if(!(W&&!ee[st]&&Ks(A,st))){if(!(z&&Ks(N,st))){if(!(R.attributeCheck instanceof Function&&R.attributeCheck(st,De))){if(!G[st]||ee[st]){if(!(Wt(De)&&(re.tagNameCheck instanceof RegExp&&Ks(re.tagNameCheck,De)||re.tagNameCheck instanceof Function&&re.tagNameCheck(De))&&(re.attributeNameCheck instanceof RegExp&&Ks(re.attributeNameCheck,st)||re.attributeNameCheck instanceof Function&&re.attributeNameCheck(st,De))||st==="is"&&re.allowCustomizedBuiltInElements&&(re.tagNameCheck instanceof RegExp&&Ks(re.tagNameCheck,At)||re.tagNameCheck instanceof Function&&re.tagNameCheck(At))))return!1}else if(!Pe[st]){if(!Ks(E,Zo(At,w,""))){if(!((st==="src"||st==="xlink:href"||st==="href")&&De!=="script"&&u6(At,"data:")===0&&je[De])){if(!(se&&!Ks(S,Zo(At,w,"")))){if(At)return!1}}}}}}}return!0},Wt=function(De){return De!=="annotation-xml"&&im(De,j)},Lt=function(De){Pt(K.beforeSanitizeAttributes,De,null);const{attributes:st}=De;if(!st||Ct(De))return;const At={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let ve=st.length;for(;ve--;){const Re=st[ve],{name:nt,namespaceURI:dt,value:Ft}=Re,bt=yt(nt),Nt=Ft;let Kt=nt==="value"?Nt:m6(Nt);if(At.attrName=bt,At.attrValue=Kt,At.keepAttr=!0,At.forceKeepAttr=void 0,Pt(K.uponSanitizeAttribute,De,At),Kt=At.attrValue,pe&&(bt==="id"||bt==="name")&&(Ge(nt,De),Kt=Ae+Kt),me&&Ks(/((--!?|])>)|<\/(style|title|textarea)/i,Kt)){Ge(nt,De);continue}if(bt==="attributename"&&im(Kt,"href")){Ge(nt,De);continue}if(At.forceKeepAttr)continue;if(!At.keepAttr){Ge(nt,De);continue}if(!he&&Ks(/\/>/i,Kt)){Ge(nt,De);continue}ne&&Ec([U,_,M],rr=>{Kt=Zo(Kt,rr," ")});const ir=yt(De.nodeName);if(!tr(ir,bt,Kt)){Ge(nt,De);continue}if(T&&typeof c=="object"&&typeof c.getAttributeType=="function"&&!dt)switch(c.getAttributeType(ir,bt)){case"TrustedHTML":{Kt=T.createHTML(Kt);break}case"TrustedScriptURL":{Kt=T.createScriptURL(Kt);break}}if(Kt!==Nt)try{dt?De.setAttributeNS(dt,nt,Kt):De.setAttribute(nt,Kt),Ct(De)?Ie(De):dg(x.removed)}catch{Ge(nt,De)}}Pt(K.afterSanitizeAttributes,De,null)},gr=function pt(De){let st=null;const At=Mt(De);for(Pt(K.beforeSanitizeShadowDOM,De,null);st=At.nextNode();)Pt(K.uponSanitizeShadowNode,st,null),Ot(st),Lt(st),st.content instanceof d&&pt(st.content);Pt(K.afterSanitizeShadowDOM,De,null)};return x.sanitize=function(pt){let De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st=null,At=null,ve=null,Re=null;if(we=!pt,we&&(pt="<!-->"),typeof pt!="string"&&!Jt(pt))if(typeof pt.toString=="function"){if(pt=pt.toString(),typeof pt!="string")throw Jo("dirty is not a string, aborting")}else throw Jo("toString is not a function");if(!x.isSupported)return pt;if(Ee||ht(De),x.removed=[],typeof pt=="string"&&(te=!1),te){if(pt.nodeName){const Ft=yt(pt.nodeName);if(!I[Ft]||q[Ft])throw Jo("root node is forbidden and cannot be sanitized in-place")}}else if(pt instanceof a)st=ct("<!---->"),At=st.ownerDocument.importNode(pt,!0),At.nodeType===tl.element&&At.nodeName==="BODY"||At.nodeName==="HTML"?st=At:st.appendChild(At);else{if(!ie&&!ne&&!Se&&pt.indexOf("<")===-1)return T&&ae?T.createHTML(pt):pt;if(st=ct(pt),!st)return ie?null:ae?D:""}st&&le&&Ie(st.firstChild);const nt=Mt(te?pt:st);for(;ve=nt.nextNode();)Ot(ve),Lt(ve),ve.content instanceof d&&gr(ve.content);if(te)return pt;if(ie){if(ce)for(Re=O.call(st.ownerDocument);st.firstChild;)Re.appendChild(st.firstChild);else Re=st;return(G.shadowroot||G.shadowrootmode)&&(Re=B.call(f,Re,!0)),Re}let dt=Se?st.outerHTML:st.innerHTML;return Se&&I["!doctype"]&&st.ownerDocument&&st.ownerDocument.doctype&&st.ownerDocument.doctype.name&&Ks(I0,st.ownerDocument.doctype.name)&&(dt="<!DOCTYPE "+st.ownerDocument.doctype.name+`>
`+dt),ne&&Ec([U,_,M],Ft=>{dt=Zo(dt,Ft," ")}),T&&ae?T.createHTML(dt):dt},x.setConfig=function(){let pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ht(pt),Ee=!0},x.clearConfig=function(){Ut=null,Ee=!1},x.isValidAttribute=function(pt,De,st){Ut||ht({});const At=yt(pt),ve=yt(De);return tr(At,ve,st)},x.addHook=function(pt,De){typeof De=="function"&&Qo(K[pt],De)},x.removeHook=function(pt,De){if(De!==void 0){const st=c6(K[pt],De);return st===-1?void 0:d6(K[pt],st,1)[0]}return dg(K[pt])},x.removeHooks=function(pt){K[pt]=[]},x.removeAllHooks=function(){K=gg()},x}var R0=M0();const n5=Object.freeze(Object.defineProperty({__proto__:null,default:R0},Symbol.toStringTag,{value:"Module"})),A6=k=>{const x=/^(?:(?:https?|mailto|ftp|tel|file|sms|cid|data):|[^a-z]|[a-z+.-]+(?:[^a-z+.-]|$))/i;return R0.sanitize(k,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","strong","b","em","i","u","s","code","pre","blockquote","hr","ul","ol","li","a","img","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["href","target","rel","src","alt","title","colspan","rowspan"],ALLOW_DATA_ATTR:!1,ALLOWED_URI_REGEXP:x,FORBID_TAGS:["script","style"]})},_6=({quoteId:k})=>{const{t:x,i18n:t}=Vt(),{formatCurrency:f}=$r(),[m,d]=Z.useState(null),[s,a]=Z.useState(!1),[i,r]=Z.useState(null),[n,l]=Z.useState(null),[o,c]=Z.useState(null),[p,g]=Z.useState(!1);Z.useEffect(()=>{let K=!1;return(async()=>{try{const U=await I3(String(k));K||(d(U),U?.tenantPublicProfile&&l(U.tenantPublicProfile))}catch{K||d(null)}})(),()=>{K=!0}},[k]),Z.useEffect(()=>{m&&(p||(m.status==="sent"||m.status==="draft")&&(async()=>{try{const K=await M3(String(k));d(K)}finally{g(!0)}})())},[m,p,k]),Z.useEffect(()=>{try{const K=localStorage.getItem("user");if(K){const U=JSON.parse(K),_=[U.firstName,U.lastName].filter(Boolean).join(" ")||U.email;c(_||null)}}catch{}},[]);const h=new Date().toISOString().slice(0,10),y=m?.validUntil?m.validUntil<h:!1,b=m&&!["accepted","declined","expired"].includes(m.status)&&y,C=Z.useMemo(()=>{if(!m)return 0;const K=Number(m.total)||0;if(K>0)return K;const U=(m.items||[]).reduce((_,M)=>{const A=Number(M.total);if(!isNaN(A)&&A!==0)return _+A;const N=Number(M.quantity)||0,S=Number(M.unitPrice)||0;return _+N*S},0);return Number(U)||0},[m]),T=Z.useMemo(()=>{const K=(t.language||"tr").toLowerCase().substring(0,2);return["tr","en","fr","de"].includes(K)?K:"en"},[t.language]),D=Z.useMemo(()=>({tr:{title:"Teklif",appSubtitle:"Teklif dkman",customerInfo:"Mteri Bilgileri",quoteNumber:"Teklif No",issueDate:"Dzenleme Tarihi",validUntil:"Geerlilik Tarihi",status:"Durum",items:{description:"Aklama",quantity:"Miktar",unitPrice:"Birim Fiyat",total:"Toplam"},totals:{grandTotal:"Genel Toplam"},footer:"Bu belge bilgi amaldr.",preparedBy:"Teklifi Hazrlayan",copied:"Balant kopyaland."},en:{title:"Quote",appSubtitle:"Quotation document",customerInfo:"Customer Information",quoteNumber:"Quote No",issueDate:"Issue Date",validUntil:"Valid Until",status:"Status",items:{description:"Description",quantity:"Qty",unitPrice:"Unit Price",total:"Total"},totals:{grandTotal:"Grand Total"},footer:"This document is for information purposes.",preparedBy:"Prepared by",copied:"Link copied."},fr:{title:"Devis",appSubtitle:"Document de devis",customerInfo:"Informations client",quoteNumber:"N de devis",issueDate:"Date",validUntil:"Valable jusquau",status:"Statut",items:{description:"Description",quantity:"Qt",unitPrice:"Prix unitaire",total:"Total"},totals:{grandTotal:"Total gnral"},footer:"Document  titre indicatif.",preparedBy:"Prpar par",copied:"Lien copi."},de:{title:"Angebot",appSubtitle:"Angebotsdokument",customerInfo:"Kundeninformationen",quoteNumber:"Angebotsnr.",issueDate:"Datum",validUntil:"Gltig bis",status:"Status",items:{description:"Beschreibung",quantity:"Menge",unitPrice:"Einzelpreis",total:"Summe"},totals:{grandTotal:"Gesamtsumme"},footer:"Dieses Dokument dient nur zur Information.",preparedBy:"Erstellt von",copied:"Link kopiert."}})[T],[T]),F=Z.useMemo(()=>{const K=(n?.country||"").toString().toUpperCase();return["TR","FR","DE","US","OTHER"].includes(K)?K:T==="tr"?"TR":T==="fr"?"FR":T==="de"?"DE":"US"},[n?.country,T]),H=Z.useMemo(()=>{const K=n||{},U=(_,M)=>M?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsxs("strong",{children:[_,":"]})," ",e.jsx("span",{children:M})]},_):null;switch(F){case"TR":return[U("VKN",K.taxNumber),U("Vergi Dairesi",K.taxOffice),U("Mersis",K.mersisNumber),U("KEP",K.kepAddress)];case"FR":return[U("SIRET",K.siretNumber),U("SIREN",K.sirenNumber),U("APE",K.apeCode),U("TVA",K.tvaNumber),U("RCS",K.rcsNumber)];case"DE":return[U("Steuernummer",K.steuernummer),U("USt-IdNr",K.umsatzsteuerID),U("HRB",K.handelsregisternummer),U("Geschftsfhrer",K.geschaeftsfuehrer)];case"US":return[U("EIN",K.einNumber),U("Tax ID",K.taxId),U("Business License",K.businessLicenseNumber),U("State",K.stateOfIncorporation)];default:return[U("Registration No",K.registrationNumber),U("VAT",K.vatNumberGeneric),U("Tax ID",K.taxIdGeneric),U("State/Region",K.stateOrRegion)]}},[n,F]),O=Z.useMemo(()=>{if(!m)return"";const K=String(m.status).toLowerCase();switch(T){case"tr":return K==="accepted"?"Kabul Edildi":K==="declined"?"Reddedildi":K==="sent"?"Gnderildi":K==="viewed"?"Grntlendi":K==="expired"?"Sresi Doldu":"Taslak";case"fr":return K==="accepted"?"Accept":K==="declined"?"Refus":K==="sent"?"Envoy":K==="viewed"?"Consult":K==="expired"?"Expir":"Brouillon";case"de":return K==="accepted"?"Akzeptiert":K==="declined"?"Abgelehnt":K==="sent"?"Gesendet":K==="viewed"?"Gesehen":K==="expired"?"Abgelaufen":"Entwurf";default:return K.charAt(0).toUpperCase()+K.slice(1)}},[m,T]),$=async()=>{if(m&&window.confirm(x("quotes.confirmAccept")||"Teklifi kabul etmek istediinizden emin misiniz? Bu ilem geri alnamaz.")){a("accept");try{const K=await R3(String(k));d(K),r(x("quotes.acceptedThanks")||"Teekkrler, teklif kabul edildi.")}finally{a(!1)}}},B=async()=>{if(m&&window.confirm(x("quotes.confirmDecline")||"Teklifi reddetmek istediinizden emin misiniz?")){a("decline");try{const K=await z3(String(k));d(K),r(x("quotes.declinedInfo")||"Teklif reddedildi.")}finally{a(!1)}}};return m?e.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"bg-white border rounded-xl shadow p-6 w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-indigo-200 pb-3",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[n?.logoDataUrl?e.jsx("img",{src:n.logoDataUrl,alt:"logo",className:"h-16 object-contain"}):null,e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("div",{className:"text-indigo-600 font-extrabold text-xl",children:D.title}),e.jsx("div",{className:"text-gray-500 text-xs",children:D.appSubtitle}),e.jsx("div",{className:"text-sm text-gray-900 mt-1 font-semibold",children:m.quoteNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{const{generateQuotePDF:K}=await _r(async()=>{const{generateQuotePDF:U}=await import("./pdfGenerator-35WlICye.js").then(_=>_.p);return{generateQuotePDF:U}},[]);await K({id:m.id,quoteNumber:m.quoteNumber,customerName:m.customerName,issueDate:m.issueDate,validUntil:m.validUntil,status:m.status,currency:m.currency,total:C,items:(m.items||[]).map(U=>({description:U.description,quantity:U.quantity,unitPrice:U.unitPrice,total:U.total})),scopeOfWorkHtml:m.scopeOfWorkHtml||""},{filename:m.quoteNumber,company:n||void 0})},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:[e.jsx(Vc,{className:"w-4 h-4"})," ",e.jsx("span",{className:"text-sm",children:x("quotes.actions.downloadPdf")||"PDF ndir"})]}),e.jsxs("button",{onClick:async()=>{const K=window.location.href;try{await navigator.clipboard.writeText(K);try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:D.copied,tone:"success"}}))}catch{}r(D.copied)}catch(U){console.warn("Failed to copy link to clipboard",U);try{alert(K)}catch{}}},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:[e.jsx(Rm,{className:"w-4 h-4"})," ",e.jsx("span",{className:"text-sm",children:x("quotes.actions.copyLink")||"Link Kopyala"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-6 mt-2 mb-5",children:[e.jsxs("div",{className:"text-sm text-gray-800",children:[n?.name?e.jsx("div",{className:"text-base font-semibold text-gray-900",children:n.name}):null,n?.address?e.jsx("div",{className:"text-gray-600 whitespace-pre-line",children:n.address}):null,e.jsxs("div",{className:"mt-2 space-y-1",children:[H,n?.iban?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"IBAN:"})," ",e.jsx("span",{children:n.iban})]}):null,n?.phone?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Tel:"})," ",e.jsx("span",{children:n.phone})]}):null,n?.email?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("span",{children:n.email})]}):null,n?.website?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Web:"})," ",e.jsx("span",{children:n.website})]}):null]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-800",children:[e.jsx("div",{className:"text-gray-700 font-semibold mb-1",children:D.customerInfo}),e.jsx("div",{className:"font-medium",children:m.customerName})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[D.quoteNumber,":"]}),e.jsx("span",{className:"font-medium",children:m.quoteNumber})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[D.issueDate,":"]}),e.jsx("span",{className:"font-medium",children:new Date(m.issueDate).toLocaleDateString(T==="tr"?"tr-TR":T==="fr"?"fr-FR":T==="de"?"de-DE":"en-US")})]}),m.validUntil?e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[D.validUntil,":"]}),e.jsx("span",{className:"font-medium",children:new Date(m.validUntil).toLocaleDateString(T==="tr"?"tr-TR":T==="fr"?"fr-FR":T==="de"?"de-DE":"en-US")})]}):null]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1 sm:text-right",children:[m.status?e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[D.status,":"]}),e.jsx("span",{className:"font-medium",children:O})]}):null,e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[x("quotes.createModal.currency")||"Para Birimi",":"]}),e.jsx("span",{className:"font-medium",children:m.currency})]})]})]}),i&&e.jsx("div",{className:"mb-4 rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:i}),Array.isArray(m.items)&&m.items.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:D.items.description}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:D.items.quantity}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:D.items.unitPrice}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:D.items.total})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(m.items||[]).map(K=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:K.description}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:K.quantity}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:f(K.unitPrice,m.currency)}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:f(K.total,m.currency)})]},K.id))})]})}),C>0&&e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx("div",{className:"text-lg font-semibold",children:f(C,m.currency)})}),!!m.scopeOfWorkHtml&&e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"text-base font-semibold text-gray-900 mb-2",children:x("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:A6(m.scopeOfWorkHtml||"")}})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:T==="tr"?"AIKLAMA":T==="fr"?"REMARQUES":T==="de"?"ANMERKUNGEN":"NOTES"}),e.jsxs("ul",{className:"text-sm text-gray-800 list-disc pl-5 space-y-1",children:[e.jsx("li",{children:T==="tr"?"Teklifimiz KDV hari olarak paylalmtr.":T==="fr"?"Notre offre est indique hors TVA.":T==="de"?"Unser Angebot ist exkl. MwSt.":"Our offer is exclusive of VAT."}),e.jsx("li",{children:(()=>{if(!m.validUntil)return T==="tr"?"Teklifimiz 30 gn geerlidir.":T==="fr"?"Notre offre est valable 30 jours.":T==="de"?"Unser Angebot ist 30 Tage gltig.":"Our offer is valid for 30 days.";try{const K=new Date(m.issueDate).getTime(),U=new Date(m.validUntil).getTime(),_=Math.round((U-K)/864e5)||30;return T==="tr"?`Teklifimiz ${_} gn geerlidir.`:T==="fr"?`Notre offre est valable ${_} jours.`:T==="de"?`Unser Angebot ist ${_} Tage gltig.`:`Our offer is valid for ${_} days.`}catch{return T==="tr"?"Teklifimiz 30 gn geerlidir.":T==="fr"?"Notre offre est valable 30 jours.":T==="de"?"Unser Angebot ist 30 Tage gltig.":"Our offer is valid for 30 days."}})()})]}),o?e.jsxs("div",{className:"text-right text-sm text-gray-800 mt-2",children:[e.jsxs("strong",{children:[D.preparedBy,":"]})," ",o]}):null]}),!["accepted","declined"].includes(m.status)&&!b&&e.jsxs("div",{className:"mt-6 flex gap-3 text-sm",children:[e.jsxs("button",{disabled:s!==!1,onClick:$,className:`inline-flex items-center gap-1 rounded-lg px-3 py-2 text-white ${s==="accept"?"bg-green-700":"bg-green-600 hover:bg-green-700"}`,children:[e.jsx(Ur,{className:"w-4 h-4"})," ",x("quotes.actions.accept")||"Kabul Et"]}),e.jsxs("button",{disabled:s!==!1,onClick:B,className:`inline-flex items-center gap-1 rounded-lg px-3 py-2 text-white ${s==="decline"?"bg-red-700":"bg-red-600 hover:bg-red-700"}`,children:[e.jsx(yo,{className:"w-4 h-4"})," ",x("quotes.actions.decline")||"Reddet"]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"bg-white border rounded-xl shadow p-8 max-w-lg w-full text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:x("quotes.title")||"Teklif"}),e.jsx("p",{className:"text-gray-600",children:x("quotes.noQuotesFound")||"Teklif bulunamad."})]})})};function Pc(k){throw new Error('Could not dynamically require "'+k+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dm={exports:{}};/*! ExcelJS 19-10-2023 */var xg;function E6(){return xg||(xg=1,(function(k,x){(function(t){k.exports=t()})((function(){return(function t(f,m,d){function s(r,n){if(!m[r]){if(!f[r]){var l=typeof Pc=="function"&&Pc;if(!n&&l)return l(r,!0);if(a)return a(r,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var c=m[r]={exports:{}};f[r][0].call(c.exports,(function(p){return s(f[r][1][p]||p)}),c,c.exports,t,f,m,d)}return m[r].exports}for(var a=typeof Pc=="function"&&Pc,i=0;i<d.length;i++)s(d[i]);return s})({1:[function(t,f,m){const d=t("fs"),s=t("fast-csv"),a=t("dayjs/plugin/customParseFormat"),i=t("dayjs/plugin/utc"),r=t("dayjs").extend(a).extend(i),n=t("../utils/stream-buf"),{fs:{exists:l}}=t("../utils/utils"),o={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};f.exports=class{constructor(c){this.workbook=c,this.worksheet=null}async readFile(c,p){if(p=p||{},!await l(c))throw new Error("File not found: "+c);const g=d.createReadStream(c),h=await this.read(g,p);return g.close(),h}read(c,p){return p=p||{},new Promise((g,h)=>{const y=this.workbook.addWorksheet(p.sheetName),b=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],C=p.map||function(D){if(D==="")return null;const F=Number(D);if(!Number.isNaN(F)&&F!==1/0)return F;const H=b.reduce(($,B)=>{if($)return $;const K=r(D,B,!0);return K.isValid()?K:null},null);if(H)return new Date(H.valueOf());const O=o[D];return O!==void 0?O:D},T=s.parse(p.parserOptions).on("data",D=>{y.addRow(D.map(C))}).on("end",()=>{T.emit("worksheet",y)});T.on("worksheet",g).on("error",h),c.pipe(T)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(c,p){return new Promise((g,h)=>{p=p||{};const y=this.workbook.getWorksheet(p.sheetName||p.sheetId),b=s.format(p.formatterOptions);c.on("finish",()=>{g()}),b.on("error",h),b.pipe(c);const{dateFormat:C,dateUTC:T}=p,D=p.map||(O=>{if(O){if(O.text||O.hyperlink)return O.hyperlink||O.text||"";if(O.formula||O.result)return O.result||"";if(O instanceof Date)return C?T?r.utc(O).format(C):r(O).format(C):T?r.utc(O).format():r(O).format();if(O.error)return O.error;if(typeof O=="object")return JSON.stringify(O)}return O}),F=p.includeEmptyRows===void 0||p.includeEmptyRows;let H=1;y&&y.eachRow((O,$)=>{if(F)for(;H++<$-1;)b.write([]);const{values:B}=O;B.shift(),b.write(B.map(D)),H=$}),b.end()})}writeFile(c,p){const g={encoding:(p=p||{}).encoding||"utf8"},h=d.createWriteStream(c,g);return this.write(h,p)}async writeBuffer(c){const p=new n;return await this.write(p,c),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,f,m){const d=t("../utils/col-cache");class s{constructor(i,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=i,r)if(typeof r=="string"){const l=d.decodeAddress(r);this.nativeCol=l.col+n,this.nativeColOff=0,this.nativeRow=l.row+n,this.nativeRowOff=0}else r.nativeCol!==void 0?(this.nativeCol=r.nativeCol||0,this.nativeColOff=r.nativeColOff||0,this.nativeRow=r.nativeRow||0,this.nativeRowOff=r.nativeRowOff||0):r.col!==void 0?(this.col=r.col+n,this.row=r.row+n):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(i){return i instanceof s||i==null?i:new s(i)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(i){this.nativeCol=Math.floor(i),this.nativeColOff=Math.floor((i-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(i){this.nativeRow=Math.floor(i),this.nativeRowOff=Math.floor((i-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(i){this.nativeCol=i.nativeCol,this.nativeColOff=i.nativeColOff,this.nativeRow=i.nativeRow,this.nativeRowOff=i.nativeRowOff}}f.exports=s},{"../utils/col-cache":19}],3:[function(t,f,m){const d=t("../utils/col-cache"),s=t("../utils/under-dash"),a=t("./enums"),{slideFormula:i}=t("../utils/shared-formula"),r=t("./note");class n{constructor(c,p,g){if(!c||!p)throw new Error("A Cell needs a Row");this._row=c,this._column=p,d.validateAddress(g),this._address=g,this._value=l.create(n.Types.Null,this),this.style=this._mergeStyle(c.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(c){this.style.numFmt=c}get font(){return this.style.font}set font(c){this.style.font=c}get alignment(){return this.style.alignment}set alignment(c){this.style.alignment=c}get border(){return this.style.border}set border(c){this.style.border=c}get fill(){return this.style.fill}set fill(c){this.style.fill=c}get protection(){return this.style.protection}set protection(c){this.style.protection=c}_mergeStyle(c,p,g){const h=c&&c.numFmt||p&&p.numFmt;h&&(g.numFmt=h);const y=c&&c.font||p&&p.font;y&&(g.font=y);const b=c&&c.alignment||p&&p.alignment;b&&(g.alignment=b);const C=c&&c.border||p&&p.border;C&&(g.border=C);const T=c&&c.fill||p&&p.fill;T&&(g.fill=T);const D=c&&c.protection||p&&p.protection;return D&&(g.protection=D),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===n.Types.Merge}merge(c,p){this._value.release(),this._value=l.create(n.Types.Merge,this,c),p||(this.style=c.style)}unmerge(){this.type===n.Types.Merge&&(this._value.release(),this._value=l.create(n.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(c){return this._value.type===n.Types.Merge&&this._value.isMergedTo(c)}get master(){return this.type===n.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===n.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(c){this.type!==n.Types.Merge?(this._value.release(),this._value=l.create(l.getType(c),this,c)):this._value.master.value=c}get note(){return this._comment&&this._comment.note}set note(c){this._comment=new r(c)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(c){this.type===n.Types.String&&(this._value=l.create(n.Types.Hyperlink,this,{text:this._value.value,hyperlink:c}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:c}=this._row;return{sheetName:c.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(c){this.names=[c]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(c){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),c.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(c){this.workbook.definedNames.addEx(this.fullAddress,c)}removeName(c){this.workbook.definedNames.removeEx(this.fullAddress,c)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(c){this._dataValidations.add(this.address,c)}get model(){const{model:c}=this._value;return c.style=this.style,this._comment&&(c.comment=this._comment.model),c}set model(c){if(this._value.release(),this._value=l.create(c.type,this),this._value.model=c,c.comment)switch(c.comment.type){case"note":this._comment=r.fromModel(c.comment)}c.style?this.style=c.style:this.style={}}}n.Types=a.ValueType;const l={getType:o=>o==null?n.Types.Null:o instanceof String||typeof o=="string"?n.Types.String:typeof o=="number"?n.Types.Number:typeof o=="boolean"?n.Types.Boolean:o instanceof Date?n.Types.Date:o.text&&o.hyperlink?n.Types.Hyperlink:o.formula||o.sharedFormula?n.Types.Formula:o.richText?n.Types.RichText:o.sharedString?n.Types.SharedString:o.error?n.Types.Error:n.Types.JSON,types:[{t:n.Types.Null,f:class{constructor(o){this.model={address:o.address,type:n.Types.Null}}get value(){return null}set value(o){}get type(){return n.Types.Null}get effectiveType(){return n.Types.Null}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return""}release(){}toString(){return""}}},{t:n.Types.Number,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Number,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Number}get effectiveType(){return n.Types.Number}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.String,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.String,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:n.Types.Date,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Date,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Date}get effectiveType(){return n.Types.Date}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Hyperlink,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Hyperlink,text:c?c.text:void 0,hyperlink:c?c.hyperlink:void 0},c&&c.tooltip&&(this.model.tooltip=c.tooltip)}get value(){const o={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(o.tooltip=this.model.tooltip),o}set value(o){this.model={text:o.text,hyperlink:o.hyperlink},o.tooltip&&(this.model.tooltip=o.tooltip)}get text(){return this.model.text}set text(o){this.model.text=o}get hyperlink(){return this.model.hyperlink}set hyperlink(o){this.model.hyperlink=o}get type(){return n.Types.Hyperlink}get effectiveType(){return n.Types.Hyperlink}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:n.Types.Formula,f:class{constructor(o,c){this.cell=o,this.model={address:o.address,type:n.Types.Formula,shareType:c?c.shareType:void 0,ref:c?c.ref:void 0,formula:c?c.formula:void 0,sharedFormula:c?c.sharedFormula:void 0,result:c?c.result:void 0}}_copyModel(o){const c={},p=g=>{const h=o[g];h&&(c[g]=h)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),c}get value(){return this._copyModel(this.model)}set value(o){this.model=this._copyModel(o)}validate(o){switch(l.getType(o)){case n.Types.Null:case n.Types.String:case n.Types.Number:case n.Types.Date:break;case n.Types.Hyperlink:case n.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(o){this.model.formula=o}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(o){this.model.result=o}get type(){return n.Types.Formula}get effectiveType(){const o=this.model.result;return o==null?a.ValueType.Null:o instanceof String||typeof o=="string"?a.ValueType.String:typeof o=="number"?a.ValueType.Number:o instanceof Date?a.ValueType.Date:o.text&&o.hyperlink?a.ValueType.Hyperlink:o.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(o){this.model.address=o}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:o}=this.cell,c=o.findCell(this.model.sharedFormula);this._translatedFormula=c&&i(c.formula,c.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:n.Types.Merge,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Merge,master:c?c.address:void 0},this._master=c,c&&c.addMergeRef()}get value(){return this._master.value}set value(o){o instanceof n?(this._master&&this._master.releaseMergeRef(),o.addMergeRef(),this._master=o):this._master.value=o}isMergedTo(o){return o===this._master}get master(){return this._master}get type(){return n.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:n.Types.JSON,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.String,value:JSON.stringify(c),rawValue:c}}get value(){return this.model.rawValue}set value(o){this.model.rawValue=o,this.model.value=JSON.stringify(o)}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:n.Types.SharedString,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.SharedString,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.SharedString}get effectiveType(){return n.Types.SharedString}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.RichText,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.String,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}toString(){return this.model.value.richText.map(o=>o.text).join("")}get type(){return n.Types.RichText}get effectiveType(){return n.Types.RichText}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:n.Types.Boolean,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Boolean,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Boolean}get effectiveType(){return n.Types.Boolean}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Error,f:class{constructor(o,c){this.model={address:o.address,type:n.Types.Error,value:c}}get value(){return this.model.value}set value(o){this.model.value=o}get type(){return n.Types.Error}get effectiveType(){return n.Types.Error}get address(){return this.model.address}set address(o){this.model.address=o}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((o,c)=>(o[c.t]=c.f,o),[]),create(o,c,p){const g=this.types[o];if(!g)throw new Error("Could not create Value of type "+o);return new g(c,p)}};f.exports=n},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,f,m){const d=t("../utils/under-dash"),s=t("./enums"),a=t("../utils/col-cache");class i{constructor(n,l,o){this._worksheet=n,this._number=l,o!==!1&&(this.defn=o)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(n){n?(this.key=n.key,this.width=n.width!==void 0?n.width:9,this.outlineLevel=n.outlineLevel,n.style?this.style=n.style:this.style={},this.header=n.header,this._hidden=!!n.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(n){n!==void 0?(this._header=n,this.headers.forEach((l,o)=>{this._worksheet.getCell(o+1,this.number).value=l})):this._header=void 0}get key(){return this._key}set key(n){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=n,n&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(n){return this.width===n.width&&this.hidden===n.hidden&&this.outlineLevel===n.outlineLevel&&d.isEqual(this.style,n.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const n=this.style;return!n||!(n.font||n.numFmt||n.alignment||n.border||n.fill||n.protection)}get headerCount(){return this.headers.length}eachCell(n,l){const o=this.number;l||(l=n,n=null),this._worksheet.eachRow(n,(c,p)=>{l(c.getCell(o),p)})}get values(){const n=[];return this.eachCell((l,o)=>{l&&l.type!==s.ValueType.Null&&(n[o]=l.value)}),n}set values(n){if(!n)return;const l=this.number;let o=0;n.hasOwnProperty("0")&&(o=1),n.forEach((c,p)=>{this._worksheet.getCell(p+o,l).value=c})}_applyStyle(n,l){return this.style[n]=l,this.eachCell(o=>{o[n]=l}),l}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}static toModel(n){const l=[];let o=null;return n&&n.forEach((c,p)=>{c.isDefault?o&&(o=null):o&&c.equivalentTo(o)?o.max=p+1:(o={min:p+1,max:p+1,width:c.width!==void 0?c.width:9,style:c.style,isCustomWidth:c.isCustomWidth,hidden:c.hidden,outlineLevel:c.outlineLevel,collapsed:c.collapsed},l.push(o))}),l.length?l:void 0}static fromModel(n,l){const o=[];let c=1,p=0;for(l=(l=l||[]).sort((function(g,h){return g.min-h.min}));p<l.length;){const g=l[p++];for(;c<g.min;)o.push(new i(n,c++));for(;c<=g.max;)o.push(new i(n,c++,g))}return o.length?o:null}}f.exports=i},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,f,m){f.exports=class{constructor(d){this.model=d||{}}add(d,s){return this.model[d]=s}find(d){return this.model[d]}remove(d){this.model[d]=void 0}}},{}],6:[function(t,f,m){const d=t("../utils/under-dash"),s=t("../utils/col-cache"),a=t("../utils/cell-matrix"),i=t("./range"),r=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;f.exports=class{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new a)}add(n,l){const o=s.decodeEx(n);this.addEx(o,l)}addEx(n,l){const o=this.getMatrix(l);if(n.top)for(let c=n.left;c<=n.right;c++)for(let p=n.top;p<=n.bottom;p++){const g={sheetName:n.sheetName,address:s.n2l(c)+p,row:p,col:c};o.addCellEx(g)}else o.addCellEx(n)}remove(n,l){const o=s.decodeEx(n);this.removeEx(o,l)}removeEx(n,l){this.getMatrix(l).removeCellEx(n)}removeAllNames(n){d.each(this.matrixMap,l=>{l.removeCellEx(n)})}forEach(n){d.each(this.matrixMap,(l,o)=>{l.forEach(c=>{n(o,c)})})}getNames(n){return this.getNamesEx(s.decodeEx(n))}getNamesEx(n){return d.map(this.matrixMap,(l,o)=>l.findCellEx(n)&&o).filter(Boolean)}_explore(n,l){l.mark=!1;const{sheetName:o}=l,c=new i(l.row,l.col,l.row,l.col,o);let p,g;function h(b,C){const T=n.findCellAt(o,b,l.col);return!(!T||!T.mark)&&(c[C]=b,T.mark=!1,!0)}for(g=l.row-1;h(g,"top");g--);for(g=l.row+1;h(g,"bottom");g++);function y(b,C){const T=[];for(g=c.top;g<=c.bottom;g++){const D=n.findCellAt(o,g,b);if(!D||!D.mark)return!1;T.push(D)}c[C]=b;for(let D=0;D<T.length;D++)T[D].mark=!1;return!0}for(p=l.col-1;y(p,"left");p--);for(p=l.col+1;y(p,"right");p++);return c}getRanges(n,l){return(l=l||this.matrixMap[n])?(l.forEach(o=>{o.mark=!0}),{name:n,ranges:l.map(o=>o.mark&&this._explore(l,o)).filter(Boolean).map(o=>o.$shortRange)}):{name:n,ranges:[]}}normaliseMatrix(n,l){n.forEachInSheet(l,(o,c,p)=>{o&&(o.row===c&&o.col===p||(o.row=c,o.col=p,o.address=s.n2l(p)+c))})}spliceRows(n,l,o,c){d.each(this.matrixMap,p=>{p.spliceRows(n,l,o,c),this.normaliseMatrix(p,n)})}spliceColumns(n,l,o,c){d.each(this.matrixMap,p=>{p.spliceColumns(n,l,o,c),this.normaliseMatrix(p,n)})}get model(){return d.map(this.matrixMap,(n,l)=>this.getRanges(l,n)).filter(n=>n.ranges.length)}set model(n){const l=this.matrixMap={};n.forEach(o=>{const c=l[o.name]=new a;o.ranges.forEach(p=>{r.test(p.split("!").pop()||"")&&c.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,f,m){f.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,f,m){const d=t("../utils/col-cache"),s=t("./anchor");f.exports=class{constructor(a,i){this.worksheet=a,this.model=i}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:i,imageId:r,range:n,hyperlinks:l}=a;if(this.type=i,this.imageId=r,i==="image")if(typeof n=="string"){const o=d.decode(n);this.range={tl:new s(this.worksheet,{col:o.left,row:o.top},-1),br:new s(this.worksheet,{col:o.right,row:o.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,n.tl,0),br:n.br&&new s(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:l||n.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,f,m){const d=t("../utils/under-dash");class s{constructor(i){this.note=i}get model(){let i=null;switch(typeof this.note){case"string":i={type:"note",note:{texts:[{text:this.note}]}};break;default:i={type:"note",note:this.note}}return d.deepMerge({},s.DEFAULT_CONFIGS,i)}set model(i){const{note:r}=i,{texts:n}=r;n.length===1&&Object.keys(n[0]).length===1?this.note=n[0].text:this.note=r}static fromModel(i){const r=new s;return r.model=i,r}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},f.exports=s},{"../utils/under-dash":26}],10:[function(t,f,m){const d=t("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(i,r,n,l,o){if(arguments.length<4){const c=d.decodeAddress(i),p=d.decodeAddress(r);this.model={top:Math.min(c.row,p.row),left:Math.min(c.col,p.col),bottom:Math.max(c.row,p.row),right:Math.max(c.col,p.col),sheetName:n},this.setTLBR(c.row,c.col,p.row,p.col,o)}else this.model={top:Math.min(i,n),left:Math.min(r,l),bottom:Math.max(i,n),right:Math.max(r,l),sheetName:o}}decode(i){switch(i.length){case 5:this.setTLBR(i[0],i[1],i[2],i[3],i[4]);break;case 4:this.setTLBR(i[0],i[1],i[2],i[3]);break;case 3:this.setTLBR(i[0],i[1],i[2]);break;case 2:this.setTLBR(i[0],i[1]);break;case 1:{const r=i[0];if(r instanceof s)this.model={top:r.model.top,left:r.model.left,bottom:r.model.bottom,right:r.model.right,sheetName:r.sheetName};else if(r instanceof Array)this.decode(r);else if(r.top&&r.left&&r.bottom&&r.right)this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName};else{const n=d.decodeEx(r);n.top?this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName}:this.model={top:n.row,left:n.col,bottom:n.row,right:n.col,sheetName:n.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+i.length)}}get top(){return this.model.top||1}set top(i){this.model.top=i}get left(){return this.model.left||1}set left(i){this.model.left=i}get bottom(){return this.model.bottom||1}set bottom(i){this.model.bottom=i}get right(){return this.model.right||1}set right(i){this.model.right=i}get sheetName(){return this.model.sheetName}set sheetName(i){this.model.sheetName=i}get _serialisedSheetName(){const{sheetName:i}=this.model;return i?/^[a-zA-Z0-9]*$/.test(i)?i+"!":`'${i}'!`:""}expand(i,r,n,l){(!this.model.top||i<this.top)&&(this.top=i),(!this.model.left||r<this.left)&&(this.left=r),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||l>this.right)&&(this.right=l)}expandRow(i){if(i){const{dimensions:r,number:n}=i;r&&this.expand(n,r.min,n,r.max)}}expandToAddress(i){const r=d.decodeEx(i);this.expand(r.row,r.col,r.row,r.col)}get tl(){return d.n2l(this.left)+this.top}get $t$l(){return`$${d.n2l(this.left)}$${this.top}`}get br(){return d.n2l(this.right)+this.bottom}get $b$r(){return`$${d.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&!(i.bottom<this.top)&&!(i.top>this.bottom)&&!(i.right<this.left)&&!(i.left>this.right)}contains(i){const r=d.decodeEx(i);return this.containsEx(r)}containsEx(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&i.row>=this.top&&i.row<=this.bottom&&i.col>=this.left&&i.col<=this.right}forEachAddress(i){for(let r=this.left;r<=this.right;r++)for(let n=this.top;n<=this.bottom;n++)i(d.encodeAddress(n,r),n,r)}}f.exports=s},{"../utils/col-cache":19}],11:[function(t,f,m){const d=t("../utils/under-dash"),s=t("./enums"),a=t("../utils/col-cache"),i=t("./cell");f.exports=class{constructor(r,n){this._worksheet=r,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(r){return this._cells[r-1]}getCellEx(r){let n=this._cells[r.col-1];if(!n){const l=this._worksheet.getColumn(r.col);n=new i(this,l,r.address),this._cells[r.col-1]=n}return n}getCell(r){if(typeof r=="string"){const n=this._worksheet.getColumnKey(r);r=n?n.number:a.l2n(r)}return this._cells[r-1]||this.getCellEx({address:a.encodeAddress(this._number,r),row:this._number,col:r})}splice(r,n){const l=r+n;for(var o=arguments.length,c=new Array(o>2?o-2:0),p=2;p<o;p++)c[p-2]=arguments[p];const g=c.length-n,h=this._cells.length;let y,b,C;if(g<0)for(y=r+c.length;y<=h;y++)C=this._cells[y-1],b=this._cells[y-g-1],b?(C=this.getCell(y),C.value=b.value,C.style=b.style,C._comment=b._comment):C&&(C.value=null,C.style={},C._comment=void 0);else if(g>0)for(y=h;y>=l;y--)b=this._cells[y-1],b?(C=this.getCell(y+g),C.value=b.value,C.style=b.style,C._comment=b._comment):this._cells[y+g-1]=void 0;for(y=0;y<c.length;y++)C=this.getCell(r+y),C.value=c[y],C.style={},C._comment=void 0}eachCell(r,n){if(n||(n=r,r=null),r&&r.includeEmpty){const l=this._cells.length;for(let o=1;o<=l;o++)n(this.getCell(o),o)}else this._cells.forEach((l,o)=>{l&&l.type!==s.ValueType.Null&&n(l,o+1)})}addPageBreak(r,n){const l=this._worksheet,o=Math.max(0,r-1)||0,c=Math.max(0,n-1)||16838,p={id:this._number,max:c,man:1};o&&(p.min=o),l.rowBreaks.push(p)}get values(){const r=[];return this._cells.forEach(n=>{n&&n.type!==s.ValueType.Null&&(r[n.col]=n.value)}),r}set values(r){if(this._cells=[],r)if(r instanceof Array){let n=0;r.hasOwnProperty("0")&&(n=1),r.forEach((l,o)=>{l!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,o+n),row:this._number,col:o+n}).value=l)})}else this._worksheet.eachColumnKey((n,l)=>{r[l]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=r[l])})}get hasValues(){return d.some(this._cells,r=>r&&r.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let r=0;return this.eachCell(()=>{r++}),r}get dimensions(){let r=0,n=0;return this._cells.forEach(l=>{l&&l.type!==s.ValueType.Null&&((!r||r>l.col)&&(r=l.col),n<l.col&&(n=l.col))}),r>0?{min:r,max:n}:null}_applyStyle(r,n){return this.style[r]=n,this._cells.forEach(l=>{l&&(l[r]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const r=[];let n=0,l=0;return this._cells.forEach(o=>{if(o){const c=o.model;c&&((!n||n>o.col)&&(n=o.col),l<o.col&&(l=o.col),r.push(c))}}),this.height||r.length?{cells:r,number:this.number,min:n,max:l,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(r){if(r.number!==this._number)throw new Error("Invalid row number in model");let n;this._cells=[],r.cells.forEach(l=>{switch(l.type){case i.Types.Merge:break;default:{let o;if(l.address)o=a.decodeAddress(l.address);else if(n){const{row:c}=n,p=n.col+1;o={row:c,col:p,address:a.encodeAddress(c,p),$col$row:`$${a.n2l(p)}$${c}`}}n=o,this.getCellEx(o).model=l;break}}}),r.height?this.height=r.height:delete this.height,this.hidden=r.hidden,this.outlineLevel=r.outlineLevel||0,this.style=r.style&&JSON.parse(JSON.stringify(r.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,f,m){const d=t("../utils/col-cache");class s{constructor(i,r,n){this.table=i,this.column=r,this.index=n}_set(i,r){this.table.cacheState(),this.column[i]=r}get name(){return this.column.name}set name(i){this._set("name",i)}get filterButton(){return this.column.filterButton}set filterButton(i){this.column.filterButton=i}get style(){return this.column.style}set style(i){this.column.style=i}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(i){this._set("totalsRowLabel",i)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(i){this._set("totalsRowFunction",i)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(i){this._set("totalsRowResult",i)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(i){this._set("totalsRowFormula",i)}}f.exports=class{constructor(a,i){this.worksheet=a,i&&(this.table=i,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,i=(g,h,y)=>{g[h]===void 0&&(g[h]=y)};i(a,"headerRow",!0),i(a,"totalsRow",!1),i(a,"style",{}),i(a.style,"theme","TableStyleMedium2"),i(a.style,"showFirstColumn",!1),i(a.style,"showLastColumn",!1),i(a.style,"showRowStripes",!1),i(a.style,"showColumnStripes",!1);const r=(g,h)=>{if(!g)throw new Error(h)};r(a.ref,"Table must have ref"),r(a.columns,"Table must have column definitions"),r(a.rows,"Table must have row definitions"),a.tl=d.decodeAddress(a.ref);const{row:n,col:l}=a.tl;r(n>0,"Table must be on valid row"),r(l>0,"Table must be on valid col");const{width:o,filterHeight:c,tableHeight:p}=this;a.autoFilterRef=d.encode(n,l,n+c-1,l+o-1),a.tableRef=d.encode(n,l,n+p-1,l+o-1),a.columns.forEach((g,h)=>{r(g.name,`Column ${h} must have a name`),h===0?i(g,"totalsRowLabel","Total"):(i(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const a=(c,p)=>{p&&Object.keys(p).forEach(g=>{c[g]=p[g]})},{worksheet:i,table:r}=this,{row:n,col:l}=r.tl;let o=0;if(r.headerRow){const c=i.getRow(n+o++);r.columns.forEach((p,g)=>{const{style:h,name:y}=p,b=c.getCell(l+g);b.value=y,a(b,h)})}if(r.rows.forEach(c=>{const p=i.getRow(n+o++);c.forEach((g,h)=>{const y=p.getCell(l+h);y.value=g,a(y,r.columns[h].style)})}),r.totalsRow){const c=i.getRow(n+o++);r.columns.forEach((p,g)=>{const h=c.getCell(l+g);if(g===0)h.value=p.totalsRowLabel;else{const y=this.getFormula(p);h.value=y?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}a(h,p.style)})}}load(a){const{table:i}=this,{row:r,col:n}=i.tl;let l=0;if(i.headerRow){const o=a.getRow(r+l++);i.columns.forEach((c,p)=>{o.getCell(n+p).value=c.name})}if(i.rows.forEach(o=>{const c=a.getRow(r+l++);o.forEach((p,g)=>{c.getCell(n+g).value=p})}),i.totalsRow){const o=a.getRow(r+l++);i.columns.forEach((c,p)=>{const g=o.getCell(n+p);p===0?g.value=c.totalsRowLabel:this.getFormula(c)&&(g.value={formula:c.totalsRowFormula,result:c.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=d.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let i=0;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(a.row+i);for(let n=0;n<this._cache.width;n++)r.getCell(a.col+n).value=null}else{for(let i=this.tableHeight;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(a.row+i);for(let n=0;n<this._cache.width;n++)r.getCell(a.col+n).value=null}for(let i=0;i<this.tableHeight;i++){const r=this.worksheet.getRow(a.row+i);for(let n=this.width;n<this._cache.width;n++)r.getCell(a.col+n).value=null}}this.store()}addRow(a,i){this.cacheState(),i===void 0?this.table.rows.push(a):this.table.rows.splice(i,0,a)}removeRows(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,i)}getColumn(a){const i=this.table.columns[a];return new s(this,i,a)}addColumn(a,i,r){this.cacheState(),r===void 0?(this.table.columns.push(a),this.table.rows.forEach((n,l)=>{n.push(i[l])})):(this.table.columns.splice(r,0,a),this.table.rows.forEach((n,l)=>{n.splice(r,0,i[l])}))}removeColumns(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,i),this.table.rows.forEach(r=>{r.splice(a,i)})}_assign(a,i,r){this.cacheState(),a[i]=r}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(t,f,m){const d=t("./worksheet"),s=t("./defined-names"),a=t("../xlsx/xlsx"),i=t("../csv/csv");f.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new i(this)),this._csv}get nextId(){for(let r=1;r<this._worksheets.length;r++)if(!this._worksheets[r])return r;return this._worksheets.length||1}addWorksheet(r,n){const l=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const o=this._worksheets.reduce((g,h)=>(h&&h.orderNo)>g?h.orderNo:g,0),c=Object.assign({},n,{id:l,name:r,orderNo:o+1,workbook:this}),p=new d(c);return this._worksheets[l]=p,p}removeWorksheetEx(r){delete this._worksheets[r.id]}removeWorksheet(r){const n=this.getWorksheet(r);n&&n.destroy()}getWorksheet(r){return r===void 0?this._worksheets.find(Boolean):typeof r=="number"?this._worksheets[r]:typeof r=="string"?this._worksheets.find(n=>n&&n.name===r):void 0}get worksheets(){return this._worksheets.slice(1).sort((r,n)=>r.orderNo-n.orderNo).filter(Boolean)}eachSheet(r){this.worksheets.forEach(n=>{r(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(r){const n=this.media.length;return this.media.push(Object.assign({},r,{type:"image"})),n}getImage(r){return this.media[r]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(r=>r.model),sheets:this.worksheets.map(r=>r.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(r){this.creator=r.creator,this.lastModifiedBy=r.lastModifiedBy,this.lastPrinted=r.lastPrinted,this.created=r.created,this.modified=r.modified,this.company=r.company,this.manager=r.manager,this.title=r.title,this.subject=r.subject,this.keywords=r.keywords,this.category=r.category,this.description=r.description,this.language=r.language,this.revision=r.revision,this.contentStatus=r.contentStatus,this.properties=r.properties,this.calcProperties=r.calcProperties,this._worksheets=[],r.worksheets.forEach(n=>{const{id:l,name:o,state:c}=n,p=r.sheets&&r.sheets.findIndex(g=>g.id===l);(this._worksheets[l]=new d({id:l,name:o,orderNo:p,state:c,workbook:this})).model=n}),this._definedNames.model=r.definedNames,this.views=r.views,this._themes=r.themes,this.media=r.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,f,m){const d=t("../utils/under-dash"),s=t("../utils/col-cache"),a=t("./range"),i=t("./row"),r=t("./column"),n=t("./enums"),l=t("./image"),o=t("./table"),c=t("./data-validations"),p=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");f.exports=class{constructor(h){h=h||{},this._workbook=h.workbook,this.id=h.id,this.orderNo=h.orderNo,this.name=h.name,this.state=h.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},h.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!h.pageSetup||!h.pageSetup.fitToWidth&&!h.pageSetup.fitToHeight||h.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},h.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},h.headerFooter),this.dataValidations=new c,this.views=h.views||[],this.autoFilter=h.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(h){if(h===void 0&&(h="sheet"+this.id),this._name!==h){if(typeof h!="string")throw new Error("The name has to be a string.");if(h==="")throw new Error("The name can't be empty.");if(h==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(h))throw new Error(`Worksheet name ${h} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(h))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+h);if(h&&h.length>31&&(console.warn(`Worksheet name ${h} exceeds 31 chars. This will be truncated`),h=h.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===h.toLowerCase()))throw new Error("Worksheet name already exists: "+h);this._name=h}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const h=new a;return this._rows.forEach(y=>{if(y){const b=y.dimensions;b&&h.expand(y.number,b.min,y.number,b.max)}}),h}get columns(){return this._columns}set columns(h){this._headerRowCount=h.reduce((C,T)=>{const D=(T.header?1:T.headers&&T.headers.length)||0;return Math.max(C,D)},0);let y=1;const b=this._columns=[];h.forEach(C=>{const T=new r(this,y++,!1);b.push(T),T.defn=C})}getColumnKey(h){return this._keys[h]}setColumnKey(h,y){this._keys[h]=y}deleteColumnKey(h){delete this._keys[h]}eachColumnKey(h){d.each(this._keys,h)}getColumn(h){if(typeof h=="string"){const y=this._keys[h];if(y)return y;h=s.l2n(h)}if(this._columns||(this._columns=[]),h>this._columns.length){let y=this._columns.length+1;for(;y<=h;)this._columns.push(new r(this,y++))}return this._columns[h-1]}spliceColumns(h,y){const b=this._rows.length;for(var C=arguments.length,T=new Array(C>2?C-2:0),D=2;D<C;D++)T[D-2]=arguments[D];if(T.length>0)for(let $=0;$<b;$++){const B=[h,y];T.forEach(U=>{B.push(U[$]||null)});const K=this.getRow($+1);K.splice.apply(K,B)}else this._rows.forEach($=>{$&&$.splice(h,y)});const F=T.length-y,H=h+y,O=this._columns.length;if(F<0)for(let $=h+T.length;$<=O;$++)this.getColumn($).defn=this.getColumn($-F).defn;else if(F>0)for(let $=O;$>=H;$--)this.getColumn($+F).defn=this.getColumn($).defn;for(let $=h;$<h+T.length;$++)this.getColumn($).defn=null;this.workbook.definedNames.spliceColumns(this.name,h,y,T.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let h=0;return this.eachRow(y=>{h=Math.max(h,y.cellCount)}),h}get actualColumnCount(){const h=[];let y=0;return this.eachRow(b=>{b.eachCell(C=>{let{col:T}=C;h[T]||(h[T]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const h=this._rows;let y=h.length;for(;y>0&&h[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(h){return this._rows[h-1]}findRows(h,y){return this._rows.slice(h-1,h-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let h=0;return this.eachRow(()=>{h++}),h}getRow(h){let y=this._rows[h-1];return y||(y=this._rows[h-1]=new i(this,h)),y}getRows(h,y){if(y<1)return;const b=[];for(let C=h;C<h+y;C++)b.push(this.getRow(C));return b}addRow(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,C=this.getRow(b);return C.values=h,this._setStyleOption(b,y[0]==="i"?y:"n"),C}addRows(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return h.forEach(C=>{b.push(this.addRow(C,y))}),b}insertRow(h,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(h,0,y),this._setStyleOption(h,b),this.getRow(h)}insertRows(h,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(h,0,...y),b!=="n")for(let C=0;C<y.length;C++)b[0]==="o"&&this.findRow(y.length+h+C)!==void 0?this._copyStyle(y.length+h+C,h+C,b[1]==="+"):b[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h+C,b[1]==="+");return this.getRows(h,y.length)}_setStyleOption(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(h+1)!==void 0?this._copyStyle(h+1,h,y[1]==="+"):y[0]==="i"&&this.findRow(h-1)!==void 0&&this._copyStyle(h-1,h,y[1]==="+")}_copyStyle(h,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const C=this.getRow(h),T=this.getRow(y);T.style=g(C.style),C.eachCell({includeEmpty:b},(D,F)=>{T.getCell(F).style=g(D.style)}),T.height=C.height}duplicateRow(h,y){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const C=this._rows[h-1],T=new Array(y).fill(C.values);this.spliceRows(h+1,b?0:y,...T);for(let D=0;D<y;D++){const F=this._rows[h+D];F.style=C.style,F.height=C.height,C.eachCell({includeEmpty:!0},(H,O)=>{F.getCell(O).style=H.style})}}spliceRows(h,y){const b=h+y;for(var C=arguments.length,T=new Array(C>2?C-2:0),D=2;D<C;D++)T[D-2]=arguments[D];const F=T.length,H=F-y,O=this._rows.length;let $,B;if(H<0)for(h===O&&(this._rows[O-1]=void 0),$=b;$<=O;$++)if(B=this._rows[$-1],B){const K=this.getRow($+H);K.values=B.values,K.style=B.style,K.height=B.height,B.eachCell({includeEmpty:!0},(U,_)=>{K.getCell(_).style=U.style}),this._rows[$-1]=void 0}else this._rows[$+H-1]=void 0;else if(H>0)for($=O;$>=b;$--)if(B=this._rows[$-1],B){const K=this.getRow($+H);K.values=B.values,K.style=B.style,K.height=B.height,B.eachCell({includeEmpty:!0},(U,_)=>{if(K.getCell(_).style=U.style,U._value.constructor.name==="MergeValue"){const M=this.getRow(U._row._number+F).getCell(_),A=U._value._master,N=this.getRow(A._row._number+F).getCell(A._column._number);M.merge(N)}})}else this._rows[$+H-1]=void 0;for($=0;$<F;$++){const K=this.getRow(h+$);K.style={},K.values=T[$]}this.workbook.definedNames.spliceRows(this.name,h,y,F)}eachRow(h,y){if(y||(y=h,h=void 0),h&&h.includeEmpty){const b=this._rows.length;for(let C=1;C<=b;C++)y(this.getRow(C),C)}else this._rows.forEach(b=>{b&&b.hasValues&&y(b,b.number)})}getSheetValues(){const h=[];return this._rows.forEach(y=>{y&&(h[y.number]=y.values)}),h}findCell(h,y){const b=s.getAddress(h,y),C=this._rows[b.row-1];return C?C.findCell(b.col):void 0}getCell(h,y){const b=s.getAddress(h,y);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];const C=new a(y);this._mergeCellsInternal(C)}mergeCellsWithoutStyle(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];const C=new a(y);this._mergeCellsInternal(C,!0)}_mergeCellsInternal(h,y){d.each(this._merges,C=>{if(C.intersects(h))throw new Error("Cannot merge already merged cells")});const b=this.getCell(h.top,h.left);for(let C=h.top;C<=h.bottom;C++)for(let T=h.left;T<=h.right;T++)(C>h.top||T>h.left)&&this.getCell(C,T).merge(b,y);this._merges[b.address]=h}_unMergeMaster(h){const y=this._merges[h.address];if(y){for(let b=y.top;b<=y.bottom;b++)for(let C=y.left;C<=y.right;C++)this.getCell(b,C).unmerge();delete this._merges[h.address]}}get hasMerges(){return d.some(this._merges,Boolean)}unMergeCells(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];const C=new a(y);for(let T=C.top;T<=C.bottom;T++)for(let D=C.left;D<=C.right;D++){const F=this.findCell(T,D);F&&(F.type===n.ValueType.Merge?this._unMergeMaster(F.master):this._merges[F.address]&&this._unMergeMaster(F))}}fillFormula(h,y,b){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const T=s.decode(h),{top:D,left:F,bottom:H,right:O}=T,$=O-F+1,B=s.encodeAddress(D,F),K=C==="shared";let U;U=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(M,A)=>b[M-D][A-F]:(M,A)=>b[(M-D)*$+(A-F)]:()=>{};let _=!0;for(let M=D;M<=H;M++)for(let A=F;A<=O;A++)_?(this.getCell(M,A).value={shareType:C,formula:y,ref:h,result:U(M,A)},_=!1):this.getCell(M,A).value=K?{sharedFormula:B,result:U(M,A)}:U(M,A)}addImage(h,y){const b={type:"image",imageId:h,range:y};this._media.push(new l(this,b))}getImages(){return this._media.filter(h=>h.type==="image")}addBackgroundImage(h){const y={type:"background",imageId:h};this._media.push(new l(this,y))}getBackgroundImageId(){const h=this._media.find(y=>y.type==="background");return h&&h.imageId}protect(h,y){return new Promise(b=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),h&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(h,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!h&&"spinCount"in y&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(h){const y=new o(this,h);return this.tables[h.name]=y,y}getTable(h){return this.tables[h]}removeTable(h){delete this.tables[h]}getTables(){return Object.values(this.tables)}addConditionalFormatting(h){this.conditionalFormattings.push(h)}removeConditionalFormatting(h){typeof h=="number"?this.conditionalFormattings.splice(h,1):this.conditionalFormattings=h instanceof Function?this.conditionalFormattings.filter(h):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(h){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=h}get model(){const h={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(C=>C.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(C=>C.model),conditionalFormattings:this.conditionalFormattings};h.cols=r.toModel(this.columns);const y=h.rows=[],b=h.dimensions=new a;return this._rows.forEach(C=>{const T=C&&C.model;T&&(b.expand(T.number,T.min,T.number,T.max),y.push(T))}),h.merges=[],d.each(this._merges,C=>{h.merges.push(C.range)}),h}_parseRows(h){this._rows=[],h.rows.forEach(y=>{const b=new i(this,y.number);this._rows[b.number-1]=b,b.model=y})}_parseMergeCells(h){d.each(h.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(h){this.name=h.name,this._columns=r.fromModel(this,h.cols),this._parseRows(h),this._parseMergeCells(h),this.dataValidations=new c(h.dataValidations),this.properties=h.properties,this.pageSetup=h.pageSetup,this.headerFooter=h.headerFooter,this.views=h.views,this.autoFilter=h.autoFilter,this._media=h.media.map(y=>new l(this,y)),this.sheetProtection=h.sheetProtection,this.tables=h.tables.reduce((y,b)=>{const C=new o;return C.model=b,y[b.name]=C,y},{}),this.conditionalFormattings=h.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,f,m){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const d={Workbook:t("./doc/workbook")},s=t("./doc/enums");Object.keys(s).forEach(a=>{d[a]=s[a]}),f.exports=d},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,f,m){const d=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");m.bufferToString=function(s){return typeof s=="string"?s:d?d.decode(s):s.toString()}},{}],17:[function(t,f,m){const d=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=t("buffer");m.stringToBuffer=function(a){return typeof a!="string"?a:d?s.from(d.encode(a).buffer):s.from(a)}},{buffer:220}],18:[function(t,f,m){const d=t("./under-dash"),s=t("./col-cache");f.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(s.decodeEx(a))}getCell(a){return this.findCellEx(s.decodeEx(a),!0)}findCell(a){return this.findCellEx(s.decodeEx(a),!1)}findCellAt(a,i,r){const n=this.sheets[a],l=n&&n[i];return l&&l[r]}addCellEx(a){if(a.top)for(let i=a.top;i<=a.bottom;i++)for(let r=a.left;r<=a.right;r++)this.getCellAt(a.sheetName,i,r);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,i){const r=this.findSheet(a,i),n=this.findSheetRow(r,a,i);return this.findRowCell(n,a,i)}getCellAt(a,i,r){const n=this.sheets[a]||(this.sheets[a]=[]),l=n[i]||(n[i]=[]);return l[r]||(l[r]={sheetName:a,address:s.n2l(r)+i,row:i,col:r})}removeCellEx(a){const i=this.findSheet(a);if(!i)return;const r=this.findSheetRow(i,a);r&&delete r[a.col]}forEachInSheet(a,i){const r=this.sheets[a];r&&r.forEach((n,l)=>{n&&n.forEach((o,c)=>{o&&i(o,l,c)})})}forEach(a){d.each(this.sheets,(i,r)=>{this.forEachInSheet(r,a)})}map(a){const i=[];return this.forEach(r=>{i.push(a(r))}),i}findSheet(a,i){const r=a.sheetName;return this.sheets[r]?this.sheets[r]:i?this.sheets[r]=[]:void 0}findSheetRow(a,i,r){const{row:n}=i;return a&&a[n]?a[n]:r?a[n]=[]:void 0}findRowCell(a,i,r){const{col:n}=i;return a&&a[n]?a[n]:r?a[n]=this.template?Object.assign(i,JSON.parse(JSON.stringify(this.template))):i:void 0}spliceRows(a,i,r,n){const l=this.sheets[a];if(l){const o=[];for(let c=0;c<n;c++)o.push([]);l.splice(i,r,...o)}}spliceColumns(a,i,r,n){const l=this.sheets[a];if(l){const o=[];for(let c=0;c<n;c++)o.push(null);d.each(l,c=>{c.splice(i,r,...o)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,f,m){const d=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let i,r,n,l,o,c=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;c<=26;)i=this._dictionary[c-1],this._n2l[c]=i,this._l2n[i]=c,c++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(c=27;c<=702;)r=c-27,n=r%26,l=Math.floor(r/26),i=this._dictionary[l]+this._dictionary[n],this._n2l[c]=i,this._l2n[i]=c,c++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(c=703;c<=16384;)r=c-703,n=r%26,l=Math.floor(r/26)%26,o=Math.floor(r/676),i=this._dictionary[o]+this._dictionary[l]+this._dictionary[n],this._n2l[c]=i,this._l2n[i]=c,c++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!d.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const i=a.length<5&&this._hash[a];if(i)return i;let r=!1,n="",l=0,o=!1,c="",p=0;for(let h,y=0;y<a.length;y++)if(h=a.charCodeAt(y),!o&&h>=65&&h<=90)r=!0,n+=a[y],l=26*l+h-64;else if(h>=48&&h<=57)o=!0,c+=a[y],p=10*p+h-48;else if(o&&r&&h!==36)break;if(r){if(l>16384)throw new Error("Out of bounds. Invalid column letter: "+n)}else l=void 0;o||(p=void 0);const g={address:a=n+c,col:l,row:p,$col$row:`$${n}$${c}`};return l<=100&&p<=100&&(this._hash[a]=g,this._hash[g.$col$row]=g),g},getAddress(a,i){if(i){const r=this.n2l(i)+a;return this.decodeAddress(r)}return this.decodeAddress(a)},decode(a){const i=a.split(":");if(i.length===2){const r=this.decodeAddress(i[0]),n=this.decodeAddress(i[1]),l={top:Math.min(r.row,n.row),left:Math.min(r.col,n.col),bottom:Math.max(r.row,n.row),right:Math.max(r.col,n.col)};return l.tl=this.n2l(l.left)+l.top,l.br=this.n2l(l.right)+l.bottom,l.dimensions=`${l.tl}:${l.br}`,l}return this.decodeAddress(a)},decodeEx(a){const i=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),r=i[1]||i[2],n=i[3],l=n.split(":");if(l.length>1){let c=this.decodeAddress(l[0]),p=this.decodeAddress(l[1]);const g=Math.min(c.row,p.row),h=Math.min(c.col,p.col),y=Math.max(c.row,p.row),b=Math.max(c.col,p.col);return c=this.n2l(h)+g,p=this.n2l(b)+y,{top:g,left:h,bottom:y,right:b,sheetName:r,tl:{address:c,col:h,row:g,$col$row:`$${this.n2l(h)}$${g}`,sheetName:r},br:{address:p,col:b,row:y,$col$row:`$${this.n2l(b)}$${y}`,sheetName:r},dimensions:`${c}:${p}`}}if(n.startsWith("#"))return r?{sheetName:r,error:n}:{error:n};const o=this.decodeAddress(n);return r?{sheetName:r,...o}:o},encodeAddress:(a,i)=>s.n2l(i)+a,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,i){const[r,n,,l,o]=a,[c,p]=i;return c>=r&&c<=l&&p>=n&&p<=o}};f.exports=s},{}],20:[function(t,f,m){const d=(a,i)=>({...a,...i.reduce((r,n)=>(a[n]&&(r[n]={...a[n]}),r),{})}),s=function(a,i,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[r]&&(i[r]=d(a[r],n))};m.copyStyle=a=>{if(!a)return a;if(i=a,Object.keys(i).length===0)return{};var i;const r={...a};return s(a,r,"font",["color"]),s(a,r,"alignment"),s(a,r,"protection"),a.border&&(s(a,r,"border"),s(a.border,r.border,"top",["color"]),s(a.border,r.border,"left",["color"]),s(a.border,r.border,"bottom",["color"]),s(a.border,r.border,"right",["color"]),s(a.border,r.border,"diagonal",["color"])),a.fill&&(s(a,r,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(r.fill.stops=a.fill.stops.map(n=>d(n,["color"])))),r}},{}],21:[function(t,f,m){(function(d){(function(){const s=t("crypto"),a={hash(i){const r=s.createHash(i);for(var n=arguments.length,l=new Array(n>1?n-1:0),o=1;o<n;o++)l[o-1]=arguments[o];return r.update(d.concat(l)),r.digest()},convertPasswordToHash(i,r,n,l){if(r=r.toLowerCase(),s.getHashes().indexOf(r)<0)throw new Error(`Hash algorithm '${r}' not supported!`);const o=d.from(i,"utf16le");let c=this.hash(r,d.from(n,"base64"),o);for(let p=0;p<l;p++){const g=d.alloc(4);g.writeUInt32LE(p,0),c=this.hash(r,c,g)}return c.toString("base64")},randomBytes:i=>s.randomBytes(i)};f.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,f,m){const{SaxesParser:d}=t("saxes"),{PassThrough:s}=t("readable-stream"),{bufferToString:a}=t("./browser-buffer-decode");f.exports=async function*(i){i.pipe&&!i[Symbol.asyncIterator]&&(i=i.pipe(new s));const r=new d;let n;r.on("error",o=>{n=o});let l=[];r.on("opentag",o=>l.push({eventType:"opentag",value:o})),r.on("text",o=>l.push({eventType:"text",value:o})),r.on("closetag",o=>l.push({eventType:"closetag",value:o}));for await(const o of i){if(r.write(a(o)),n)throw n;yield l,l=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,f,m){const d=t("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;f.exports={slideFormula:function(i,r,n){const l=d.decode(r),o=d.decode(n);return i.replace(s,(c,p,g,h,y)=>{if(y)return c;const b=a.exec(h);if(b){const C=b[1],T=b[2].toUpperCase(),D=b[3],F=b[4];if(T.length>3||T.length===3&&T>"XFD")return c;let H=d.l2n(T),O=parseInt(F,10);return C||(H+=o.col-l.col),D||(O+=o.row-l.row),(p||"")+(C||"")+d.n2l(H)+(D||"")+O}return c})}}},{"./col-cache":19}],24:[function(t,f,m){(function(d,s){(function(){const a=t("readable-stream"),i=t("./utils"),r=t("./string-buf");class n{constructor(h,y){this._data=h,this._encoding=y}get length(){return this.toBuffer().length}copy(h,y,b,C){return this.toBuffer().copy(h,y,b,C)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class l{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,b,C){return this._data._buf.copy(h,y,b,C)}toBuffer(){return this._data.toBuffer()}}class o{constructor(h){this._data=h}get length(){return this._data.length}copy(h,y,b,C){this._data.copy(h,y,b,C)}toBuffer(){return this._data}}class c{constructor(h){this.size=h,this.buffer=s.alloc(h),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const h=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(h,0,this.iRead,this.iWrite),h}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(h){let y;return h===0?null:h===void 0||h>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=s.alloc(h),this.buffer.copy(y,0,this.iRead,h),this.iRead+=h,y)}write(h,y,b){const C=Math.min(b,this.size-this.iWrite);return h.copy(this.buffer,this.iWrite,y,y+C),this.iWrite+=C,C}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};i.inherits(p,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const h=this.buffers[this.buffers.length-1];if(!h.full)return h}const g=new c(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map((function(h){return new Promise(y=>{h.write(g.toBuffer(),()=>{y()})})})))},_writeToBuffers(g){let h=0;const y=g.length;for(;h<y;)h+=this._getWritableBuffer().write(g,h,y-h)},async write(g,h,y){let b;if(h instanceof Function&&(y=h,h="utf8"),y=y||i.nop,g instanceof r)b=new l(g);else if(g instanceof s)b=new o(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new n(g,h)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),d.nextTick(y)):(await this._pipe(b),y());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,h,y){const b=C=>{C?y(C):(this._flush(),this.pipes.forEach(T=>{T.end()}),this.emit("finish"))};g?this.write(g,h,b):b()},read(g){let h;if(g){for(h=[];g&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],b=y.read(g);g-=b.length,h.push(b),y.eod&&y.full&&this.buffers.shift()}return s.concat(h)}return h=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],s.concat(h)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(h=>h!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),f.exports=p}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,f,m){(function(d){(function(){f.exports=class{constructor(s){this._buf=d.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=d.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let a=2*this._buf.length;for(;a<s;)a*=2;const i=d.alloc(a);this._buf.copy(i,0),this._buf=i}addText(s){this._buffer=void 0;let a=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+s.length),a=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=a}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,f,m){const{toString:d}=Object.prototype,s=/["&<>]/,a={each:function(i,r){i&&(Array.isArray(i)?i.forEach(r):Object.keys(i).forEach(n=>{r(i[n],n)}))},some:function(i,r){return!!i&&(Array.isArray(i)?i.some(r):Object.keys(i).some(n=>r(i[n],n)))},every:function(i,r){return!i||(Array.isArray(i)?i.every(r):Object.keys(i).every(n=>r(i[n],n)))},map:function(i,r){return i?Array.isArray(i)?i.map(r):Object.keys(i).map(n=>r(i[n],n)):[]},keyBy:(i,r)=>i.reduce((n,l)=>(n[l[r]]=l,n),{}),isEqual:function(i,r){const n=typeof i,l=typeof r,o=Array.isArray(i),c=Array.isArray(r);let p;if(n!==l)return!1;switch(typeof i){case"object":if(o||c)return!(!o||!c)&&i.length===r.length&&i.every((g,h)=>{const y=r[h];return a.isEqual(g,y)});if(i===null||r===null)return i===r;if(p=Object.keys(i),Object.keys(r).length!==p.length)return!1;for(const g of p)if(!r.hasOwnProperty(g))return!1;return a.every(i,(g,h)=>{const y=r[h];return a.isEqual(g,y)});default:return i===r}},escapeHtml(i){const r=s.exec(i);if(!r)return i;let n="",l="",o=0,c=r.index;for(;c<i.length;c++){switch(i.charAt(c)){case'"':l="&quot;";break;case"&":l="&amp;";break;case"'":l="&apos;";break;case"<":l="&lt;";break;case">":l="&gt;";break;default:continue}o!==c&&(n+=i.substring(o,c)),o=c+1,n+=l}return o!==c?n+i.substring(o,c):n},strcmp:(i,r)=>i<r?-1:i>r?1:0,isUndefined:i=>d.call(i)==="[object Undefined]",isObject:i=>d.call(i)==="[object Object]",deepMerge(){const i=arguments[0]||{},{length:r}=arguments;let n,l,o;function c(p,g){n=i[g],o=Array.isArray(p),a.isObject(p)||o?(o?(o=!1,l=n&&Array.isArray(n)?n:[]):l=n&&a.isObject(n)?n:{},i[g]=a.deepMerge(l,p)):a.isUndefined(p)||(i[g]=p)}for(let p=0;p<r;p++)a.each(arguments[p],c);return i}};f.exports=a},{}],27:[function(t,f,m){(function(d,s){(function(){const a=t("fs"),i=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,r={nop(){},promiseImmediate:n=>new Promise(l=>{d.setImmediate?s(()=>{l(n)}):setTimeout(()=>{l(n)},1)}),inherits:function(n,l,o,c){n.super_=l,c||(c=o,o=null),o&&Object.keys(o).forEach(g=>{Object.defineProperty(n,g,Object.getOwnPropertyDescriptor(o,g))});const p={constructor:{value:n,enumerable:!1,writable:!1,configurable:!0}};c&&Object.keys(c).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(c,g)}),n.prototype=Object.create(l.prototype,p)},dateToExcel:(n,l)=>25569+n.getTime()/864e5-(l?1462:0),excelToDate(n,l){const o=Math.round(24*(n-25569+(l?1462:0))*3600*1e3);return new Date(o)},parsePath(n){const l=n.lastIndexOf("/");return{path:n.substring(0,l),name:n.substring(l+1)}},getRelsPath(n){const l=r.parsePath(n);return`${l.path}/_rels/${l.name}.rels`},xmlEncode(n){const l=i.exec(n);if(!l)return n;let o="",c="",p=0,g=l.index;for(;g<n.length;g++){const h=n.charCodeAt(g);switch(h){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&apos;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;case 127:c="";break;default:if(h<=31&&(h<=8||h>=11&&h!==13)){c="";break}continue}p!==g&&(o+=n.substring(p,g)),p=g+1,c&&(o+=c)}return p!==g?o+n.substring(p,g):o},xmlDecode:n=>n.replace(/&([a-z]*);/g,l=>{switch(l){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return l}}),validInt(n){const l=parseInt(n,10);return Number.isNaN(l)?0:l},isDateFmt(n){return n?(n=(n=n.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:n=>new Promise(l=>{a.access(n,a.constants.F_OK,o=>{l(!o)})})},toIsoDateString:n=>n.toIsoString().subsstr(0,10),parseBoolean:n=>n===!0||n==="true"||n===1||n==="1"};f.exports=r}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,f,m){const d=t("./under-dash"),s=t("./utils");function a(n,l,o){n.push(` ${l}="${s.xmlEncode(o.toString())}"`)}function i(n,l){if(l){const o=[];d.each(l,(c,p)=>{c!==void 0&&a(o,p,c)}),n.push(o.join(""))}}class r{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(l){const o=this._xml;o.push("<?xml"),i(o,l),o.push(`?>
`)}openNode(l,o){const c=this.tos,p=this._xml;c&&this.open&&p.push(">"),this._stack.push(l),p.push("<"),p.push(l),i(p,o),this.leaf=!0,this.open=!0}addAttribute(l,o){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");o!==void 0&&a(this._xml,l,o)}addAttributes(l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");i(this._xml,l)}writeText(l){const o=this._xml;this.open&&(o.push(">"),this.open=!1),this.leaf=!1,o.push(s.xmlEncode(l.toString()))}writeXml(l){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(l)}closeNode(){const l=this._stack.pop(),o=this._xml;this.leaf?o.push("/>"):(o.push("</"),o.push(l),o.push(">")),this.open=!1,this.leaf=!1}leafNode(l,o,c){this.openNode(l,o),c!==void 0&&this.writeText(c),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const l=this._rollbacks.pop();this._xml.length>l.xml&&this._xml.splice(l.xml,this._xml.length-l.xml),this._stack.length>l.stack&&this._stack.splice(l.stack,this._stack.length-l.stack),this.leaf=l.leaf,this.open=l.open}get xml(){return this.closeAll(),this._xml.join("")}}r.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},f.exports=r},{"./under-dash":26,"./utils":27}],29:[function(t,f,m){(function(d){(function(){const s=t("events"),a=t("jszip"),i=t("./stream-buf"),{stringToBuffer:r}=t("./browser-buffer-encode");class n extends s.EventEmitter{constructor(o){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},o),this.zip=new a,this.stream=new i}append(o,c){c.hasOwnProperty("base64")&&c.base64?this.zip.file(c.name,o,{base64:!0}):(d.browser&&typeof o=="string"&&(o=r(o)),this.zip.file(c.name,o))}async finalize(){const o=await this.zip.generateAsync(this.options);this.stream.end(o),this.emit("finish")}read(o){return this.stream.read(o)}setEncoding(o){return this.stream.setEncoding(o)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(o,c){return this.stream.pipe(o,c)}unpipe(o){return this.stream.unpipe(o)}unshift(o){return this.stream.unshift(o)}wrap(o){return this.stream.wrap(o)}}f.exports={ZipWriter:n}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,f,m){f.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,f,m){f.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,f,m){const d=t("../../utils/parse-sax"),s=t("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(r){}parseText(r){}parseClose(r){}reconcile(r,n){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(r=>{r instanceof a?r.reset():r.xform&&r.xform.reset()})}mergeModel(r){this.model=Object.assign(this.model||{},r)}async parse(r){for await(const n of r)for(const{eventType:l,value:o}of n)if(l==="opentag")this.parseOpen(o);else if(l==="text")this.parseText(o);else if(l==="closetag"&&!this.parseClose(o.name))return this.model;return this.model}async parseStream(r){return this.parse(d(r))}get xml(){return this.toXml(this.model)}toXml(r){const n=new s;return this.render(n,r),n.xml}static toAttribute(r,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(l)return n}else if(l||r!==n)return r.toString()}static toStringAttribute(r,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(r,n,l)}static toStringValue(r,n){return r===void 0?n:r}static toBoolAttribute(r,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(l)return n}else if(l||r!==n)return r?"1":"0"}static toBoolValue(r,n){return r===void 0?n:r==="1"}static toIntAttribute(r,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(r,n,l)}static toIntValue(r,n){return r===void 0?n:parseInt(r,10)}static toFloatAttribute(r,n){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(r,n,l)}static toFloatValue(r,n){return r===void 0?n:parseFloat(r)}}f.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,f,m){const d=t("../base-xform"),s=t("../../../utils/col-cache");function a(r){try{return s.decodeEx(r),!0}catch{return!1}}function i(r){const n=[];let l=!1,o="";return r.split(",").forEach(c=>{if(!c)return;const p=(c.match(/'/g)||[]).length;if(!p)return void(l?o+=c+",":a(c)&&n.push(c));const g=p%2==0;!l&&g&&a(c)?n.push(c):l&&!g?(l=!1,a(o+c)&&n.push(o+c),o=""):(l=!0,o+=c+",")}),n}f.exports=class extends d{render(r,n){r.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),r.writeText(n.ranges.join(",")),r.closeNode()}parseOpen(r){switch(r.name){case"definedName":return this._parsedName=r.attributes.name,this._parsedLocalSheetId=r.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(r){this._parsedText.push(r)}parseClose(){return this.model={name:this._parsedName,ranges:i(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,f,m){const d=t("../../../utils/utils"),s=t("../base-xform");f.exports=class extends s{render(a,i){a.leafNode("sheet",{sheetId:i.id,name:i.name,state:i.state,"r:id":i.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:d.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){s.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){const i={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(i.visibility=a.visibility),s.leafNode("workbookView",i)}parseOpen(s){if(s.name==="workbookView"){const a=this.model={},i=function(n,l,o){const c=l!==void 0?a[n]=l:o;c!==void 0&&(a[n]=c)},r=function(n,l,o){const c=l!==void 0?a[n]=parseInt(l,10):o;c!==void 0&&(a[n]=c)};return r("x",s.attributes.xWindow,0),r("y",s.attributes.yWindow,0),r("width",s.attributes.windowWidth,25e3),r("height",s.attributes.windowHeight,1e4),i("visibility",s.attributes.visibility,"visible"),r("activeTab",s.attributes.activeTab,void 0),r("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),i=t("../base-xform"),r=t("../static-xform"),n=t("../list-xform"),l=t("./defined-name-xform"),o=t("./sheet-xform"),c=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class h extends i{constructor(){super(),this.map={fileVersion:h.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new n({tag:"bookViews",count:!1,childXform:new c}),sheets:new n({tag:"sheets",count:!1,childXform:new o}),definedNames:new n({tag:"definedNames",count:!1,childXform:new l}),calcPr:new g}}prepare(b){b.sheets=b.worksheets;const C=[];let T=0;b.sheets.forEach(D=>{if(D.pageSetup&&D.pageSetup.printArea&&D.pageSetup.printArea.split("&&").forEach(F=>{const H=F.split(":"),O={name:"_xlnm.Print_Area",ranges:[`'${D.name}'!$${H[0]}:$${H[1]}`],localSheetId:T};C.push(O)}),D.pageSetup&&(D.pageSetup.printTitlesRow||D.pageSetup.printTitlesColumn)){const F=[];if(D.pageSetup.printTitlesColumn){const O=D.pageSetup.printTitlesColumn.split(":");F.push(`'${D.name}'!$${O[0]}:$${O[1]}`)}if(D.pageSetup.printTitlesRow){const O=D.pageSetup.printTitlesRow.split(":");F.push(`'${D.name}'!$${O[0]}:$${O[1]}`)}const H={name:"_xlnm.Print_Titles",ranges:F,localSheetId:T};C.push(H)}T++}),C.length&&(b.definedNames=b.definedNames.concat(C)),(b.media||[]).forEach((D,F)=>{D.name=D.type+(F+1)})}render(b,C){b.openXml(a.StdDocAttributes),b.openNode("workbook",h.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,C.properties),this.map.bookViews.render(b,C.views),this.map.sheets.render(b,C.sheets),this.map.definedNames.render(b,C.definedNames),this.map.calcPr.render(b,C.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const C=(b.workbookRels||[]).reduce((O,$)=>(O[$.Id]=$,O),{}),T=[];let D,F=0;(b.sheets||[]).forEach(O=>{const $=C[O.rId];$&&(D=b.worksheetHash["xl/"+$.Target.replace(/^(\s|\/xl\/)+/,"")],D&&(D.name=O.name,D.id=O.id,D.state=O.state,T[F++]=D))});const H=[];d.each(b.definedNames,O=>{if(O.name==="_xlnm.Print_Area"){if(D=T[O.localSheetId],D){D.pageSetup||(D.pageSetup={});const $=s.decodeEx(O.ranges[0]);D.pageSetup.printArea=D.pageSetup.printArea?`${D.pageSetup.printArea}&&${$.dimensions}`:$.dimensions}}else if(O.name==="_xlnm.Print_Titles"){if(D=T[O.localSheetId],D){D.pageSetup||(D.pageSetup={});const $=O.ranges.join(","),B=/\$/g,K=/\$\d+:\$\d+/,U=$.match(K);if(U&&U.length){const A=U[0];D.pageSetup.printTitlesRow=A.replace(B,"")}const _=/\$[A-Z]+:\$[A-Z]+/,M=$.match(_);if(M&&M.length){const A=M[0];D.pageSetup.printTitlesColumn=A.replace(B,"")}}}else H.push(O)}),b.definedNames=H,b.media.forEach((O,$)=>{O.index=$})}}h.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},h.STATIC_XFORMS={fileVersion:new r({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},f.exports=h},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,f,m){const d=t("../strings/rich-text-xform"),s=t("../../../utils/utils"),a=t("../base-xform"),i=f.exports=function(r){this.model=r};s.inherits(i,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new d),this._richTextXform},render(r,n){n=n||this.model,r.openNode("comment",{ref:n.ref,authorId:0}),r.openNode("text"),n&&n.note&&n.note.texts&&n.note.texts.forEach(l=>{this.richTextXform.render(r,l)}),r.closeNode(),r.closeNode()},parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"comment":return this.model={type:"note",note:{texts:[]},...r.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(r),!0;default:return!1}},parseText(r){this.parser&&this.parser.parseText(r)},parseClose(r){switch(r){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(r),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../../../utils/utils"),a=t("../base-xform"),i=t("./comment-xform"),r=f.exports=function(){this.map={comment:new i}};s.inherits(r,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(n,l){l=l||this.model,n.openXml(d.StdDocAttributes),n.openNode("comments",r.COMMENTS_ATTRIBUTES),n.openNode("authors"),n.leafNode("author",null,"Author"),n.closeNode(),n.openNode("commentList"),l.comments.forEach(o=>{this.map.comment.render(n,o)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,a,i){(a===i[2]||this.tag==="x:SizeWithCells"&&a===i[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"x:Anchor"}getAnchorRect(s){const a=Math.floor(s.left),i=Math.floor(68*(s.left-a)),r=Math.floor(s.top),n=Math.floor(18*(s.top-r)),l=Math.floor(s.right),o=Math.floor(68*(s.right-l)),c=Math.floor(s.bottom);return[a,i,r,n,l,o,c,Math.floor(18*(s.bottom-c))]}getDefaultRect(s){const a=s.col,i=Math.max(s.row-2,0);return[a,6,i,14,a+2,2,i+4,16]}render(s,a){const i=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);s.leafNode("x:Anchor",null,i.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,f,m){const d=t("../base-xform"),s=t("./vml-anchor-xform"),a=t("./style/vml-protection-xform"),i=t("./style/vml-position-xform"),r=["twoCells","oneCells","absolute"];f.exports=class extends d{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new i({tag:"x:SizeWithCells"}),"x:MoveWithCells":new i({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,l){const{protection:o,editAs:c}=l.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,c,r),this.map["x:SizeWithCells"].render(n,c,r),this.map["x:Anchor"].render(n,l),this.map["x:Locked"].render(n,o.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,o.lockText),n.leafNode("x:Row",null,l.refAddress.row-1),n.leafNode("x:Column",null,l.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),l=Object.keys(n).length;this.model.editAs=r[l],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("./vml-shape-xform");class i extends s{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(n,l){n.openXml(d.StdDocAttributes),n.openNode(this.tag,i.DRAWING_ATTRIBUTES),n.openNode("o:shapelayout",{"v:ext":"edit"}),n.leafNode("o:idmap",{"v:ext":"edit",data:1}),n.closeNode(),n.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),n.leafNode("v:stroke",{joinstyle:"miter"}),n.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),n.closeNode(),l.comments.forEach((o,c)=>{this.map["v:shape"].render(n,o,c)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}reconcile(n,l){n.anchors.forEach(o=>{o.br?this.map["xdr:twoCellAnchor"].reconcile(o,l):this.map["xdr:oneCellAnchor"].reconcile(o,l)})}}i.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},f.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,f,m){const d=t("../base-xform"),s=t("./vml-textbox-xform"),a=t("./vml-client-data-xform");class i extends d{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new a}}get tag(){return"v:shape"}render(n,l,o){n.openNode("v:shape",i.V_SHAPE_ATTRIBUTES(l,o)),n.leafNode("v:fill",{color2:"infoBackground [80]"}),n.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),n.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(n,l),this.map["x:ClientData"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={margins:{insetmode:n.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}i.V_SHAPE_ATTRIBUTES=(r,n)=>({id:"_x0000_s"+(1025+n),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":r.note.margins&&r.note.margins.insetmode}),f.exports=i},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"v:textbox"}conversionUnit(s,a,i){return`${parseFloat(s)*a.toFixed(2)}${i}`}reverseConversionUnit(s){return(s||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(s,a){const i={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:r}=a.note&&a.note.margins;Array.isArray(r)&&(r=r.map(n=>this.conversionUnit(n,10,"mm")).join(",")),r&&(i.inset=r)}s.openNode("v:textbox",i),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,f,m){const d=t("./base-xform");f.exports=class extends d{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,a){this.model[s]=a.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,a.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(i=>{s.leafNode("vt:lpstr",void 0,i.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("../simple/string-xform"),i=t("./app-heading-pairs-xform"),r=t("./app-titles-of-parts-xform");class n extends s{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new i,TitleOfParts:new r}}render(o,c){o.openXml(d.StdDocAttributes),o.openNode("Properties",n.PROPERTY_ATTRIBUTES),o.leafNode("Application",void 0,"Microsoft Excel"),o.leafNode("DocSecurity",void 0,"0"),o.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(o,c.worksheets),this.map.TitleOfParts.render(o,c.worksheets),this.map.Company.render(o,c.company||""),this.map.Manager.render(o,c.manager),o.leafNode("LinksUpToDate",void 0,"false"),o.leafNode("SharedDoc",void 0,"false"),o.leafNode("HyperlinksChanged",void 0,"false"),o.leafNode("AppVersion",void 0,"16.0300"),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"Properties":return!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}n.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3,6}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},f.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform");class a extends s{render(r,n){r.openXml(d.StdDocAttributes),r.openNode("Types",a.PROPERTY_ATTRIBUTES);const l={};(n.media||[]).forEach(o=>{if(o.type==="image"){const c=o.extension;l[c]||(l[c]=!0,r.leafNode("Default",{Extension:c,ContentType:"image/"+c}))}}),r.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),r.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),r.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),n.worksheets.forEach(o=>{const c=`/xl/worksheets/sheet${o.id}.xml`;r.leafNode("Override",{PartName:c,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),r.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),r.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),n.sharedStrings&&n.sharedStrings.count&&r.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),n.tables&&n.tables.forEach(o=>{r.leafNode("Override",{PartName:"/xl/tables/"+o.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),n.drawings&&n.drawings.forEach(o=>{r.leafNode("Override",{PartName:`/xl/drawings/${o.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),n.commentRefs&&(r.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),n.commentRefs.forEach(o=>{let{commentName:c}=o;r.leafNode("Override",{PartName:`/xl/${c}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),r.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),r.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),r.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},f.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("../simple/date-xform"),i=t("../simple/string-xform"),r=t("../simple/integer-xform");class n extends s{constructor(){super(),this.map={"dc:creator":new i({tag:"dc:creator"}),"dc:title":new i({tag:"dc:title"}),"dc:subject":new i({tag:"dc:subject"}),"dc:description":new i({tag:"dc:description"}),"dc:identifier":new i({tag:"dc:identifier"}),"dc:language":new i({tag:"dc:language"}),"cp:keywords":new i({tag:"cp:keywords"}),"cp:category":new i({tag:"cp:category"}),"cp:lastModifiedBy":new i({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:n.DateFormat}),"cp:revision":new r({tag:"cp:revision"}),"cp:version":new i({tag:"cp:version"}),"cp:contentStatus":new i({tag:"cp:contentStatus"}),"cp:contentType":new i({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:n.DateAttrs,format:n.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:n.DateAttrs,format:n.DateFormat})}}render(o,c){o.openXml(d.StdDocAttributes),o.openNode("cp:coreProperties",n.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(o,c.creator),this.map["dc:title"].render(o,c.title),this.map["dc:subject"].render(o,c.subject),this.map["dc:description"].render(o,c.description),this.map["dc:identifier"].render(o,c.identifier),this.map["dc:language"].render(o,c.language),this.map["cp:keywords"].render(o,c.keywords),this.map["cp:category"].render(o,c.category),this.map["cp:lastModifiedBy"].render(o,c.lastModifiedBy),this.map["cp:lastPrinted"].render(o,c.lastPrinted),this.map["cp:revision"].render(o,c.revision),this.map["cp:version"].render(o,c.version),this.map["cp:contentStatus"].render(o,c.contentStatus),this.map["cp:contentType"].render(o,c.contentType),this.map["dcterms:created"].render(o,c.created),this.map["dcterms:modified"].render(o,c.modified),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[o.name],this.parser)return this.parser.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}n.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},f.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{render(s,a){s.leafNode("Relationship",a)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("./relationship-xform");class i extends s{constructor(){super(),this.map={Relationship:new a}}render(n,l){l=l||this._values,n.openXml(d.StdDocAttributes),n.openNode("Relationships",i.RELATIONSHIPS_ATTRIBUTES),l.forEach(o=>{this.map.Relationship.render(n,o)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(n){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}i.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},f.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,a){if(s&&s.rId){const i=a.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(i){const r=i[1],n=a.mediaIndex[r];return a.media[n]}}}}},{"../base-xform":32}],57:[function(t,f,m){const d=t("../base-xform"),s=t("./blip-xform");f.exports=class extends d{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(a,i){a.openNode(this.tag),this.map["a:blip"].render(a,i),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"a:blip"}render(s,a){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,f,m){const d=t("../base-xform"),s=t("./hlink-click-xform"),a=t("./ext-lst-xform");f.exports=class extends d{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(i,r){i.openNode(this.tag,{id:r.index,name:"Picture "+r.index}),this.map["a:hlinkClick"].render(i,r),this.map["a:extLst"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,f,m){const d=t("../base-xform"),s=t("../simple/integer-xform");f.exports=class extends d{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(a,i){a.openNode(this.tag),this.map["xdr:col"].render(a,i.nativeCol),this.map["xdr:colOff"].render(a,i.nativeColOff),this.map["xdr:row"].render(a,i.nativeRow),this.map["xdr:rowOff"].render(a,i.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,f,m){const d=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),a=t("../base-xform"),i=t("./two-cell-anchor-xform"),r=t("./one-cell-anchor-xform");class n extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new i,"xdr:oneCellAnchor":new r}}prepare(o){o.anchors.forEach((c,p)=>{c.anchorType=(function(g){return(typeof g.range=="string"?d.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(c),this.map[c.anchorType].prepare(c,{index:p})})}get tag(){return"xdr:wsDr"}render(o,c){o.openXml(s.StdDocAttributes),o.openNode(this.tag,n.DRAWING_ATTRIBUTES),c.anchors.forEach(p=>{this.map[p.anchorType].render(o,p)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:return!0}}reconcile(o,c){o.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,c):this.map["xdr:oneCellAnchor"].reconcile(p,c)})}}n.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},f.exports=n},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,a){s.openNode(this.tag);const i=Math.floor(9525*a.width),r=Math.floor(9525*a.height);s.addAttribute("cx",i),s.addAttribute("cy",r),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"a:hlinkClick"}render(s,a){a.hyperlinks&&a.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,f,m){const d=t("../base-xform"),s=t("./c-nv-pr-xform"),a=t("./c-nv-pic-pr-xform");f.exports=class extends d{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(i,r){i.openNode(this.tag),this.map["xdr:cNvPr"].render(i,r),this.map["xdr:cNvPicPr"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,f,m){const d=t("./base-cell-anchor-xform"),s=t("../static-xform"),a=t("./cell-position-xform"),i=t("./ext-xform"),r=t("./pic-xform");f.exports=class extends d{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new i({tag:"xdr:ext"}),"xdr:pic":new r,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,l){this.map["xdr:pic"].prepare(n.picture,l)}render(n,l){n.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,l.range.tl),this.map["xdr:ext"].render(n,l.range.ext),this.map["xdr:pic"].render(n,l.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,l){n.medium=this.reconcilePicture(n.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,f,m){const d=t("../base-xform"),s=t("../static-xform"),a=t("./blip-fill-xform"),i=t("./nv-pic-pr-xform"),r=t("./sp-pr");f.exports=class extends d{constructor(){super(),this.map={"xdr:nvPicPr":new i,"xdr:blipFill":new a,"xdr:spPr":new s(r)}}get tag(){return"xdr:pic"}prepare(n,l){n.index=l.index+1}render(n,l){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,l),this.map["xdr:blipFill"].render(n,l),this.map["xdr:spPr"].render(n,l),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,f,m){f.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,f,m){const d=t("./base-cell-anchor-xform"),s=t("../static-xform"),a=t("./cell-position-xform"),i=t("./pic-xform");f.exports=class extends d{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new i,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(r,n){this.map["xdr:pic"].prepare(r.picture,n)}render(r,n){r.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,n.range.tl),this.map["xdr:to"].render(r,n.range.br),this.map["xdr:pic"].render(r,n.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,n){r.medium=this.reconcilePicture(r.picture,n)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,f,m){const d=t("./base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,a){const{childXform:i}=this;s&&s.forEach((r,n)=>{a.index=n,i.prepare(r,a)})}render(s,a){if(this.always||a&&a.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,a&&a.length||0);const{childXform:i}=this;(a||[]).forEach((r,n)=>{i.render(s,r,n)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,a){if(s){const{childXform:i}=this;s.forEach(r=>{i.reconcile(r,a)})}}}},{"./base-xform":32}],72:[function(t,f,m){const d=t("../../../utils/col-cache"),s=t("../base-xform");f.exports=class extends s{get tag(){return"autoFilter"}render(a,i){if(i)if(typeof i=="string")a.leafNode("autoFilter",{ref:i});else{const r=function(o){return typeof o=="string"?o:d.getAddress(o.row,o.column).address},n=r(i.from),l=r(i.to);n&&l&&a.leafNode("autoFilter",{ref:`${n}:${l}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,f,m){const d=t("../../../utils/utils"),s=t("../base-xform"),a=t("../../../doc/range"),i=t("../../../doc/enums"),r=t("../strings/rich-text-xform");function n(l){if(l==null)return i.ValueType.Null;if(l instanceof String||typeof l=="string")return i.ValueType.String;if(typeof l=="number")return i.ValueType.Number;if(typeof l=="boolean")return i.ValueType.Boolean;if(l instanceof Date)return i.ValueType.Date;if(l.text&&l.hyperlink)return i.ValueType.Hyperlink;if(l.formula)return i.ValueType.Formula;if(l.error)return i.ValueType.Error;throw new Error("I could not understand type of value")}f.exports=class extends s{constructor(){super(),this.richTextXForm=new r}get tag(){return"c"}prepare(l,o){const c=o.styles.addStyleModel(l.style||{},(function(p){switch(p.type){case i.ValueType.Formula:return n(p.result);default:return p.type}})(l));switch(c&&(l.styleId=c),l.comment&&o.comments.push({...l.comment,ref:l.address}),l.type){case i.ValueType.String:case i.ValueType.RichText:o.sharedStrings&&(l.ssId=o.sharedStrings.add(l.value));break;case i.ValueType.Date:o.date1904&&(l.date1904=!0);break;case i.ValueType.Hyperlink:o.sharedStrings&&l.text!==void 0&&l.text!==null&&(l.ssId=o.sharedStrings.add(l.text)),o.hyperlinks.push({address:l.address,target:l.hyperlink,tooltip:l.tooltip});break;case i.ValueType.Merge:o.merges.add(l);break;case i.ValueType.Formula:if(o.date1904&&(l.date1904=!0),l.shareType==="shared"&&(l.si=o.siFormulae++),l.formula)o.formulae[l.address]=l;else if(l.sharedFormula){const p=o.formulae[l.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+l.address);p.si===void 0?(p.shareType="shared",p.si=o.siFormulae++,p.range=new a(p.address,l.address)):p.range&&p.range.expandToAddress(l.address),l.si=p.si}}}renderFormula(l,o){let c=null;switch(o.shareType){case"shared":c={t:"shared",ref:o.ref||o.range.range,si:o.si};break;case"array":c={t:"array",ref:o.ref};break;default:o.si!==void 0&&(c={t:"shared",si:o.si})}switch(n(o.result)){case i.ValueType.Null:l.leafNode("f",c,o.formula);break;case i.ValueType.String:l.addAttribute("t","str"),l.leafNode("f",c,o.formula),l.leafNode("v",null,o.result);break;case i.ValueType.Number:l.leafNode("f",c,o.formula),l.leafNode("v",null,o.result);break;case i.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("f",c,o.formula),l.leafNode("v",null,o.result?1:0);break;case i.ValueType.Error:l.addAttribute("t","e"),l.leafNode("f",c,o.formula),l.leafNode("v",null,o.result.error);break;case i.ValueType.Date:l.leafNode("f",c,o.formula),l.leafNode("v",null,d.dateToExcel(o.result,o.date1904));break;default:throw new Error("I could not understand type of value")}}render(l,o){if(o.type!==i.ValueType.Null||o.styleId){switch(l.openNode("c"),l.addAttribute("r",o.address),o.styleId&&l.addAttribute("s",o.styleId),o.type){case i.ValueType.Null:break;case i.ValueType.Number:l.leafNode("v",null,o.value);break;case i.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("v",null,o.value?"1":"0");break;case i.ValueType.Error:l.addAttribute("t","e"),l.leafNode("v",null,o.value.error);break;case i.ValueType.String:case i.ValueType.RichText:o.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,o.ssId)):o.value&&o.value.richText?(l.addAttribute("t","inlineStr"),l.openNode("is"),o.value.richText.forEach(c=>{this.richTextXForm.render(l,c)}),l.closeNode("is")):(l.addAttribute("t","str"),l.leafNode("v",null,o.value));break;case i.ValueType.Date:l.leafNode("v",null,d.dateToExcel(o.value,o.date1904));break;case i.ValueType.Hyperlink:o.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,o.ssId)):(l.addAttribute("t","str"),l.leafNode("v",null,o.text));break;case i.ValueType.Formula:this.renderFormula(l,o);break;case i.ValueType.Merge:}l.closeNode()}}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"c":return this.model={address:l.attributes.r},this.t=l.attributes.t,l.attributes.s&&(this.model.styleId=parseInt(l.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=l.attributes.si,this.model.shareType=l.attributes.t,this.model.ref=l.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){if(this.parser)this.parser.parseText(l);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+l:l;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+l:l:this.model.value=this.model.value?this.model.value+l:l}}parseClose(l){switch(l){case"c":{const{model:o}=this;if(o.formula||o.shareType)o.type=i.ValueType.Formula,o.value&&(this.t==="str"?o.result=d.xmlDecode(o.value):this.t==="b"?o.result=parseInt(o.value,10)!==0:this.t==="e"?o.result={error:o.value}:o.result=parseFloat(o.value),o.value=void 0);else if(o.value!==void 0)switch(this.t){case"s":o.type=i.ValueType.String,o.value=parseInt(o.value,10);break;case"str":o.type=i.ValueType.String,o.value=d.xmlDecode(o.value);break;case"inlineStr":o.type=i.ValueType.String;break;case"b":o.type=i.ValueType.Boolean,o.value=parseInt(o.value,10)!==0;break;case"e":o.type=i.ValueType.Error,o.value={error:o.value};break;default:o.type=i.ValueType.Number,o.value=parseFloat(o.value)}else o.styleId?o.type=i.ValueType.Null:o.type=i.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(l),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(l),!0)}}reconcile(l,o){const c=l.styleId&&o.styles&&o.styles.getStyleModel(l.styleId);switch(c&&(l.style=c),l.styleId!==void 0&&(l.styleId=void 0),l.type){case i.ValueType.String:typeof l.value=="number"&&o.sharedStrings&&(l.value=o.sharedStrings.getString(l.value)),l.value.richText&&(l.type=i.ValueType.RichText);break;case i.ValueType.Number:c&&d.isDateFmt(c.numFmt)&&(l.type=i.ValueType.Date,l.value=d.excelToDate(l.value,o.date1904));break;case i.ValueType.Formula:l.result!==void 0&&c&&d.isDateFmt(c.numFmt)&&(l.result=d.excelToDate(l.result,o.date1904)),l.shareType==="shared"&&(l.ref?o.formulae[l.si]=l.address:(l.sharedFormula=o.formulae[l.si],delete l.shareType),delete l.si)}const p=o.hyperlinkMap[l.address];p&&(l.type===i.ValueType.Formula?(l.text=l.result,l.result=void 0):(l.text=l.value,l.value=void 0),l.type=i.ValueType.Hyperlink,l.hyperlink=p);const g=o.commentsMap&&o.commentsMap[l.address];g&&(l.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{get tag(){return"x14:cfIcon"}render(s,a){s.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(s){let{attributes:a}=s;this.model={iconSet:a.iconSet,iconId:d.toIntValue(a.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(t,f,m){const{v4:d}=t("uuid"),s=t("../../base-xform"),a=t("../../composite-xform"),i=t("./databar-ext-xform"),r=t("./icon-set-ext-xform"),n={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class l extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new i,"x14:iconSet":this.iconSetXform=new r}}get tag(){return"x14:cfRule"}static isExt(c){return c.type==="dataBar"?i.isExt(c):!(c.type!=="iconSet"||!c.custom&&!n[c.iconSet])}prepare(c){l.isExt(c)&&(c.x14Id=`{${d()}}`.toUpperCase())}render(c,p){if(l.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(c,p);break;case"iconSet":this.renderIconSet(c,p)}}renderDataBar(c,p){c.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(c,p),c.closeNode()}renderIconSet(c,p){c.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${d()}}`}),this.iconSetXform.render(c,p),c.closeNode()}createNewModel(c){let{attributes:p}=c;return{type:p.type,x14Id:p.id,priority:s.toIntValue(p.priority)}}onParserClose(c,p){Object.assign(this.model,p.model)}}f.exports=l},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,f,m){const d=t("../../composite-xform"),s=t("./f-ext-xform");f.exports=class extends d{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(a,i){a.openNode(this.tag,{type:i.type}),i.value!==void 0&&this.fExtXform.render(a,i.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,i){switch(a){case"xm:f":this.model.value=i.model?parseFloat(i.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,f,m){const d=t("../../composite-xform"),s=t("./sqref-ext-xform"),a=t("./cf-rule-ext-xform");f.exports=class extends d{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(i,r){i.rules.forEach(n=>{this.cfRule.prepare(n,r)})}render(i,r){r.rules.some(a.isExt)&&(i.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(a.isExt).forEach(n=>this.cfRule.render(i,n)),this.sqRef.render(i,r.ref),i.closeNode())}createNewModel(){return{rules:[]}}onParserClose(i,r){switch(i){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,f,m){const d=t("../../composite-xform"),s=t("./cf-rule-ext-xform"),a=t("./conditional-formatting-ext-xform");f.exports=class extends d{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(i){return i.hasExtContent===void 0&&(i.hasExtContent=i.some(r=>r.rules.some(s.isExt))),i.hasExtContent}prepare(i,r){i.forEach(n=>{this.cfXform.prepare(n,r)})}render(i,r){this.hasContent(r)&&(i.openNode(this.tag),r.forEach(n=>this.cfXform.render(i,n)),i.closeNode())}createNewModel(){return[]}onParserClose(i,r){this.model.push(r.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,f,m){const d=t("../../base-xform"),s=t("../../composite-xform"),a=t("../../style/color-xform"),i=t("./cfvo-ext-xform");f.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new i,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(r){return!r.gradient}get tag(){return"x14:dataBar"}render(r,n){r.openNode(this.tag,{minLength:d.toIntAttribute(n.minLength,0,!0),maxLength:d.toIntAttribute(n.maxLength,100,!0),border:d.toBoolAttribute(n.border,!1),gradient:d.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:d.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:d.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:d.toAttribute(n.axisPosition,"auto"),direction:d.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),this.borderColorXform.render(r,n.borderColor),this.negativeBorderColorXform.render(r,n.negativeBorderColor),this.negativeFillColorXform.render(r,n.negativeFillColor),this.axisColorXform.render(r,n.axisColor),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],minLength:d.toIntValue(n.minLength,0),maxLength:d.toIntValue(n.maxLength,100),border:d.toBoolValue(n.border,!1),gradient:d.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:d.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:d.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:d.toStringValue(n.axisPosition,"auto"),direction:d.toStringValue(n.direction,"leftToRight")}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[l]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{get tag(){return"xm:f"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(t,f,m){const d=t("../../base-xform"),s=t("../../composite-xform"),a=t("./cfvo-ext-xform"),i=t("./cf-icon-ext-xform");f.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new i}}get tag(){return"x14:iconSet"}render(r,n){r.openNode(this.tag,{iconSet:d.toStringAttribute(n.iconSet),reverse:d.toBoolAttribute(n.reverse,!1),showValue:d.toBoolAttribute(n.showValue,!0),custom:d.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),n.icons&&n.icons.forEach((l,o)=>{l.iconId=o,this.cfIconXform.render(r,l)}),r.closeNode()}createNewModel(r){let{attributes:n}=r;return{cfvo:[],iconSet:d.toStringValue(n.iconSet,"3TrafficLights"),reverse:d.toBoolValue(n.reverse,!1),showValue:d.toBoolValue(n.showValue,!0)}}onParserClose(r,n){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[l]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{get tag(){return"xm:sqref"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(t,f,m){const d=t("../../base-xform"),s=t("../../composite-xform"),a=t("../../../../doc/range"),i=t("./databar-xform"),r=t("./ext-lst-ref-xform"),n=t("./formula-xform"),l=t("./color-scale-xform"),o=t("./icon-set-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=h=>{const{type:y,operator:b}=h;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:b}}};class g extends s{constructor(){super(),this.map={dataBar:this.databarXform=new i,extLst:this.extLstRefXform=new r,formula:this.formulaXform=new n,colorScale:this.colorScaleXform=new l,iconSet:this.iconSetXform=new o}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!c[y.iconSet]}render(y,b){switch(b.type){case"expression":this.renderExpression(y,b);break;case"cellIs":this.renderCellIs(y,b);break;case"top10":this.renderTop10(y,b);break;case"aboveAverage":this.renderAboveAverage(y,b);break;case"dataBar":this.renderDataBar(y,b);break;case"colorScale":this.renderColorScale(y,b);break;case"iconSet":this.renderIconSet(y,b);break;case"containsText":this.renderText(y,b);break;case"timePeriod":this.renderTimePeriod(y,b)}}renderExpression(y,b){y.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(y,b.formulae[0]),y.closeNode()}renderCellIs(y,b){y.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(C=>{this.formulaXform.render(y,C)}),y.closeNode()}renderTop10(y,b){y.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:d.toBoolAttribute(b.percent,!1),bottom:d.toBoolAttribute(b.bottom,!1),rank:d.toIntValue(b.rank,10,!0)})}renderAboveAverage(y,b){y.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:d.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(y,b){y.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(y,b),this.extLstRefXform.render(y,b),y.closeNode()}renderColorScale(y,b){y.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(y,b),y.closeNode()}renderIconSet(y,b){g.isPrimitive(b)&&(y.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(y,b),y.closeNode())}renderText(y,b){y.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:d.toStringAttribute(b.operator,"containsText")});const C=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const D=new a(T.ref),{tl:F}=D;switch(T.operator){case"containsText":return`NOT(ISERROR(SEARCH("${T.text}",${F})))`;case"containsBlanks":return`LEN(TRIM(${F}))=0`;case"notContainsBlanks":return`LEN(TRIM(${F}))>0`;case"containsErrors":return`ISERROR(${F})`;case"notContainsErrors":return`NOT(ISERROR(${F}))`;default:return}})(b);C&&this.formulaXform.render(y,C),y.closeNode()}renderTimePeriod(y,b){y.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const C=(T=>{if(T.formulae&&T.formulae[0])return T.formulae[0];const D=new a(T.ref),{tl:F}=D;switch(T.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${F},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${F},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${F},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${F},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${F},1)=TODAY()-1`;case"today":return`FLOOR(${F},1)=TODAY()`;case"tomorrow":return`FLOOR(${F},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${F},1)<=6,FLOOR(${F},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0-1)),YEAR(${F})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${F})=MONTH(TODAY()),YEAR(${F})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0+1)),YEAR(${F})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);C&&this.formulaXform.render(y,C),y.closeNode()}createNewModel(y){let{attributes:b}=y;return{...p(b),dxfId:d.toIntValue(b.dxfId),priority:d.toIntValue(b.priority),timePeriod:b.timePeriod,percent:d.toBoolValue(b.percent),bottom:d.toBoolValue(b.bottom),rank:d.toIntValue(b.rank),aboveAverage:d.toBoolValue(b.aboveAverage)}}onParserClose(y,b){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}f.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{get tag(){return"cfvo"}render(s,a){s.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(s){this.model={type:s.attributes.type,value:d.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(t,f,m){const d=t("../../composite-xform"),s=t("../../style/color-xform"),a=t("./cfvo-xform");f.exports=class extends d{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new s}}get tag(){return"colorScale"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),r.color.forEach(n=>{this.colorXform.render(i,n)}),i.closeNode()}createNewModel(i){return{cfvo:[],color:[]}}onParserClose(i,r){this.model[i].push(r.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,f,m){const d=t("../../composite-xform"),s=t("./cf-rule-xform");f.exports=class extends d{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(a,i){i.rules.some(s.isPrimitive)&&(a.openNode(this.tag,{sqref:i.ref}),i.rules.forEach(r=>{s.isPrimitive(r)&&(r.ref=i.ref,this.map.cfRule.render(a,r))}),a.closeNode())}createNewModel(a){let{attributes:i}=a;return{ref:i.sqref,rules:[]}}onParserClose(a,i){this.model.rules.push(i.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,f,m){const d=t("../../base-xform"),s=t("./conditional-formatting-xform");f.exports=class extends d{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,i){let r=a.reduce((n,l)=>Math.max(n,...l.rules.map(o=>o.priority||0)),1);a.forEach(n=>{n.rules.forEach(l=>{l.priority||(l.priority=r++),l.style&&(l.dxfId=i.styles.addDxfStyle(l.style))})})}render(a,i){i.forEach(r=>{this.cfXform.render(a,r)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,i){a.forEach(r=>{r.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=i.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,f,m){const d=t("../../composite-xform"),s=t("../../style/color-xform"),a=t("./cfvo-xform");f.exports=class extends d{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new s}}get tag(){return"dataBar"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),this.colorXform.render(i,r.color),i.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(i,r){switch(i){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,f,m){const d=t("../../base-xform"),s=t("../../composite-xform");class a extends d{get tag(){return"x14:id"}render(n,l){n.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}class i extends s{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(n,l){n.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(n,l.x14Id),n.closeNode()}createNewModel(){return{}}onParserClose(n,l){this.model.x14Id=l.model}}f.exports=class extends s{constructor(){super(),this.map={ext:new i}}get tag(){return"extLst"}render(r,n){r.openNode(this.tag),this.map.ext.render(r,n),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){Object.assign(this.model,n.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,f,m){const d=t("../../base-xform");f.exports=class extends d{get tag(){return"formula"}render(s,a){s.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(t,f,m){const d=t("../../base-xform"),s=t("../../composite-xform"),a=t("./cfvo-xform");f.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(i,r){i.openNode(this.tag,{iconSet:d.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:d.toBoolAttribute(r.reverse,!1),showValue:d.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),i.closeNode()}createNewModel(i){let{attributes:r}=i;return{iconSet:d.toStringValue(r.iconSet,"3TrafficLights"),reverse:d.toBoolValue(r.reverse),showValue:d.toBoolValue(r.showValue),cfvo:[]}}onParserClose(i,r){this.model[i].push(r.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,f,m){const d=t("../../../utils/utils"),s=t("../base-xform");f.exports=class extends s{get tag(){return"col"}prepare(a,i){const r=i.styles.addStyleModel(a.style||{});r&&(a.styleId=r)}render(a,i){a.openNode("col"),a.addAttribute("min",i.min),a.addAttribute("max",i.max),i.width&&a.addAttribute("width",i.width),i.styleId&&a.addAttribute("style",i.styleId),i.hidden&&a.addAttribute("hidden","1"),i.bestFit&&a.addAttribute("bestFit","1"),i.outlineLevel&&a.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const i=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(i.styleId=parseInt(a.attributes.style,10)),d.parseBoolean(a.attributes.hidden)&&(i.hidden=!0),d.parseBoolean(a.attributes.bestFit)&&(i.bestFit=!0),a.attributes.outlineLevel&&(i.outlineLevel=parseInt(a.attributes.outlineLevel,10)),d.parseBoolean(a.attributes.collapsed)&&(i.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,i){a.styleId&&(a.style=i.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../../../utils/utils"),a=t("../../../utils/col-cache"),i=t("../base-xform"),r=t("../../../doc/range");function n(o,c,p,g){const h=c[p];h!==void 0?o[p]=h:g!==void 0&&(o[p]=g)}function l(o,c,p,g){const h=c[p];h!==void 0&&(o[p]=s.parseBoolean(h))}f.exports=class extends i{get tag(){return"dataValidations"}render(o,c){const p=(function(g){const h=d.map(g,(C,T)=>({address:T,dataValidation:C,marked:!1})).sort((C,T)=>d.strcmp(C.address,T.address)),y=d.keyBy(h,"address"),b=(C,T,D)=>{for(let F=0;F<T;F++){const H=a.encodeAddress(C.row+F,D);if(!g[H]||!d.isEqual(g[C.address],g[H]))return!1}return!0};return h.map(C=>{if(!C.marked){const T=a.decodeEx(C.address);if(T.dimensions)return y[T.dimensions].marked=!0,{...C.dataValidation,sqref:C.address};let D=1,F=a.encodeAddress(T.row+D,T.col);for(;g[F]&&d.isEqual(C.dataValidation,g[F]);)D++,F=a.encodeAddress(T.row+D,T.col);let H=1;for(;b(T,D,T.col+H);)H++;for(let O=0;O<D;O++)for(let $=0;$<H;$++)F=a.encodeAddress(T.row+O,T.col+$),y[F].marked=!0;if(D>1||H>1){const O=T.row+(D-1),$=T.col+(H-1);return{...C.dataValidation,sqref:`${C.address}:${a.encodeAddress(O,$)}`}}return{...C.dataValidation,sqref:C.address}}return null}).filter(Boolean)})(c);p.length&&(o.openNode("dataValidations",{count:p.length}),p.forEach(g=>{o.openNode("dataValidation"),g.type!=="any"&&(o.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&o.addAttribute("operator",g.operator),g.allowBlank&&o.addAttribute("allowBlank","1")),g.showInputMessage&&o.addAttribute("showInputMessage","1"),g.promptTitle&&o.addAttribute("promptTitle",g.promptTitle),g.prompt&&o.addAttribute("prompt",g.prompt),g.showErrorMessage&&o.addAttribute("showErrorMessage","1"),g.errorStyle&&o.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&o.addAttribute("errorTitle",g.errorTitle),g.error&&o.addAttribute("error",g.error),o.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((h,y)=>{o.openNode("formula"+(y+1)),g.type==="date"?o.writeText(s.dateToExcel(new Date(h))):o.writeText(h),o.closeNode()}),o.closeNode()}),o.closeNode())}parseOpen(o){switch(o.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=o.attributes.sqref;const c={type:o.attributes.type||"any",formulae:[]};switch(o.attributes.type&&l(c,o.attributes,"allowBlank"),l(c,o.attributes,"showInputMessage"),l(c,o.attributes,"showErrorMessage"),c.type){case"any":case"list":case"custom":break;default:n(c,o.attributes,"operator","between")}return n(c,o.attributes,"promptTitle"),n(c,o.attributes,"prompt"),n(c,o.attributes,"errorStyle"),n(c,o.attributes,"errorTitle"),n(c,o.attributes,"error"),this._dataValidation=c,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(o){this._formula&&this._formula.push(o)}parseClose(o){switch(o){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(c=>{c.includes(":")?new r(c).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[c]=this._dataValidation}),!0;case"formula1":case"formula2":{let c=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":c=parseInt(c,10);break;case"decimal":c=parseFloat(c);break;case"date":c=s.excelToDate(parseFloat(c))}return this._dataValidation.formulae.push(c),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"dimension"}render(s,a){a&&s.leafNode("dimension",{ref:a})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"drawing"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,f,m){const d=t("../composite-xform"),s=t("./cf-ext/conditional-formattings-ext-xform");class a extends d{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(r){return this.conditionalFormattings.hasContent(r.conditionalFormattings)}prepare(r,n){this.conditionalFormattings.prepare(r.conditionalFormattings,n)}render(r,n){r.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(r,n.conditionalFormattings),r.closeNode()}createNewModel(){return{}}onParserClose(r,n){this.model[r]=n.model}}f.exports=class extends d{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(i,r){this.ext.prepare(i,r)}hasContent(i){return this.ext.hasContent(i)}render(i,r){this.hasContent(r)&&(i.openNode("extLst"),this.ext.render(i,r),i.closeNode())}createNewModel(){return{}}onParserClose(i,r){Object.assign(this.model,r.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"headerFooter"}render(s,a){if(a){s.addRollback();let i=!1;s.openNode("headerFooter"),a.differentFirst&&(s.addAttribute("differentFirst","1"),i=!0),a.differentOddEven&&(s.addAttribute("differentOddEven","1"),i=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(s.leafNode("oddHeader",null,a.oddHeader),i=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(s.leafNode("oddFooter",null,a.oddFooter),i=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(s.leafNode("evenHeader",null,a.evenHeader),i=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(s.leafNode("evenFooter",null,a.evenFooter),i=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(s.leafNode("firstHeader",null,a.firstHeader),i=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(s.leafNode("firstFooter",null,a.firstFooter),i=!0),i?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"hyperlink"}render(s,a){this.isInternalLink(a)?s.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):s.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"mergeCell"}render(s,a){s.leafNode("mergeCell",{ref:a})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../../../doc/range"),a=t("../../../utils/col-cache"),i=t("../../../doc/enums");f.exports=class{constructor(){this.merges={}}add(r){if(this.merges[r.master])this.merges[r.master].expandToAddress(r.address);else{const n=`${r.master}:${r.address}`;this.merges[r.master]=new s(n)}}get mergeCells(){return d.map(this.merges,r=>r.range)}reconcile(r,n){d.each(r,l=>{const o=a.decode(l);for(let c=o.top;c<=o.bottom;c++){const p=n[c-1];for(let g=o.left;g<=o.right;g++){const h=p.cells[g-1];h?h.type===i.ValueType.Merge&&(h.master=o.tl):p.cells[g]={type:i.ValueType.Null,address:a.encodeAddress(c,g)}}}})}getMasterAddress(r){const n=this.hash[r];return n&&n.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,f,m){const d=t("../base-xform"),s=a=>a!==void 0;f.exports=class extends d{get tag(){return"outlinePr"}render(a,i){return!(!i||!s(i.summaryBelow)&&!s(i.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:s(i.summaryBelow)?Number(i.summaryBelow):void 0,summaryRight:s(i.summaryRight)?Number(i.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:s(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:s(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"brk"}render(s,a){s.leafNode("brk",a)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../base-xform");f.exports=class extends s{get tag(){return"pageMargins"}render(a,i){if(i){const r={left:i.left,right:i.right,top:i.top,bottom:i.bottom,header:i.header,footer:i.footer};d.some(r,n=>n!==void 0)&&a.leafNode(this.tag,r)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"pageSetUpPr"}render(s,a){return!(!a||!a.fitToPage)&&(s.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../base-xform");function a(l){return l?"1":void 0}function i(l){switch(l){case"overThenDown":return l;default:return}}function r(l){switch(l){case"atEnd":case"asDisplyed":return l;default:return}}function n(l){switch(l){case"dash":case"blank":case"NA":return l;default:return}}f.exports=class extends s{get tag(){return"pageSetup"}render(l,o){if(o){const c={paperSize:o.paperSize,orientation:o.orientation,horizontalDpi:o.horizontalDpi,verticalDpi:o.verticalDpi,pageOrder:i(o.pageOrder),blackAndWhite:a(o.blackAndWhite),draft:a(o.draft),cellComments:r(o.cellComments),errors:n(o.errors),scale:o.scale,fitToWidth:o.fitToWidth,fitToHeight:o.fitToHeight,firstPageNumber:o.firstPageNumber,useFirstPageNumber:a(o.firstPageNumber),usePrinterDefaults:a(o.usePrinterDefaults),copies:o.copies};d.some(c,p=>p!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={paperSize:(o=l.attributes.paperSize,o!==void 0?parseInt(o,10):void 0),orientation:l.attributes.orientation||"portrait",horizontalDpi:parseInt(l.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(l.attributes.verticalDpi||"4294967295",10),pageOrder:l.attributes.pageOrder||"downThenOver",blackAndWhite:l.attributes.blackAndWhite==="1",draft:l.attributes.draft==="1",cellComments:l.attributes.cellComments||"None",errors:l.attributes.errors||"displayed",scale:parseInt(l.attributes.scale||"100",10),fitToWidth:parseInt(l.attributes.fitToWidth||"1",10),fitToHeight:parseInt(l.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(l.attributes.firstPageNumber||"1",10),useFirstPageNumber:l.attributes.useFirstPageNumber==="1",usePrinterDefaults:l.attributes.usePrinterDefaults==="1",copies:parseInt(l.attributes.copies||"1",10)},!0;default:return!1}var o}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"picture"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../base-xform");function a(i){return i?"1":void 0}f.exports=class extends s{get tag(){return"printOptions"}render(i,r){if(r){const n={headings:a(r.showRowColHeaders),gridLines:a(r.showGridLines),horizontalCentered:a(r.horizontalCentered),verticalCentered:a(r.verticalCentered)};d.some(n,l=>l!==void 0)&&i.leafNode(this.tag,n)}}parseOpen(i){switch(i.name){case this.tag:return this.model={showRowColHeaders:i.attributes.headings==="1",showGridLines:i.attributes.gridLines==="1",horizontalCentered:i.attributes.horizontalCentered==="1",verticalCentered:i.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,f,m){const d=t("./page-breaks-xform"),s=t("../list-xform");f.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new d})}render(a,i){if(i&&i.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,i.length),a.addAttribute("manualBreakCount",i.length));const{childXform:r}=this;i.forEach(n=>{r.render(a,n)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,f,m){const d=t("../base-xform"),s=t("../../../utils/utils"),a=t("./cell-xform");f.exports=class extends d{constructor(i){super(),this.maxItems=i&&i.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(i,r){const n=r.styles.addStyleModel(i.style);n&&(i.styleId=n);const l=this.map.c;i.cells.forEach(o=>{l.prepare(o,r)})}render(i,r,n){i.openNode("row"),i.addAttribute("r",r.number),r.height&&(i.addAttribute("ht",r.height),i.addAttribute("customHeight","1")),r.hidden&&i.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&i.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(i.addAttribute("s",r.styleId),i.addAttribute("customFormat","1")),i.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&i.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&i.addAttribute("collapsed","1");const l=this.map.c;r.cells.forEach(o=>{l.render(i,o,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;if(i.name==="row"){this.numRowsSeen+=1;const r=i.attributes.spans?i.attributes.spans.split(":").map(l=>parseInt(l,10)):[void 0,void 0],n=this.model={number:parseInt(i.attributes.r,10),min:r[0],max:r[1],cells:[]};return i.attributes.s&&(n.styleId=parseInt(i.attributes.s,10)),s.parseBoolean(i.attributes.hidden)&&(n.hidden=!0),s.parseBoolean(i.attributes.bestFit)&&(n.bestFit=!0),i.attributes.ht&&(n.height=parseFloat(i.attributes.ht)),i.attributes.outlineLevel&&(n.outlineLevel=parseInt(i.attributes.outlineLevel,10)),s.parseBoolean(i.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[i.name],!!this.parser&&(this.parser.parseOpen(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(i,r){i.style=i.styleId?r.styles.getStyleModel(i.styleId):{},i.styleId!==void 0&&(i.styleId=void 0);const n=this.map.c;i.cells.forEach(l=>{n.reconcile(l,r)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../base-xform");f.exports=class extends s{get tag(){return"sheetFormatPr"}render(a,i){if(i){const r={defaultRowHeight:i.defaultRowHeight,outlineLevelRow:i.outlineLevelRow,outlineLevelCol:i.outlineLevelCol,"x14ac:dyDescent":i.dyDescent};i.defaultColWidth&&(r.defaultColWidth=i.defaultColWidth),i.defaultRowHeight&&i.defaultRowHeight===15||(r.customHeight="1"),d.some(r,n=>n!==void 0)&&a.leafNode("sheetFormatPr",r)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,f,m){const d=t("../base-xform"),s=t("../style/color-xform"),a=t("./page-setup-properties-xform"),i=t("./outline-properties-xform");f.exports=class extends d{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new a,outlinePr:new i}}get tag(){return"sheetPr"}render(r,n){if(n){r.addRollback(),r.openNode("sheetPr");let l=!1;l=this.map.tabColor.render(r,n.tabColor)||l,l=this.map.pageSetUpPr.render(r,n.pageSetup)||l,l=this.map.outlinePr.render(r,n.outlineProperties)||l,l?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){return this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag?(this.reset(),!0):!!this.map[r.name]&&(this.parser=this.map[r.name],this.parser.parseOpen(r),!0)}parseText(r){return!!this.parser&&(this.parser.parseText(r),!0)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../base-xform");function a(r,n){return r?n:void 0}function i(r,n){return r===n||void 0}f.exports=class extends s{get tag(){return"sheetProtection"}render(r,n){if(n){const l={sheet:a(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:a(n.formatCells,"0"),formatColumns:a(n.formatColumns,"0"),formatRows:a(n.formatRows,"0"),insertColumns:a(n.insertColumns,"0"),insertRows:a(n.insertRows,"0"),insertHyperlinks:a(n.insertHyperlinks,"0"),deleteColumns:a(n.deleteColumns,"0"),deleteRows:a(n.deleteRows,"0"),sort:a(n.sort,"0"),autoFilter:a(n.autoFilter,"0"),pivotTables:a(n.pivotTables,"0")};n.sheet&&(l.algorithmName=n.algorithmName,l.hashValue=n.hashValue,l.saltValue=n.saltValue,l.spinCount=n.spinCount,l.objects=a(n.objects===!1,"1"),l.scenarios=a(n.scenarios===!1,"1")),d.some(l,o=>o!==void 0)&&r.leafNode(this.tag,l)}}parseOpen(r){switch(r.name){case this.tag:return this.model={sheet:i(r.attributes.sheet,"1"),objects:r.attributes.objects!=="1"&&void 0,scenarios:r.attributes.scenarios!=="1"&&void 0,selectLockedCells:r.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:r.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:i(r.attributes.formatCells,"0"),formatColumns:i(r.attributes.formatColumns,"0"),formatRows:i(r.attributes.formatRows,"0"),insertColumns:i(r.attributes.insertColumns,"0"),insertRows:i(r.attributes.insertRows,"0"),insertHyperlinks:i(r.attributes.insertHyperlinks,"0"),deleteColumns:i(r.attributes.deleteColumns,"0"),deleteRows:i(r.attributes.deleteRows,"0"),sort:i(r.attributes.sort,"0"),autoFilter:i(r.attributes.autoFilter,"0"),pivotTables:i(r.attributes.pivotTables,"0")},r.attributes.algorithmName&&(this.model.algorithmName=r.attributes.algorithmName,this.model.hashValue=r.attributes.hashValue,this.model.saltValue=r.attributes.saltValue,this.model.spinCount=parseInt(r.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,f,m){const d=t("../../../utils/col-cache"),s=t("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};f.exports=class extends s{get tag(){return"sheetView"}prepare(i){switch(i.state){case"frozen":case"split":break;default:i.state="normal"}}render(i,r){i.openNode("sheetView",{workbookViewId:r.workbookViewId||0});const n=function(g,h,y){y&&i.addAttribute(g,h)};let l,o,c,p;switch(n("rightToLeft","1",r.rightToLeft===!0),n("tabSelected","1",r.tabSelected),n("showRuler","0",r.showRuler===!1),n("showRowColHeaders","0",r.showRowColHeaders===!1),n("showGridLines","0",r.showGridLines===!1),n("zoomScale",r.zoomScale,r.zoomScale),n("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),n("view",r.style,r.style),r.state){case"frozen":o=r.xSplit||0,c=r.ySplit||0,l=r.topLeftCell||d.getAddress(c+1,o+1).address,p=(r.xSplit&&r.ySplit?"bottomRight":r.xSplit&&"topRight")||"bottomLeft",i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:l,activePane:p,state:"frozen"}),i.leafNode("selection",{pane:p,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),i.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&i.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell})}i.closeNode()}parseOpen(i){switch(i.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(i.attributes.workbookViewId,10),rightToLeft:i.attributes.rightToLeft==="1",tabSelected:i.attributes.tabSelected==="1",showRuler:i.attributes.showRuler!=="0",showRowColHeaders:i.attributes.showRowColHeaders!=="0",showGridLines:i.attributes.showGridLines!=="0",zoomScale:parseInt(i.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(i.attributes.zoomScaleNormal||"100",10),style:i.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(i.attributes.xSplit||"0",10),ySplit:parseInt(i.attributes.ySplit||"0",10),topLeftCell:i.attributes.topLeftCell,activePane:i.attributes.activePane||"topLeft",state:i.attributes.state},!0;case"selection":{const r=i.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:i.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(i){let r,n;switch(i){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(r.activeCell=n.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"tablePart"}render(s,a){a&&s.leafNode(this.tag,{"r:id":a.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),i=t("../../rel-type"),r=t("./merges"),n=t("../base-xform"),l=t("../list-xform"),o=t("./row-xform"),c=t("./col-xform"),p=t("./dimension-xform"),g=t("./hyperlink-xform"),h=t("./merge-cell-xform"),y=t("./data-validations-xform"),b=t("./sheet-properties-xform"),C=t("./sheet-format-properties-xform"),T=t("./sheet-view-xform"),D=t("./sheet-protection-xform"),F=t("./page-margins-xform"),H=t("./page-setup-xform"),O=t("./print-options-xform"),$=t("./auto-filter-xform"),B=t("./picture-xform"),K=t("./drawing-xform"),U=t("./table-part-xform"),_=t("./row-breaks-xform"),M=t("./header-footer-xform"),A=t("./cf/conditional-formattings-xform"),N=t("./ext-lst-xform"),S=(j,E)=>{if(!E||!E.length)return j;if(!j||!j.length)return E;const I={},L={};return j.forEach(G=>{I[G.ref]=G,G.rules.forEach(X=>{const{x14Id:re}=X;re&&(L[re]=X)})}),E.forEach(G=>{G.rules.forEach(X=>{const re=L[X.x14Id];re?((q,ee)=>{Object.keys(ee).forEach(R=>{const z=q[R],W=ee[R];z===void 0&&W!==void 0&&(q[R]=W)})})(re,X):I[G.ref]?I[G.ref].rules.push(X):j.push({ref:G.ref,rules:[X]})})}),j};class w extends n{constructor(E){super();const{maxRows:I,maxCols:L,ignoreNodes:G}=E||{};this.ignoreNodes=G||[],this.map={sheetPr:new b,dimension:new p,sheetViews:new l({tag:"sheetViews",count:!1,childXform:new T}),sheetFormatPr:new C,cols:new l({tag:"cols",count:!1,childXform:new c}),sheetData:new l({tag:"sheetData",count:!1,empty:!0,childXform:new o({maxItems:L}),maxItems:I}),autoFilter:new $,mergeCells:new l({tag:"mergeCells",count:!0,childXform:new h}),rowBreaks:new _,hyperlinks:new l({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new F,dataValidations:new y,pageSetup:new H,headerFooter:new M,printOptions:new O,picture:new B,drawing:new K,sheetProtection:new D,tableParts:new l({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new A,extLst:new N}}prepare(E,I){I.merges=new r,E.hyperlinks=I.hyperlinks=[],E.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(E.cols,I),this.map.sheetData.prepare(E.rows,I),this.map.conditionalFormatting.prepare(E.conditionalFormattings,I),E.mergeCells=I.merges.mergeCells;const L=E.rels=[];function G(q){return"rId"+(q.length+1)}if(E.hyperlinks.forEach(q=>{const ee=G(L);q.rId=ee,L.push({Id:ee,Type:i.Hyperlink,Target:q.target,TargetMode:"External"})}),E.comments.length>0){const q={Id:G(L),Type:i.Comments,Target:`../comments${E.id}.xml`};L.push(q);const ee={Id:G(L),Type:i.VmlDrawing,Target:`../drawings/vmlDrawing${E.id}.vml`};L.push(ee),E.comments.forEach(R=>{R.refAddress=s.decodeAddress(R.ref)}),I.commentRefs.push({commentName:"comments"+E.id,vmlDrawing:"vmlDrawing"+E.id})}const X=[];let re;E.media.forEach(q=>{if(q.type==="background"){const ee=G(L);re=I.media[q.imageId],L.push({Id:ee,Type:i.Image,Target:`../media/${re.name}.${re.extension}`}),E.background={rId:ee},E.image=I.media[q.imageId]}else if(q.type==="image"){let{drawing:ee}=E;re=I.media[q.imageId],ee||(ee=E.drawing={rId:G(L),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(ee),L.push({Id:ee.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ee.name}.xml`}));let R=this.preImageId===q.imageId?X[q.imageId]:X[ee.rels.length];R||(R=G(ee.rels),X[ee.rels.length]=R,ee.rels.push({Id:R,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${re.name}.${re.extension}`}));const z={picture:{rId:R},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const W=G(ee.rels);X[ee.rels.length]=W,z.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:W},ee.rels.push({Id:W,Type:i.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,ee.anchors.push(z)}}),E.tables.forEach(q=>{const ee=G(L);q.rId=ee,L.push({Id:ee,Type:i.Table,Target:"../tables/"+q.target}),q.columns.forEach(R=>{const{style:z}=R;z&&(R.dxfId=I.styles.addDxfStyle(z))})}),this.map.extLst.prepare(E,I)}render(E,I){E.openXml(a.StdDocAttributes),E.openNode("worksheet",w.WORKSHEET_ATTRIBUTES);const L=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(L.defaultColWidth=I.properties.defaultColWidth);const G={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},X=I.pageSetup&&I.pageSetup.margins,re={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},q=I.sheetProtection;this.map.sheetPr.render(E,G),this.map.dimension.render(E,I.dimensions),this.map.sheetViews.render(E,I.views),this.map.sheetFormatPr.render(E,L),this.map.cols.render(E,I.cols),this.map.sheetData.render(E,I.rows),this.map.sheetProtection.render(E,q),this.map.autoFilter.render(E,I.autoFilter),this.map.mergeCells.render(E,I.mergeCells),this.map.conditionalFormatting.render(E,I.conditionalFormattings),this.map.dataValidations.render(E,I.dataValidations),this.map.hyperlinks.render(E,I.hyperlinks),this.map.printOptions.render(E,re),this.map.pageMargins.render(E,X),this.map.pageSetup.render(E,I.pageSetup),this.map.headerFooter.render(E,I.headerFooter),this.map.rowBreaks.render(E,I.rowBreaks),this.map.drawing.render(E,I.drawing),this.map.picture.render(E,I.background),this.map.tableParts.render(E,I.tables),this.map.extLst.render(E,I),I.rels&&I.rels.forEach(ee=>{ee.Type===i.VmlDrawing&&E.leafNode("legacyDrawing",{"r:id":ee.Id})}),E.closeNode()}parseOpen(E){return this.parser?(this.parser.parseOpen(E),!0):E.name==="worksheet"?(d.each(this.map,I=>{I.reset()}),!0):(this.map[E.name]&&!this.ignoreNodes.includes(E.name)&&(this.parser=this.map[E.name],this.parser.parseOpen(E)),!0)}parseText(E){this.parser&&this.parser.parseText(E)}parseClose(E){if(this.parser)return this.parser.parseClose(E)||(this.parser=void 0),!0;switch(E){case"worksheet":{const I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);const L={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(L,this.map.pageSetup.model,this.map.printOptions.model),X=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:X},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(E,I){const L=(E.relationships||[]).reduce((X,re)=>{if(X[re.Id]=re,re.Type===i.Comments&&(E.comments=I.comments[re.Target].comments),re.Type===i.VmlDrawing&&E.comments&&E.comments.length){const q=I.vmlDrawings[re.Target].comments;E.comments.forEach((ee,R)=>{ee.note=Object.assign({},ee.note,q[R])})}return X},{});if(I.commentsMap=(E.comments||[]).reduce((X,re)=>(re.ref&&(X[re.ref]=re),X),{}),I.hyperlinkMap=(E.hyperlinks||[]).reduce((X,re)=>(re.rId&&(X[re.address]=L[re.rId].Target),X),{}),I.formulae={},E.rows=E.rows&&E.rows.filter(Boolean)||[],E.rows.forEach(X=>{X.cells=X.cells&&X.cells.filter(Boolean)||[]}),this.map.cols.reconcile(E.cols,I),this.map.sheetData.reconcile(E.rows,I),this.map.conditionalFormatting.reconcile(E.conditionalFormattings,I),E.media=[],E.drawing){const X=L[E.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(X){const re=X[1];I.drawings[re].anchors.forEach(q=>{if(q.medium){const ee={type:"image",imageId:q.medium.index,range:q.range,hyperlinks:q.picture.hyperlinks};E.media.push(ee)}})}}const G=E.background&&L[E.background.rId];if(G){const X=G.Target.split("/media/")[1],re=I.mediaIndex&&I.mediaIndex[X];re!==void 0&&E.media.push({type:"background",imageId:re})}E.tables=(E.tables||[]).map(X=>{const re=L[X.rId];return I.tables[re.Target]}),delete E.relationships,delete E.hyperlinks,delete E.comments}}w.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},f.exports=w},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,a){a&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=s.parse||function(a){return new Date(a)}}render(s,a){a&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(a)):s.writeText(this._format(a)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,a){(a||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,a):s.writeText(a),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,a){a!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,a):s.writeText(a),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,f,m){const d=t("./base-xform"),s=t("../../utils/xml-stream");f.exports=class extends d{constructor(a){super(),this._model=a}render(a){if(!this._xml){const i=new s;(function r(n,l){n.openNode(l.tag,l.$),l.c&&l.c.forEach(o=>{r(n,o)}),l.t&&n.writeText(l.t),n.closeNode()})(i,this._model),this._xml=i.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,f,m){const d=t("./text-xform"),s=t("./rich-text-xform"),a=t("../base-xform");f.exports=class extends a{constructor(){super(),this.map={r:new s,t:new d}}get tag(){return"rPh"}render(i,r){if(i.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){const{r:n}=this.map;r.richText.forEach(l=>{n.render(i,l)})}else r&&this.map.t.render(i,r.text);i.closeNode()}parseOpen(i){const{name:r}=i;return this.parser?(this.parser.parseOpen(i),!0):r===this.tag?(this.model={sb:parseInt(i.attributes.sb,10),eb:parseInt(i.attributes.eb,10)},!0):(this.parser=this.map[r],!!this.parser&&(this.parser.parseOpen(i),!0))}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,f,m){const d=t("./text-xform"),s=t("../style/font-xform"),a=t("../base-xform");class i extends a{constructor(n){super(),this.model=n}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new d)}get fontXform(){return this._fontXform||(this._fontXform=new s(i.FONT_OPTIONS))}render(n,l){l=l||this.model,n.openNode("r"),l.font&&this.fontXform.render(n,l.font),this.textXform.render(n,l.text),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(n),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){switch(n){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}}i.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},f.exports=i},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,f,m){const d=t("./text-xform"),s=t("./rich-text-xform"),a=t("./phonetic-text-xform"),i=t("../base-xform");f.exports=class extends i{constructor(r){super(),this.model=r,this.map={r:new s,t:new d,rPh:new a}}get tag(){return"si"}render(r,n){r.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(l=>{this.map.r.render(r,l)}):this.map.t.render(r,""):n!=null&&this.map.t.render(r,n),r.closeNode()}parseOpen(r){const{name:n}=r;return this.parser?(this.parser.parseOpen(r),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(r),!0))}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("./shared-string-xform");f.exports=class extends s{constructor(i){super(),this.model=i||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(i){return this.model.values[i]}add(i){return i.richText?this.addRichText(i):this.addText(i)}addText(i){let r=this.hash[i];return r===void 0&&(r=this.hash[i]=this.model.values.length,this.model.values.push(i)),this.model.count++,r}addRichText(i){const r=this.sharedStringXform.toXml(i);let n=this.rich[r];return n===void 0&&(n=this.rich[r]=this.model.values.length,this.model.values.push(i)),this.model.count++,n}render(i,r){r=r||this._values,i.openXml(d.StdDocAttributes),i.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});const n=this.sharedStringXform;r.values.forEach(l=>{n.render(i,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(i),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(i){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"t"}render(s,a){s.openNode("t"),/^\s|\n|\s$/.test(a)&&s.addAttribute("xml:space","preserve"),s.writeText(a),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,f,m){const d=t("../../../doc/enums"),s=t("../../../utils/utils"),a=t("../base-xform"),i={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((n,l)=>(n[l]=!0,n),{}),horizontal(n){return this.horizontalValues[n]?n:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((n,l)=>(n[l]=!0,n),{}),vertical(n){return n==="middle"?"center":this.verticalValues[n]?n:void 0},wrapText:n=>!!n||void 0,shrinkToFit:n=>!!n||void 0,textRotation(n){switch(n){case"vertical":return n;default:return(n=s.validInt(n))>=-90&&n<=90?n:void 0}},indent:n=>(n=s.validInt(n),Math.max(0,n)),readingOrder(n){switch(n){case"ltr":return d.ReadingOrder.LeftToRight;case"rtl":return d.ReadingOrder.RightToLeft;default:return}}},r={toXml(n){if(n=i.textRotation(n)){if(n==="vertical")return 255;const l=Math.round(n);if(l>=0&&l<=90)return l;if(l<0&&l>=-90)return 90-l}},toModel(n){const l=s.validInt(n);if(l!==void 0){if(l===255)return"vertical";if(l>=0&&l<=90)return l;if(l>90&&l<=180)return 90-l}}};f.exports=class extends a{get tag(){return"alignment"}render(n,l){n.addRollback(),n.openNode("alignment");let o=!1;function c(p,g){g&&(n.addAttribute(p,g),o=!0)}c("horizontal",i.horizontal(l.horizontal)),c("vertical",i.vertical(l.vertical)),c("wrapText",!!i.wrapText(l.wrapText)&&"1"),c("shrinkToFit",!!i.shrinkToFit(l.shrinkToFit)&&"1"),c("indent",i.indent(l.indent)),c("textRotation",r.toXml(l.textRotation)),c("readingOrder",i.readingOrder(l.readingOrder)),n.closeNode(),o?n.commit():n.rollback()}parseOpen(n){const l={};let o=!1;function c(p,g,h){p&&(l[g]=h,o=!0)}c(n.attributes.horizontal,"horizontal",n.attributes.horizontal),c(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),c(n.attributes.wrapText,"wrapText",s.parseBoolean(n.attributes.wrapText)),c(n.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(n.attributes.shrinkToFit)),c(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),c(n.attributes.textRotation,"textRotation",r.toModel(n.attributes.textRotation)),c(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=o?l:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,f,m){const d=t("../base-xform"),s=t("../../../utils/utils"),a=t("./color-xform");class i extends d{constructor(n){super(),this.name=n,this.map={color:new a}}get tag(){return this.name}render(n,l,o){const c=l&&l.color||o||this.defaultColor;n.openNode(this.name),l&&l.style&&(n.addAttribute("style",l.style),c&&this.map.color.render(n,c)),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.name:{const{style:l}=n.attributes;return this.model=l?{style:l}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(n===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(n){return i.validStyleValues[n]}}i.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((r,n)=>(r[n]=!0,r),{}),f.exports=class extends d{constructor(){super(),this.map={top:new i("top"),left:new i("left"),bottom:new i("bottom"),right:new i("right"),diagonal:new i("diagonal")}}render(r,n){const{color:l}=n;function o(c,p){c&&!c.color&&n.color&&(c={...c,color:n.color}),p.render(r,c,l)}r.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&r.addAttribute("diagonalUp","1"),n.diagonal.down&&r.addAttribute("diagonalDown","1")),o(n.left,this.map.left),o(n.right,this.map.right),o(n.top,this.map.top),o(n.bottom,this.map.bottom),o(n.diagonal,this.map.diagonal),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(r.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(r.attributes.diagonalDown),!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;if(r==="border"){const n=this.model={},l=function(o,c,p){c&&(p&&Object.assign(c,p),n[o]=c)};l("left",this.map.left.model),l("right",this.map.right.model),l("top",this.map.top.model),l("bottom",this.map.bottom.model),l("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,a){return!!a&&(s.openNode(this.name),a.argb?s.addAttribute("rgb",a.argb):a.theme!==void 0?(s.addAttribute("theme",a.theme),a.tint!==void 0&&s.addAttribute("tint",a.tint)):a.indexed!==void 0?s.addAttribute("indexed",a.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,f,m){const d=t("../base-xform"),s=t("./alignment-xform"),a=t("./border-xform"),i=t("./fill-xform"),r=t("./font-xform"),n=t("./numfmt-xform"),l=t("./protection-xform");f.exports=class extends d{constructor(){super(),this.map={alignment:new s,border:new a,fill:new i,font:new r,numFmt:new n,protection:new l}}get tag(){return"dxf"}render(o,c){if(o.openNode(this.tag),c.font&&this.map.font.render(o,c.font),c.numFmt&&c.numFmtId){const p={id:c.numFmtId,formatCode:c.numFmt};this.map.numFmt.render(o,p)}c.fill&&this.map.fill.render(o,c.fill),c.alignment&&this.map.alignment.render(o,c.alignment),c.border&&this.map.border.render(o,c.border),c.protection&&this.map.protection.render(o,c.protection),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o),!0}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):o!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,f,m){const d=t("../base-xform"),s=t("./color-xform");class a extends d{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(o,c){o.openNode("stop"),o.addAttribute("position",c.position),this.map.color.render(o,c.color),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"stop":return this.model={position:parseFloat(o.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(o),!0;default:return!1}}parseText(){}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class i extends d{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(o,c){o.openNode("patternFill"),o.addAttribute("patternType",c.pattern),c.fgColor&&this.map.fgColor.render(o,c.fgColor),c.bgColor&&this.map.bgColor.render(o,c.bgColor),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"patternFill":return this.model={type:"pattern",pattern:o.attributes.patternType},!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.parser.model&&(this.model[o]=this.parser.model),this.parser=void 0),!0)}}class r extends d{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(o,c){switch(o.openNode("gradientFill"),c.gradient){case"angle":o.addAttribute("degree",c.degree);break;case"path":o.addAttribute("type","path"),c.center.left&&(o.addAttribute("left",c.center.left),c.center.right===void 0&&o.addAttribute("right",c.center.left)),c.center.right&&o.addAttribute("right",c.center.right),c.center.top&&(o.addAttribute("top",c.center.top),c.center.bottom===void 0&&o.addAttribute("bottom",c.center.top)),c.center.bottom&&o.addAttribute("bottom",c.center.bottom)}const p=this.map.stop;c.stops.forEach(g=>{p.render(o,g)}),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"gradientFill":{const c=this.model={stops:[]};return o.attributes.degree?(c.gradient="angle",c.degree=parseInt(o.attributes.degree,10)):o.attributes.type==="path"&&(c.gradient="path",c.center={left:o.attributes.left?parseFloat(o.attributes.left):0,top:o.attributes.top?parseFloat(o.attributes.top):0},o.attributes.right!==o.attributes.left&&(c.center.right=o.attributes.right?parseFloat(o.attributes.right):0),o.attributes.bottom!==o.attributes.top&&(c.center.bottom=o.attributes.bottom?parseFloat(o.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class n extends d{constructor(){super(),this.map={patternFill:new i,gradientFill:new r}}get tag(){return"fill"}render(o,c){switch(o.addRollback(),o.openNode("fill"),c.type){case"pattern":this.map.patternFill.render(o,c);break;case"gradient":this.map.gradientFill.render(o,c);break;default:return void o.rollback()}o.closeNode(),o.commit()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"fill":return this.model={},!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(this.parser.parseClose(o)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(o){return n.validPatternValues[o]}}n.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((l,o)=>(l[o]=!0,l),{}),n.StopXform=a,n.PatternFillXform=i,n.GradientFillXform=r,f.exports=n},{"../base-xform":32,"./color-xform":128}],131:[function(t,f,m){const d=t("./color-xform"),s=t("../simple/boolean-xform"),a=t("../simple/integer-xform"),i=t("../simple/string-xform"),r=t("./underline-xform"),n=t("../../../utils/under-dash"),l=t("../base-xform");class o extends l{constructor(p){super(),this.options=p||o.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new r},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new d},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new i({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new i({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new i({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:h}=this;p.openNode(this.options.tagName),n.each(this.map,(y,b)=>{h[b].xform.render(p,g[y.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}o.OPTIONS={tagName:"font",fontNameTag:"name"},f.exports=o},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,f,m){const d=t("../../../utils/under-dash"),s=t("../../defaultnumformats"),a=t("../base-xform"),i=(function(){const n={};return d.each(s,(l,o)=>{l.f&&(n[l.f]=parseInt(o,10))}),n})();class r extends a{constructor(l,o){super(),this.id=l,this.formatCode=o}get tag(){return"numFmt"}render(l,o){l.leafNode("numFmt",{numFmtId:o.id,formatCode:o.formatCode})}parseOpen(l){switch(l.name){case"numFmt":return this.model={id:parseInt(l.attributes.numFmtId,10),formatCode:l.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}r.getDefaultFmtId=function(n){return i[n]},r.getDefaultFmtCode=function(n){return s[n]&&s[n].f},f.exports=r},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,f,m){const d=t("../base-xform"),s={boolean:(a,i)=>a===void 0?i:a};f.exports=class extends d{get tag(){return"protection"}render(a,i){a.addRollback(),a.openNode("protection");let r=!1;function n(l,o){o!==void 0&&(a.addAttribute(l,o),r=!0)}n("locked",s.boolean(i.locked,!0)?void 0:"0"),n("hidden",s.boolean(i.hidden,!1)?"1":void 0),a.closeNode(),r?a.commit():a.rollback()}parseOpen(a){const i={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},r=!i.locked||i.hidden;this.model=r?i:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,f,m){const d=t("../base-xform"),s=t("./alignment-xform"),a=t("./protection-xform");f.exports=class extends d{constructor(i){super(),this.xfId=!(!i||!i.xfId),this.map={alignment:new s,protection:new a}}get tag(){return"xf"}render(i,r){i.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&i.addAttribute("xfId",r.xfId||0),r.numFmtId&&i.addAttribute("applyNumberFormat","1"),r.fontId&&i.addAttribute("applyFont","1"),r.fillId&&i.addAttribute("applyFill","1"),r.borderId&&i.addAttribute("applyBorder","1"),r.alignment&&i.addAttribute("applyAlignment","1"),r.protection&&i.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(i,r.alignment),r.protection&&this.map.protection.render(i,r.protection),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"xf":return this.model={numFmtId:parseInt(i.attributes.numFmtId,10),fontId:parseInt(i.attributes.fontId,10),fillId:parseInt(i.attributes.fillId,10),borderId:parseInt(i.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(i.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(i),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):i!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,f,m){const d=t("../../../doc/enums"),s=t("../../../utils/xml-stream"),a=t("../base-xform"),i=t("../static-xform"),r=t("../list-xform"),n=t("./font-xform"),l=t("./fill-xform"),o=t("./border-xform"),c=t("./numfmt-xform"),p=t("./style-xform"),g=t("./dxf-xform");class h extends a{constructor(b){super(),this.map={numFmts:new r({tag:"numFmts",count:!0,childXform:new c}),fonts:new r({tag:"fonts",count:!0,childXform:new n,$:{"x14ac:knownFonts":1}}),fills:new r({tag:"fills",count:!0,childXform:new l}),borders:new r({tag:"borders",count:!0,childXform:new o}),cellStyleXfs:new r({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new r({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new r({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new c,font:new n,fill:new l,border:new o,style:new p({xfId:!0}),cellStyles:h.STATIC_XFORMS.cellStyles,tableStyles:h.STATIC_XFORMS.tableStyles,extLst:h.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,C){C=C||this.model,b.openXml(s.StdDocAttributes),b.openNode("styleSheet",h.STYLESHEET_ATTRIBUTES),this.index?(C.numFmts&&C.numFmts.length&&(b.openNode("numFmts",{count:C.numFmts.length}),C.numFmts.forEach(T=>{b.writeXml(T)}),b.closeNode()),C.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:C.fonts.length,"x14ac:knownFonts":1}),C.fonts.forEach(T=>{b.writeXml(T)}),b.closeNode(),b.openNode("fills",{count:C.fills.length}),C.fills.forEach(T=>{b.writeXml(T)}),b.closeNode(),b.openNode("borders",{count:C.borders.length}),C.borders.forEach(T=>{b.writeXml(T)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:C.styles.length}),C.styles.forEach(T=>{b.writeXml(T)}),b.closeNode()):(this.map.numFmts.render(b,C.numFmts),this.map.fonts.render(b,C.fonts),this.map.fills.render(b,C.fills),this.map.borders.render(b,C.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,C.styles)),h.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,C.dxfs),h.STATIC_XFORMS.tableStyles.render(b),h.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const C=(T,D)=>{D.model&&D.model.length&&(this.model[T]=D.model)};if(C("numFmts",this.map.numFmts),C("fonts",this.map.fonts),C("fills",this.map.fills),C("borders",this.map.borders),C("styles",this.map.cellXfs),C("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const T=this.index.numFmt;this.model.numFmts.forEach(D=>{T[D.id]=D.formatCode})}return!1}default:return!0}}addStyleModel(b,C){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const T={};if(C=C||d.ValueType.Number,b.numFmt)T.numFmtId=this._addNumFmtStr(b.numFmt);else switch(C){case d.ValueType.Number:T.numFmtId=this._addNumFmtStr("General");break;case d.ValueType.Date:T.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(T.fontId=this._addFont(b.font)),b.border&&(T.borderId=this._addBorder(b.border)),b.fill&&(T.fillId=this._addFill(b.fill)),b.alignment&&(T.alignment=b.alignment),b.protection&&(T.protection=b.protection);const D=this._addStyle(T);return this.weakMap&&this.weakMap.set(b,D),D}getStyleModel(b){const C=this.model.styles[b];if(!C)return null;let T=this.index.model[b];if(T)return T;if(T=this.index.model[b]={},C.numFmtId){const F=this.index.numFmt[C.numFmtId]||c.getDefaultFmtCode(C.numFmtId);F&&(T.numFmt=F)}function D(F,H,O){if(O||O===0){const $=H[O];$&&(T[F]=$)}}return D("font",this.model.fonts,C.fontId),D("border",this.model.borders,C.borderId),D("fill",this.model.fills,C.fillId),C.alignment&&(T.alignment=C.alignment),C.protection&&(T.protection=C.protection),T}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const C=this.map.style.toXml(b);let T=this.index.style[C];return T===void 0&&(T=this.index.style[C]=this.model.styles.length,this.model.styles.push(C)),T}_addNumFmtStr(b){let C=c.getDefaultFmtId(b);if(C!==void 0||(C=this.index.numFmt[b],C!==void 0))return C;C=this.index.numFmt[b]=164+this.model.numFmts.length;const T=this.map.numFmt.toXml({id:C,formatCode:b});return this.model.numFmts.push(T),C}_addFont(b){const C=this.map.font.toXml(b);let T=this.index.font[C];return T===void 0&&(T=this.index.font[C]=this.model.fonts.length,this.model.fonts.push(C)),T}_addBorder(b){const C=this.map.border.toXml(b);let T=this.index.border[C];return T===void 0&&(T=this.index.border[C]=this.model.borders.length,this.model.borders.push(C)),T}_addFill(b){const C=this.map.fill.toXml(b);let T=this.index.fill[C];return T===void 0&&(T=this.index.fill[C]=this.model.fills.length,this.model.fills.push(C)),T}}h.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},h.STATIC_XFORMS={cellStyles:new i({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new i({tag:"dxfs",$:{count:0}}),tableStyles:new i({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new i({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},h.Mock=class extends h{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,b){switch(b){case d.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:c.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},f.exports=h},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,f,m){const d=t("../base-xform");class s extends d{constructor(i){super(),this.model=i}get tag(){return"u"}render(i,r){if((r=r||this.model)===!0)i.leafNode("u");else{const n=s.Attributes[r];n&&i.leafNode("u",n)}}parseOpen(i){i.name==="u"&&(this.model=i.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},f.exports=s},{"../base-xform":32}],137:[function(t,f,m){const d=t("../base-xform"),s=t("./filter-column-xform");f.exports=class extends d{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((i,r)=>{this.map.filterColumn.prepare(i,{index:r})})}render(a,i){return a.openNode(this.tag,{ref:i.autoFilterRef}),i.columns.forEach(r=>{this.map.filterColumn.render(a,r)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"customFilter"}render(s,a){s.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,f,m){const d=t("../base-xform"),s=t("../list-xform"),a=t("./custom-filter-xform"),i=t("./filter-xform");f.exports=class extends d{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new i})}}get tag(){return"filterColumn"}prepare(r,n){r.colId=n.index.toString()}render(r,n){return n.customFilters?(r.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(r,n.customFilters),r.closeNode(),!0):(r.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;const{attributes:n}=r;switch(r.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"filter"}render(s,a){s.leafNode(this.tag,{val:a.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"tableColumn"}prepare(s,a){s.id=a.index+1}render(s,a){return s.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:a}=s;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,f,m){const d=t("../base-xform");f.exports=class extends d{get tag(){return"tableStyleInfo"}render(s,a){return s.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:a}=s;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,f,m){const d=t("../../../utils/xml-stream"),s=t("../base-xform"),a=t("../list-xform"),i=t("./auto-filter-xform"),r=t("./table-column-xform"),n=t("./table-style-info-xform");class l extends s{constructor(){super(),this.map={autoFilter:new i,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new r}),tableStyleInfo:new n}}prepare(c,p){this.map.autoFilter.prepare(c),this.map.tableColumns.prepare(c.columns,p)}get tag(){return"table"}render(c,p){c.openXml(d.StdDocAttributes),c.openNode(this.tag,{...l.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(c,p),this.map.tableColumns.render(c,p.columns),this.map.tableStyleInfo.render(c,p.style),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{name:p,attributes:g}=c;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(c,p){c.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}l.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},f.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,f,m){(function(d,s){(function(){const a=t("fs"),i=t("jszip"),{PassThrough:r}=t("readable-stream"),n=t("../utils/zip-stream"),l=t("../utils/stream-buf"),o=t("../utils/utils"),c=t("../utils/xml-stream"),{bufferToString:p}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),h=t("./xform/core/core-xform"),y=t("./xform/strings/shared-strings-xform"),b=t("./xform/core/relationships-xform"),C=t("./xform/core/content-types-xform"),T=t("./xform/core/app-xform"),D=t("./xform/book/workbook-xform"),F=t("./xform/sheet/worksheet-xform"),H=t("./xform/drawing/drawing-xform"),O=t("./xform/table/table-xform"),$=t("./xform/comment/comments-xform"),B=t("./xform/comment/vml-notes-xform"),K=t("./xml/theme1");class U{constructor(M){this.workbook=M}async readFile(M,A){if(!await o.fs.exists(M))throw new Error("File not found: "+M);const N=a.createReadStream(M);try{const S=await this.read(N,A);return N.close(),S}catch(S){throw N.close(),S}}parseRels(M){return new b().parseStream(M)}parseWorkbook(M){return new D().parseStream(M)}parseSharedStrings(M){return new y().parseStream(M)}reconcile(M,A){const N=new D,S=new F(A),w=new H,j=new O;N.reconcile(M);const E={media:M.media,mediaIndex:M.mediaIndex};Object.keys(M.drawings).forEach(G=>{const X=M.drawings[G],re=M.drawingRels[G];re&&(E.rels=re.reduce((q,ee)=>(q[ee.Id]=ee,q),{}),(X.anchors||[]).forEach(q=>{const ee=q.picture&&q.picture.hyperlinks;ee&&E.rels[ee.rId]&&(ee.hyperlink=E.rels[ee.rId].Target,delete ee.rId)}),w.reconcile(X,E))});const I={styles:M.styles};Object.values(M.tables).forEach(G=>{j.reconcile(G,I)});const L={styles:M.styles,sharedStrings:M.sharedStrings,media:M.media,mediaIndex:M.mediaIndex,date1904:M.properties&&M.properties.date1904,drawings:M.drawings,comments:M.comments,tables:M.tables,vmlDrawings:M.vmlDrawings};M.worksheets.forEach(G=>{G.relationships=M.worksheetRels[G.sheetNo],S.reconcile(G,L)}),delete M.worksheetHash,delete M.worksheetRels,delete M.globalRels,delete M.sharedStrings,delete M.workbookRels,delete M.sheetDefs,delete M.styles,delete M.mediaIndex,delete M.drawings,delete M.drawingRels,delete M.vmlDrawings}async _processWorksheetEntry(M,A,N,S,w){const j=new F(S),E=await j.parseStream(M);E.sheetNo=N,A.worksheetHash[w]=E,A.worksheets.push(E)}async _processCommentEntry(M,A,N){const S=new $,w=await S.parseStream(M);A.comments[`../${N}.xml`]=w}async _processTableEntry(M,A,N){const S=new O,w=await S.parseStream(M);A.tables[`../tables/${N}.xml`]=w}async _processWorksheetRelsEntry(M,A,N){const S=new b,w=await S.parseStream(M);A.worksheetRels[N]=w}async _processMediaEntry(M,A,N){const S=N.lastIndexOf(".");if(S>=1){const w=N.substr(S+1),j=N.substr(0,S);await new Promise((E,I)=>{const L=new l;L.on("finish",()=>{A.mediaIndex[N]=A.media.length,A.mediaIndex[j]=A.media.length;const G={type:"image",name:j,extension:w,buffer:L.toBuffer()};A.media.push(G),E()}),M.on("error",G=>{I(G)}),M.pipe(L)})}}async _processDrawingEntry(M,A,N){const S=new H,w=await S.parseStream(M);A.drawings[N]=w}async _processDrawingRelsEntry(M,A,N){const S=new b,w=await S.parseStream(M);A.drawingRels[N]=w}async _processVmlDrawingEntry(M,A,N){const S=new B,w=await S.parseStream(M);A.vmlDrawings[`../drawings/${N}.vml`]=w}async _processThemeEntry(M,A,N){await new Promise((S,w)=>{const j=new l;M.on("error",w),j.on("error",w),j.on("finish",()=>{A.themes[N]=j.read().toString(),S()}),M.pipe(j)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(M,A){!M[Symbol.asyncIterator]&&M.pipe&&(M=M.pipe(new r));const N=[];for await(const S of M)N.push(S);return this.load(s.concat(N),A)}async load(M,A){let N;N=A&&A.base64?s.from(M.toString(),"base64"):M;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},w=await i.loadAsync(N);for(const j of Object.values(w.files))if(!j.dir){let E,I=j.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))E=new r,E.write(await j.async("nodebuffer"));else{let L;E=new r({writableObjectMode:!0,readableObjectMode:!0}),L=d.browser?p(await j.async("nodebuffer")):await j.async("string");const G=16384;for(let X=0;X<L.length;X+=G)E.write(L.substring(X,X+G))}switch(E.end(),I){case"_rels/.rels":S.globalRels=await this.parseRels(E);break;case"xl/workbook.xml":{const L=await this.parseWorkbook(E);S.sheets=L.sheets,S.definedNames=L.definedNames,S.views=L.views,S.properties=L.properties,S.calcProperties=L.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(E);break;case"xl/sharedStrings.xml":S.sharedStrings=new y,await S.sharedStrings.parseStream(E);break;case"xl/styles.xml":S.styles=new g,await S.styles.parseStream(E);break;case"docProps/app.xml":{const L=new T,G=await L.parseStream(E);S.company=G.company,S.manager=G.manager;break}case"docProps/core.xml":{const L=new h,G=await L.parseStream(E);Object.assign(S,G);break}default:{let L=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(L){await this._processWorksheetEntry(E,S,L[1],A,I);break}if(L=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),L){await this._processWorksheetRelsEntry(E,S,L[1]);break}if(L=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),L){await this._processThemeEntry(E,S,L[1]);break}if(L=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),L){await this._processMediaEntry(E,S,L[1]);break}if(L=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),L){await this._processDrawingEntry(E,S,L[1]);break}if(L=I.match(/xl\/(comments\d+)[.]xml/),L){await this._processCommentEntry(E,S,L[1]);break}if(L=I.match(/xl\/tables\/(table\d+)[.]xml/),L){await this._processTableEntry(E,S,L[1]);break}if(L=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),L){await this._processDrawingRelsEntry(E,S,L[1]);break}if(L=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),L){await this._processVmlDrawingEntry(E,S,L[1]);break}}}}return this.reconcile(S,A),this.workbook.model=S,this.workbook}async addMedia(M,A){await Promise.all(A.media.map(async N=>{if(N.type==="image"){const S=`xl/media/${N.name}.${N.extension}`;if(N.filename){const w=await(function(j,E){return new Promise((I,L)=>{a.readFile(j,E,(G,X)=>{G?L(G):I(X)})})})(N.filename);return M.append(w,{name:S})}if(N.buffer)return M.append(N.buffer,{name:S});if(N.base64){const w=N.base64,j=w.substring(w.indexOf(",")+1);return M.append(j,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(M,A){const N=new H,S=new b;A.worksheets.forEach(w=>{const{drawing:j}=w;if(j){N.prepare(j,{});let E=N.toXml(j);M.append(E,{name:`xl/drawings/${j.name}.xml`}),E=S.toXml(j.rels),M.append(E,{name:`xl/drawings/_rels/${j.name}.xml.rels`})}})}addTables(M,A){const N=new O;A.worksheets.forEach(S=>{const{tables:w}=S;w.forEach(j=>{N.prepare(j,{});const E=N.toXml(j);M.append(E,{name:"xl/tables/"+j.target})})})}async addContentTypes(M,A){const N=new C().toXml(A);M.append(N,{name:"[Content_Types].xml"})}async addApp(M,A){const N=new T().toXml(A);M.append(N,{name:"docProps/app.xml"})}async addCore(M,A){const N=new h;M.append(N.toXml(A),{name:"docProps/core.xml"})}async addThemes(M,A){const N=A.themes||{theme1:K};Object.keys(N).forEach(S=>{const w=N[S],j=`xl/theme/${S}.xml`;M.append(w,{name:j})})}async addOfficeRels(M){const A=new b().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);M.append(A,{name:"_rels/.rels"})}async addWorkbookRels(M,A){let N=1;const S=[{Id:"rId"+N++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+N++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&S.push({Id:"rId"+N++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(j=>{j.rId="rId"+N++,S.push({Id:j.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${j.id}.xml`})});const w=new b().toXml(S);M.append(w,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(M,A){A.sharedStrings&&A.sharedStrings.count&&M.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(M,A){const{xml:N}=A.styles;N&&M.append(N,{name:"xl/styles.xml"})}async addWorkbook(M,A){const N=new D;M.append(N.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(M,A){const N=new F,S=new b,w=new $,j=new B;A.worksheets.forEach(E=>{let I=new c;N.render(I,E),M.append(I.xml,{name:`xl/worksheets/sheet${E.id}.xml`}),E.rels&&E.rels.length&&(I=new c,S.render(I,E.rels),M.append(I.xml,{name:`xl/worksheets/_rels/sheet${E.id}.xml.rels`})),E.comments.length>0&&(I=new c,w.render(I,E),M.append(I.xml,{name:`xl/comments${E.id}.xml`}),I=new c,j.render(I,E),M.append(I.xml,{name:`xl/drawings/vmlDrawing${E.id}.vml`}))})}_finalize(M){return new Promise((A,N)=>{M.on("finish",()=>{A(this)}),M.on("error",N),M.finalize()})}prepareModel(M,A){M.creator=M.creator||"ExcelJS",M.lastModifiedBy=M.lastModifiedBy||"ExcelJS",M.created=M.created||new Date,M.modified=M.modified||new Date,M.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,M.useStyles=A.useStyles===void 0||A.useStyles,M.sharedStrings=new y,M.styles=M.useStyles?new g(!0):new g.Mock;const N=new D,S=new F;N.prepare(M);const w={sharedStrings:M.sharedStrings,styles:M.styles,date1904:M.properties.date1904,drawingsCount:0,media:M.media};w.drawings=M.drawings=[],w.commentRefs=M.commentRefs=[];let j=0;M.tables=[],M.worksheets.forEach(E=>{E.tables.forEach(I=>{j++,I.target=`table${j}.xml`,I.id=j,M.tables.push(I)}),S.prepare(E,w)})}async write(M,A){A=A||{};const{model:N}=this.workbook,S=new n.ZipWriter(A.zip);return S.pipe(M),this.prepareModel(N,A),await this.addContentTypes(S,N),await this.addOfficeRels(S,N),await this.addWorkbookRels(S,N),await this.addWorksheets(S,N),await this.addSharedStrings(S,N),await this.addDrawings(S,N),await this.addTables(S,N),await Promise.all([this.addThemes(S,N),this.addStyles(S,N)]),await this.addMedia(S,N),await Promise.all([this.addApp(S,N),this.addCore(S,N)]),await this.addWorkbook(S,N),this._finalize(S)}writeFile(M,A){const N=a.createWriteStream(M);return new Promise((S,w)=>{N.on("finish",()=>{S()}),N.on("error",j=>{w(j)}),this.write(N,A).then(()=>{N.end()}).catch(j=>{w(j)})})}async writeBuffer(M){const A=new l;return await this.write(A,M),A.read()}}U.RelType=t("./rel-type"),f.exports=U}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,f,m){f.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,f,m){(function(d){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvFormatterStream=void 0;const s=t("stream"),a=t("./formatter");class i extends s.Transform{constructor(n){super({writableObjectMode:n.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=n,this.rowFormatter=new a.RowFormatter(n),this.hasWrittenBOM=!n.writeBOM}transform(n){return this.rowFormatter.rowTransform=n,this}_transform(n,l,o){let c=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(n,(p,g)=>p?(c=!0,o(p)):(g&&g.forEach(h=>{this.push(d.from(h,"utf8"))}),c=!0,o()))}catch(p){if(c)throw p;o(p)}}_flush(n){this.rowFormatter.finish((l,o)=>l?n(l):(o&&o.forEach(c=>{this.push(d.from(c,"utf8"))}),n()))}}m.CsvFormatterStream=i}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FormatterOptions=void 0,m.FormatterOptions=class{constructor(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,d||{}),d?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),d?.quote===!0?this.quote='"':d?.quote===!1&&(this.quote=""),typeof d?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=d.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,f,m){var d=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=void 0;const s=d(t("lodash.isboolean")),a=d(t("lodash.isnil")),i=d(t("lodash.escaperegexp"));m.FieldFormatter=class{constructor(r){this._headers=null,this.formatterOptions=r,r.headers!==null&&(this.headers=r.headers),this.REPLACE_REGEXP=new RegExp(r.quote,"g");const n=`[${r.delimiter}${i.default(r.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(r){this._headers=r}shouldQuote(r,n){const l=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(l)?l:Array.isArray(l)?l[r]:this._headers!==null&&l[this._headers[r]]}format(r,n,l){const o=(""+(a.default(r)?"":r)).replace(/\0/g,""),{formatterOptions:c}=this;return c.quote!==""&&o.indexOf(c.quote)!==-1?this.quoteField(o.replace(this.REPLACE_REGEXP,c.escapedQuote)):o.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,l)?this.quoteField(o):o}quoteField(r){const{quote:n}=this.formatterOptions;return`${n}${r}${n}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,f,m){var d=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowFormatter=void 0;const s=d(t("lodash.isfunction")),a=d(t("lodash.isequal")),i=t("./FieldFormatter"),r=t("../types");class n{constructor(o){this.rowCount=0,this.formatterOptions=o,this.fieldFormatter=new i.FieldFormatter(o),this.headers=o.headers,this.shouldWriteHeaders=o.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),o.transform&&(this.rowTransform=o.transform)}static isRowHashArray(o){return!!Array.isArray(o)&&Array.isArray(o[0])&&o[0].length===2}static isRowArray(o){return Array.isArray(o)&&!this.isRowHashArray(o)}static gatherHeaders(o){return n.isRowHashArray(o)?o.map(c=>c[0]):Array.isArray(o)?o:Object.keys(o)}static createTransform(o){return r.isSyncTransform(o)?(c,p)=>{let g=null;try{g=o(c)}catch(h){return p(h)}return p(null,g)}:(c,p)=>{o(c,p)}}set rowTransform(o){if(!s.default(o))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(o)}format(o,c){this.callTransformer(o,(p,g)=>{if(p)return c(p);if(!o)return c(null);const h=[];if(g){const{shouldFormatColumns:y,headers:b}=this.checkHeaders(g);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(h.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),y){const C=this.gatherColumns(g);h.push(this.formatColumns(C,!1))}}return c(null,h)})}finish(o){const c=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return o(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));c.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&c.push(this.formatterOptions.rowDelimiter),o(null,c)}checkHeaders(o){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const c=n.gatherHeaders(o);return this.headers=c,this.fieldFormatter.headers=c,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(c,o),headers:c}:{shouldFormatColumns:!0,headers:null}}gatherColumns(o){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(o)?n.isRowHashArray(o)?this.headers.map((c,p)=>{const g=o[p];return g?g[1]:""}):n.isRowArray(o)&&!this.shouldWriteHeaders?o:this.headers.map((c,p)=>o[p]):this.headers.map(c=>o[c])}callTransformer(o,c){return this._rowTransform?this._rowTransform(o,c):c(null,o)}formatColumns(o,c){const p=o.map((h,y)=>this.fieldFormatter.format(h,y,c)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}m.RowFormatter=n},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.FieldFormatter=m.RowFormatter=void 0;var d=t("./RowFormatter");Object.defineProperty(m,"RowFormatter",{enumerable:!0,get:function(){return d.RowFormatter}});var s=t("./FieldFormatter");Object.defineProperty(m,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,f,m){(function(d){(function(){var s=Object.create?function(y,b,C,T){T===void 0&&(T=C),Object.defineProperty(y,T,{enumerable:!0,get:function(){return b[C]}})}:function(y,b,C,T){T===void 0&&(T=C),y[T]=b[C]},a=Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b},i=function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var C in y)C!=="default"&&Object.prototype.hasOwnProperty.call(y,C)&&s(b,y,C);return a(b,y),b},r=function(y,b){for(var C in y)C==="default"||Object.prototype.hasOwnProperty.call(b,C)||s(b,y,C)};Object.defineProperty(m,"__esModule",{value:!0}),m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=m.FormatterOptions=m.CsvFormatterStream=void 0;const n=t("util"),l=t("stream"),o=i(t("fs")),c=t("./FormatterOptions"),p=t("./CsvFormatterStream");r(t("./types"),m);var g=t("./CsvFormatterStream");Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var h=t("./FormatterOptions");Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return h.FormatterOptions}}),m.format=y=>new p.CsvFormatterStream(new c.FormatterOptions(y)),m.write=(y,b)=>{const C=m.format(b),T=n.promisify((D,F)=>{C.write(D,void 0,F)});return y.reduce((D,F)=>D.then(()=>T(F)),Promise.resolve()).then(()=>C.end()).catch(D=>{C.emit("error",D)}),C},m.writeToStream=(y,b,C)=>m.write(b,C).pipe(y),m.writeToBuffer=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const C=[],T=new l.Writable({write(D,F,H){C.push(D),H()}});return new Promise((D,F)=>{T.on("error",F).on("finish",()=>D(d.concat(C))),m.write(y,b).pipe(T)})},m.writeToString=(y,b)=>m.writeToBuffer(y,b).then(C=>C.toString()),m.writeToPath=(y,b,C)=>{const T=o.createWriteStream(y,{encoding:"utf8"});return m.write(b,C).pipe(T)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncTransform=void 0,m.isSyncTransform=d=>d.length===1},{}],153:[function(t,f,m){(function(d){(function(){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=void 0;const s=t("string_decoder"),a=t("stream"),i=t("./transforms"),r=t("./parser");class n extends a.Transform{constructor(o){super({objectMode:o.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=o,this.parser=new r.Parser(o),this.headerTransformer=new i.HeaderTransformer(o),this.decoder=new s.StringDecoder(o.encoding),this.rowTransformerValidator=new i.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(o){return this.rowTransformerValidator.rowTransform=o,this}validate(o){return this.rowTransformerValidator.rowValidator=o,this}emit(o){if(o==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var c=arguments.length,p=new Array(c>1?c-1:0),g=1;g<c;g++)p[g-1]=arguments[g];return super.emit(o,...p)}_transform(o,c,p){if(this.hasHitRowLimit)return p();const g=n.wrapDoneCallback(p);try{const{lines:h}=this,y=h+this.decoder.write(o),b=this.parse(y,!0);return this.processRows(b,g)}catch(h){return g(h)}}_flush(o){const c=n.wrapDoneCallback(o);if(this.hasHitRowLimit)return c();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,c)}catch(p){return c(p)}}parse(o,c){if(!o)return[];const{line:p,rows:g}=this.parser.parse(o,c);return this.lines=p,g}processRows(o,c){const p=o.length,g=h=>{const y=T=>T?c(T):h%100!=0?g(h+1):void d(()=>g(h+1));if(this.checkAndEmitHeaders(),h>=p||this.hasHitRowLimit)return c();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const b=o[h];this.rowCount+=1,this.parsedRowCount+=1;const C=this.rowCount;return this.transformRow(b,(T,D)=>{if(T)return this.rowCount-=1,y(T);if(!D)return y(new Error("expected transform result"));if(D.isValid){if(D.row)return this.pushRow(D.row,y)}else this.emit("data-invalid",D.row,C,D.reason);return y()})};g(0)}transformRow(o,c){try{this.headerTransformer.transform(o,(p,g)=>p?c(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,c):this.skipRow(c):(this.rowCount-=1,this.parsedRowCount-=1,c(null,{row:null,isValid:!0})):this.shouldEmitRows?c(null,{isValid:!1,row:o}):this.skipRow(c):c(new Error("Expected result from header transform")))}catch(p){c(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(o){return this.rowCount-=1,o(null,{row:null,isValid:!0})}pushRow(o,c){try{this.parserOptions.objectMode?this.push(o):this.push(JSON.stringify(o)),c()}catch(p){c(p)}}static wrapDoneCallback(o){let c=!1;return function(p){if(p){if(c)throw p;return c=!0,void o(p)}for(var g=arguments.length,h=new Array(g>1?g-1:0),y=1;y<g;y++)h[y-1]=arguments[y];o(...h)}}}m.CsvParserStream=n}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,f,m){var d=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(m,"__esModule",{value:!0}),m.ParserOptions=void 0;const s=d(t("lodash.escaperegexp")),a=d(t("lodash.isnil"));m.ParserOptions=class{constructor(i){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,i||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,f,m){var d=Object.create?function(g,h,y,b){b===void 0&&(b=y),Object.defineProperty(g,b,{enumerable:!0,get:function(){return h[y]}})}:function(g,h,y,b){b===void 0&&(b=y),g[b]=h[y]},s=Object.create?function(g,h){Object.defineProperty(g,"default",{enumerable:!0,value:h})}:function(g,h){g.default=h},a=function(g){if(g&&g.__esModule)return g;var h={};if(g!=null)for(var y in g)y!=="default"&&Object.prototype.hasOwnProperty.call(g,y)&&d(h,g,y);return s(h,g),h},i=function(g,h){for(var y in g)y==="default"||Object.prototype.hasOwnProperty.call(h,y)||d(h,g,y)};Object.defineProperty(m,"__esModule",{value:!0}),m.parseString=m.parseFile=m.parseStream=m.parse=m.ParserOptions=m.CsvParserStream=void 0;const r=a(t("fs")),n=t("stream"),l=t("./ParserOptions"),o=t("./CsvParserStream");i(t("./types"),m);var c=t("./CsvParserStream");Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return c.CsvParserStream}});var p=t("./ParserOptions");Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),m.parse=g=>new o.CsvParserStream(new l.ParserOptions(g)),m.parseStream=(g,h)=>g.pipe(new o.CsvParserStream(new l.ParserOptions(h))),m.parseFile=function(g){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.createReadStream(g).pipe(new o.CsvParserStream(new l.ParserOptions(h)))},m.parseString=(g,h)=>{const y=new n.Readable;return y.push(g),y.push(null),y.pipe(new o.CsvParserStream(new l.ParserOptions(h)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Parser=void 0;const d=t("./Scanner"),s=t("./RowParser"),a=t("./Token");class i{constructor(n){this.parserOptions=n,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(n){return n&&n.charCodeAt(0)===65279?n.slice(1):n}parse(n,l){const o=new d.Scanner({line:i.removeBOM(n),parserOptions:this.parserOptions,hasMoreData:l});return this.parserOptions.supportsComments?this.parseWithComments(o):this.parseWithoutComments(o)}parseWithoutComments(n){const l=[];let o=!0;for(;o;)o=this.parseRow(n,l);return{line:n.line,rows:l}}parseWithComments(n){const{parserOptions:l}=this,o=[];for(let c=n.nextCharacterToken;c!==null;c=n.nextCharacterToken)if(a.Token.isTokenComment(c,l)){if(n.advancePastLine()===null)return{line:n.lineFromCursor,rows:o};if(!n.hasMoreCharacters)return{line:n.lineFromCursor,rows:o};n.truncateToCursor()}else if(!this.parseRow(n,o))break;return{line:n.line,rows:o}}parseRow(n,l){if(!n.nextNonSpaceToken)return!1;const o=this.rowParser.parse(n);return o!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(o)||l.push(o),!0)}}m.Parser=i},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.RowParser=void 0;const d=t("./column"),s=t("./Token");m.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new d.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:i}=this,{hasMoreData:r}=a,n=a,l=[];let o=this.getStartToken(n,l);for(;o;){if(s.Token.isTokenRowDelimiter(o))return n.advancePastToken(o),!n.hasMoreCharacters&&s.Token.isTokenCarriageReturn(o,i)&&r?null:(n.truncateToCursor(),l);if(!this.shouldSkipColumnParse(n,o,l)){const c=this.columnParser.parse(n);if(c===null)return null;l.push(c)}o=n.nextNonSpaceToken}return r?null:(n.truncateToCursor(),l)}getStartToken(a,i){const r=a.nextNonSpaceToken;return r!==null&&s.Token.isTokenDelimiter(r,this.parserOptions)?(i.push(""),a.nextNonSpaceToken):r}shouldSkipColumnParse(a,i,r){const{parserOptions:n}=this;if(s.Token.isTokenDelimiter(i,n)){a.advancePastToken(i);const l=a.nextCharacterToken;if(!a.hasMoreCharacters||l!==null&&s.Token.isTokenRowDelimiter(l)||l!==null&&s.Token.isTokenDelimiter(l,n))return r.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Scanner=void 0;const d=t("./Token"),s=/((?:\r\n)|\n|\r)/;m.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,i=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(i)===-1)return null;const r=i.exec(a);if(r==null)return null;const n=r[1],l=this.cursor+(r.index||0);return new d.Token({token:n,startCursor:l,endCursor:l+n.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:i}=this;return i<=a?null:new d.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=s.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.Token=void 0,m.Token=class{constructor(d){this.token=d.token,this.startCursor=d.startCursor,this.endCursor=d.endCursor}static isTokenRowDelimiter(d){const s=d.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(d,s){return d.token===s.carriageReturn}static isTokenComment(d,s){return s.supportsComments&&!!d&&d.token===s.comment}static isTokenEscapeCharacter(d,s){return d.token===s.escapeChar}static isTokenQuote(d,s){return d.token===s.quote}static isTokenDelimiter(d,s){return d.token===s.delimiter}}},{}],160:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=void 0,m.ColumnFormatter=class{constructor(d){d.trim?this.format=s=>s.trim():d.ltrim?this.format=s=>s.trimLeft():d.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnParser=void 0;const d=t("./NonQuotedColumnParser"),s=t("./QuotedColumnParser"),a=t("../Token");m.ColumnParser=class{constructor(i){this.parserOptions=i,this.quotedColumnParser=new s.QuotedColumnParser(i),this.nonQuotedColumnParser=new d.NonQuotedColumnParser(i)}parse(i){const{nextNonSpaceToken:r}=i;return r!==null&&a.Token.isTokenQuote(r,this.parserOptions)?(i.advanceToToken(r),this.quotedColumnParser.parse(i)):this.nonQuotedColumnParser.parse(i)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.NonQuotedColumnParser=void 0;const d=t("./ColumnFormatter"),s=t("../Token");m.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new d.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:i}=this,r=[];let n=a.nextCharacterToken;for(;n&&!s.Token.isTokenDelimiter(n,i)&&!s.Token.isTokenRowDelimiter(n);n=a.nextCharacterToken)r.push(n.token),a.advancePastToken(n);return this.columnFormatter.format(r.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=void 0;const d=t("./ColumnFormatter"),s=t("../Token");m.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new d.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const i=a.cursor,{foundClosingQuote:r,col:n}=this.gatherDataBetweenQuotes(a);if(!r){if(a.advanceTo(i),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),n}gatherDataBetweenQuotes(a){const{parserOptions:i}=this;let r=!1,n=!1;const l=[];let o=a.nextCharacterToken;for(;!n&&o!==null;o=a.nextCharacterToken){const c=s.Token.isTokenQuote(o,i);if(!r&&c)r=!0;else if(r)if(s.Token.isTokenEscapeCharacter(o,i)){a.advancePastToken(o);const p=a.nextCharacterToken;p!==null&&(s.Token.isTokenQuote(p,i)||s.Token.isTokenEscapeCharacter(p,i))?(l.push(p.token),o=p):c?n=!0:l.push(o.token)}else c?n=!0:l.push(o.token);a.advancePastToken(o)}return{col:this.columnFormatter.format(l.join("")),foundClosingQuote:n}}checkForMalformedColumn(a){const{parserOptions:i}=this,{nextNonSpaceToken:r}=a;if(r){const n=s.Token.isTokenDelimiter(r,i),l=s.Token.isTokenRowDelimiter(r);if(!n&&!l){const o=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${i.escapedDelimiter}' OR new line got: '${r.token}'. at '${o}`)}a.advanceToToken(r)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.ColumnFormatter=m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=void 0;var d=t("./ColumnParser");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return d.ColumnParser}});var s=t("./NonQuotedColumnParser");Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var a=t("./QuotedColumnParser");Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var i=t("./ColumnFormatter");Object.defineProperty(m,"ColumnFormatter",{enumerable:!0,get:function(){return i.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.QuotedColumnParser=m.NonQuotedColumnParser=m.ColumnParser=m.Token=m.Scanner=m.RowParser=m.Parser=void 0;var d=t("./Parser");Object.defineProperty(m,"Parser",{enumerable:!0,get:function(){return d.Parser}});var s=t("./RowParser");Object.defineProperty(m,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var a=t("./Scanner");Object.defineProperty(m,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var i=t("./Token");Object.defineProperty(m,"Token",{enumerable:!0,get:function(){return i.Token}});var r=t("./column");Object.defineProperty(m,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}}),Object.defineProperty(m,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}}),Object.defineProperty(m,"QuotedColumnParser",{enumerable:!0,get:function(){return r.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,f,m){var d=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=void 0;const s=d(t("lodash.isundefined")),a=d(t("lodash.isfunction")),i=d(t("lodash.uniq")),r=d(t("lodash.groupby"));m.HeaderTransformer=class{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):a.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,l){return this.shouldMapRow(n)?l(null,this.processRow(n)):l(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:l}=this;if(!this.headersTransform&&l.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(n)}return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:l}=this;if(!l.discardUnmappedColumns&&n.length>this.headersLength){if(!l.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return l.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const l={},{headers:o,headersLength:c}=this;for(let p=0;p<c;p+=1){const g=o[p];if(!s.default(g)){const h=n[p];s.default(h)?l[g]="":l[g]=h}}return l}setHeaders(n){var l;const o=n.filter(c=>!!c);if(i.default(o).length!==o.length){const c=r.default(o),p=Object.keys(c).filter(g=>c[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=n,this.receivedHeaders=!0,this.headersLength=((l=this.headers)===null||l===void 0?void 0:l.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,f,m){var d=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(m,"__esModule",{value:!0}),m.RowTransformerValidator=void 0;const s=d(t("lodash.isfunction")),a=t("../types");class i{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(n){return a.isSyncTransform(n)?(l,o)=>{let c=null;try{c=n(l)}catch(p){return o(p)}return o(null,c)}:n}static createValidator(n){return a.isSyncValidate(n)?(l,o)=>{o(null,{row:l,isValid:n(l)})}:(l,o)=>{n(l,(c,p,g)=>c?o(c):o(null,p?{row:l,isValid:p,reason:g}:{row:l,isValid:!1,reason:g}))}}set rowTransform(n){if(!s.default(n))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(n)}set rowValidator(n){if(!s.default(n))throw new TypeError("The validate should be a function");this._rowValidator=i.createValidator(n)}transformAndValidate(n,l){return this.callTransformer(n,(o,c)=>o?l(o):c?this.callValidator(c,(p,g)=>p?l(p):g&&!g.isValid?l(null,{row:c,isValid:!1,reason:g.reason}):l(null,{row:c,isValid:!0})):l(null,{row:null,isValid:!0}))}callTransformer(n,l){return this._rowTransform?this._rowTransform(n,l):l(null,n)}callValidator(n,l){return this._rowValidator?this._rowValidator(n,l):l(null,{row:n,isValid:!0})}}m.RowTransformerValidator=i},{"../types":169,"lodash.isfunction":446}],168:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.HeaderTransformer=m.RowTransformerValidator=void 0;var d=t("./RowTransformerValidator");Object.defineProperty(m,"RowTransformerValidator",{enumerable:!0,get:function(){return d.RowTransformerValidator}});var s=t("./HeaderTransformer");Object.defineProperty(m,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.isSyncValidate=m.isSyncTransform=void 0,m.isSyncTransform=d=>d.length===1,m.isSyncValidate=d=>d.length===1},{}],170:[function(t,f,m){const d=m;d.bignum=t("bn.js"),d.define=t("./asn1/api").define,d.base=t("./asn1/base"),d.constants=t("./asn1/constants"),d.decoders=t("./asn1/decoders"),d.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,f,m){const d=t("./encoders"),s=t("./decoders"),a=t("inherits");function i(r,n){this.name=r,this.body=n,this.decoders={},this.encoders={}}m.define=function(r,n){return new i(r,n)},i.prototype._createNamed=function(r){const n=this.name;function l(o){this._initNamed(o,n)}return a(l,r),l.prototype._initNamed=function(o,c){r.call(this,o,c)},new l(this)},i.prototype._getDecoder=function(r){return r=r||"der",this.decoders.hasOwnProperty(r)||(this.decoders[r]=this._createNamed(s[r])),this.decoders[r]},i.prototype.decode=function(r,n,l){return this._getDecoder(n).decode(r,l)},i.prototype._getEncoder=function(r){return r=r||"der",this.encoders.hasOwnProperty(r)||(this.encoders[r]=this._createNamed(d[r])),this.encoders[r]},i.prototype.encode=function(r,n,l){return this._getEncoder(n).encode(r,l)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,f,m){const d=t("inherits"),s=t("../base/reporter").Reporter,a=t("safer-buffer").Buffer;function i(n,l){s.call(this,l),a.isBuffer(n)?(this.base=n,this.offset=0,this.length=n.length):this.error("Input not Buffer")}function r(n,l){if(Array.isArray(n))this.length=0,this.value=n.map((function(o){return r.isEncoderBuffer(o)||(o=new r(o,l)),this.length+=o.length,o}),this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return l.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=a.byteLength(n);else{if(!a.isBuffer(n))return l.error("Unsupported type: "+typeof n);this.value=n,this.length=n.length}}d(i,s),m.DecoderBuffer=i,i.isDecoderBuffer=function(n){return n instanceof i?!0:typeof n=="object"&&a.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},i.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},i.prototype.restore=function(n){const l=new i(this.base);return l.offset=n.offset,l.length=this.offset,this.offset=n.offset,s.prototype.restore.call(this,n.reporter),l},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},i.prototype.skip=function(n,l){if(!(this.offset+n<=this.length))return this.error(l||"DecoderBuffer overrun");const o=new i(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+n,this.offset+=n,o},i.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)},m.EncoderBuffer=r,r.isEncoderBuffer=function(n){return n instanceof r?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},r.prototype.join=function(n,l){return n||(n=a.alloc(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(o){o.join(n,l),l+=o.length})):(typeof this.value=="number"?n[l]=this.value:typeof this.value=="string"?n.write(this.value,l):a.isBuffer(this.value)&&this.value.copy(n,l),l+=this.length)),n}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,f,m){const d=m;d.Reporter=t("./reporter").Reporter,d.DecoderBuffer=t("./buffer").DecoderBuffer,d.EncoderBuffer=t("./buffer").EncoderBuffer,d.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,f,m){const d=t("../base/reporter").Reporter,s=t("../base/buffer").EncoderBuffer,a=t("../base/buffer").DecoderBuffer,i=t("minimalistic-assert"),r=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(r);function l(c,p,g){const h={};this._baseState=h,h.name=g,h.enc=c,h.parent=p||null,h.children=null,h.tag=null,h.args=null,h.reverseArgs=null,h.choice=null,h.optional=!1,h.any=!1,h.obj=!1,h.use=null,h.useDecoder=null,h.key=null,h.default=null,h.explicit=null,h.implicit=null,h.contains=null,h.parent||(h.children=[],this._wrap())}f.exports=l;const o=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const c=this._baseState,p={};o.forEach((function(h){p[h]=c[h]}));const g=new this.constructor(p.parent);return g._baseState=p,g},l.prototype._wrap=function(){const c=this._baseState;n.forEach((function(p){this[p]=function(){const g=new this.constructor(this);return c.children.push(g),g[p].apply(g,arguments)}}),this)},l.prototype._init=function(c){const p=this._baseState;i(p.parent===null),c.call(this),p.children=p.children.filter((function(g){return g._baseState.parent===this}),this),i.equal(p.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(c){const p=this._baseState,g=c.filter((function(h){return h instanceof this.constructor}),this);c=c.filter((function(h){return!(h instanceof this.constructor)}),this),g.length!==0&&(i(p.children===null),p.children=g,g.forEach((function(h){h._baseState.parent=this}),this)),c.length!==0&&(i(p.args===null),p.args=c,p.reverseArgs=c.map((function(h){if(typeof h!="object"||h.constructor!==Object)return h;const y={};return Object.keys(h).forEach((function(b){b==(0|b)&&(b|=0);const C=h[b];y[C]=b})),y})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(c){l.prototype[c]=function(){const p=this._baseState;throw new Error(c+" not implemented for encoding: "+p.enc)}})),r.forEach((function(c){l.prototype[c]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return i(p.tag===null),p.tag=c,this._useArgs(g),this}})),l.prototype.use=function(c){i(c);const p=this._baseState;return i(p.use===null),p.use=c,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(c){const p=this._baseState;return i(p.default===null),p.default=c,p.optional=!0,this},l.prototype.explicit=function(c){const p=this._baseState;return i(p.explicit===null&&p.implicit===null),p.explicit=c,this},l.prototype.implicit=function(c){const p=this._baseState;return i(p.explicit===null&&p.implicit===null),p.implicit=c,this},l.prototype.obj=function(){const c=this._baseState,p=Array.prototype.slice.call(arguments);return c.obj=!0,p.length!==0&&this._useArgs(p),this},l.prototype.key=function(c){const p=this._baseState;return i(p.key===null),p.key=c,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(c){const p=this._baseState;return i(p.choice===null),p.choice=c,this._useArgs(Object.keys(c).map((function(g){return c[g]}))),this},l.prototype.contains=function(c){const p=this._baseState;return i(p.use===null),p.contains=c,this},l.prototype._decode=function(c,p){const g=this._baseState;if(g.parent===null)return c.wrapResult(g.children[0]._decode(c,p));let h,y=g.default,b=!0,C=null;if(g.key!==null&&(C=c.enterKey(g.key)),g.optional){let T=null;if(g.explicit!==null?T=g.explicit:g.implicit!==null?T=g.implicit:g.tag!==null&&(T=g.tag),T!==null||g.any){if(b=this._peekTag(c,T,g.any),c.isError(b))return b}else{const D=c.save();try{g.choice===null?this._decodeGeneric(g.tag,c,p):this._decodeChoice(c,p),b=!0}catch{b=!1}c.restore(D)}}if(g.obj&&b&&(h=c.enterObject()),b){if(g.explicit!==null){const D=this._decodeTag(c,g.explicit);if(c.isError(D))return D;c=D}const T=c.offset;if(g.use===null&&g.choice===null){let D;g.any&&(D=c.save());const F=this._decodeTag(c,g.implicit!==null?g.implicit:g.tag,g.any);if(c.isError(F))return F;g.any?y=c.raw(D):c=F}if(p&&p.track&&g.tag!==null&&p.track(c.path(),T,c.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(c.path(),c.offset,c.length,"content"),g.any||(y=g.choice===null?this._decodeGeneric(g.tag,c,p):this._decodeChoice(c,p)),c.isError(y))return y;if(g.any||g.choice!==null||g.children===null||g.children.forEach((function(D){D._decode(c,p)})),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const D=new a(y);y=this._getUse(g.contains,c._reporterState.obj)._decode(D,p)}}return g.obj&&b&&(y=c.leaveObject(h)),g.key===null||y===null&&b!==!0?C!==null&&c.exitKey(C):c.leaveKey(C,g.key,y),y},l.prototype._decodeGeneric=function(c,p,g){const h=this._baseState;return c==="seq"||c==="set"?null:c==="seqof"||c==="setof"?this._decodeList(p,c,h.args[0],g):/str$/.test(c)?this._decodeStr(p,c,g):c==="objid"&&h.args?this._decodeObjid(p,h.args[0],h.args[1],g):c==="objid"?this._decodeObjid(p,null,null,g):c==="gentime"||c==="utctime"?this._decodeTime(p,c,g):c==="null_"?this._decodeNull(p,g):c==="bool"?this._decodeBool(p,g):c==="objDesc"?this._decodeStr(p,c,g):c==="int"||c==="enum"?this._decodeInt(p,h.args&&h.args[0],g):h.use!==null?this._getUse(h.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+c)},l.prototype._getUse=function(c,p){const g=this._baseState;return g.useDecoder=this._use(c,p),i(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},l.prototype._decodeChoice=function(c,p){const g=this._baseState;let h=null,y=!1;return Object.keys(g.choice).some((function(b){const C=c.save(),T=g.choice[b];try{const D=T._decode(c,p);if(c.isError(D))return!1;h={type:b,value:D},y=!0}catch{return c.restore(C),!1}return!0}),this),y?h:c.error("Choice not matched")},l.prototype._createEncoderBuffer=function(c){return new s(c,this.reporter)},l.prototype._encode=function(c,p,g){const h=this._baseState;if(h.default!==null&&h.default===c)return;const y=this._encodeValue(c,p,g);return y===void 0||this._skipDefault(y,p,g)?void 0:y},l.prototype._encodeValue=function(c,p,g){const h=this._baseState;if(h.parent===null)return h.children[0]._encode(c,p||new d);let y=null;if(this.reporter=p,h.optional&&c===void 0){if(h.default===null)return;c=h.default}let b=null,C=!1;if(h.any)y=this._createEncoderBuffer(c);else if(h.choice)y=this._encodeChoice(c,p);else if(h.contains)b=this._getUse(h.contains,g)._encode(c,p),C=!0;else if(h.children)b=h.children.map((function(T){if(T._baseState.tag==="null_")return T._encode(null,p,c);if(T._baseState.key===null)return p.error("Child should have a key");const D=p.enterKey(T._baseState.key);if(typeof c!="object")return p.error("Child expected, but input is not object");const F=T._encode(c[T._baseState.key],p,c);return p.leaveKey(D),F}),this).filter((function(T){return T})),b=this._createEncoderBuffer(b);else if(h.tag==="seqof"||h.tag==="setof"){if(!h.args||h.args.length!==1)return p.error("Too many args for : "+h.tag);if(!Array.isArray(c))return p.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,b=this._createEncoderBuffer(c.map((function(D){const F=this._baseState;return this._getUse(F.args[0],c)._encode(D,p)}),T))}else h.use!==null?y=this._getUse(h.use,g)._encode(c,p):(b=this._encodePrimitive(h.tag,c),C=!0);if(!h.any&&h.choice===null){const T=h.implicit!==null?h.implicit:h.tag,D=h.implicit===null?"universal":"context";T===null?h.use===null&&p.error("Tag could be omitted only for .use()"):h.use===null&&(y=this._encodeComposite(T,C,D,b))}return h.explicit!==null&&(y=this._encodeComposite(h.explicit,!1,"context",y)),y},l.prototype._encodeChoice=function(c,p){const g=this._baseState,h=g.choice[c.type];return h||i(!1,c.type+" not found in "+JSON.stringify(Object.keys(g.choice))),h._encode(c.value,p)},l.prototype._encodePrimitive=function(c,p){const g=this._baseState;if(/str$/.test(c))return this._encodeStr(p,c);if(c==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(c==="objid")return this._encodeObjid(p,null,null);if(c==="gentime"||c==="utctime")return this._encodeTime(p,c);if(c==="null_")return this._encodeNull();if(c==="int"||c==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(c==="bool")return this._encodeBool(p);if(c==="objDesc")return this._encodeStr(p,c);throw new Error("Unsupported tag: "+c)},l.prototype._isNumstr=function(c){return/^[0-9 ]*$/.test(c)},l.prototype._isPrintstr=function(c){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(c)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,f,m){const d=t("inherits");function s(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}function a(i,r){this.path=i,this.rethrow(r)}m.Reporter=s,s.prototype.isError=function(i){return i instanceof a},s.prototype.save=function(){const i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},s.prototype.restore=function(i){const r=this._reporterState;r.obj=i.obj,r.path=r.path.slice(0,i.pathLen)},s.prototype.enterKey=function(i){return this._reporterState.path.push(i)},s.prototype.exitKey=function(i){const r=this._reporterState;r.path=r.path.slice(0,i-1)},s.prototype.leaveKey=function(i,r,n){const l=this._reporterState;this.exitKey(i),l.obj!==null&&(l.obj[r]=n)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const i=this._reporterState,r=i.obj;return i.obj={},r},s.prototype.leaveObject=function(i){const r=this._reporterState,n=r.obj;return r.obj=i,n},s.prototype.error=function(i){let r;const n=this._reporterState,l=i instanceof a;if(r=l?i:new a(n.path.map((function(o){return"["+JSON.stringify(o)+"]"})).join(""),i.message||i,i.stack),!n.options.partial)throw r;return l||n.errors.push(r),r},s.prototype.wrapResult=function(i){const r=this._reporterState;return r.options.partial?{result:this.isError(i)?null:i,errors:r.errors}:i},d(a,Error),a.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}},{inherits:440}],176:[function(t,f,m){function d(s){const a={};return Object.keys(s).forEach((function(i){(0|i)==i&&(i|=0);const r=s[i];a[r]=i})),a}m.tagClass={0:"universal",1:"application",2:"context",3:"private"},m.tagClassByName=d(m.tagClass),m.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},m.tagByName=d(m.tag)},{}],177:[function(t,f,m){const d=m;d._reverse=function(s){const a={};return Object.keys(s).forEach((function(i){(0|i)==i&&(i|=0);const r=s[i];a[r]=i})),a},d.der=t("./der")},{"./der":176}],178:[function(t,f,m){const d=t("inherits"),s=t("bn.js"),a=t("../base/buffer").DecoderBuffer,i=t("../base/node"),r=t("../constants/der");function n(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new l,this.tree._init(p.body)}function l(p){i.call(this,"der",p)}function o(p,g){let h=p.readUInt8(g);if(p.isError(h))return h;const y=r.tagClass[h>>6],b=(32&h)==0;if((31&h)==31){let C=h;for(h=0;(128&C)==128;){if(C=p.readUInt8(g),p.isError(C))return C;h<<=7,h|=127&C}}else h&=31;return{cls:y,primitive:b,tag:h,tagStr:r.tag[h]}}function c(p,g,h){let y=p.readUInt8(h);if(p.isError(y))return y;if(!g&&y===128)return null;if((128&y)==0)return y;const b=127&y;if(b>4)return p.error("length octect is too long");y=0;for(let C=0;C<b;C++){y<<=8;const T=p.readUInt8(h);if(p.isError(T))return T;y|=T}return y}f.exports=n,n.prototype.decode=function(p,g){return a.isDecoderBuffer(p)||(p=new a(p,g)),this.tree._decode(p,g)},d(l,i),l.prototype._peekTag=function(p,g,h){if(p.isEmpty())return!1;const y=p.save(),b=o(p,'Failed to peek tag: "'+g+'"');return p.isError(b)?b:(p.restore(y),b.tag===g||b.tagStr===g||b.tagStr+"of"===g||h)},l.prototype._decodeTag=function(p,g,h){const y=o(p,'Failed to decode tag of "'+g+'"');if(p.isError(y))return y;let b=c(p,y.primitive,'Failed to get length of "'+g+'"');if(p.isError(b))return b;if(!h&&y.tag!==g&&y.tagStr!==g&&y.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(y.primitive||b!==null)return p.skip(b,'Failed to match body of: "'+g+'"');const C=p.save(),T=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(T)?T:(b=p.offset-C.offset,p.restore(C),p.skip(b,'Failed to match body of: "'+g+'"'))},l.prototype._skipUntilEnd=function(p,g){for(;;){const h=o(p,g);if(p.isError(h))return h;const y=c(p,h.primitive,g);if(p.isError(y))return y;let b;if(b=h.primitive||y!==null?p.skip(y):this._skipUntilEnd(p,g),p.isError(b))return b;if(h.tagStr==="end")break}},l.prototype._decodeList=function(p,g,h,y){const b=[];for(;!p.isEmpty();){const C=this._peekTag(p,"end");if(p.isError(C))return C;const T=h.decode(p,"der",y);if(p.isError(T)&&C)break;b.push(T)}return b},l.prototype._decodeStr=function(p,g){if(g==="bitstr"){const h=p.readUInt8();return p.isError(h)?h:{unused:h,data:p.raw()}}if(g==="bmpstr"){const h=p.raw();if(h.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let y="";for(let b=0;b<h.length/2;b++)y+=String.fromCharCode(h.readUInt16BE(2*b));return y}if(g==="numstr"){const h=p.raw().toString("ascii");return this._isNumstr(h)?h:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const h=p.raw().toString("ascii");return this._isPrintstr(h)?h:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},l.prototype._decodeObjid=function(p,g,h){let y;const b=[];let C=0,T=0;for(;!p.isEmpty();)T=p.readUInt8(),C<<=7,C|=127&T,(128&T)==0&&(b.push(C),C=0);128&T&&b.push(C);const D=b[0]/40|0,F=b[0]%40;if(y=h?b:[D,F].concat(b.slice(1)),g){let H=g[y.join(" ")];H===void 0&&(H=g[y.join(".")]),H!==void 0&&(y=H)}return y},l.prototype._decodeTime=function(p,g){const h=p.raw().toString();let y,b,C,T,D,F;if(g==="gentime")y=0|h.slice(0,4),b=0|h.slice(4,6),C=0|h.slice(6,8),T=0|h.slice(8,10),D=0|h.slice(10,12),F=0|h.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");y=0|h.slice(0,2),b=0|h.slice(2,4),C=0|h.slice(4,6),T=0|h.slice(6,8),D=0|h.slice(8,10),F=0|h.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,b-1,C,T,D,F,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},l.prototype._decodeInt=function(p,g){const h=p.raw();let y=new s(h);return g&&(y=g[y.toString(10)]||y),y},l.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,f,m){const d=m;d.der=t("./der"),d.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,f,m){const d=t("inherits"),s=t("safer-buffer").Buffer,a=t("./der");function i(r){a.call(this,r),this.enc="pem"}d(i,a),f.exports=i,i.prototype.decode=function(r,n){const l=r.toString().split(/[\r\n]+/g),o=n.label.toUpperCase(),c=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let b=0;b<l.length;b++){const C=l[b].match(c);if(C!==null&&C[2]===o){if(p!==-1){if(C[1]!=="END")break;g=b;break}if(C[1]!=="BEGIN")break;p=b}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+o);const h=l.slice(p+1,g).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const y=s.from(h,"base64");return a.prototype.decode.call(this,y,n)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,f,m){const d=t("inherits"),s=t("safer-buffer").Buffer,a=t("../base/node"),i=t("../constants/der");function r(o){this.enc="der",this.name=o.name,this.entity=o,this.tree=new n,this.tree._init(o.body)}function n(o){a.call(this,"der",o)}function l(o){return o<10?"0"+o:o}f.exports=r,r.prototype.encode=function(o,c){return this.tree._encode(o,c).join()},d(n,a),n.prototype._encodeComposite=function(o,c,p,g){const h=(function(C,T,D,F){let H;if(C==="seqof"?C="seq":C==="setof"&&(C="set"),i.tagByName.hasOwnProperty(C))H=i.tagByName[C];else{if(typeof C!="number"||(0|C)!==C)return F.error("Unknown tag: "+C);H=C}return H>=31?F.error("Multi-octet tag encoding unsupported"):(T||(H|=32),H|=i.tagClassByName[D||"universal"]<<6,H)})(o,c,p,this.reporter);if(g.length<128){const C=s.alloc(2);return C[0]=h,C[1]=g.length,this._createEncoderBuffer([C,g])}let y=1;for(let C=g.length;C>=256;C>>=8)y++;const b=s.alloc(2+y);b[0]=h,b[1]=128|y;for(let C=1+y,T=g.length;T>0;C--,T>>=8)b[C]=255&T;return this._createEncoderBuffer([b,g])},n.prototype._encodeStr=function(o,c){if(c==="bitstr")return this._createEncoderBuffer([0|o.unused,o.data]);if(c==="bmpstr"){const p=s.alloc(2*o.length);for(let g=0;g<o.length;g++)p.writeUInt16BE(o.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return c==="numstr"?this._isNumstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: numstr supports only digits and space"):c==="printstr"?this._isPrintstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(c)||c==="objDesc"?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: "+c+" unsupported")},n.prototype._encodeObjid=function(o,c,p){if(typeof o=="string"){if(!c)return this.reporter.error("string objid given, but no values map found");if(!c.hasOwnProperty(o))return this.reporter.error("objid not found in values map");o=c[o].split(/[\s.]+/g);for(let b=0;b<o.length;b++)o[b]|=0}else if(Array.isArray(o)){o=o.slice();for(let b=0;b<o.length;b++)o[b]|=0}if(!Array.isArray(o))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(o));if(!p){if(o[1]>=40)return this.reporter.error("Second objid identifier OOB");o.splice(0,2,40*o[0]+o[1])}let g=0;for(let b=0;b<o.length;b++){let C=o[b];for(g++;C>=128;C>>=7)g++}const h=s.alloc(g);let y=h.length-1;for(let b=o.length-1;b>=0;b--){let C=o[b];for(h[y--]=127&C;(C>>=7)>0;)h[y--]=128|127&C}return this._createEncoderBuffer(h)},n.prototype._encodeTime=function(o,c){let p;const g=new Date(o);return c==="gentime"?p=[l(g.getUTCFullYear()),l(g.getUTCMonth()+1),l(g.getUTCDate()),l(g.getUTCHours()),l(g.getUTCMinutes()),l(g.getUTCSeconds()),"Z"].join(""):c==="utctime"?p=[l(g.getUTCFullYear()%100),l(g.getUTCMonth()+1),l(g.getUTCDate()),l(g.getUTCHours()),l(g.getUTCMinutes()),l(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+c+" time is not supported yet"),this._encodeStr(p,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(o,c){if(typeof o=="string"){if(!c)return this.reporter.error("String int or enum given, but no values map");if(!c.hasOwnProperty(o))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(o));o=c[o]}if(typeof o!="number"&&!s.isBuffer(o)){const h=o.toArray();!o.sign&&128&h[0]&&h.unshift(0),o=s.from(h)}if(s.isBuffer(o)){let h=o.length;o.length===0&&h++;const y=s.alloc(h);return o.copy(y),o.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(o<128)return this._createEncoderBuffer(o);if(o<256)return this._createEncoderBuffer([0,o]);let p=1;for(let h=o;h>=256;h>>=8)p++;const g=new Array(p);for(let h=g.length-1;h>=0;h--)g[h]=255&o,o>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(s.from(g))},n.prototype._encodeBool=function(o){return this._createEncoderBuffer(o?255:0)},n.prototype._use=function(o,c){return typeof o=="function"&&(o=o(c)),o._getEncoder("der").tree},n.prototype._skipDefault=function(o,c,p){const g=this._baseState;let h;if(g.default===null)return!1;const y=o.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,c,p).join()),y.length!==g.defaultBuffer.length)return!1;for(h=0;h<y.length;h++)if(y[h]!==g.defaultBuffer[h])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,f,m){const d=m;d.der=t("./der"),d.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,f,m){const d=t("inherits"),s=t("./der");function a(i){s.call(this,i),this.enc="pem"}d(a,s),f.exports=a,a.prototype.encode=function(i,r){const n=s.prototype.encode.call(this,i).toString("base64"),l=["-----BEGIN "+r.label+"-----"];for(let o=0;o<n.length;o+=64)l.push(n.slice(o,o+64));return l.push("-----END "+r.label+"-----"),l.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,f,m){(function(d,s){function a(_,M){if(!_)throw new Error(M||"Assertion failed")}function i(_,M){_.super_=M;var A=function(){};A.prototype=M.prototype,_.prototype=new A,_.prototype.constructor=_}function r(_,M,A){if(r.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(M!=="le"&&M!=="be"||(A=M,M=10),this._init(_||0,M||10,A||"be"))}var n;typeof d=="object"?d.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function l(_,M){var A=_.charCodeAt(M);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function o(_,M,A){var N=l(_,A);return A-1>=M&&(N|=l(_,A-1)<<4),N}function c(_,M,A,N){for(var S=0,w=Math.min(_.length,A),j=M;j<w;j++){var E=_.charCodeAt(j)-48;S*=N,S+=E>=49?E-49+10:E>=17?E-17+10:E}return S}r.isBN=function(_){return _ instanceof r||_!==null&&typeof _=="object"&&_.constructor.wordSize===r.wordSize&&Array.isArray(_.words)},r.max=function(_,M){return _.cmp(M)>0?_:M},r.min=function(_,M){return _.cmp(M)<0?_:M},r.prototype._init=function(_,M,A){if(typeof _=="number")return this._initNumber(_,M,A);if(typeof _=="object")return this._initArray(_,M,A);M==="hex"&&(M=16),a(M===(0|M)&&M>=2&&M<=36);var N=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(N++,this.negative=1),N<_.length&&(M===16?this._parseHex(_,N,A):(this._parseBase(_,M,N),A==="le"&&this._initArray(this.toArray(),M,A)))},r.prototype._initNumber=function(_,M,A){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(a(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),M,A)},r.prototype._initArray=function(_,M,A){if(a(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var S,w,j=0;if(A==="be")for(N=_.length-1,S=0;N>=0;N-=3)w=_[N]|_[N-1]<<8|_[N-2]<<16,this.words[S]|=w<<j&67108863,this.words[S+1]=w>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);else if(A==="le")for(N=0,S=0;N<_.length;N+=3)w=_[N]|_[N+1]<<8|_[N+2]<<16,this.words[S]|=w<<j&67108863,this.words[S+1]=w>>>26-j&67108863,(j+=24)>=26&&(j-=26,S++);return this.strip()},r.prototype._parseHex=function(_,M,A){this.length=Math.ceil((_.length-M)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var S,w=0,j=0;if(A==="be")for(N=_.length-1;N>=M;N-=2)S=o(_,M,N)<<w,this.words[j]|=67108863&S,w>=18?(w-=18,j+=1,this.words[j]|=S>>>26):w+=8;else for(N=(_.length-M)%2==0?M+1:M;N<_.length;N+=2)S=o(_,M,N)<<w,this.words[j]|=67108863&S,w>=18?(w-=18,j+=1,this.words[j]|=S>>>26):w+=8;this.strip()},r.prototype._parseBase=function(_,M,A){this.words=[0],this.length=1;for(var N=0,S=1;S<=67108863;S*=M)N++;N--,S=S/M|0;for(var w=_.length-A,j=w%N,E=Math.min(w,w-j)+A,I=0,L=A;L<E;L+=N)I=c(_,L,L+N,M),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(j!==0){var G=1;for(I=c(_,L,_.length,M),L=0;L<j;L++)G*=M;this.imuln(G),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},r.prototype.copy=function(_){_.words=new Array(this.length);for(var M=0;M<this.length;M++)_.words[M]=this.words[M];_.length=this.length,_.negative=this.negative,_.red=this.red},r.prototype.clone=function(){var _=new r(null);return this.copy(_),_},r.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(_,M,A){A.negative=M.negative^_.negative;var N=_.length+M.length|0;A.length=N,N=N-1|0;var S=0|_.words[0],w=0|M.words[0],j=S*w,E=67108863&j,I=j/67108864|0;A.words[0]=E;for(var L=1;L<N;L++){for(var G=I>>>26,X=67108863&I,re=Math.min(L,M.length-1),q=Math.max(0,L-_.length+1);q<=re;q++){var ee=L-q|0;G+=(j=(S=0|_.words[ee])*(w=0|M.words[q])+X)/67108864|0,X=67108863&j}A.words[L]=0|X,I=0|G}return I!==0?A.words[L]=0|I:A.length--,A.strip()}r.prototype.toString=function(_,M){var A;if(M=0|M||1,(_=_||10)===16||_==="hex"){A="";for(var N=0,S=0,w=0;w<this.length;w++){var j=this.words[w],E=(16777215&(j<<N|S)).toString(16);A=(S=j>>>24-N&16777215)!==0||w!==this.length-1?p[6-E.length]+E+A:E+A,(N+=2)>=26&&(N-=26,w--)}for(S!==0&&(A=S.toString(16)+A);A.length%M!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(_===(0|_)&&_>=2&&_<=36){var I=g[_],L=h[_];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var X=G.modn(L).toString(_);A=(G=G.idivn(L)).isZero()?X+A:p[I-X.length]+X+A}for(this.isZero()&&(A="0"+A);A.length%M!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}a(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(_,M){return a(n!==void 0),this.toArrayLike(n,_,M)},r.prototype.toArray=function(_,M){return this.toArrayLike(Array,_,M)},r.prototype.toArrayLike=function(_,M,A){var N=this.byteLength(),S=A||Math.max(1,N);a(N<=S,"byte array longer than desired length"),a(S>0,"Requested array length <= 0"),this.strip();var w,j,E=M==="le",I=new _(S),L=this.clone();if(E){for(j=0;!L.isZero();j++)w=L.andln(255),L.iushrn(8),I[j]=w;for(;j<S;j++)I[j]=0}else{for(j=0;j<S-N;j++)I[j]=0;for(j=0;!L.isZero();j++)w=L.andln(255),L.iushrn(8),I[S-j-1]=w}return I},Math.clz32?r.prototype._countBits=function(_){return 32-Math.clz32(_)}:r.prototype._countBits=function(_){var M=_,A=0;return M>=4096&&(A+=13,M>>>=13),M>=64&&(A+=7,M>>>=7),M>=8&&(A+=4,M>>>=4),M>=2&&(A+=2,M>>>=2),A+M},r.prototype._zeroBits=function(_){if(_===0)return 26;var M=_,A=0;return(8191&M)==0&&(A+=13,M>>>=13),(127&M)==0&&(A+=7,M>>>=7),(15&M)==0&&(A+=4,M>>>=4),(3&M)==0&&(A+=2,M>>>=2),(1&M)==0&&A++,A},r.prototype.bitLength=function(){var _=this.words[this.length-1],M=this._countBits(_);return 26*(this.length-1)+M},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,M=0;M<this.length;M++){var A=this._zeroBits(this.words[M]);if(_+=A,A!==26)break}return _},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},r.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var M=0;M<_.length;M++)this.words[M]=this.words[M]|_.words[M];return this.strip()},r.prototype.ior=function(_){return a((this.negative|_.negative)==0),this.iuor(_)},r.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},r.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},r.prototype.iuand=function(_){var M;M=this.length>_.length?_:this;for(var A=0;A<M.length;A++)this.words[A]=this.words[A]&_.words[A];return this.length=M.length,this.strip()},r.prototype.iand=function(_){return a((this.negative|_.negative)==0),this.iuand(_)},r.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},r.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},r.prototype.iuxor=function(_){var M,A;this.length>_.length?(M=this,A=_):(M=_,A=this);for(var N=0;N<A.length;N++)this.words[N]=M.words[N]^A.words[N];if(this!==M)for(;N<M.length;N++)this.words[N]=M.words[N];return this.length=M.length,this.strip()},r.prototype.ixor=function(_){return a((this.negative|_.negative)==0),this.iuxor(_)},r.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},r.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},r.prototype.inotn=function(_){a(typeof _=="number"&&_>=0);var M=0|Math.ceil(_/26),A=_%26;this._expand(M),A>0&&M--;for(var N=0;N<M;N++)this.words[N]=67108863&~this.words[N];return A>0&&(this.words[N]=~this.words[N]&67108863>>26-A),this.strip()},r.prototype.notn=function(_){return this.clone().inotn(_)},r.prototype.setn=function(_,M){a(typeof _=="number"&&_>=0);var A=_/26|0,N=_%26;return this._expand(A+1),this.words[A]=M?this.words[A]|1<<N:this.words[A]&~(1<<N),this.strip()},r.prototype.iadd=function(_){var M,A,N;if(this.negative!==0&&_.negative===0)return this.negative=0,M=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,M=this.isub(_),_.negative=1,M._normSign();this.length>_.length?(A=this,N=_):(A=_,N=this);for(var S=0,w=0;w<N.length;w++)M=(0|A.words[w])+(0|N.words[w])+S,this.words[w]=67108863&M,S=M>>>26;for(;S!==0&&w<A.length;w++)M=(0|A.words[w])+S,this.words[w]=67108863&M,S=M>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this},r.prototype.add=function(_){var M;return _.negative!==0&&this.negative===0?(_.negative=0,M=this.sub(_),_.negative^=1,M):_.negative===0&&this.negative!==0?(this.negative=0,M=_.sub(this),this.negative=1,M):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},r.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var M=this.iadd(_);return _.negative=1,M._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var A,N,S=this.cmp(_);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(A=this,N=_):(A=_,N=this);for(var w=0,j=0;j<N.length;j++)w=(M=(0|A.words[j])-(0|N.words[j])+w)>>26,this.words[j]=67108863&M;for(;w!==0&&j<A.length;j++)w=(M=(0|A.words[j])+w)>>26,this.words[j]=67108863&M;if(w===0&&j<A.length&&A!==this)for(;j<A.length;j++)this.words[j]=A.words[j];return this.length=Math.max(this.length,j),A!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(_){return this.clone().isub(_)};var b=function(_,M,A){var N,S,w,j=_.words,E=M.words,I=A.words,L=0,G=0|j[0],X=8191&G,re=G>>>13,q=0|j[1],ee=8191&q,R=q>>>13,z=0|j[2],W=8191&z,se=z>>>13,he=0|j[3],ne=8191&he,me=he>>>13,Se=0|j[4],Ee=8191&Se,le=Se>>>13,ie=0|j[5],ce=8191&ie,ae=ie>>>13,ge=0|j[6],pe=8191&ge,Ae=ge>>>13,fe=0|j[7],te=8191&fe,ye=fe>>>13,Te=0|j[8],Ce=8191&Te,je=Te>>>13,tt=0|j[9],Pe=8191&tt,ke=tt>>>13,ze=0|E[0],qe=8191&ze,Fe=ze>>>13,at=0|E[1],we=8191&at,Qe=at>>>13,ut=0|E[2],be=8191&ut,Be=ut>>>13,ot=0|E[3],lt=8191&ot,Et=ot>>>13,Rt=0|E[4],yt=8191&Rt,Ut=Rt>>>13,$e=0|E[5],Ke=8191&$e,ht=$e>>>13,St=0|E[6],xt=8191&St,Ne=St>>>13,Ie=0|E[7],Ge=8191&Ie,ct=Ie>>>13,Mt=0|E[8],Ct=8191&Mt,Jt=Mt>>>13,Pt=0|E[9],Ot=8191&Pt,tr=Pt>>>13;A.negative=_.negative^M.negative,A.length=19;var Wt=(L+(N=Math.imul(X,qe))|0)+((8191&(S=(S=Math.imul(X,Fe))+Math.imul(re,qe)|0))<<13)|0;L=((w=Math.imul(re,Fe))+(S>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,N=Math.imul(ee,qe),S=(S=Math.imul(ee,Fe))+Math.imul(R,qe)|0,w=Math.imul(R,Fe);var Lt=(L+(N=N+Math.imul(X,we)|0)|0)+((8191&(S=(S=S+Math.imul(X,Qe)|0)+Math.imul(re,we)|0))<<13)|0;L=((w=w+Math.imul(re,Qe)|0)+(S>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,N=Math.imul(W,qe),S=(S=Math.imul(W,Fe))+Math.imul(se,qe)|0,w=Math.imul(se,Fe),N=N+Math.imul(ee,we)|0,S=(S=S+Math.imul(ee,Qe)|0)+Math.imul(R,we)|0,w=w+Math.imul(R,Qe)|0;var gr=(L+(N=N+Math.imul(X,be)|0)|0)+((8191&(S=(S=S+Math.imul(X,Be)|0)+Math.imul(re,be)|0))<<13)|0;L=((w=w+Math.imul(re,Be)|0)+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863,N=Math.imul(ne,qe),S=(S=Math.imul(ne,Fe))+Math.imul(me,qe)|0,w=Math.imul(me,Fe),N=N+Math.imul(W,we)|0,S=(S=S+Math.imul(W,Qe)|0)+Math.imul(se,we)|0,w=w+Math.imul(se,Qe)|0,N=N+Math.imul(ee,be)|0,S=(S=S+Math.imul(ee,Be)|0)+Math.imul(R,be)|0,w=w+Math.imul(R,Be)|0;var pt=(L+(N=N+Math.imul(X,lt)|0)|0)+((8191&(S=(S=S+Math.imul(X,Et)|0)+Math.imul(re,lt)|0))<<13)|0;L=((w=w+Math.imul(re,Et)|0)+(S>>>13)|0)+(pt>>>26)|0,pt&=67108863,N=Math.imul(Ee,qe),S=(S=Math.imul(Ee,Fe))+Math.imul(le,qe)|0,w=Math.imul(le,Fe),N=N+Math.imul(ne,we)|0,S=(S=S+Math.imul(ne,Qe)|0)+Math.imul(me,we)|0,w=w+Math.imul(me,Qe)|0,N=N+Math.imul(W,be)|0,S=(S=S+Math.imul(W,Be)|0)+Math.imul(se,be)|0,w=w+Math.imul(se,Be)|0,N=N+Math.imul(ee,lt)|0,S=(S=S+Math.imul(ee,Et)|0)+Math.imul(R,lt)|0,w=w+Math.imul(R,Et)|0;var De=(L+(N=N+Math.imul(X,yt)|0)|0)+((8191&(S=(S=S+Math.imul(X,Ut)|0)+Math.imul(re,yt)|0))<<13)|0;L=((w=w+Math.imul(re,Ut)|0)+(S>>>13)|0)+(De>>>26)|0,De&=67108863,N=Math.imul(ce,qe),S=(S=Math.imul(ce,Fe))+Math.imul(ae,qe)|0,w=Math.imul(ae,Fe),N=N+Math.imul(Ee,we)|0,S=(S=S+Math.imul(Ee,Qe)|0)+Math.imul(le,we)|0,w=w+Math.imul(le,Qe)|0,N=N+Math.imul(ne,be)|0,S=(S=S+Math.imul(ne,Be)|0)+Math.imul(me,be)|0,w=w+Math.imul(me,Be)|0,N=N+Math.imul(W,lt)|0,S=(S=S+Math.imul(W,Et)|0)+Math.imul(se,lt)|0,w=w+Math.imul(se,Et)|0,N=N+Math.imul(ee,yt)|0,S=(S=S+Math.imul(ee,Ut)|0)+Math.imul(R,yt)|0,w=w+Math.imul(R,Ut)|0;var st=(L+(N=N+Math.imul(X,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(X,ht)|0)+Math.imul(re,Ke)|0))<<13)|0;L=((w=w+Math.imul(re,ht)|0)+(S>>>13)|0)+(st>>>26)|0,st&=67108863,N=Math.imul(pe,qe),S=(S=Math.imul(pe,Fe))+Math.imul(Ae,qe)|0,w=Math.imul(Ae,Fe),N=N+Math.imul(ce,we)|0,S=(S=S+Math.imul(ce,Qe)|0)+Math.imul(ae,we)|0,w=w+Math.imul(ae,Qe)|0,N=N+Math.imul(Ee,be)|0,S=(S=S+Math.imul(Ee,Be)|0)+Math.imul(le,be)|0,w=w+Math.imul(le,Be)|0,N=N+Math.imul(ne,lt)|0,S=(S=S+Math.imul(ne,Et)|0)+Math.imul(me,lt)|0,w=w+Math.imul(me,Et)|0,N=N+Math.imul(W,yt)|0,S=(S=S+Math.imul(W,Ut)|0)+Math.imul(se,yt)|0,w=w+Math.imul(se,Ut)|0,N=N+Math.imul(ee,Ke)|0,S=(S=S+Math.imul(ee,ht)|0)+Math.imul(R,Ke)|0,w=w+Math.imul(R,ht)|0;var At=(L+(N=N+Math.imul(X,xt)|0)|0)+((8191&(S=(S=S+Math.imul(X,Ne)|0)+Math.imul(re,xt)|0))<<13)|0;L=((w=w+Math.imul(re,Ne)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,N=Math.imul(te,qe),S=(S=Math.imul(te,Fe))+Math.imul(ye,qe)|0,w=Math.imul(ye,Fe),N=N+Math.imul(pe,we)|0,S=(S=S+Math.imul(pe,Qe)|0)+Math.imul(Ae,we)|0,w=w+Math.imul(Ae,Qe)|0,N=N+Math.imul(ce,be)|0,S=(S=S+Math.imul(ce,Be)|0)+Math.imul(ae,be)|0,w=w+Math.imul(ae,Be)|0,N=N+Math.imul(Ee,lt)|0,S=(S=S+Math.imul(Ee,Et)|0)+Math.imul(le,lt)|0,w=w+Math.imul(le,Et)|0,N=N+Math.imul(ne,yt)|0,S=(S=S+Math.imul(ne,Ut)|0)+Math.imul(me,yt)|0,w=w+Math.imul(me,Ut)|0,N=N+Math.imul(W,Ke)|0,S=(S=S+Math.imul(W,ht)|0)+Math.imul(se,Ke)|0,w=w+Math.imul(se,ht)|0,N=N+Math.imul(ee,xt)|0,S=(S=S+Math.imul(ee,Ne)|0)+Math.imul(R,xt)|0,w=w+Math.imul(R,Ne)|0;var ve=(L+(N=N+Math.imul(X,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(X,ct)|0)+Math.imul(re,Ge)|0))<<13)|0;L=((w=w+Math.imul(re,ct)|0)+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,N=Math.imul(Ce,qe),S=(S=Math.imul(Ce,Fe))+Math.imul(je,qe)|0,w=Math.imul(je,Fe),N=N+Math.imul(te,we)|0,S=(S=S+Math.imul(te,Qe)|0)+Math.imul(ye,we)|0,w=w+Math.imul(ye,Qe)|0,N=N+Math.imul(pe,be)|0,S=(S=S+Math.imul(pe,Be)|0)+Math.imul(Ae,be)|0,w=w+Math.imul(Ae,Be)|0,N=N+Math.imul(ce,lt)|0,S=(S=S+Math.imul(ce,Et)|0)+Math.imul(ae,lt)|0,w=w+Math.imul(ae,Et)|0,N=N+Math.imul(Ee,yt)|0,S=(S=S+Math.imul(Ee,Ut)|0)+Math.imul(le,yt)|0,w=w+Math.imul(le,Ut)|0,N=N+Math.imul(ne,Ke)|0,S=(S=S+Math.imul(ne,ht)|0)+Math.imul(me,Ke)|0,w=w+Math.imul(me,ht)|0,N=N+Math.imul(W,xt)|0,S=(S=S+Math.imul(W,Ne)|0)+Math.imul(se,xt)|0,w=w+Math.imul(se,Ne)|0,N=N+Math.imul(ee,Ge)|0,S=(S=S+Math.imul(ee,ct)|0)+Math.imul(R,Ge)|0,w=w+Math.imul(R,ct)|0;var Re=(L+(N=N+Math.imul(X,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(X,Jt)|0)+Math.imul(re,Ct)|0))<<13)|0;L=((w=w+Math.imul(re,Jt)|0)+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,N=Math.imul(Pe,qe),S=(S=Math.imul(Pe,Fe))+Math.imul(ke,qe)|0,w=Math.imul(ke,Fe),N=N+Math.imul(Ce,we)|0,S=(S=S+Math.imul(Ce,Qe)|0)+Math.imul(je,we)|0,w=w+Math.imul(je,Qe)|0,N=N+Math.imul(te,be)|0,S=(S=S+Math.imul(te,Be)|0)+Math.imul(ye,be)|0,w=w+Math.imul(ye,Be)|0,N=N+Math.imul(pe,lt)|0,S=(S=S+Math.imul(pe,Et)|0)+Math.imul(Ae,lt)|0,w=w+Math.imul(Ae,Et)|0,N=N+Math.imul(ce,yt)|0,S=(S=S+Math.imul(ce,Ut)|0)+Math.imul(ae,yt)|0,w=w+Math.imul(ae,Ut)|0,N=N+Math.imul(Ee,Ke)|0,S=(S=S+Math.imul(Ee,ht)|0)+Math.imul(le,Ke)|0,w=w+Math.imul(le,ht)|0,N=N+Math.imul(ne,xt)|0,S=(S=S+Math.imul(ne,Ne)|0)+Math.imul(me,xt)|0,w=w+Math.imul(me,Ne)|0,N=N+Math.imul(W,Ge)|0,S=(S=S+Math.imul(W,ct)|0)+Math.imul(se,Ge)|0,w=w+Math.imul(se,ct)|0,N=N+Math.imul(ee,Ct)|0,S=(S=S+Math.imul(ee,Jt)|0)+Math.imul(R,Ct)|0,w=w+Math.imul(R,Jt)|0;var nt=(L+(N=N+Math.imul(X,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(X,tr)|0)+Math.imul(re,Ot)|0))<<13)|0;L=((w=w+Math.imul(re,tr)|0)+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,N=Math.imul(Pe,we),S=(S=Math.imul(Pe,Qe))+Math.imul(ke,we)|0,w=Math.imul(ke,Qe),N=N+Math.imul(Ce,be)|0,S=(S=S+Math.imul(Ce,Be)|0)+Math.imul(je,be)|0,w=w+Math.imul(je,Be)|0,N=N+Math.imul(te,lt)|0,S=(S=S+Math.imul(te,Et)|0)+Math.imul(ye,lt)|0,w=w+Math.imul(ye,Et)|0,N=N+Math.imul(pe,yt)|0,S=(S=S+Math.imul(pe,Ut)|0)+Math.imul(Ae,yt)|0,w=w+Math.imul(Ae,Ut)|0,N=N+Math.imul(ce,Ke)|0,S=(S=S+Math.imul(ce,ht)|0)+Math.imul(ae,Ke)|0,w=w+Math.imul(ae,ht)|0,N=N+Math.imul(Ee,xt)|0,S=(S=S+Math.imul(Ee,Ne)|0)+Math.imul(le,xt)|0,w=w+Math.imul(le,Ne)|0,N=N+Math.imul(ne,Ge)|0,S=(S=S+Math.imul(ne,ct)|0)+Math.imul(me,Ge)|0,w=w+Math.imul(me,ct)|0,N=N+Math.imul(W,Ct)|0,S=(S=S+Math.imul(W,Jt)|0)+Math.imul(se,Ct)|0,w=w+Math.imul(se,Jt)|0;var dt=(L+(N=N+Math.imul(ee,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(ee,tr)|0)+Math.imul(R,Ot)|0))<<13)|0;L=((w=w+Math.imul(R,tr)|0)+(S>>>13)|0)+(dt>>>26)|0,dt&=67108863,N=Math.imul(Pe,be),S=(S=Math.imul(Pe,Be))+Math.imul(ke,be)|0,w=Math.imul(ke,Be),N=N+Math.imul(Ce,lt)|0,S=(S=S+Math.imul(Ce,Et)|0)+Math.imul(je,lt)|0,w=w+Math.imul(je,Et)|0,N=N+Math.imul(te,yt)|0,S=(S=S+Math.imul(te,Ut)|0)+Math.imul(ye,yt)|0,w=w+Math.imul(ye,Ut)|0,N=N+Math.imul(pe,Ke)|0,S=(S=S+Math.imul(pe,ht)|0)+Math.imul(Ae,Ke)|0,w=w+Math.imul(Ae,ht)|0,N=N+Math.imul(ce,xt)|0,S=(S=S+Math.imul(ce,Ne)|0)+Math.imul(ae,xt)|0,w=w+Math.imul(ae,Ne)|0,N=N+Math.imul(Ee,Ge)|0,S=(S=S+Math.imul(Ee,ct)|0)+Math.imul(le,Ge)|0,w=w+Math.imul(le,ct)|0,N=N+Math.imul(ne,Ct)|0,S=(S=S+Math.imul(ne,Jt)|0)+Math.imul(me,Ct)|0,w=w+Math.imul(me,Jt)|0;var Ft=(L+(N=N+Math.imul(W,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(W,tr)|0)+Math.imul(se,Ot)|0))<<13)|0;L=((w=w+Math.imul(se,tr)|0)+(S>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,N=Math.imul(Pe,lt),S=(S=Math.imul(Pe,Et))+Math.imul(ke,lt)|0,w=Math.imul(ke,Et),N=N+Math.imul(Ce,yt)|0,S=(S=S+Math.imul(Ce,Ut)|0)+Math.imul(je,yt)|0,w=w+Math.imul(je,Ut)|0,N=N+Math.imul(te,Ke)|0,S=(S=S+Math.imul(te,ht)|0)+Math.imul(ye,Ke)|0,w=w+Math.imul(ye,ht)|0,N=N+Math.imul(pe,xt)|0,S=(S=S+Math.imul(pe,Ne)|0)+Math.imul(Ae,xt)|0,w=w+Math.imul(Ae,Ne)|0,N=N+Math.imul(ce,Ge)|0,S=(S=S+Math.imul(ce,ct)|0)+Math.imul(ae,Ge)|0,w=w+Math.imul(ae,ct)|0,N=N+Math.imul(Ee,Ct)|0,S=(S=S+Math.imul(Ee,Jt)|0)+Math.imul(le,Ct)|0,w=w+Math.imul(le,Jt)|0;var bt=(L+(N=N+Math.imul(ne,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(ne,tr)|0)+Math.imul(me,Ot)|0))<<13)|0;L=((w=w+Math.imul(me,tr)|0)+(S>>>13)|0)+(bt>>>26)|0,bt&=67108863,N=Math.imul(Pe,yt),S=(S=Math.imul(Pe,Ut))+Math.imul(ke,yt)|0,w=Math.imul(ke,Ut),N=N+Math.imul(Ce,Ke)|0,S=(S=S+Math.imul(Ce,ht)|0)+Math.imul(je,Ke)|0,w=w+Math.imul(je,ht)|0,N=N+Math.imul(te,xt)|0,S=(S=S+Math.imul(te,Ne)|0)+Math.imul(ye,xt)|0,w=w+Math.imul(ye,Ne)|0,N=N+Math.imul(pe,Ge)|0,S=(S=S+Math.imul(pe,ct)|0)+Math.imul(Ae,Ge)|0,w=w+Math.imul(Ae,ct)|0,N=N+Math.imul(ce,Ct)|0,S=(S=S+Math.imul(ce,Jt)|0)+Math.imul(ae,Ct)|0,w=w+Math.imul(ae,Jt)|0;var Nt=(L+(N=N+Math.imul(Ee,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(Ee,tr)|0)+Math.imul(le,Ot)|0))<<13)|0;L=((w=w+Math.imul(le,tr)|0)+(S>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,N=Math.imul(Pe,Ke),S=(S=Math.imul(Pe,ht))+Math.imul(ke,Ke)|0,w=Math.imul(ke,ht),N=N+Math.imul(Ce,xt)|0,S=(S=S+Math.imul(Ce,Ne)|0)+Math.imul(je,xt)|0,w=w+Math.imul(je,Ne)|0,N=N+Math.imul(te,Ge)|0,S=(S=S+Math.imul(te,ct)|0)+Math.imul(ye,Ge)|0,w=w+Math.imul(ye,ct)|0,N=N+Math.imul(pe,Ct)|0,S=(S=S+Math.imul(pe,Jt)|0)+Math.imul(Ae,Ct)|0,w=w+Math.imul(Ae,Jt)|0;var Kt=(L+(N=N+Math.imul(ce,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(ce,tr)|0)+Math.imul(ae,Ot)|0))<<13)|0;L=((w=w+Math.imul(ae,tr)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,N=Math.imul(Pe,xt),S=(S=Math.imul(Pe,Ne))+Math.imul(ke,xt)|0,w=Math.imul(ke,Ne),N=N+Math.imul(Ce,Ge)|0,S=(S=S+Math.imul(Ce,ct)|0)+Math.imul(je,Ge)|0,w=w+Math.imul(je,ct)|0,N=N+Math.imul(te,Ct)|0,S=(S=S+Math.imul(te,Jt)|0)+Math.imul(ye,Ct)|0,w=w+Math.imul(ye,Jt)|0;var ir=(L+(N=N+Math.imul(pe,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(pe,tr)|0)+Math.imul(Ae,Ot)|0))<<13)|0;L=((w=w+Math.imul(Ae,tr)|0)+(S>>>13)|0)+(ir>>>26)|0,ir&=67108863,N=Math.imul(Pe,Ge),S=(S=Math.imul(Pe,ct))+Math.imul(ke,Ge)|0,w=Math.imul(ke,ct),N=N+Math.imul(Ce,Ct)|0,S=(S=S+Math.imul(Ce,Jt)|0)+Math.imul(je,Ct)|0,w=w+Math.imul(je,Jt)|0;var rr=(L+(N=N+Math.imul(te,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(te,tr)|0)+Math.imul(ye,Ot)|0))<<13)|0;L=((w=w+Math.imul(ye,tr)|0)+(S>>>13)|0)+(rr>>>26)|0,rr&=67108863,N=Math.imul(Pe,Ct),S=(S=Math.imul(Pe,Jt))+Math.imul(ke,Ct)|0,w=Math.imul(ke,Jt);var nr=(L+(N=N+Math.imul(Ce,Ot)|0)|0)+((8191&(S=(S=S+Math.imul(Ce,tr)|0)+Math.imul(je,Ot)|0))<<13)|0;L=((w=w+Math.imul(je,tr)|0)+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863;var ur=(L+(N=Math.imul(Pe,Ot))|0)+((8191&(S=(S=Math.imul(Pe,tr))+Math.imul(ke,Ot)|0))<<13)|0;return L=((w=Math.imul(ke,tr))+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,I[0]=Wt,I[1]=Lt,I[2]=gr,I[3]=pt,I[4]=De,I[5]=st,I[6]=At,I[7]=ve,I[8]=Re,I[9]=nt,I[10]=dt,I[11]=Ft,I[12]=bt,I[13]=Nt,I[14]=Kt,I[15]=ir,I[16]=rr,I[17]=nr,I[18]=ur,L!==0&&(I[19]=L,A.length++),A};function C(_,M,A){return new T().mulp(_,M,A)}function T(_,M){this.x=_,this.y=M}Math.imul||(b=y),r.prototype.mulTo=function(_,M){var A=this.length+_.length;return this.length===10&&_.length===10?b(this,_,M):A<63?y(this,_,M):A<1024?(function(N,S,w){w.negative=S.negative^N.negative,w.length=N.length+S.length;for(var j=0,E=0,I=0;I<w.length-1;I++){var L=E;E=0;for(var G=67108863&j,X=Math.min(I,S.length-1),re=Math.max(0,I-N.length+1);re<=X;re++){var q=I-re,ee=(0|N.words[q])*(0|S.words[re]),R=67108863&ee;G=67108863&(R=R+G|0),E+=(L=(L=L+(ee/67108864|0)|0)+(R>>>26)|0)>>>26,L&=67108863}w.words[I]=G,j=L,L=E}return j!==0?w.words[I]=j:w.length--,w.strip()})(this,_,M):C(this,_,M)},T.prototype.makeRBT=function(_){for(var M=new Array(_),A=r.prototype._countBits(_)-1,N=0;N<_;N++)M[N]=this.revBin(N,A,_);return M},T.prototype.revBin=function(_,M,A){if(_===0||_===A-1)return _;for(var N=0,S=0;S<M;S++)N|=(1&_)<<M-S-1,_>>=1;return N},T.prototype.permute=function(_,M,A,N,S,w){for(var j=0;j<w;j++)N[j]=M[_[j]],S[j]=A[_[j]]},T.prototype.transform=function(_,M,A,N,S,w){this.permute(w,_,M,A,N,S);for(var j=1;j<S;j<<=1)for(var E=j<<1,I=Math.cos(2*Math.PI/E),L=Math.sin(2*Math.PI/E),G=0;G<S;G+=E)for(var X=I,re=L,q=0;q<j;q++){var ee=A[G+q],R=N[G+q],z=A[G+q+j],W=N[G+q+j],se=X*z-re*W;W=X*W+re*z,z=se,A[G+q]=ee+z,N[G+q]=R+W,A[G+q+j]=ee-z,N[G+q+j]=R-W,q!==E&&(se=I*X-L*re,re=I*re+L*X,X=se)}},T.prototype.guessLen13b=function(_,M){var A=1|Math.max(M,_),N=1&A,S=0;for(A=A/2|0;A;A>>>=1)S++;return 1<<S+1+N},T.prototype.conjugate=function(_,M,A){if(!(A<=1))for(var N=0;N<A/2;N++){var S=_[N];_[N]=_[A-N-1],_[A-N-1]=S,S=M[N],M[N]=-M[A-N-1],M[A-N-1]=-S}},T.prototype.normalize13b=function(_,M){for(var A=0,N=0;N<M/2;N++){var S=8192*Math.round(_[2*N+1]/M)+Math.round(_[2*N]/M)+A;_[N]=67108863&S,A=S<67108864?0:S/67108864|0}return _},T.prototype.convert13b=function(_,M,A,N){for(var S=0,w=0;w<M;w++)S+=0|_[w],A[2*w]=8191&S,S>>>=13,A[2*w+1]=8191&S,S>>>=13;for(w=2*M;w<N;++w)A[w]=0;a(S===0),a((-8192&S)==0)},T.prototype.stub=function(_){for(var M=new Array(_),A=0;A<_;A++)M[A]=0;return M},T.prototype.mulp=function(_,M,A){var N=2*this.guessLen13b(_.length,M.length),S=this.makeRBT(N),w=this.stub(N),j=new Array(N),E=new Array(N),I=new Array(N),L=new Array(N),G=new Array(N),X=new Array(N),re=A.words;re.length=N,this.convert13b(_.words,_.length,j,N),this.convert13b(M.words,M.length,L,N),this.transform(j,w,E,I,N,S),this.transform(L,w,G,X,N,S);for(var q=0;q<N;q++){var ee=E[q]*G[q]-I[q]*X[q];I[q]=E[q]*X[q]+I[q]*G[q],E[q]=ee}return this.conjugate(E,I,N),this.transform(E,I,re,w,N,S),this.conjugate(re,w,N),this.normalize13b(re,N),A.negative=_.negative^M.negative,A.length=_.length+M.length,A.strip()},r.prototype.mul=function(_){var M=new r(null);return M.words=new Array(this.length+_.length),this.mulTo(_,M)},r.prototype.mulf=function(_){var M=new r(null);return M.words=new Array(this.length+_.length),C(this,_,M)},r.prototype.imul=function(_){return this.clone().mulTo(_,this)},r.prototype.imuln=function(_){a(typeof _=="number"),a(_<67108864);for(var M=0,A=0;A<this.length;A++){var N=(0|this.words[A])*_,S=(67108863&N)+(67108863&M);M>>=26,M+=N/67108864|0,M+=S>>>26,this.words[A]=67108863&S}return M!==0&&(this.words[A]=M,this.length++),this},r.prototype.muln=function(_){return this.clone().imuln(_)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(_){var M=(function(w){for(var j=new Array(w.bitLength()),E=0;E<j.length;E++){var I=E/26|0,L=E%26;j[E]=(w.words[I]&1<<L)>>>L}return j})(_);if(M.length===0)return new r(1);for(var A=this,N=0;N<M.length&&M[N]===0;N++,A=A.sqr());if(++N<M.length)for(var S=A.sqr();N<M.length;N++,S=S.sqr())M[N]!==0&&(A=A.mul(S));return A},r.prototype.iushln=function(_){a(typeof _=="number"&&_>=0);var M,A=_%26,N=(_-A)/26,S=67108863>>>26-A<<26-A;if(A!==0){var w=0;for(M=0;M<this.length;M++){var j=this.words[M]&S,E=(0|this.words[M])-j<<A;this.words[M]=E|w,w=j>>>26-A}w&&(this.words[M]=w,this.length++)}if(N!==0){for(M=this.length-1;M>=0;M--)this.words[M+N]=this.words[M];for(M=0;M<N;M++)this.words[M]=0;this.length+=N}return this.strip()},r.prototype.ishln=function(_){return a(this.negative===0),this.iushln(_)},r.prototype.iushrn=function(_,M,A){var N;a(typeof _=="number"&&_>=0),N=M?(M-M%26)/26:0;var S=_%26,w=Math.min((_-S)/26,this.length),j=67108863^67108863>>>S<<S,E=A;if(N-=w,N=Math.max(0,N),E){for(var I=0;I<w;I++)E.words[I]=this.words[I];E.length=w}if(w!==0)if(this.length>w)for(this.length-=w,I=0;I<this.length;I++)this.words[I]=this.words[I+w];else this.words[0]=0,this.length=1;var L=0;for(I=this.length-1;I>=0&&(L!==0||I>=N);I--){var G=0|this.words[I];this.words[I]=L<<26-S|G>>>S,L=G&j}return E&&L!==0&&(E.words[E.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(_,M,A){return a(this.negative===0),this.iushrn(_,M,A)},r.prototype.shln=function(_){return this.clone().ishln(_)},r.prototype.ushln=function(_){return this.clone().iushln(_)},r.prototype.shrn=function(_){return this.clone().ishrn(_)},r.prototype.ushrn=function(_){return this.clone().iushrn(_)},r.prototype.testn=function(_){a(typeof _=="number"&&_>=0);var M=_%26,A=(_-M)/26,N=1<<M;return!(this.length<=A)&&!!(this.words[A]&N)},r.prototype.imaskn=function(_){a(typeof _=="number"&&_>=0);var M=_%26,A=(_-M)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(M!==0&&A++,this.length=Math.min(A,this.length),M!==0){var N=67108863^67108863>>>M<<M;this.words[this.length-1]&=N}return this.strip()},r.prototype.maskn=function(_){return this.clone().imaskn(_)},r.prototype.iaddn=function(_){return a(typeof _=="number"),a(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},r.prototype._iaddn=function(_){this.words[0]+=_;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},r.prototype.isubn=function(_){if(a(typeof _=="number"),a(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},r.prototype.addn=function(_){return this.clone().iaddn(_)},r.prototype.subn=function(_){return this.clone().isubn(_)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(_,M,A){var N,S,w=_.length+A;this._expand(w);var j=0;for(N=0;N<_.length;N++){S=(0|this.words[N+A])+j;var E=(0|_.words[N])*M;j=((S-=67108863&E)>>26)-(E/67108864|0),this.words[N+A]=67108863&S}for(;N<this.length-A;N++)j=(S=(0|this.words[N+A])+j)>>26,this.words[N+A]=67108863&S;if(j===0)return this.strip();for(a(j===-1),j=0,N=0;N<this.length;N++)j=(S=-(0|this.words[N])+j)>>26,this.words[N]=67108863&S;return this.negative=1,this.strip()},r.prototype._wordDiv=function(_,M){var A=(this.length,_.length),N=this.clone(),S=_,w=0|S.words[S.length-1];(A=26-this._countBits(w))!==0&&(S=S.ushln(A),N.iushln(A),w=0|S.words[S.length-1]);var j,E=N.length-S.length;if(M!=="mod"){(j=new r(null)).length=E+1,j.words=new Array(j.length);for(var I=0;I<j.length;I++)j.words[I]=0}var L=N.clone()._ishlnsubmul(S,1,E);L.negative===0&&(N=L,j&&(j.words[E]=1));for(var G=E-1;G>=0;G--){var X=67108864*(0|N.words[S.length+G])+(0|N.words[S.length+G-1]);for(X=Math.min(X/w|0,67108863),N._ishlnsubmul(S,X,G);N.negative!==0;)X--,N.negative=0,N._ishlnsubmul(S,1,G),N.isZero()||(N.negative^=1);j&&(j.words[G]=X)}return j&&j.strip(),N.strip(),M!=="div"&&A!==0&&N.iushrn(A),{div:j||null,mod:N}},r.prototype.divmod=function(_,M,A){return a(!_.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&_.negative===0?(w=this.neg().divmod(_,M),M!=="mod"&&(N=w.div.neg()),M!=="div"&&(S=w.mod.neg(),A&&S.negative!==0&&S.iadd(_)),{div:N,mod:S}):this.negative===0&&_.negative!==0?(w=this.divmod(_.neg(),M),M!=="mod"&&(N=w.div.neg()),{div:N,mod:w.mod}):(this.negative&_.negative)!=0?(w=this.neg().divmod(_.neg(),M),M!=="div"&&(S=w.mod.neg(),A&&S.negative!==0&&S.isub(_)),{div:w.div,mod:S}):_.length>this.length||this.cmp(_)<0?{div:new r(0),mod:this}:_.length===1?M==="div"?{div:this.divn(_.words[0]),mod:null}:M==="mod"?{div:null,mod:new r(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new r(this.modn(_.words[0]))}:this._wordDiv(_,M);var N,S,w},r.prototype.div=function(_){return this.divmod(_,"div",!1).div},r.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},r.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},r.prototype.divRound=function(_){var M=this.divmod(_);if(M.mod.isZero())return M.div;var A=M.div.negative!==0?M.mod.isub(_):M.mod,N=_.ushrn(1),S=_.andln(1),w=A.cmp(N);return w<0||S===1&&w===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},r.prototype.modn=function(_){a(_<=67108863);for(var M=(1<<26)%_,A=0,N=this.length-1;N>=0;N--)A=(M*A+(0|this.words[N]))%_;return A},r.prototype.idivn=function(_){a(_<=67108863);for(var M=0,A=this.length-1;A>=0;A--){var N=(0|this.words[A])+67108864*M;this.words[A]=N/_|0,M=N%_}return this.strip()},r.prototype.divn=function(_){return this.clone().idivn(_)},r.prototype.egcd=function(_){a(_.negative===0),a(!_.isZero());var M=this,A=_.clone();M=M.negative!==0?M.umod(_):M.clone();for(var N=new r(1),S=new r(0),w=new r(0),j=new r(1),E=0;M.isEven()&&A.isEven();)M.iushrn(1),A.iushrn(1),++E;for(var I=A.clone(),L=M.clone();!M.isZero();){for(var G=0,X=1;(M.words[0]&X)==0&&G<26;++G,X<<=1);if(G>0)for(M.iushrn(G);G-- >0;)(N.isOdd()||S.isOdd())&&(N.iadd(I),S.isub(L)),N.iushrn(1),S.iushrn(1);for(var re=0,q=1;(A.words[0]&q)==0&&re<26;++re,q<<=1);if(re>0)for(A.iushrn(re);re-- >0;)(w.isOdd()||j.isOdd())&&(w.iadd(I),j.isub(L)),w.iushrn(1),j.iushrn(1);M.cmp(A)>=0?(M.isub(A),N.isub(w),S.isub(j)):(A.isub(M),w.isub(N),j.isub(S))}return{a:w,b:j,gcd:A.iushln(E)}},r.prototype._invmp=function(_){a(_.negative===0),a(!_.isZero());var M=this,A=_.clone();M=M.negative!==0?M.umod(_):M.clone();for(var N,S=new r(1),w=new r(0),j=A.clone();M.cmpn(1)>0&&A.cmpn(1)>0;){for(var E=0,I=1;(M.words[0]&I)==0&&E<26;++E,I<<=1);if(E>0)for(M.iushrn(E);E-- >0;)S.isOdd()&&S.iadd(j),S.iushrn(1);for(var L=0,G=1;(A.words[0]&G)==0&&L<26;++L,G<<=1);if(L>0)for(A.iushrn(L);L-- >0;)w.isOdd()&&w.iadd(j),w.iushrn(1);M.cmp(A)>=0?(M.isub(A),S.isub(w)):(A.isub(M),w.isub(S))}return(N=M.cmpn(1)===0?S:w).cmpn(0)<0&&N.iadd(_),N},r.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var M=this.clone(),A=_.clone();M.negative=0,A.negative=0;for(var N=0;M.isEven()&&A.isEven();N++)M.iushrn(1),A.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=M.cmp(A);if(S<0){var w=M;M=A,A=w}else if(S===0||A.cmpn(1)===0)break;M.isub(A)}return A.iushln(N)},r.prototype.invm=function(_){return this.egcd(_).a.umod(_)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(_){return this.words[0]&_},r.prototype.bincn=function(_){a(typeof _=="number");var M=_%26,A=(_-M)/26,N=1<<M;if(this.length<=A)return this._expand(A+1),this.words[A]|=N,this;for(var S=N,w=A;S!==0&&w<this.length;w++){var j=0|this.words[w];S=(j+=S)>>>26,j&=67108863,this.words[w]=j}return S!==0&&(this.words[w]=S,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(_){var M,A=_<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)M=1;else{A&&(_=-_),a(_<=67108863,"Number is too big");var N=0|this.words[0];M=N===_?0:N<_?-1:1}return this.negative!==0?0|-M:M},r.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var M=this.ucmp(_);return this.negative!==0?0|-M:M},r.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var M=0,A=this.length-1;A>=0;A--){var N=0|this.words[A],S=0|_.words[A];if(N!==S){N<S?M=-1:N>S&&(M=1);break}}return M},r.prototype.gtn=function(_){return this.cmpn(_)===1},r.prototype.gt=function(_){return this.cmp(_)===1},r.prototype.gten=function(_){return this.cmpn(_)>=0},r.prototype.gte=function(_){return this.cmp(_)>=0},r.prototype.ltn=function(_){return this.cmpn(_)===-1},r.prototype.lt=function(_){return this.cmp(_)===-1},r.prototype.lten=function(_){return this.cmpn(_)<=0},r.prototype.lte=function(_){return this.cmp(_)<=0},r.prototype.eqn=function(_){return this.cmpn(_)===0},r.prototype.eq=function(_){return this.cmp(_)===0},r.red=function(_){return new K(_)},r.prototype.toRed=function(_){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},r.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(_){return this.red=_,this},r.prototype.forceRed=function(_){return a(!this.red,"Already a number in reduction context"),this._forceRed(_)},r.prototype.redAdd=function(_){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},r.prototype.redIAdd=function(_){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},r.prototype.redSub=function(_){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},r.prototype.redISub=function(_){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},r.prototype.redShl=function(_){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},r.prototype.redMul=function(_){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},r.prototype.redIMul=function(_){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},r.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(_){return a(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var D={k256:null,p224:null,p192:null,p25519:null};function F(_,M){this.name=_,this.p=new r(M,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function H(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function K(_){if(typeof _=="string"){var M=r._prime(_);this.m=M.p,this.prime=M}else a(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function U(_){K.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var _=new r(null);return _.words=new Array(Math.ceil(this.n/13)),_},F.prototype.ireduce=function(_){var M,A=_;do this.split(A,this.tmp),M=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(M>this.n);var N=M<this.n?-1:A.ucmp(this.p);return N===0?(A.words[0]=0,A.length=1):N>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},F.prototype.split=function(_,M){_.iushrn(this.n,0,M)},F.prototype.imulK=function(_){return _.imul(this.k)},i(H,F),H.prototype.split=function(_,M){for(var A=Math.min(_.length,9),N=0;N<A;N++)M.words[N]=_.words[N];if(M.length=A,_.length<=9)return _.words[0]=0,void(_.length=1);var S=_.words[9];for(M.words[M.length++]=4194303&S,N=10;N<_.length;N++){var w=0|_.words[N];_.words[N-10]=(4194303&w)<<4|S>>>22,S=w}S>>>=22,_.words[N-10]=S,S===0&&_.length>10?_.length-=10:_.length-=9},H.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var M=0,A=0;A<_.length;A++){var N=0|_.words[A];M+=977*N,_.words[A]=67108863&M,M=64*N+(M/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},i(O,F),i($,F),i(B,F),B.prototype.imulK=function(_){for(var M=0,A=0;A<_.length;A++){var N=19*(0|_.words[A])+M,S=67108863&N;N>>>=26,_.words[A]=S,M=N}return M!==0&&(_.words[_.length++]=M),_},r._prime=function(_){if(D[_])return D[_];var M;if(_==="k256")M=new H;else if(_==="p224")M=new O;else if(_==="p192")M=new $;else{if(_!=="p25519")throw new Error("Unknown prime "+_);M=new B}return D[_]=M,M},K.prototype._verify1=function(_){a(_.negative===0,"red works only with positives"),a(_.red,"red works only with red numbers")},K.prototype._verify2=function(_,M){a((_.negative|M.negative)==0,"red works only with positives"),a(_.red&&_.red===M.red,"red works only with red numbers")},K.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},K.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},K.prototype.add=function(_,M){this._verify2(_,M);var A=_.add(M);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},K.prototype.iadd=function(_,M){this._verify2(_,M);var A=_.iadd(M);return A.cmp(this.m)>=0&&A.isub(this.m),A},K.prototype.sub=function(_,M){this._verify2(_,M);var A=_.sub(M);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},K.prototype.isub=function(_,M){this._verify2(_,M);var A=_.isub(M);return A.cmpn(0)<0&&A.iadd(this.m),A},K.prototype.shl=function(_,M){return this._verify1(_),this.imod(_.ushln(M))},K.prototype.imul=function(_,M){return this._verify2(_,M),this.imod(_.imul(M))},K.prototype.mul=function(_,M){return this._verify2(_,M),this.imod(_.mul(M))},K.prototype.isqr=function(_){return this.imul(_,_.clone())},K.prototype.sqr=function(_){return this.mul(_,_)},K.prototype.sqrt=function(_){if(_.isZero())return _.clone();var M=this.m.andln(3);if(a(M%2==1),M===3){var A=this.m.add(new r(1)).iushrn(2);return this.pow(_,A)}for(var N=this.m.subn(1),S=0;!N.isZero()&&N.andln(1)===0;)S++,N.iushrn(1);a(!N.isZero());var w=new r(1).toRed(this),j=w.redNeg(),E=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new r(2*I*I).toRed(this);this.pow(I,E).cmp(j)!==0;)I.redIAdd(j);for(var L=this.pow(I,N),G=this.pow(_,N.addn(1).iushrn(1)),X=this.pow(_,N),re=S;X.cmp(w)!==0;){for(var q=X,ee=0;q.cmp(w)!==0;ee++)q=q.redSqr();a(ee<re);var R=this.pow(L,new r(1).iushln(re-ee-1));G=G.redMul(R),L=R.redSqr(),X=X.redMul(L),re=ee}return G},K.prototype.invm=function(_){var M=_._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},K.prototype.pow=function(_,M){if(M.isZero())return new r(1).toRed(this);if(M.cmpn(1)===0)return _.clone();var A=new Array(16);A[0]=new r(1).toRed(this),A[1]=_;for(var N=2;N<A.length;N++)A[N]=this.mul(A[N-1],_);var S=A[0],w=0,j=0,E=M.bitLength()%26;for(E===0&&(E=26),N=M.length-1;N>=0;N--){for(var I=M.words[N],L=E-1;L>=0;L--){var G=I>>L&1;S!==A[0]&&(S=this.sqr(S)),G!==0||w!==0?(w<<=1,w|=G,(++j===4||N===0&&L===0)&&(S=this.mul(S,A[w]),j=0,w=0)):j=0}E=26}return S},K.prototype.convertTo=function(_){var M=_.umod(this.m);return M===_?M.clone():M},K.prototype.convertFrom=function(_){var M=_.clone();return M.red=null,M},r.mont=function(_){return new U(_)},i(U,K),U.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},U.prototype.convertFrom=function(_){var M=this.imod(_.mul(this.rinv));return M.red=null,M},U.prototype.imul=function(_,M){if(_.isZero()||M.isZero())return _.words[0]=0,_.length=1,_;var A=_.imul(M),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(N).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},U.prototype.mul=function(_,M){if(_.isZero()||M.isZero())return new r(0)._forceRed(this);var A=_.mul(M),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(N).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},U.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(f===void 0||f)},{buffer:188}],185:[function(t,f,m){m.byteLength=function(c){var p=l(c),g=p[0],h=p[1];return 3*(g+h)/4-h},m.toByteArray=function(c){var p,g,h=l(c),y=h[0],b=h[1],C=new a((function(F,H,O){return 3*(H+O)/4-O})(0,y,b)),T=0,D=b>0?y-4:y;for(g=0;g<D;g+=4)p=s[c.charCodeAt(g)]<<18|s[c.charCodeAt(g+1)]<<12|s[c.charCodeAt(g+2)]<<6|s[c.charCodeAt(g+3)],C[T++]=p>>16&255,C[T++]=p>>8&255,C[T++]=255&p;return b===2&&(p=s[c.charCodeAt(g)]<<2|s[c.charCodeAt(g+1)]>>4,C[T++]=255&p),b===1&&(p=s[c.charCodeAt(g)]<<10|s[c.charCodeAt(g+1)]<<4|s[c.charCodeAt(g+2)]>>2,C[T++]=p>>8&255,C[T++]=255&p),C},m.fromByteArray=function(c){for(var p,g=c.length,h=g%3,y=[],b=0,C=g-h;b<C;b+=16383)y.push(o(c,b,b+16383>C?C:b+16383));return h===1?(p=c[g-1],y.push(d[p>>2]+d[p<<4&63]+"==")):h===2&&(p=(c[g-2]<<8)+c[g-1],y.push(d[p>>10]+d[p>>4&63]+d[p<<2&63]+"=")),y.join("")};for(var d=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,n=i.length;r<n;++r)d[r]=i[r],s[i.charCodeAt(r)]=r;function l(c){var p=c.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=c.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function o(c,p,g){for(var h,y,b=[],C=p;C<g;C+=3)h=(c[C]<<16&16711680)+(c[C+1]<<8&65280)+(255&c[C+2]),b.push(d[(y=h)>>18&63]+d[y>>12&63]+d[y>>6&63]+d[63&y]);return b.join("")}s[45]=62,s[95]=63},{}],186:[function(t,f,m){(function(d,s){function a(A,N){if(!A)throw new Error(N||"Assertion failed")}function i(A,N){A.super_=N;var S=function(){};S.prototype=N.prototype,A.prototype=new S,A.prototype.constructor=A}function r(A,N,S){if(r.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(N!=="le"&&N!=="be"||(S=N,N=10),this._init(A||0,N||10,S||"be"))}var n;typeof d=="object"?d.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function l(A,N){var S=A.charCodeAt(N);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void a(!1,"Invalid character in "+A)}function o(A,N,S){var w=l(A,S);return S-1>=N&&(w|=l(A,S-1)<<4),w}function c(A,N,S,w){for(var j=0,E=0,I=Math.min(A.length,S),L=N;L<I;L++){var G=A.charCodeAt(L)-48;j*=w,E=G>=49?G-49+10:G>=17?G-17+10:G,a(G>=0&&E<w,"Invalid character"),j+=E}return j}function p(A,N){A.words=N.words,A.length=N.length,A.negative=N.negative,A.red=N.red}if(r.isBN=function(A){return A instanceof r||A!==null&&typeof A=="object"&&A.constructor.wordSize===r.wordSize&&Array.isArray(A.words)},r.max=function(A,N){return A.cmp(N)>0?A:N},r.min=function(A,N){return A.cmp(N)<0?A:N},r.prototype._init=function(A,N,S){if(typeof A=="number")return this._initNumber(A,N,S);if(typeof A=="object")return this._initArray(A,N,S);N==="hex"&&(N=16),a(N===(0|N)&&N>=2&&N<=36);var w=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<A.length&&(N===16?this._parseHex(A,w,S):(this._parseBase(A,N,w),S==="le"&&this._initArray(this.toArray(),N,S)))},r.prototype._initNumber=function(A,N,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(a(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),N,S)},r.prototype._initArray=function(A,N,S){if(a(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,E,I=0;if(S==="be")for(w=A.length-1,j=0;w>=0;w-=3)E=A[w]|A[w-1]<<8|A[w-2]<<16,this.words[j]|=E<<I&67108863,this.words[j+1]=E>>>26-I&67108863,(I+=24)>=26&&(I-=26,j++);else if(S==="le")for(w=0,j=0;w<A.length;w+=3)E=A[w]|A[w+1]<<8|A[w+2]<<16,this.words[j]|=E<<I&67108863,this.words[j+1]=E>>>26-I&67108863,(I+=24)>=26&&(I-=26,j++);return this._strip()},r.prototype._parseHex=function(A,N,S){this.length=Math.ceil((A.length-N)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,E=0,I=0;if(S==="be")for(w=A.length-1;w>=N;w-=2)j=o(A,N,w)<<E,this.words[I]|=67108863&j,E>=18?(E-=18,I+=1,this.words[I]|=j>>>26):E+=8;else for(w=(A.length-N)%2==0?N+1:N;w<A.length;w+=2)j=o(A,N,w)<<E,this.words[I]|=67108863&j,E>=18?(E-=18,I+=1,this.words[I]|=j>>>26):E+=8;this._strip()},r.prototype._parseBase=function(A,N,S){this.words=[0],this.length=1;for(var w=0,j=1;j<=67108863;j*=N)w++;w--,j=j/N|0;for(var E=A.length-S,I=E%w,L=Math.min(E,E-I)+S,G=0,X=S;X<L;X+=w)G=c(A,X,X+w,N),this.imuln(j),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(I!==0){var re=1;for(G=c(A,X,A.length,N),X=0;X<I;X++)re*=N;this.imuln(re),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},r.prototype.copy=function(A){A.words=new Array(this.length);for(var N=0;N<this.length;N++)A.words[N]=this.words[N];A.length=this.length,A.negative=this.negative,A.red=this.red},r.prototype._move=function(A){p(A,this)},r.prototype.clone=function(){var A=new r(null);return this.copy(A),A},r.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{r.prototype.inspect=g}else r.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(A,N){var S;if(N=0|N||1,(A=A||10)===16||A==="hex"){S="";for(var w=0,j=0,E=0;E<this.length;E++){var I=this.words[E],L=(16777215&(I<<w|j)).toString(16);j=I>>>24-w&16777215,(w+=2)>=26&&(w-=26,E--),S=j!==0||E!==this.length-1?h[6-L.length]+L+S:L+S}for(j!==0&&(S=j.toString(16)+S);S.length%N!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(0|A)&&A>=2&&A<=36){var G=y[A],X=b[A];S="";var re=this.clone();for(re.negative=0;!re.isZero();){var q=re.modrn(X).toString(A);S=(re=re.idivn(X)).isZero()?q+S:h[G-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%N!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}a(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},r.prototype.toJSON=function(){return this.toString(16,2)},n&&(r.prototype.toBuffer=function(A,N){return this.toArrayLike(n,A,N)}),r.prototype.toArray=function(A,N){return this.toArrayLike(Array,A,N)};function C(A,N,S){S.negative=N.negative^A.negative;var w=A.length+N.length|0;S.length=w,w=w-1|0;var j=0|A.words[0],E=0|N.words[0],I=j*E,L=67108863&I,G=I/67108864|0;S.words[0]=L;for(var X=1;X<w;X++){for(var re=G>>>26,q=67108863&G,ee=Math.min(X,N.length-1),R=Math.max(0,X-A.length+1);R<=ee;R++){var z=X-R|0;re+=(I=(j=0|A.words[z])*(E=0|N.words[R])+q)/67108864|0,q=67108863&I}S.words[X]=0|q,G=0|re}return G!==0?S.words[X]=0|G:S.length--,S._strip()}r.prototype.toArrayLike=function(A,N,S){this._strip();var w=this.byteLength(),j=S||Math.max(1,w);a(w<=j,"byte array longer than desired length"),a(j>0,"Requested array length <= 0");var E=(function(I,L){return I.allocUnsafe?I.allocUnsafe(L):new I(L)})(A,j);return this["_toArrayLike"+(N==="le"?"LE":"BE")](E,w),E},r.prototype._toArrayLikeLE=function(A,N){for(var S=0,w=0,j=0,E=0;j<this.length;j++){var I=this.words[j]<<E|w;A[S++]=255&I,S<A.length&&(A[S++]=I>>8&255),S<A.length&&(A[S++]=I>>16&255),E===6?(S<A.length&&(A[S++]=I>>24&255),w=0,E=0):(w=I>>>24,E+=2)}if(S<A.length)for(A[S++]=w;S<A.length;)A[S++]=0},r.prototype._toArrayLikeBE=function(A,N){for(var S=A.length-1,w=0,j=0,E=0;j<this.length;j++){var I=this.words[j]<<E|w;A[S--]=255&I,S>=0&&(A[S--]=I>>8&255),S>=0&&(A[S--]=I>>16&255),E===6?(S>=0&&(A[S--]=I>>24&255),w=0,E=0):(w=I>>>24,E+=2)}if(S>=0)for(A[S--]=w;S>=0;)A[S--]=0},Math.clz32?r.prototype._countBits=function(A){return 32-Math.clz32(A)}:r.prototype._countBits=function(A){var N=A,S=0;return N>=4096&&(S+=13,N>>>=13),N>=64&&(S+=7,N>>>=7),N>=8&&(S+=4,N>>>=4),N>=2&&(S+=2,N>>>=2),S+N},r.prototype._zeroBits=function(A){if(A===0)return 26;var N=A,S=0;return(8191&N)==0&&(S+=13,N>>>=13),(127&N)==0&&(S+=7,N>>>=7),(15&N)==0&&(S+=4,N>>>=4),(3&N)==0&&(S+=2,N>>>=2),(1&N)==0&&S++,S},r.prototype.bitLength=function(){var A=this.words[this.length-1],N=this._countBits(A);return 26*(this.length-1)+N},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,N=0;N<this.length;N++){var S=this._zeroBits(this.words[N]);if(A+=S,S!==26)break}return A},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},r.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var N=0;N<A.length;N++)this.words[N]=this.words[N]|A.words[N];return this._strip()},r.prototype.ior=function(A){return a((this.negative|A.negative)==0),this.iuor(A)},r.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},r.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},r.prototype.iuand=function(A){var N;N=this.length>A.length?A:this;for(var S=0;S<N.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=N.length,this._strip()},r.prototype.iand=function(A){return a((this.negative|A.negative)==0),this.iuand(A)},r.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},r.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},r.prototype.iuxor=function(A){var N,S;this.length>A.length?(N=this,S=A):(N=A,S=this);for(var w=0;w<S.length;w++)this.words[w]=N.words[w]^S.words[w];if(this!==N)for(;w<N.length;w++)this.words[w]=N.words[w];return this.length=N.length,this._strip()},r.prototype.ixor=function(A){return a((this.negative|A.negative)==0),this.iuxor(A)},r.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},r.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},r.prototype.inotn=function(A){a(typeof A=="number"&&A>=0);var N=0|Math.ceil(A/26),S=A%26;this._expand(N),S>0&&N--;for(var w=0;w<N;w++)this.words[w]=67108863&~this.words[w];return S>0&&(this.words[w]=~this.words[w]&67108863>>26-S),this._strip()},r.prototype.notn=function(A){return this.clone().inotn(A)},r.prototype.setn=function(A,N){a(typeof A=="number"&&A>=0);var S=A/26|0,w=A%26;return this._expand(S+1),this.words[S]=N?this.words[S]|1<<w:this.words[S]&~(1<<w),this._strip()},r.prototype.iadd=function(A){var N,S,w;if(this.negative!==0&&A.negative===0)return this.negative=0,N=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,N=this.isub(A),A.negative=1,N._normSign();this.length>A.length?(S=this,w=A):(S=A,w=this);for(var j=0,E=0;E<w.length;E++)N=(0|S.words[E])+(0|w.words[E])+j,this.words[E]=67108863&N,j=N>>>26;for(;j!==0&&E<S.length;E++)N=(0|S.words[E])+j,this.words[E]=67108863&N,j=N>>>26;if(this.length=S.length,j!==0)this.words[this.length]=j,this.length++;else if(S!==this)for(;E<S.length;E++)this.words[E]=S.words[E];return this},r.prototype.add=function(A){var N;return A.negative!==0&&this.negative===0?(A.negative=0,N=this.sub(A),A.negative^=1,N):A.negative===0&&this.negative!==0?(this.negative=0,N=A.sub(this),this.negative=1,N):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},r.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var N=this.iadd(A);return A.negative=1,N._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S,w,j=this.cmp(A);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(S=this,w=A):(S=A,w=this);for(var E=0,I=0;I<w.length;I++)E=(N=(0|S.words[I])-(0|w.words[I])+E)>>26,this.words[I]=67108863&N;for(;E!==0&&I<S.length;I++)E=(N=(0|S.words[I])+E)>>26,this.words[I]=67108863&N;if(E===0&&I<S.length&&S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this.length=Math.max(this.length,I),S!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(A){return this.clone().isub(A)};var T=function(A,N,S){var w,j,E,I=A.words,L=N.words,G=S.words,X=0,re=0|I[0],q=8191&re,ee=re>>>13,R=0|I[1],z=8191&R,W=R>>>13,se=0|I[2],he=8191&se,ne=se>>>13,me=0|I[3],Se=8191&me,Ee=me>>>13,le=0|I[4],ie=8191&le,ce=le>>>13,ae=0|I[5],ge=8191&ae,pe=ae>>>13,Ae=0|I[6],fe=8191&Ae,te=Ae>>>13,ye=0|I[7],Te=8191&ye,Ce=ye>>>13,je=0|I[8],tt=8191&je,Pe=je>>>13,ke=0|I[9],ze=8191&ke,qe=ke>>>13,Fe=0|L[0],at=8191&Fe,we=Fe>>>13,Qe=0|L[1],ut=8191&Qe,be=Qe>>>13,Be=0|L[2],ot=8191&Be,lt=Be>>>13,Et=0|L[3],Rt=8191&Et,yt=Et>>>13,Ut=0|L[4],$e=8191&Ut,Ke=Ut>>>13,ht=0|L[5],St=8191&ht,xt=ht>>>13,Ne=0|L[6],Ie=8191&Ne,Ge=Ne>>>13,ct=0|L[7],Mt=8191&ct,Ct=ct>>>13,Jt=0|L[8],Pt=8191&Jt,Ot=Jt>>>13,tr=0|L[9],Wt=8191&tr,Lt=tr>>>13;S.negative=A.negative^N.negative,S.length=19;var gr=(X+(w=Math.imul(q,at))|0)+((8191&(j=(j=Math.imul(q,we))+Math.imul(ee,at)|0))<<13)|0;X=((E=Math.imul(ee,we))+(j>>>13)|0)+(gr>>>26)|0,gr&=67108863,w=Math.imul(z,at),j=(j=Math.imul(z,we))+Math.imul(W,at)|0,E=Math.imul(W,we);var pt=(X+(w=w+Math.imul(q,ut)|0)|0)+((8191&(j=(j=j+Math.imul(q,be)|0)+Math.imul(ee,ut)|0))<<13)|0;X=((E=E+Math.imul(ee,be)|0)+(j>>>13)|0)+(pt>>>26)|0,pt&=67108863,w=Math.imul(he,at),j=(j=Math.imul(he,we))+Math.imul(ne,at)|0,E=Math.imul(ne,we),w=w+Math.imul(z,ut)|0,j=(j=j+Math.imul(z,be)|0)+Math.imul(W,ut)|0,E=E+Math.imul(W,be)|0;var De=(X+(w=w+Math.imul(q,ot)|0)|0)+((8191&(j=(j=j+Math.imul(q,lt)|0)+Math.imul(ee,ot)|0))<<13)|0;X=((E=E+Math.imul(ee,lt)|0)+(j>>>13)|0)+(De>>>26)|0,De&=67108863,w=Math.imul(Se,at),j=(j=Math.imul(Se,we))+Math.imul(Ee,at)|0,E=Math.imul(Ee,we),w=w+Math.imul(he,ut)|0,j=(j=j+Math.imul(he,be)|0)+Math.imul(ne,ut)|0,E=E+Math.imul(ne,be)|0,w=w+Math.imul(z,ot)|0,j=(j=j+Math.imul(z,lt)|0)+Math.imul(W,ot)|0,E=E+Math.imul(W,lt)|0;var st=(X+(w=w+Math.imul(q,Rt)|0)|0)+((8191&(j=(j=j+Math.imul(q,yt)|0)+Math.imul(ee,Rt)|0))<<13)|0;X=((E=E+Math.imul(ee,yt)|0)+(j>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(ie,at),j=(j=Math.imul(ie,we))+Math.imul(ce,at)|0,E=Math.imul(ce,we),w=w+Math.imul(Se,ut)|0,j=(j=j+Math.imul(Se,be)|0)+Math.imul(Ee,ut)|0,E=E+Math.imul(Ee,be)|0,w=w+Math.imul(he,ot)|0,j=(j=j+Math.imul(he,lt)|0)+Math.imul(ne,ot)|0,E=E+Math.imul(ne,lt)|0,w=w+Math.imul(z,Rt)|0,j=(j=j+Math.imul(z,yt)|0)+Math.imul(W,Rt)|0,E=E+Math.imul(W,yt)|0;var At=(X+(w=w+Math.imul(q,$e)|0)|0)+((8191&(j=(j=j+Math.imul(q,Ke)|0)+Math.imul(ee,$e)|0))<<13)|0;X=((E=E+Math.imul(ee,Ke)|0)+(j>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(ge,at),j=(j=Math.imul(ge,we))+Math.imul(pe,at)|0,E=Math.imul(pe,we),w=w+Math.imul(ie,ut)|0,j=(j=j+Math.imul(ie,be)|0)+Math.imul(ce,ut)|0,E=E+Math.imul(ce,be)|0,w=w+Math.imul(Se,ot)|0,j=(j=j+Math.imul(Se,lt)|0)+Math.imul(Ee,ot)|0,E=E+Math.imul(Ee,lt)|0,w=w+Math.imul(he,Rt)|0,j=(j=j+Math.imul(he,yt)|0)+Math.imul(ne,Rt)|0,E=E+Math.imul(ne,yt)|0,w=w+Math.imul(z,$e)|0,j=(j=j+Math.imul(z,Ke)|0)+Math.imul(W,$e)|0,E=E+Math.imul(W,Ke)|0;var ve=(X+(w=w+Math.imul(q,St)|0)|0)+((8191&(j=(j=j+Math.imul(q,xt)|0)+Math.imul(ee,St)|0))<<13)|0;X=((E=E+Math.imul(ee,xt)|0)+(j>>>13)|0)+(ve>>>26)|0,ve&=67108863,w=Math.imul(fe,at),j=(j=Math.imul(fe,we))+Math.imul(te,at)|0,E=Math.imul(te,we),w=w+Math.imul(ge,ut)|0,j=(j=j+Math.imul(ge,be)|0)+Math.imul(pe,ut)|0,E=E+Math.imul(pe,be)|0,w=w+Math.imul(ie,ot)|0,j=(j=j+Math.imul(ie,lt)|0)+Math.imul(ce,ot)|0,E=E+Math.imul(ce,lt)|0,w=w+Math.imul(Se,Rt)|0,j=(j=j+Math.imul(Se,yt)|0)+Math.imul(Ee,Rt)|0,E=E+Math.imul(Ee,yt)|0,w=w+Math.imul(he,$e)|0,j=(j=j+Math.imul(he,Ke)|0)+Math.imul(ne,$e)|0,E=E+Math.imul(ne,Ke)|0,w=w+Math.imul(z,St)|0,j=(j=j+Math.imul(z,xt)|0)+Math.imul(W,St)|0,E=E+Math.imul(W,xt)|0;var Re=(X+(w=w+Math.imul(q,Ie)|0)|0)+((8191&(j=(j=j+Math.imul(q,Ge)|0)+Math.imul(ee,Ie)|0))<<13)|0;X=((E=E+Math.imul(ee,Ge)|0)+(j>>>13)|0)+(Re>>>26)|0,Re&=67108863,w=Math.imul(Te,at),j=(j=Math.imul(Te,we))+Math.imul(Ce,at)|0,E=Math.imul(Ce,we),w=w+Math.imul(fe,ut)|0,j=(j=j+Math.imul(fe,be)|0)+Math.imul(te,ut)|0,E=E+Math.imul(te,be)|0,w=w+Math.imul(ge,ot)|0,j=(j=j+Math.imul(ge,lt)|0)+Math.imul(pe,ot)|0,E=E+Math.imul(pe,lt)|0,w=w+Math.imul(ie,Rt)|0,j=(j=j+Math.imul(ie,yt)|0)+Math.imul(ce,Rt)|0,E=E+Math.imul(ce,yt)|0,w=w+Math.imul(Se,$e)|0,j=(j=j+Math.imul(Se,Ke)|0)+Math.imul(Ee,$e)|0,E=E+Math.imul(Ee,Ke)|0,w=w+Math.imul(he,St)|0,j=(j=j+Math.imul(he,xt)|0)+Math.imul(ne,St)|0,E=E+Math.imul(ne,xt)|0,w=w+Math.imul(z,Ie)|0,j=(j=j+Math.imul(z,Ge)|0)+Math.imul(W,Ie)|0,E=E+Math.imul(W,Ge)|0;var nt=(X+(w=w+Math.imul(q,Mt)|0)|0)+((8191&(j=(j=j+Math.imul(q,Ct)|0)+Math.imul(ee,Mt)|0))<<13)|0;X=((E=E+Math.imul(ee,Ct)|0)+(j>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(tt,at),j=(j=Math.imul(tt,we))+Math.imul(Pe,at)|0,E=Math.imul(Pe,we),w=w+Math.imul(Te,ut)|0,j=(j=j+Math.imul(Te,be)|0)+Math.imul(Ce,ut)|0,E=E+Math.imul(Ce,be)|0,w=w+Math.imul(fe,ot)|0,j=(j=j+Math.imul(fe,lt)|0)+Math.imul(te,ot)|0,E=E+Math.imul(te,lt)|0,w=w+Math.imul(ge,Rt)|0,j=(j=j+Math.imul(ge,yt)|0)+Math.imul(pe,Rt)|0,E=E+Math.imul(pe,yt)|0,w=w+Math.imul(ie,$e)|0,j=(j=j+Math.imul(ie,Ke)|0)+Math.imul(ce,$e)|0,E=E+Math.imul(ce,Ke)|0,w=w+Math.imul(Se,St)|0,j=(j=j+Math.imul(Se,xt)|0)+Math.imul(Ee,St)|0,E=E+Math.imul(Ee,xt)|0,w=w+Math.imul(he,Ie)|0,j=(j=j+Math.imul(he,Ge)|0)+Math.imul(ne,Ie)|0,E=E+Math.imul(ne,Ge)|0,w=w+Math.imul(z,Mt)|0,j=(j=j+Math.imul(z,Ct)|0)+Math.imul(W,Mt)|0,E=E+Math.imul(W,Ct)|0;var dt=(X+(w=w+Math.imul(q,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(q,Ot)|0)+Math.imul(ee,Pt)|0))<<13)|0;X=((E=E+Math.imul(ee,Ot)|0)+(j>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ze,at),j=(j=Math.imul(ze,we))+Math.imul(qe,at)|0,E=Math.imul(qe,we),w=w+Math.imul(tt,ut)|0,j=(j=j+Math.imul(tt,be)|0)+Math.imul(Pe,ut)|0,E=E+Math.imul(Pe,be)|0,w=w+Math.imul(Te,ot)|0,j=(j=j+Math.imul(Te,lt)|0)+Math.imul(Ce,ot)|0,E=E+Math.imul(Ce,lt)|0,w=w+Math.imul(fe,Rt)|0,j=(j=j+Math.imul(fe,yt)|0)+Math.imul(te,Rt)|0,E=E+Math.imul(te,yt)|0,w=w+Math.imul(ge,$e)|0,j=(j=j+Math.imul(ge,Ke)|0)+Math.imul(pe,$e)|0,E=E+Math.imul(pe,Ke)|0,w=w+Math.imul(ie,St)|0,j=(j=j+Math.imul(ie,xt)|0)+Math.imul(ce,St)|0,E=E+Math.imul(ce,xt)|0,w=w+Math.imul(Se,Ie)|0,j=(j=j+Math.imul(Se,Ge)|0)+Math.imul(Ee,Ie)|0,E=E+Math.imul(Ee,Ge)|0,w=w+Math.imul(he,Mt)|0,j=(j=j+Math.imul(he,Ct)|0)+Math.imul(ne,Mt)|0,E=E+Math.imul(ne,Ct)|0,w=w+Math.imul(z,Pt)|0,j=(j=j+Math.imul(z,Ot)|0)+Math.imul(W,Pt)|0,E=E+Math.imul(W,Ot)|0;var Ft=(X+(w=w+Math.imul(q,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(q,Lt)|0)+Math.imul(ee,Wt)|0))<<13)|0;X=((E=E+Math.imul(ee,Lt)|0)+(j>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,w=Math.imul(ze,ut),j=(j=Math.imul(ze,be))+Math.imul(qe,ut)|0,E=Math.imul(qe,be),w=w+Math.imul(tt,ot)|0,j=(j=j+Math.imul(tt,lt)|0)+Math.imul(Pe,ot)|0,E=E+Math.imul(Pe,lt)|0,w=w+Math.imul(Te,Rt)|0,j=(j=j+Math.imul(Te,yt)|0)+Math.imul(Ce,Rt)|0,E=E+Math.imul(Ce,yt)|0,w=w+Math.imul(fe,$e)|0,j=(j=j+Math.imul(fe,Ke)|0)+Math.imul(te,$e)|0,E=E+Math.imul(te,Ke)|0,w=w+Math.imul(ge,St)|0,j=(j=j+Math.imul(ge,xt)|0)+Math.imul(pe,St)|0,E=E+Math.imul(pe,xt)|0,w=w+Math.imul(ie,Ie)|0,j=(j=j+Math.imul(ie,Ge)|0)+Math.imul(ce,Ie)|0,E=E+Math.imul(ce,Ge)|0,w=w+Math.imul(Se,Mt)|0,j=(j=j+Math.imul(Se,Ct)|0)+Math.imul(Ee,Mt)|0,E=E+Math.imul(Ee,Ct)|0,w=w+Math.imul(he,Pt)|0,j=(j=j+Math.imul(he,Ot)|0)+Math.imul(ne,Pt)|0,E=E+Math.imul(ne,Ot)|0;var bt=(X+(w=w+Math.imul(z,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(z,Lt)|0)+Math.imul(W,Wt)|0))<<13)|0;X=((E=E+Math.imul(W,Lt)|0)+(j>>>13)|0)+(bt>>>26)|0,bt&=67108863,w=Math.imul(ze,ot),j=(j=Math.imul(ze,lt))+Math.imul(qe,ot)|0,E=Math.imul(qe,lt),w=w+Math.imul(tt,Rt)|0,j=(j=j+Math.imul(tt,yt)|0)+Math.imul(Pe,Rt)|0,E=E+Math.imul(Pe,yt)|0,w=w+Math.imul(Te,$e)|0,j=(j=j+Math.imul(Te,Ke)|0)+Math.imul(Ce,$e)|0,E=E+Math.imul(Ce,Ke)|0,w=w+Math.imul(fe,St)|0,j=(j=j+Math.imul(fe,xt)|0)+Math.imul(te,St)|0,E=E+Math.imul(te,xt)|0,w=w+Math.imul(ge,Ie)|0,j=(j=j+Math.imul(ge,Ge)|0)+Math.imul(pe,Ie)|0,E=E+Math.imul(pe,Ge)|0,w=w+Math.imul(ie,Mt)|0,j=(j=j+Math.imul(ie,Ct)|0)+Math.imul(ce,Mt)|0,E=E+Math.imul(ce,Ct)|0,w=w+Math.imul(Se,Pt)|0,j=(j=j+Math.imul(Se,Ot)|0)+Math.imul(Ee,Pt)|0,E=E+Math.imul(Ee,Ot)|0;var Nt=(X+(w=w+Math.imul(he,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(he,Lt)|0)+Math.imul(ne,Wt)|0))<<13)|0;X=((E=E+Math.imul(ne,Lt)|0)+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,w=Math.imul(ze,Rt),j=(j=Math.imul(ze,yt))+Math.imul(qe,Rt)|0,E=Math.imul(qe,yt),w=w+Math.imul(tt,$e)|0,j=(j=j+Math.imul(tt,Ke)|0)+Math.imul(Pe,$e)|0,E=E+Math.imul(Pe,Ke)|0,w=w+Math.imul(Te,St)|0,j=(j=j+Math.imul(Te,xt)|0)+Math.imul(Ce,St)|0,E=E+Math.imul(Ce,xt)|0,w=w+Math.imul(fe,Ie)|0,j=(j=j+Math.imul(fe,Ge)|0)+Math.imul(te,Ie)|0,E=E+Math.imul(te,Ge)|0,w=w+Math.imul(ge,Mt)|0,j=(j=j+Math.imul(ge,Ct)|0)+Math.imul(pe,Mt)|0,E=E+Math.imul(pe,Ct)|0,w=w+Math.imul(ie,Pt)|0,j=(j=j+Math.imul(ie,Ot)|0)+Math.imul(ce,Pt)|0,E=E+Math.imul(ce,Ot)|0;var Kt=(X+(w=w+Math.imul(Se,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(Se,Lt)|0)+Math.imul(Ee,Wt)|0))<<13)|0;X=((E=E+Math.imul(Ee,Lt)|0)+(j>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(ze,$e),j=(j=Math.imul(ze,Ke))+Math.imul(qe,$e)|0,E=Math.imul(qe,Ke),w=w+Math.imul(tt,St)|0,j=(j=j+Math.imul(tt,xt)|0)+Math.imul(Pe,St)|0,E=E+Math.imul(Pe,xt)|0,w=w+Math.imul(Te,Ie)|0,j=(j=j+Math.imul(Te,Ge)|0)+Math.imul(Ce,Ie)|0,E=E+Math.imul(Ce,Ge)|0,w=w+Math.imul(fe,Mt)|0,j=(j=j+Math.imul(fe,Ct)|0)+Math.imul(te,Mt)|0,E=E+Math.imul(te,Ct)|0,w=w+Math.imul(ge,Pt)|0,j=(j=j+Math.imul(ge,Ot)|0)+Math.imul(pe,Pt)|0,E=E+Math.imul(pe,Ot)|0;var ir=(X+(w=w+Math.imul(ie,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(ie,Lt)|0)+Math.imul(ce,Wt)|0))<<13)|0;X=((E=E+Math.imul(ce,Lt)|0)+(j>>>13)|0)+(ir>>>26)|0,ir&=67108863,w=Math.imul(ze,St),j=(j=Math.imul(ze,xt))+Math.imul(qe,St)|0,E=Math.imul(qe,xt),w=w+Math.imul(tt,Ie)|0,j=(j=j+Math.imul(tt,Ge)|0)+Math.imul(Pe,Ie)|0,E=E+Math.imul(Pe,Ge)|0,w=w+Math.imul(Te,Mt)|0,j=(j=j+Math.imul(Te,Ct)|0)+Math.imul(Ce,Mt)|0,E=E+Math.imul(Ce,Ct)|0,w=w+Math.imul(fe,Pt)|0,j=(j=j+Math.imul(fe,Ot)|0)+Math.imul(te,Pt)|0,E=E+Math.imul(te,Ot)|0;var rr=(X+(w=w+Math.imul(ge,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(ge,Lt)|0)+Math.imul(pe,Wt)|0))<<13)|0;X=((E=E+Math.imul(pe,Lt)|0)+(j>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(ze,Ie),j=(j=Math.imul(ze,Ge))+Math.imul(qe,Ie)|0,E=Math.imul(qe,Ge),w=w+Math.imul(tt,Mt)|0,j=(j=j+Math.imul(tt,Ct)|0)+Math.imul(Pe,Mt)|0,E=E+Math.imul(Pe,Ct)|0,w=w+Math.imul(Te,Pt)|0,j=(j=j+Math.imul(Te,Ot)|0)+Math.imul(Ce,Pt)|0,E=E+Math.imul(Ce,Ot)|0;var nr=(X+(w=w+Math.imul(fe,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(fe,Lt)|0)+Math.imul(te,Wt)|0))<<13)|0;X=((E=E+Math.imul(te,Lt)|0)+(j>>>13)|0)+(nr>>>26)|0,nr&=67108863,w=Math.imul(ze,Mt),j=(j=Math.imul(ze,Ct))+Math.imul(qe,Mt)|0,E=Math.imul(qe,Ct),w=w+Math.imul(tt,Pt)|0,j=(j=j+Math.imul(tt,Ot)|0)+Math.imul(Pe,Pt)|0,E=E+Math.imul(Pe,Ot)|0;var ur=(X+(w=w+Math.imul(Te,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(Te,Lt)|0)+Math.imul(Ce,Wt)|0))<<13)|0;X=((E=E+Math.imul(Ce,Lt)|0)+(j>>>13)|0)+(ur>>>26)|0,ur&=67108863,w=Math.imul(ze,Pt),j=(j=Math.imul(ze,Ot))+Math.imul(qe,Pt)|0,E=Math.imul(qe,Ot);var kr=(X+(w=w+Math.imul(tt,Wt)|0)|0)+((8191&(j=(j=j+Math.imul(tt,Lt)|0)+Math.imul(Pe,Wt)|0))<<13)|0;X=((E=E+Math.imul(Pe,Lt)|0)+(j>>>13)|0)+(kr>>>26)|0,kr&=67108863;var ar=(X+(w=Math.imul(ze,Wt))|0)+((8191&(j=(j=Math.imul(ze,Lt))+Math.imul(qe,Wt)|0))<<13)|0;return X=((E=Math.imul(qe,Lt))+(j>>>13)|0)+(ar>>>26)|0,ar&=67108863,G[0]=gr,G[1]=pt,G[2]=De,G[3]=st,G[4]=At,G[5]=ve,G[6]=Re,G[7]=nt,G[8]=dt,G[9]=Ft,G[10]=bt,G[11]=Nt,G[12]=Kt,G[13]=ir,G[14]=rr,G[15]=nr,G[16]=ur,G[17]=kr,G[18]=ar,X!==0&&(G[19]=X,S.length++),S};function D(A,N,S){S.negative=N.negative^A.negative,S.length=A.length+N.length;for(var w=0,j=0,E=0;E<S.length-1;E++){var I=j;j=0;for(var L=67108863&w,G=Math.min(E,N.length-1),X=Math.max(0,E-A.length+1);X<=G;X++){var re=E-X,q=(0|A.words[re])*(0|N.words[X]),ee=67108863&q;L=67108863&(ee=ee+L|0),j+=(I=(I=I+(q/67108864|0)|0)+(ee>>>26)|0)>>>26,I&=67108863}S.words[E]=L,w=I,I=j}return w!==0?S.words[E]=w:S.length--,S._strip()}function F(A,N,S){return D(A,N,S)}Math.imul||(T=C),r.prototype.mulTo=function(A,N){var S=this.length+A.length;return this.length===10&&A.length===10?T(this,A,N):S<63?C(this,A,N):S<1024?D(this,A,N):F(this,A,N)},r.prototype.mul=function(A){var N=new r(null);return N.words=new Array(this.length+A.length),this.mulTo(A,N)},r.prototype.mulf=function(A){var N=new r(null);return N.words=new Array(this.length+A.length),F(this,A,N)},r.prototype.imul=function(A){return this.clone().mulTo(A,this)},r.prototype.imuln=function(A){var N=A<0;N&&(A=-A),a(typeof A=="number"),a(A<67108864);for(var S=0,w=0;w<this.length;w++){var j=(0|this.words[w])*A,E=(67108863&j)+(67108863&S);S>>=26,S+=j/67108864|0,S+=E>>>26,this.words[w]=67108863&E}return S!==0&&(this.words[w]=S,this.length++),N?this.ineg():this},r.prototype.muln=function(A){return this.clone().imuln(A)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(A){var N=(function(E){for(var I=new Array(E.bitLength()),L=0;L<I.length;L++){var G=L/26|0,X=L%26;I[L]=E.words[G]>>>X&1}return I})(A);if(N.length===0)return new r(1);for(var S=this,w=0;w<N.length&&N[w]===0;w++,S=S.sqr());if(++w<N.length)for(var j=S.sqr();w<N.length;w++,j=j.sqr())N[w]!==0&&(S=S.mul(j));return S},r.prototype.iushln=function(A){a(typeof A=="number"&&A>=0);var N,S=A%26,w=(A-S)/26,j=67108863>>>26-S<<26-S;if(S!==0){var E=0;for(N=0;N<this.length;N++){var I=this.words[N]&j,L=(0|this.words[N])-I<<S;this.words[N]=L|E,E=I>>>26-S}E&&(this.words[N]=E,this.length++)}if(w!==0){for(N=this.length-1;N>=0;N--)this.words[N+w]=this.words[N];for(N=0;N<w;N++)this.words[N]=0;this.length+=w}return this._strip()},r.prototype.ishln=function(A){return a(this.negative===0),this.iushln(A)},r.prototype.iushrn=function(A,N,S){var w;a(typeof A=="number"&&A>=0),w=N?(N-N%26)/26:0;var j=A%26,E=Math.min((A-j)/26,this.length),I=67108863^67108863>>>j<<j,L=S;if(w-=E,w=Math.max(0,w),L){for(var G=0;G<E;G++)L.words[G]=this.words[G];L.length=E}if(E!==0)if(this.length>E)for(this.length-=E,G=0;G<this.length;G++)this.words[G]=this.words[G+E];else this.words[0]=0,this.length=1;var X=0;for(G=this.length-1;G>=0&&(X!==0||G>=w);G--){var re=0|this.words[G];this.words[G]=X<<26-j|re>>>j,X=re&I}return L&&X!==0&&(L.words[L.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(A,N,S){return a(this.negative===0),this.iushrn(A,N,S)},r.prototype.shln=function(A){return this.clone().ishln(A)},r.prototype.ushln=function(A){return this.clone().iushln(A)},r.prototype.shrn=function(A){return this.clone().ishrn(A)},r.prototype.ushrn=function(A){return this.clone().iushrn(A)},r.prototype.testn=function(A){a(typeof A=="number"&&A>=0);var N=A%26,S=(A-N)/26,w=1<<N;return!(this.length<=S)&&!!(this.words[S]&w)},r.prototype.imaskn=function(A){a(typeof A=="number"&&A>=0);var N=A%26,S=(A-N)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(N!==0&&S++,this.length=Math.min(S,this.length),N!==0){var w=67108863^67108863>>>N<<N;this.words[this.length-1]&=w}return this._strip()},r.prototype.maskn=function(A){return this.clone().imaskn(A)},r.prototype.iaddn=function(A){return a(typeof A=="number"),a(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},r.prototype._iaddn=function(A){this.words[0]+=A;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},r.prototype.isubn=function(A){if(a(typeof A=="number"),a(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this._strip()},r.prototype.addn=function(A){return this.clone().iaddn(A)},r.prototype.subn=function(A){return this.clone().isubn(A)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(A,N,S){var w,j,E=A.length+S;this._expand(E);var I=0;for(w=0;w<A.length;w++){j=(0|this.words[w+S])+I;var L=(0|A.words[w])*N;I=((j-=67108863&L)>>26)-(L/67108864|0),this.words[w+S]=67108863&j}for(;w<this.length-S;w++)I=(j=(0|this.words[w+S])+I)>>26,this.words[w+S]=67108863&j;if(I===0)return this._strip();for(a(I===-1),I=0,w=0;w<this.length;w++)I=(j=-(0|this.words[w])+I)>>26,this.words[w]=67108863&j;return this.negative=1,this._strip()},r.prototype._wordDiv=function(A,N){var S=(this.length,A.length),w=this.clone(),j=A,E=0|j.words[j.length-1];(S=26-this._countBits(E))!==0&&(j=j.ushln(S),w.iushln(S),E=0|j.words[j.length-1]);var I,L=w.length-j.length;if(N!=="mod"){(I=new r(null)).length=L+1,I.words=new Array(I.length);for(var G=0;G<I.length;G++)I.words[G]=0}var X=w.clone()._ishlnsubmul(j,1,L);X.negative===0&&(w=X,I&&(I.words[L]=1));for(var re=L-1;re>=0;re--){var q=67108864*(0|w.words[j.length+re])+(0|w.words[j.length+re-1]);for(q=Math.min(q/E|0,67108863),w._ishlnsubmul(j,q,re);w.negative!==0;)q--,w.negative=0,w._ishlnsubmul(j,1,re),w.isZero()||(w.negative^=1);I&&(I.words[re]=q)}return I&&I._strip(),w._strip(),N!=="div"&&S!==0&&w.iushrn(S),{div:I||null,mod:w}},r.prototype.divmod=function(A,N,S){return a(!A.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&A.negative===0?(E=this.neg().divmod(A,N),N!=="mod"&&(w=E.div.neg()),N!=="div"&&(j=E.mod.neg(),S&&j.negative!==0&&j.iadd(A)),{div:w,mod:j}):this.negative===0&&A.negative!==0?(E=this.divmod(A.neg(),N),N!=="mod"&&(w=E.div.neg()),{div:w,mod:E.mod}):(this.negative&A.negative)!=0?(E=this.neg().divmod(A.neg(),N),N!=="div"&&(j=E.mod.neg(),S&&j.negative!==0&&j.isub(A)),{div:E.div,mod:j}):A.length>this.length||this.cmp(A)<0?{div:new r(0),mod:this}:A.length===1?N==="div"?{div:this.divn(A.words[0]),mod:null}:N==="mod"?{div:null,mod:new r(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new r(this.modrn(A.words[0]))}:this._wordDiv(A,N);var w,j,E},r.prototype.div=function(A){return this.divmod(A,"div",!1).div},r.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},r.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},r.prototype.divRound=function(A){var N=this.divmod(A);if(N.mod.isZero())return N.div;var S=N.div.negative!==0?N.mod.isub(A):N.mod,w=A.ushrn(1),j=A.andln(1),E=S.cmp(w);return E<0||j===1&&E===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},r.prototype.modrn=function(A){var N=A<0;N&&(A=-A),a(A<=67108863);for(var S=(1<<26)%A,w=0,j=this.length-1;j>=0;j--)w=(S*w+(0|this.words[j]))%A;return N?-w:w},r.prototype.modn=function(A){return this.modrn(A)},r.prototype.idivn=function(A){var N=A<0;N&&(A=-A),a(A<=67108863);for(var S=0,w=this.length-1;w>=0;w--){var j=(0|this.words[w])+67108864*S;this.words[w]=j/A|0,S=j%A}return this._strip(),N?this.ineg():this},r.prototype.divn=function(A){return this.clone().idivn(A)},r.prototype.egcd=function(A){a(A.negative===0),a(!A.isZero());var N=this,S=A.clone();N=N.negative!==0?N.umod(A):N.clone();for(var w=new r(1),j=new r(0),E=new r(0),I=new r(1),L=0;N.isEven()&&S.isEven();)N.iushrn(1),S.iushrn(1),++L;for(var G=S.clone(),X=N.clone();!N.isZero();){for(var re=0,q=1;(N.words[0]&q)==0&&re<26;++re,q<<=1);if(re>0)for(N.iushrn(re);re-- >0;)(w.isOdd()||j.isOdd())&&(w.iadd(G),j.isub(X)),w.iushrn(1),j.iushrn(1);for(var ee=0,R=1;(S.words[0]&R)==0&&ee<26;++ee,R<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(G),I.isub(X)),E.iushrn(1),I.iushrn(1);N.cmp(S)>=0?(N.isub(S),w.isub(E),j.isub(I)):(S.isub(N),E.isub(w),I.isub(j))}return{a:E,b:I,gcd:S.iushln(L)}},r.prototype._invmp=function(A){a(A.negative===0),a(!A.isZero());var N=this,S=A.clone();N=N.negative!==0?N.umod(A):N.clone();for(var w,j=new r(1),E=new r(0),I=S.clone();N.cmpn(1)>0&&S.cmpn(1)>0;){for(var L=0,G=1;(N.words[0]&G)==0&&L<26;++L,G<<=1);if(L>0)for(N.iushrn(L);L-- >0;)j.isOdd()&&j.iadd(I),j.iushrn(1);for(var X=0,re=1;(S.words[0]&re)==0&&X<26;++X,re<<=1);if(X>0)for(S.iushrn(X);X-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);N.cmp(S)>=0?(N.isub(S),j.isub(E)):(S.isub(N),E.isub(j))}return(w=N.cmpn(1)===0?j:E).cmpn(0)<0&&w.iadd(A),w},r.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var N=this.clone(),S=A.clone();N.negative=0,S.negative=0;for(var w=0;N.isEven()&&S.isEven();w++)N.iushrn(1),S.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;S.isEven();)S.iushrn(1);var j=N.cmp(S);if(j<0){var E=N;N=S,S=E}else if(j===0||S.cmpn(1)===0)break;N.isub(S)}return S.iushln(w)},r.prototype.invm=function(A){return this.egcd(A).a.umod(A)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(A){return this.words[0]&A},r.prototype.bincn=function(A){a(typeof A=="number");var N=A%26,S=(A-N)/26,w=1<<N;if(this.length<=S)return this._expand(S+1),this.words[S]|=w,this;for(var j=w,E=S;j!==0&&E<this.length;E++){var I=0|this.words[E];j=(I+=j)>>>26,I&=67108863,this.words[E]=I}return j!==0&&(this.words[E]=j,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(A){var N,S=A<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)N=1;else{S&&(A=-A),a(A<=67108863,"Number is too big");var w=0|this.words[0];N=w===A?0:w<A?-1:1}return this.negative!==0?0|-N:N},r.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var N=this.ucmp(A);return this.negative!==0?0|-N:N},r.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var N=0,S=this.length-1;S>=0;S--){var w=0|this.words[S],j=0|A.words[S];if(w!==j){w<j?N=-1:w>j&&(N=1);break}}return N},r.prototype.gtn=function(A){return this.cmpn(A)===1},r.prototype.gt=function(A){return this.cmp(A)===1},r.prototype.gten=function(A){return this.cmpn(A)>=0},r.prototype.gte=function(A){return this.cmp(A)>=0},r.prototype.ltn=function(A){return this.cmpn(A)===-1},r.prototype.lt=function(A){return this.cmp(A)===-1},r.prototype.lten=function(A){return this.cmpn(A)<=0},r.prototype.lte=function(A){return this.cmp(A)<=0},r.prototype.eqn=function(A){return this.cmpn(A)===0},r.prototype.eq=function(A){return this.cmp(A)===0},r.red=function(A){return new _(A)},r.prototype.toRed=function(A){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},r.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(A){return this.red=A,this},r.prototype.forceRed=function(A){return a(!this.red,"Already a number in reduction context"),this._forceRed(A)},r.prototype.redAdd=function(A){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},r.prototype.redIAdd=function(A){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},r.prototype.redSub=function(A){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},r.prototype.redISub=function(A){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},r.prototype.redShl=function(A){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},r.prototype.redMul=function(A){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},r.prototype.redIMul=function(A){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},r.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(A){return a(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var H={k256:null,p224:null,p192:null,p25519:null};function O(A,N){this.name=A,this.p=new r(N,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function K(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(A){if(typeof A=="string"){var N=r._prime(A);this.m=N.p,this.prime=N}else a(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function M(A){_.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var A=new r(null);return A.words=new Array(Math.ceil(this.n/13)),A},O.prototype.ireduce=function(A){var N,S=A;do this.split(S,this.tmp),N=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(N>this.n);var w=N<this.n?-1:S.ucmp(this.p);return w===0?(S.words[0]=0,S.length=1):w>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},O.prototype.split=function(A,N){A.iushrn(this.n,0,N)},O.prototype.imulK=function(A){return A.imul(this.k)},i($,O),$.prototype.split=function(A,N){for(var S=Math.min(A.length,9),w=0;w<S;w++)N.words[w]=A.words[w];if(N.length=S,A.length<=9)return A.words[0]=0,void(A.length=1);var j=A.words[9];for(N.words[N.length++]=4194303&j,w=10;w<A.length;w++){var E=0|A.words[w];A.words[w-10]=(4194303&E)<<4|j>>>22,j=E}j>>>=22,A.words[w-10]=j,j===0&&A.length>10?A.length-=10:A.length-=9},$.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var N=0,S=0;S<A.length;S++){var w=0|A.words[S];N+=977*w,A.words[S]=67108863&N,N=64*w+(N/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},i(B,O),i(K,O),i(U,O),U.prototype.imulK=function(A){for(var N=0,S=0;S<A.length;S++){var w=19*(0|A.words[S])+N,j=67108863&w;w>>>=26,A.words[S]=j,N=w}return N!==0&&(A.words[A.length++]=N),A},r._prime=function(A){if(H[A])return H[A];var N;if(A==="k256")N=new $;else if(A==="p224")N=new B;else if(A==="p192")N=new K;else{if(A!=="p25519")throw new Error("Unknown prime "+A);N=new U}return H[A]=N,N},_.prototype._verify1=function(A){a(A.negative===0,"red works only with positives"),a(A.red,"red works only with red numbers")},_.prototype._verify2=function(A,N){a((A.negative|N.negative)==0,"red works only with positives"),a(A.red&&A.red===N.red,"red works only with red numbers")},_.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(p(A,A.umod(this.m)._forceRed(this)),A)},_.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},_.prototype.add=function(A,N){this._verify2(A,N);var S=A.add(N);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},_.prototype.iadd=function(A,N){this._verify2(A,N);var S=A.iadd(N);return S.cmp(this.m)>=0&&S.isub(this.m),S},_.prototype.sub=function(A,N){this._verify2(A,N);var S=A.sub(N);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},_.prototype.isub=function(A,N){this._verify2(A,N);var S=A.isub(N);return S.cmpn(0)<0&&S.iadd(this.m),S},_.prototype.shl=function(A,N){return this._verify1(A),this.imod(A.ushln(N))},_.prototype.imul=function(A,N){return this._verify2(A,N),this.imod(A.imul(N))},_.prototype.mul=function(A,N){return this._verify2(A,N),this.imod(A.mul(N))},_.prototype.isqr=function(A){return this.imul(A,A.clone())},_.prototype.sqr=function(A){return this.mul(A,A)},_.prototype.sqrt=function(A){if(A.isZero())return A.clone();var N=this.m.andln(3);if(a(N%2==1),N===3){var S=this.m.add(new r(1)).iushrn(2);return this.pow(A,S)}for(var w=this.m.subn(1),j=0;!w.isZero()&&w.andln(1)===0;)j++,w.iushrn(1);a(!w.isZero());var E=new r(1).toRed(this),I=E.redNeg(),L=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new r(2*G*G).toRed(this);this.pow(G,L).cmp(I)!==0;)G.redIAdd(I);for(var X=this.pow(G,w),re=this.pow(A,w.addn(1).iushrn(1)),q=this.pow(A,w),ee=j;q.cmp(E)!==0;){for(var R=q,z=0;R.cmp(E)!==0;z++)R=R.redSqr();a(z<ee);var W=this.pow(X,new r(1).iushln(ee-z-1));re=re.redMul(W),X=W.redSqr(),q=q.redMul(X),ee=z}return re},_.prototype.invm=function(A){var N=A._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},_.prototype.pow=function(A,N){if(N.isZero())return new r(1).toRed(this);if(N.cmpn(1)===0)return A.clone();var S=new Array(16);S[0]=new r(1).toRed(this),S[1]=A;for(var w=2;w<S.length;w++)S[w]=this.mul(S[w-1],A);var j=S[0],E=0,I=0,L=N.bitLength()%26;for(L===0&&(L=26),w=N.length-1;w>=0;w--){for(var G=N.words[w],X=L-1;X>=0;X--){var re=G>>X&1;j!==S[0]&&(j=this.sqr(j)),re!==0||E!==0?(E<<=1,E|=re,(++I===4||w===0&&X===0)&&(j=this.mul(j,S[E]),I=0,E=0)):I=0}L=26}return j},_.prototype.convertTo=function(A){var N=A.umod(this.m);return N===A?N.clone():N},_.prototype.convertFrom=function(A){var N=A.clone();return N.red=null,N},r.mont=function(A){return new M(A)},i(M,_),M.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},M.prototype.convertFrom=function(A){var N=this.imod(A.mul(this.rinv));return N.red=null,N},M.prototype.imul=function(A,N){if(A.isZero()||N.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(N),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=S.isub(w).iushrn(this.shift),E=j;return j.cmp(this.m)>=0?E=j.isub(this.m):j.cmpn(0)<0&&(E=j.iadd(this.m)),E._forceRed(this)},M.prototype.mul=function(A,N){if(A.isZero()||N.isZero())return new r(0)._forceRed(this);var S=A.mul(N),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=S.isub(w).iushrn(this.shift),E=j;return j.cmp(this.m)>=0?E=j.isub(this.m):j.cmpn(0)<0&&(E=j.iadd(this.m)),E._forceRed(this)},M.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(f===void 0||f)},{buffer:188}],187:[function(t,f,m){var d;function s(i){this.rand=i}if(f.exports=function(i){return d||(d=new s(null)),d.generate(i)},f.exports.Rand=s,s.prototype.generate=function(i){return this._rand(i)},s.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var r=new Uint8Array(i),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(i){var r=new Uint8Array(i);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(i){var r=new Uint8Array(i);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=t("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(i){return a.randomBytes(i)}}catch{}},{crypto:188}],188:[function(t,f,m){},{}],189:[function(t,f,m){var d=t("safe-buffer").Buffer;function s(o){d.isBuffer(o)||(o=d.from(o));for(var c=o.length/4|0,p=new Array(c),g=0;g<c;g++)p[g]=o.readUInt32BE(4*g);return p}function a(o){for(;0<o.length;o++)o[0]=0}function i(o,c,p,g,h){for(var y,b,C,T,D=p[0],F=p[1],H=p[2],O=p[3],$=o[0]^c[0],B=o[1]^c[1],K=o[2]^c[2],U=o[3]^c[3],_=4,M=1;M<h;M++)y=D[$>>>24]^F[B>>>16&255]^H[K>>>8&255]^O[255&U]^c[_++],b=D[B>>>24]^F[K>>>16&255]^H[U>>>8&255]^O[255&$]^c[_++],C=D[K>>>24]^F[U>>>16&255]^H[$>>>8&255]^O[255&B]^c[_++],T=D[U>>>24]^F[$>>>16&255]^H[B>>>8&255]^O[255&K]^c[_++],$=y,B=b,K=C,U=T;return y=(g[$>>>24]<<24|g[B>>>16&255]<<16|g[K>>>8&255]<<8|g[255&U])^c[_++],b=(g[B>>>24]<<24|g[K>>>16&255]<<16|g[U>>>8&255]<<8|g[255&$])^c[_++],C=(g[K>>>24]<<24|g[U>>>16&255]<<16|g[$>>>8&255]<<8|g[255&B])^c[_++],T=(g[U>>>24]<<24|g[$>>>16&255]<<16|g[B>>>8&255]<<8|g[255&K])^c[_++],[y>>>=0,b>>>=0,C>>>=0,T>>>=0]}var r=[0,1,2,4,8,16,32,64,128,27,54],n=(function(){for(var o=new Array(256),c=0;c<256;c++)o[c]=c<128?c<<1:c<<1^283;for(var p=[],g=[],h=[[],[],[],[]],y=[[],[],[],[]],b=0,C=0,T=0;T<256;++T){var D=C^C<<1^C<<2^C<<3^C<<4;D=D>>>8^255&D^99,p[b]=D,g[D]=b;var F=o[b],H=o[F],O=o[H],$=257*o[D]^16843008*D;h[0][b]=$<<24|$>>>8,h[1][b]=$<<16|$>>>16,h[2][b]=$<<8|$>>>24,h[3][b]=$,$=16843009*O^65537*H^257*F^16843008*b,y[0][D]=$<<24|$>>>8,y[1][D]=$<<16|$>>>16,y[2][D]=$<<8|$>>>24,y[3][D]=$,b===0?b=C=1:(b=F^o[o[o[O^F]]],C^=o[o[C]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:h,INV_SUB_MIX:y}})();function l(o){this._key=s(o),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var o=this._key,c=o.length,p=c+6,g=4*(p+1),h=[],y=0;y<c;y++)h[y]=o[y];for(y=c;y<g;y++){var b=h[y-1];y%c==0?(b=b<<8|b>>>24,b=n.SBOX[b>>>24]<<24|n.SBOX[b>>>16&255]<<16|n.SBOX[b>>>8&255]<<8|n.SBOX[255&b],b^=r[y/c|0]<<24):c>6&&y%c==4&&(b=n.SBOX[b>>>24]<<24|n.SBOX[b>>>16&255]<<16|n.SBOX[b>>>8&255]<<8|n.SBOX[255&b]),h[y]=h[y-c]^b}for(var C=[],T=0;T<g;T++){var D=g-T,F=h[D-(T%4?0:4)];C[T]=T<4||D<=4?F:n.INV_SUB_MIX[0][n.SBOX[F>>>24]]^n.INV_SUB_MIX[1][n.SBOX[F>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[F>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[255&F]]}this._nRounds=p,this._keySchedule=h,this._invKeySchedule=C},l.prototype.encryptBlockRaw=function(o){return i(o=s(o),this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},l.prototype.encryptBlock=function(o){var c=this.encryptBlockRaw(o),p=d.allocUnsafe(16);return p.writeUInt32BE(c[0],0),p.writeUInt32BE(c[1],4),p.writeUInt32BE(c[2],8),p.writeUInt32BE(c[3],12),p},l.prototype.decryptBlock=function(o){var c=(o=s(o))[1];o[1]=o[3],o[3]=c;var p=i(o,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),g=d.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},l.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},f.exports.AES=l},{"safe-buffer":494}],190:[function(t,f,m){var d=t("./aes"),s=t("safe-buffer").Buffer,a=t("cipher-base"),i=t("inherits"),r=t("./ghash"),n=t("buffer-xor"),l=t("./incr32");function o(c,p,g,h){a.call(this);var y=s.alloc(4,0);this._cipher=new d.AES(p);var b=this._cipher.encryptBlock(y);this._ghash=new r(b),g=(function(C,T,D){if(T.length===12)return C._finID=s.concat([T,s.from([0,0,0,1])]),s.concat([T,s.from([0,0,0,2])]);var F=new r(D),H=T.length,O=H%16;F.update(T),O&&(O=16-O,F.update(s.alloc(O,0))),F.update(s.alloc(8,0));var $=8*H,B=s.alloc(8);B.writeUIntBE($,0,8),F.update(B),C._finID=F.state;var K=s.from(C._finID);return l(K),K})(this,g,b),this._prev=s.from(g),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._alen=0,this._len=0,this._mode=c,this._authTag=null,this._called=!1}i(o,a),o.prototype._update=function(c){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=s.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,c);return this._decrypt?this._ghash.update(c):this._ghash.update(g),this._len+=c.length,g},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var c=n(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(p,g){var h=0;p.length!==g.length&&h++;for(var y=Math.min(p.length,g.length),b=0;b<y;++b)h+=p[b]^g[b];return h})(c,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=c,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(c){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=c},o.prototype.setAAD=function(c){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(c),this._alen+=c.length},f.exports=o},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,f,m){var d=t("./encrypter"),s=t("./decrypter"),a=t("./modes/list.json");m.createCipher=m.Cipher=d.createCipher,m.createCipheriv=m.Cipheriv=d.createCipheriv,m.createDecipher=m.Decipher=s.createDecipher,m.createDecipheriv=m.Decipheriv=s.createDecipheriv,m.listCiphers=m.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,f,m){var d=t("./authCipher"),s=t("safe-buffer").Buffer,a=t("./modes"),i=t("./streamCipher"),r=t("cipher-base"),n=t("./aes"),l=t("evp_bytestokey");function o(g,h,y){r.call(this),this._cache=new c,this._last=void 0,this._cipher=new n.AES(h),this._prev=s.from(y),this._mode=g,this._autopadding=!0}function c(){this.cache=s.allocUnsafe(0)}function p(g,h,y){var b=a[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=s.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);if(typeof h=="string"&&(h=s.from(h)),h.length!==b.key/8)throw new TypeError("invalid key length "+h.length);return b.type==="stream"?new i(b.module,h,y,!0):b.type==="auth"?new d(b.module,h,y,!0):new o(b.module,h,y)}t("inherits")(o,r),o.prototype._update=function(g){var h,y;this._cache.add(g);for(var b=[];h=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,h),b.push(y);return s.concat(b)},o.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return(function(h){var y=h[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var b=-1;++b<y;)if(h[b+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return h.slice(0,16-y)})(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},o.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},c.prototype.add=function(g){this.cache=s.concat([this.cache,g])},c.prototype.get=function(g){var h;if(g){if(this.cache.length>16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h}else if(this.cache.length>=16)return h=this.cache.slice(0,16),this.cache=this.cache.slice(16),h;return null},c.prototype.flush=function(){if(this.cache.length)return this.cache},m.createDecipher=function(g,h){var y=a[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=l(h,!1,y.key,y.iv);return p(g,b.key,b.iv)},m.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,f,m){var d=t("./modes"),s=t("./authCipher"),a=t("safe-buffer").Buffer,i=t("./streamCipher"),r=t("cipher-base"),n=t("./aes"),l=t("evp_bytestokey");function o(h,y,b){r.call(this),this._cache=new p,this._cipher=new n.AES(y),this._prev=a.from(b),this._mode=h,this._autopadding=!0}t("inherits")(o,r),o.prototype._update=function(h){var y,b;this._cache.add(h);for(var C=[];y=this._cache.get();)b=this._mode.encrypt(this,y),C.push(b);return a.concat(C)};var c=a.alloc(16,16);function p(){this.cache=a.allocUnsafe(0)}function g(h,y,b){var C=d[h.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),y.length!==C.key/8)throw new TypeError("invalid key length "+y.length);if(typeof b=="string"&&(b=a.from(b)),C.mode!=="GCM"&&b.length!==C.iv)throw new TypeError("invalid iv length "+b.length);return C.type==="stream"?new i(C.module,y,b):C.type==="auth"?new s(C.module,y,b):new o(C.module,y,b)}o.prototype._final=function(){var h=this._cache.flush();if(this._autopadding)return h=this._mode.encrypt(this,h),this._cipher.scrub(),h;if(!h.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},o.prototype.setAutoPadding=function(h){return this._autopadding=!!h,this},p.prototype.add=function(h){this.cache=a.concat([this.cache,h])},p.prototype.get=function(){if(this.cache.length>15){var h=this.cache.slice(0,16);return this.cache=this.cache.slice(16),h}return null},p.prototype.flush=function(){for(var h=16-this.cache.length,y=a.allocUnsafe(h),b=-1;++b<h;)y.writeUInt8(h,b);return a.concat([this.cache,y])},m.createCipheriv=g,m.createCipher=function(h,y){var b=d[h.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var C=l(y,!1,b.key,b.iv);return g(h,C.key,C.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,f,m){var d=t("safe-buffer").Buffer,s=d.alloc(16,0);function a(r){var n=d.allocUnsafe(16);return n.writeUInt32BE(r[0]>>>0,0),n.writeUInt32BE(r[1]>>>0,4),n.writeUInt32BE(r[2]>>>0,8),n.writeUInt32BE(r[3]>>>0,12),n}function i(r){this.h=r,this.state=d.alloc(16,0),this.cache=d.allocUnsafe(0)}i.prototype.ghash=function(r){for(var n=-1;++n<r.length;)this.state[n]^=r[n];this._multiply()},i.prototype._multiply=function(){for(var r,n,l,o=[(r=this.h).readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)],c=[0,0,0,0],p=-1;++p<128;){for((this.state[~~(p/8)]&1<<7-p%8)!=0&&(c[0]^=o[0],c[1]^=o[1],c[2]^=o[2],c[3]^=o[3]),l=(1&o[3])!=0,n=3;n>0;n--)o[n]=o[n]>>>1|(1&o[n-1])<<31;o[0]=o[0]>>>1,l&&(o[0]=o[0]^225<<24)}this.state=a(c)},i.prototype.update=function(r){var n;for(this.cache=d.concat([this.cache,r]);this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},i.prototype.final=function(r,n){return this.cache.length&&this.ghash(d.concat([this.cache,s],16)),this.ghash(a([0,r,0,n])),this.state},f.exports=i},{"safe-buffer":494}],195:[function(t,f,m){f.exports=function(d){for(var s,a=d.length;a--;){if((s=d.readUInt8(a))!==255){s++,d.writeUInt8(s,a);break}d.writeUInt8(0,a)}}},{}],196:[function(t,f,m){var d=t("buffer-xor");m.encrypt=function(s,a){var i=d(a,s._prev);return s._prev=s._cipher.encryptBlock(i),s._prev},m.decrypt=function(s,a){var i=s._prev;s._prev=a;var r=s._cipher.decryptBlock(a);return d(r,i)}},{"buffer-xor":219}],197:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("buffer-xor");function a(i,r,n){var l=r.length,o=s(r,i._cache);return i._cache=i._cache.slice(l),i._prev=d.concat([i._prev,n?r:o]),o}m.encrypt=function(i,r,n){for(var l,o=d.allocUnsafe(0);r.length;){if(i._cache.length===0&&(i._cache=i._cipher.encryptBlock(i._prev),i._prev=d.allocUnsafe(0)),!(i._cache.length<=r.length)){o=d.concat([o,a(i,r,n)]);break}l=i._cache.length,o=d.concat([o,a(i,r.slice(0,l),n)]),r=r.slice(l)}return o}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,f,m){var d=t("safe-buffer").Buffer;function s(i,r,n){for(var l,o,c=-1,p=0;++c<8;)l=r&1<<7-c?128:0,p+=(128&(o=i._cipher.encryptBlock(i._prev)[0]^l))>>c%8,i._prev=a(i._prev,n?l:o);return p}function a(i,r){var n=i.length,l=-1,o=d.allocUnsafe(i.length);for(i=d.concat([i,d.from([r])]);++l<n;)o[l]=i[l]<<1|i[l+1]>>7;return o}m.encrypt=function(i,r,n){for(var l=r.length,o=d.allocUnsafe(l),c=-1;++c<l;)o[c]=s(i,r[c],n);return o}},{"safe-buffer":494}],199:[function(t,f,m){var d=t("safe-buffer").Buffer;function s(a,i,r){var n=a._cipher.encryptBlock(a._prev)[0]^i;return a._prev=d.concat([a._prev.slice(1),d.from([r?i:n])]),n}m.encrypt=function(a,i,r){for(var n=i.length,l=d.allocUnsafe(n),o=-1;++o<n;)l[o]=s(a,i[o],r);return l}},{"safe-buffer":494}],200:[function(t,f,m){var d=t("buffer-xor"),s=t("safe-buffer").Buffer,a=t("../incr32");function i(r){var n=r._cipher.encryptBlockRaw(r._prev);return a(r._prev),n}m.encrypt=function(r,n){var l=Math.ceil(n.length/16),o=r._cache.length;r._cache=s.concat([r._cache,s.allocUnsafe(16*l)]);for(var c=0;c<l;c++){var p=i(r),g=o+16*c;r._cache.writeUInt32BE(p[0],g+0),r._cache.writeUInt32BE(p[1],g+4),r._cache.writeUInt32BE(p[2],g+8),r._cache.writeUInt32BE(p[3],g+12)}var h=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),d(n,h)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,f,m){m.encrypt=function(d,s){return d._cipher.encryptBlock(s)},m.decrypt=function(d,s){return d._cipher.decryptBlock(s)}},{}],202:[function(t,f,m){var d={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},s=t("./list.json");for(var a in s)s[a].module=d[s[a].mode];f.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,f,m){f.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,f,m){(function(d){(function(){var s=t("buffer-xor");function a(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}m.encrypt=function(i,r){for(;i._cache.length<r.length;)i._cache=d.concat([i._cache,a(i)]);var n=i._cache.slice(0,r.length);return i._cache=i._cache.slice(r.length),s(r,n)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,f,m){var d=t("./aes"),s=t("safe-buffer").Buffer,a=t("cipher-base");function i(r,n,l,o){a.call(this),this._cipher=new d.AES(n),this._prev=s.from(l),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=o,this._mode=r}t("inherits")(i,a),i.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)},i.prototype._final=function(){this._cipher.scrub()},f.exports=i},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,f,m){var d=t("browserify-des"),s=t("browserify-aes/browser"),a=t("browserify-aes/modes"),i=t("browserify-des/modes"),r=t("evp_bytestokey");function n(o,c,p){if(o=o.toLowerCase(),a[o])return s.createCipheriv(o,c,p);if(i[o])return new d({key:c,iv:p,mode:o});throw new TypeError("invalid suite type")}function l(o,c,p){if(o=o.toLowerCase(),a[o])return s.createDecipheriv(o,c,p);if(i[o])return new d({key:c,iv:p,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}m.createCipher=m.Cipher=function(o,c){var p,g;if(o=o.toLowerCase(),a[o])p=a[o].key,g=a[o].iv;else{if(!i[o])throw new TypeError("invalid suite type");p=8*i[o].key,g=i[o].iv}var h=r(c,!1,p,g);return n(o,h.key,h.iv)},m.createCipheriv=m.Cipheriv=n,m.createDecipher=m.Decipher=function(o,c){var p,g;if(o=o.toLowerCase(),a[o])p=a[o].key,g=a[o].iv;else{if(!i[o])throw new TypeError("invalid suite type");p=8*i[o].key,g=i[o].iv}var h=r(c,!1,p,g);return l(o,h.key,h.iv)},m.createDecipheriv=m.Decipheriv=l,m.listCiphers=m.getCiphers=function(){return Object.keys(i).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,f,m){var d=t("cipher-base"),s=t("des.js"),a=t("inherits"),i=t("safe-buffer").Buffer,r={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function n(l){d.call(this);var o,c=l.mode.toLowerCase(),p=r[c];o=l.decrypt?"decrypt":"encrypt";var g=l.key;i.isBuffer(g)||(g=i.from(g)),c!=="des-ede"&&c!=="des-ede-cbc"||(g=i.concat([g,g.slice(0,8)]));var h=l.iv;i.isBuffer(h)||(h=i.from(h)),this._des=p.create({key:g,iv:h,type:o})}r.des=r["des-cbc"],r.des3=r["des-ede3-cbc"],f.exports=n,a(n,d),n.prototype._update=function(l){return i.from(this._des.update(l))},n.prototype._final=function(){return i.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,f,m){m["des-ecb"]={key:8,iv:0},m["des-cbc"]=m.des={key:8,iv:8},m["des-ede3-cbc"]=m.des3={key:24,iv:8},m["des-ede3"]={key:24,iv:0},m["des-ede-cbc"]={key:16,iv:8},m["des-ede"]={key:16,iv:0}},{}],209:[function(t,f,m){(function(d){(function(){var s=t("bn.js"),a=t("randombytes");function i(n){var l,o=n.modulus.byteLength();do l=new s(a(o));while(l.cmp(n.modulus)>=0||!l.umod(n.prime1)||!l.umod(n.prime2));return l}function r(n,l){var o=(function(H){var O=i(H);return{blinder:O.toRed(s.mont(H.modulus)).redPow(new s(H.publicExponent)).fromRed(),unblinder:O.invm(H.modulus)}})(l),c=l.modulus.byteLength(),p=new s(n).mul(o.blinder).umod(l.modulus),g=p.toRed(s.mont(l.prime1)),h=p.toRed(s.mont(l.prime2)),y=l.coefficient,b=l.prime1,C=l.prime2,T=g.redPow(l.exponent1).fromRed(),D=h.redPow(l.exponent2).fromRed(),F=T.isub(D).imul(y).umod(b).imul(C);return D.iadd(F).imul(o.unblinder).umod(l.modulus).toArrayLike(d,"be",c)}r.getr=i,f.exports=r}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,f,m){f.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,f,m){f.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,f,m){f.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("create-hash"),a=t("readable-stream"),i=t("inherits"),r=t("./sign"),n=t("./verify"),l=t("./algorithms.json");function o(h){a.Writable.call(this);var y=l[h];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function c(h){a.Writable.call(this);var y=l[h];if(!y)throw new Error("Unknown message digest");this._hash=s(y.hash),this._tag=y.id,this._signType=y.sign}function p(h){return new o(h)}function g(h){return new c(h)}Object.keys(l).forEach((function(h){l[h].id=d.from(l[h].id,"hex"),l[h.toLowerCase()]=l[h]})),i(o,a.Writable),o.prototype._write=function(h,y,b){this._hash.update(h),b()},o.prototype.update=function(h,y){return typeof h=="string"&&(h=d.from(h,y)),this._hash.update(h),this},o.prototype.sign=function(h,y){this.end();var b=this._hash.digest(),C=r(b,h,this._hashType,this._signType,this._tag);return y?C.toString(y):C},i(c,a.Writable),c.prototype._write=function(h,y,b){this._hash.update(h),b()},c.prototype.update=function(h,y){return typeof h=="string"&&(h=d.from(h,y)),this._hash.update(h),this},c.prototype.verify=function(h,y,b){typeof y=="string"&&(y=d.from(y,b)),this.end();var C=this._hash.digest();return n(y,C,h,this._signType,this._tag)},f.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("create-hmac"),a=t("browserify-rsa"),i=t("elliptic").ec,r=t("bn.js"),n=t("parse-asn1"),l=t("./curves.json");function o(h,y,b,C){if((h=d.from(h.toArray())).length<y.byteLength()){var T=d.alloc(y.byteLength()-h.length);h=d.concat([T,h])}var D=b.length,F=(function($,B){$=($=c($,B)).mod(B);var K=d.from($.toArray());if(K.length<B.byteLength()){var U=d.alloc(B.byteLength()-K.length);K=d.concat([U,K])}return K})(b,y),H=d.alloc(D);H.fill(1);var O=d.alloc(D);return O=s(C,O).update(H).update(d.from([0])).update(h).update(F).digest(),H=s(C,O).update(H).digest(),{k:O=s(C,O).update(H).update(d.from([1])).update(h).update(F).digest(),v:H=s(C,O).update(H).digest()}}function c(h,y){var b=new r(h),C=(h.length<<3)-y.bitLength();return C>0&&b.ishrn(C),b}function p(h,y,b){var C,T;do{for(C=d.alloc(0);8*C.length<h.bitLength();)y.v=s(b,y.k).update(y.v).digest(),C=d.concat([C,y.v]);T=c(C,h),y.k=s(b,y.k).update(y.v).update(d.from([0])).digest(),y.v=s(b,y.k).update(y.v).digest()}while(T.cmp(h)!==-1);return T}function g(h,y,b,C){return h.toRed(r.mont(b)).redPow(y).fromRed().mod(C)}f.exports=function(h,y,b,C,T){var D=n(y);if(D.curve){if(C!=="ecdsa"&&C!=="ecdsa/rsa")throw new Error("wrong private key type");return(function($,B){var K=l[B.curve.join(".")];if(!K)throw new Error("unknown curve "+B.curve.join("."));var U=new i(K).keyFromPrivate(B.privateKey).sign($);return d.from(U.toDER())})(h,D)}if(D.type==="dsa"){if(C!=="dsa")throw new Error("wrong private key type");return(function($,B,K){for(var U,_=B.params.priv_key,M=B.params.p,A=B.params.q,N=B.params.g,S=new r(0),w=c($,A).mod(A),j=!1,E=o(_,A,$,K);j===!1;)U=p(A,E,K),S=g(N,U,M,A),(j=U.invm(A).imul(w.add(_.mul(S))).mod(A)).cmpn(0)===0&&(j=!1,S=new r(0));return(function(I,L){I=I.toArray(),L=L.toArray(),128&I[0]&&(I=[0].concat(I)),128&L[0]&&(L=[0].concat(L));var G=[48,I.length+L.length+4,2,I.length];return G=G.concat(I,[2,L.length],L),d.from(G)})(S,j)})(h,D,b)}if(C!=="rsa"&&C!=="ecdsa/rsa")throw new Error("wrong private key type");h=d.concat([T,h]);for(var F=D.modulus.byteLength(),H=[0,1];h.length+H.length+1<F;)H.push(255);H.push(0);for(var O=-1;++O<h.length;)H.push(h[O]);return a(H,D)},f.exports.getKey=o,f.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("bn.js"),a=t("elliptic").ec,i=t("parse-asn1"),r=t("./curves.json");function n(l,o){if(l.cmpn(0)<=0)throw new Error("invalid sig");if(l.cmp(o)>=o)throw new Error("invalid sig")}f.exports=function(l,o,c,p,g){var h=i(c);if(h.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(H,O,$){var B=r[$.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+$.data.algorithm.curve.join("."));var K=new a(B),U=$.data.subjectPrivateKey.data;return K.verify(O,H,U)})(l,o,h)}if(h.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return(function(H,O,$){var B=$.data.p,K=$.data.q,U=$.data.g,_=$.data.pub_key,M=i.signature.decode(H,"der"),A=M.s,N=M.r;n(A,K),n(N,K);var S=s.mont(B),w=A.invm(K);return U.toRed(S).redPow(new s(O).mul(w).mod(K)).fromRed().mul(_.toRed(S).redPow(N.mul(w).mod(K)).fromRed()).mod(B).mod(K).cmp(N)===0})(l,o,h)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");o=d.concat([g,o]);for(var y=h.modulus.byteLength(),b=[1],C=0;o.length+b.length+2<y;)b.push(255),C++;b.push(0);for(var T=-1;++T<o.length;)b.push(o[T]);b=d.from(b);var D=s.mont(h.modulus);l=(l=new s(l).toRed(D)).redPow(new s(h.publicExponent)),l=d.from(l.fromRed().toArray());var F=C<8?1:0;for(y=Math.min(l.length,b.length),l.length!==b.length&&(F=1),T=-1;++T<y;)F|=l[T]^b[T];return F===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,f,m){},{}],217:[function(t,f,m){var d=t("buffer"),s=d.Buffer;function a(r,n){for(var l in r)n[l]=r[l]}function i(r,n,l){return s(r,n,l)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?f.exports=d:(a(d,m),m.Buffer=i),a(s,i),i.from=function(r,n,l){if(typeof r=="number")throw new TypeError("Argument must not be a number");return s(r,n,l)},i.alloc=function(r,n,l){if(typeof r!="number")throw new TypeError("Argument must be a number");var o=s(r);return n!==void 0?typeof l=="string"?o.fill(n,l):o.fill(n):o.fill(0),o},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return s(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(r)}},{buffer:220}],218:[function(t,f,m){var d=t("safe-buffer").Buffer,s=d.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){var y;switch(this.encoding=(function(b){var C=(function(T){if(!T)return"utf8";for(var D;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(D)return;T=(""+T).toLowerCase(),D=!0}})(b);if(typeof C!="string"&&(d.isEncoding===s||!s(b)))throw new Error("Unknown encoding: "+b);return C||b})(h),this.encoding){case"utf16le":this.text=n,this.end=l,y=4;break;case"utf8":this.fillLast=r,y=4;break;case"base64":this.text=o,this.end=c,y=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(y)}function i(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function r(h){var y=this.lastTotal-this.lastNeed,b=(function(C,T,D){if((192&T[0])!=128)return C.lastNeed=0,"";if(C.lastNeed>1&&T.length>1){if((192&T[1])!=128)return C.lastNeed=1,"";if(C.lastNeed>2&&T.length>2&&(192&T[2])!=128)return C.lastNeed=2,""}})(this,h);return b!==void 0?b:this.lastNeed<=h.length?(h.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,y,0,h.length),void(this.lastNeed-=h.length))}function n(h,y){if((h.length-y)%2==0){var b=h.toString("utf16le",y);if(b){var C=b.charCodeAt(b.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",y,h.length-1)}function l(h){var y=h&&h.length?this.write(h):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function o(h,y){var b=(h.length-y)%3;return b===0?h.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",y,h.length-b))}function c(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function p(h){return h.toString(this.encoding)}function g(h){return h&&h.length?this.write(h):""}m.StringDecoder=a,a.prototype.write=function(h){if(h.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(h))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<h.length?y?y+this.text(h,b):this.text(h,b):y||""},a.prototype.end=function(h){var y=h&&h.length?this.write(h):"";return this.lastNeed?y+"":y},a.prototype.text=function(h,y){var b=(function(T,D,F){var H=D.length-1;if(H<F)return 0;var O=i(D[H]);return O>=0?(O>0&&(T.lastNeed=O-1),O):--H<F||O===-2?0:(O=i(D[H]))>=0?(O>0&&(T.lastNeed=O-2),O):--H<F||O===-2?0:(O=i(D[H]))>=0?(O>0&&(O===2?O=0:T.lastNeed=O-3),O):0})(this,h,y);if(!this.lastNeed)return h.toString("utf8",y);this.lastTotal=b;var C=h.length-(b-this.lastNeed);return h.copy(this.lastChar,0,C),h.toString("utf8",y,C)},a.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},{"safe-buffer":217}],219:[function(t,f,m){(function(d){(function(){f.exports=function(s,a){for(var i=Math.min(s.length,a.length),r=new d(i),n=0;n<i;++n)r[n]=s[n]^a[n];return r}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,f,m){(function(d){(function(){var s=t("base64-js"),a=t("ieee754");m.Buffer=r,m.SlowBuffer=function(R){return+R!=R&&(R=0),r.alloc(+R)},m.INSPECT_MAX_BYTES=50;function i(R){if(R>2147483647)throw new RangeError('The value "'+R+'" is invalid for option "size"');var z=new Uint8Array(R);return z.__proto__=r.prototype,z}function r(R,z,W){if(typeof R=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(R)}return n(R,z,W)}function n(R,z,W){if(typeof R=="string")return(function(ne,me){if(typeof me=="string"&&me!==""||(me="utf8"),!r.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Se=0|g(ne,me),Ee=i(Se),le=Ee.write(ne,me);return le!==Se&&(Ee=Ee.slice(0,le)),Ee})(R,z);if(ArrayBuffer.isView(R))return c(R);if(R==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(q(R,ArrayBuffer)||R&&q(R.buffer,ArrayBuffer))return(function(ne,me,Se){if(me<0||ne.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<me+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=me===void 0&&Se===void 0?new Uint8Array(ne):Se===void 0?new Uint8Array(ne,me):new Uint8Array(ne,me,Se),Ee.__proto__=r.prototype,Ee})(R,z,W);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var se=R.valueOf&&R.valueOf();if(se!=null&&se!==R)return r.from(se,z,W);var he=(function(ne){if(r.isBuffer(ne)){var me=0|p(ne.length),Se=i(me);return Se.length===0||ne.copy(Se,0,0,me),Se}if(ne.length!==void 0)return typeof ne.length!="number"||ee(ne.length)?i(0):c(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return c(ne.data)})(R);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return r.from(R[Symbol.toPrimitive]("string"),z,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}function l(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function o(R){return l(R),i(R<0?0:0|p(R))}function c(R){for(var z=R.length<0?0:0|p(R.length),W=i(z),se=0;se<z;se+=1)W[se]=255&R[se];return W}function p(R){if(R>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|R}function g(R,z){if(r.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||q(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var W=R.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&W===0)return 0;for(var he=!1;;)switch(z){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return G(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return X(R).length;default:if(he)return se?-1:G(R).length;z=(""+z).toLowerCase(),he=!0}}function h(R,z,W){var se=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(z>>>=0))return"";for(R||(R="utf8");;)switch(R){case"hex":return M(this,z,W);case"utf8":case"utf-8":return K(this,z,W);case"ascii":return U(this,z,W);case"latin1":case"binary":return _(this,z,W);case"base64":return B(this,z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,z,W);default:if(se)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),se=!0}}function y(R,z,W){var se=R[z];R[z]=R[W],R[W]=se}function b(R,z,W,se,he){if(R.length===0)return-1;if(typeof W=="string"?(se=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),ee(W=+W)&&(W=he?0:R.length-1),W<0&&(W=R.length+W),W>=R.length){if(he)return-1;W=R.length-1}else if(W<0){if(!he)return-1;W=0}if(typeof z=="string"&&(z=r.from(z,se)),r.isBuffer(z))return z.length===0?-1:C(R,z,W,se,he);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(R,z,W):Uint8Array.prototype.lastIndexOf.call(R,z,W):C(R,[z],W,se,he);throw new TypeError("val must be string, number or Buffer")}function C(R,z,W,se,he){var ne,me=1,Se=R.length,Ee=z.length;if(se!==void 0&&((se=String(se).toLowerCase())==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(R.length<2||z.length<2)return-1;me=2,Se/=2,Ee/=2,W/=2}function le(ge,pe){return me===1?ge[pe]:ge.readUInt16BE(pe*me)}if(he){var ie=-1;for(ne=W;ne<Se;ne++)if(le(R,ne)===le(z,ie===-1?0:ne-ie)){if(ie===-1&&(ie=ne),ne-ie+1===Ee)return ie*me}else ie!==-1&&(ne-=ne-ie),ie=-1}else for(W+Ee>Se&&(W=Se-Ee),ne=W;ne>=0;ne--){for(var ce=!0,ae=0;ae<Ee;ae++)if(le(R,ne+ae)!==le(z,ae)){ce=!1;break}if(ce)return ne}return-1}function T(R,z,W,se){W=Number(W)||0;var he=R.length-W;se?(se=Number(se))>he&&(se=he):se=he;var ne=z.length;se>ne/2&&(se=ne/2);for(var me=0;me<se;++me){var Se=parseInt(z.substr(2*me,2),16);if(ee(Se))return me;R[W+me]=Se}return me}function D(R,z,W,se){return re(G(z,R.length-W),R,W,se)}function F(R,z,W,se){return re((function(he){for(var ne=[],me=0;me<he.length;++me)ne.push(255&he.charCodeAt(me));return ne})(z),R,W,se)}function H(R,z,W,se){return F(R,z,W,se)}function O(R,z,W,se){return re(X(z),R,W,se)}function $(R,z,W,se){return re((function(he,ne){for(var me,Se,Ee,le=[],ie=0;ie<he.length&&!((ne-=2)<0);++ie)me=he.charCodeAt(ie),Se=me>>8,Ee=me%256,le.push(Ee),le.push(Se);return le})(z,R.length-W),R,W,se)}function B(R,z,W){return z===0&&W===R.length?s.fromByteArray(R):s.fromByteArray(R.slice(z,W))}function K(R,z,W){W=Math.min(R.length,W);for(var se=[],he=z;he<W;){var ne,me,Se,Ee,le=R[he],ie=null,ce=le>239?4:le>223?3:le>191?2:1;if(he+ce<=W)switch(ce){case 1:le<128&&(ie=le);break;case 2:(192&(ne=R[he+1]))==128&&(Ee=(31&le)<<6|63&ne)>127&&(ie=Ee);break;case 3:ne=R[he+1],me=R[he+2],(192&ne)==128&&(192&me)==128&&(Ee=(15&le)<<12|(63&ne)<<6|63&me)>2047&&(Ee<55296||Ee>57343)&&(ie=Ee);break;case 4:ne=R[he+1],me=R[he+2],Se=R[he+3],(192&ne)==128&&(192&me)==128&&(192&Se)==128&&(Ee=(15&le)<<18|(63&ne)<<12|(63&me)<<6|63&Se)>65535&&Ee<1114112&&(ie=Ee)}ie===null?(ie=65533,ce=1):ie>65535&&(ie-=65536,se.push(ie>>>10&1023|55296),ie=56320|1023&ie),se.push(ie),he+=ce}return(function(ae){var ge=ae.length;if(ge<=4096)return String.fromCharCode.apply(String,ae);for(var pe="",Ae=0;Ae<ge;)pe+=String.fromCharCode.apply(String,ae.slice(Ae,Ae+=4096));return pe})(se)}m.kMaxLength=2147483647,r.TYPED_ARRAY_SUPPORT=(function(){try{var R=new Uint8Array(1);return R.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},R.foo()===42}catch{return!1}})(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(R,z,W){return n(R,z,W)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(R,z,W){return(function(se,he,ne){return l(se),se<=0?i(se):he!==void 0?typeof ne=="string"?i(se).fill(he,ne):i(se).fill(he):i(se)})(R,z,W)},r.allocUnsafe=function(R){return o(R)},r.allocUnsafeSlow=function(R){return o(R)},r.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==r.prototype},r.compare=function(R,z){if(q(R,Uint8Array)&&(R=r.from(R,R.offset,R.byteLength)),q(z,Uint8Array)&&(z=r.from(z,z.offset,z.byteLength)),!r.isBuffer(R)||!r.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===z)return 0;for(var W=R.length,se=z.length,he=0,ne=Math.min(W,se);he<ne;++he)if(R[he]!==z[he]){W=R[he],se=z[he];break}return W<se?-1:se<W?1:0},r.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(R,z){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return r.alloc(0);var W;if(z===void 0)for(z=0,W=0;W<R.length;++W)z+=R[W].length;var se=r.allocUnsafe(z),he=0;for(W=0;W<R.length;++W){var ne=R[W];if(q(ne,Uint8Array)&&(ne=r.from(ne)),!r.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(se,he),he+=ne.length}return se},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<R;z+=2)y(this,z,z+1);return this},r.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<R;z+=4)y(this,z,z+3),y(this,z+1,z+2);return this},r.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<R;z+=8)y(this,z,z+7),y(this,z+1,z+6),y(this,z+2,z+5),y(this,z+3,z+4);return this},r.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?K(this,0,R):h.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(R){if(!r.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R||r.compare(this,R)===0},r.prototype.inspect=function(){var R="",z=m.INSPECT_MAX_BYTES;return R=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(R+=" ... "),"<Buffer "+R+">"},r.prototype.compare=function(R,z,W,se,he){if(q(R,Uint8Array)&&(R=r.from(R,R.offset,R.byteLength)),!r.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(z===void 0&&(z=0),W===void 0&&(W=R?R.length:0),se===void 0&&(se=0),he===void 0&&(he=this.length),z<0||W>R.length||se<0||he>this.length)throw new RangeError("out of range index");if(se>=he&&z>=W)return 0;if(se>=he)return-1;if(z>=W)return 1;if(this===R)return 0;for(var ne=(he>>>=0)-(se>>>=0),me=(W>>>=0)-(z>>>=0),Se=Math.min(ne,me),Ee=this.slice(se,he),le=R.slice(z,W),ie=0;ie<Se;++ie)if(Ee[ie]!==le[ie]){ne=Ee[ie],me=le[ie];break}return ne<me?-1:me<ne?1:0},r.prototype.includes=function(R,z,W){return this.indexOf(R,z,W)!==-1},r.prototype.indexOf=function(R,z,W){return b(this,R,z,W,!0)},r.prototype.lastIndexOf=function(R,z,W){return b(this,R,z,W,!1)},r.prototype.write=function(R,z,W,se){if(z===void 0)se="utf8",W=this.length,z=0;else if(W===void 0&&typeof z=="string")se=z,W=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(W)?(W>>>=0,se===void 0&&(se="utf8")):(se=W,W=void 0)}var he=this.length-z;if((W===void 0||W>he)&&(W=he),R.length>0&&(W<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var ne=!1;;)switch(se){case"hex":return T(this,R,z,W);case"utf8":case"utf-8":return D(this,R,z,W);case"ascii":return F(this,R,z,W);case"latin1":case"binary":return H(this,R,z,W);case"base64":return O(this,R,z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,z,W);default:if(ne)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ne=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(R,z,W){var se="";W=Math.min(R.length,W);for(var he=z;he<W;++he)se+=String.fromCharCode(127&R[he]);return se}function _(R,z,W){var se="";W=Math.min(R.length,W);for(var he=z;he<W;++he)se+=String.fromCharCode(R[he]);return se}function M(R,z,W){var se=R.length;(!z||z<0)&&(z=0),(!W||W<0||W>se)&&(W=se);for(var he="",ne=z;ne<W;++ne)he+=L(R[ne]);return he}function A(R,z,W){for(var se=R.slice(z,W),he="",ne=0;ne<se.length;ne+=2)he+=String.fromCharCode(se[ne]+256*se[ne+1]);return he}function N(R,z,W){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(R+z>W)throw new RangeError("Trying to access beyond buffer length")}function S(R,z,W,se,he,ne){if(!r.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>he||z<ne)throw new RangeError('"value" argument is out of bounds');if(W+se>R.length)throw new RangeError("Index out of range")}function w(R,z,W,se,he,ne){if(W+se>R.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function j(R,z,W,se,he){return z=+z,W>>>=0,he||w(R,0,W,4),a.write(R,z,W,se,23,4),W+4}function E(R,z,W,se,he){return z=+z,W>>>=0,he||w(R,0,W,8),a.write(R,z,W,se,52,8),W+8}r.prototype.slice=function(R,z){var W=this.length;(R=~~R)<0?(R+=W)<0&&(R=0):R>W&&(R=W),(z=z===void 0?W:~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),z<R&&(z=R);var se=this.subarray(R,z);return se.__proto__=r.prototype,se},r.prototype.readUIntLE=function(R,z,W){R>>>=0,z>>>=0,W||N(R,z,this.length);for(var se=this[R],he=1,ne=0;++ne<z&&(he*=256);)se+=this[R+ne]*he;return se},r.prototype.readUIntBE=function(R,z,W){R>>>=0,z>>>=0,W||N(R,z,this.length);for(var se=this[R+--z],he=1;z>0&&(he*=256);)se+=this[R+--z]*he;return se},r.prototype.readUInt8=function(R,z){return R>>>=0,z||N(R,1,this.length),this[R]},r.prototype.readUInt16LE=function(R,z){return R>>>=0,z||N(R,2,this.length),this[R]|this[R+1]<<8},r.prototype.readUInt16BE=function(R,z){return R>>>=0,z||N(R,2,this.length),this[R]<<8|this[R+1]},r.prototype.readUInt32LE=function(R,z){return R>>>=0,z||N(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},r.prototype.readUInt32BE=function(R,z){return R>>>=0,z||N(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},r.prototype.readIntLE=function(R,z,W){R>>>=0,z>>>=0,W||N(R,z,this.length);for(var se=this[R],he=1,ne=0;++ne<z&&(he*=256);)se+=this[R+ne]*he;return se>=(he*=128)&&(se-=Math.pow(2,8*z)),se},r.prototype.readIntBE=function(R,z,W){R>>>=0,z>>>=0,W||N(R,z,this.length);for(var se=z,he=1,ne=this[R+--se];se>0&&(he*=256);)ne+=this[R+--se]*he;return ne>=(he*=128)&&(ne-=Math.pow(2,8*z)),ne},r.prototype.readInt8=function(R,z){return R>>>=0,z||N(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},r.prototype.readInt16LE=function(R,z){R>>>=0,z||N(R,2,this.length);var W=this[R]|this[R+1]<<8;return 32768&W?4294901760|W:W},r.prototype.readInt16BE=function(R,z){R>>>=0,z||N(R,2,this.length);var W=this[R+1]|this[R]<<8;return 32768&W?4294901760|W:W},r.prototype.readInt32LE=function(R,z){return R>>>=0,z||N(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},r.prototype.readInt32BE=function(R,z){return R>>>=0,z||N(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},r.prototype.readFloatLE=function(R,z){return R>>>=0,z||N(R,4,this.length),a.read(this,R,!0,23,4)},r.prototype.readFloatBE=function(R,z){return R>>>=0,z||N(R,4,this.length),a.read(this,R,!1,23,4)},r.prototype.readDoubleLE=function(R,z){return R>>>=0,z||N(R,8,this.length),a.read(this,R,!0,52,8)},r.prototype.readDoubleBE=function(R,z){return R>>>=0,z||N(R,8,this.length),a.read(this,R,!1,52,8)},r.prototype.writeUIntLE=function(R,z,W,se){R=+R,z>>>=0,W>>>=0,se||S(this,R,z,W,Math.pow(2,8*W)-1,0);var he=1,ne=0;for(this[z]=255&R;++ne<W&&(he*=256);)this[z+ne]=R/he&255;return z+W},r.prototype.writeUIntBE=function(R,z,W,se){R=+R,z>>>=0,W>>>=0,se||S(this,R,z,W,Math.pow(2,8*W)-1,0);var he=W-1,ne=1;for(this[z+he]=255&R;--he>=0&&(ne*=256);)this[z+he]=R/ne&255;return z+W},r.prototype.writeUInt8=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,1,255,0),this[z]=255&R,z+1},r.prototype.writeUInt16LE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,2,65535,0),this[z]=255&R,this[z+1]=R>>>8,z+2},r.prototype.writeUInt16BE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,2,65535,0),this[z]=R>>>8,this[z+1]=255&R,z+2},r.prototype.writeUInt32LE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,4,4294967295,0),this[z+3]=R>>>24,this[z+2]=R>>>16,this[z+1]=R>>>8,this[z]=255&R,z+4},r.prototype.writeUInt32BE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,4,4294967295,0),this[z]=R>>>24,this[z+1]=R>>>16,this[z+2]=R>>>8,this[z+3]=255&R,z+4},r.prototype.writeIntLE=function(R,z,W,se){if(R=+R,z>>>=0,!se){var he=Math.pow(2,8*W-1);S(this,R,z,W,he-1,-he)}var ne=0,me=1,Se=0;for(this[z]=255&R;++ne<W&&(me*=256);)R<0&&Se===0&&this[z+ne-1]!==0&&(Se=1),this[z+ne]=(R/me>>0)-Se&255;return z+W},r.prototype.writeIntBE=function(R,z,W,se){if(R=+R,z>>>=0,!se){var he=Math.pow(2,8*W-1);S(this,R,z,W,he-1,-he)}var ne=W-1,me=1,Se=0;for(this[z+ne]=255&R;--ne>=0&&(me*=256);)R<0&&Se===0&&this[z+ne+1]!==0&&(Se=1),this[z+ne]=(R/me>>0)-Se&255;return z+W},r.prototype.writeInt8=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,1,127,-128),R<0&&(R=255+R+1),this[z]=255&R,z+1},r.prototype.writeInt16LE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,2,32767,-32768),this[z]=255&R,this[z+1]=R>>>8,z+2},r.prototype.writeInt16BE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,2,32767,-32768),this[z]=R>>>8,this[z+1]=255&R,z+2},r.prototype.writeInt32LE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,4,2147483647,-2147483648),this[z]=255&R,this[z+1]=R>>>8,this[z+2]=R>>>16,this[z+3]=R>>>24,z+4},r.prototype.writeInt32BE=function(R,z,W){return R=+R,z>>>=0,W||S(this,R,z,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[z]=R>>>24,this[z+1]=R>>>16,this[z+2]=R>>>8,this[z+3]=255&R,z+4},r.prototype.writeFloatLE=function(R,z,W){return j(this,R,z,!0,W)},r.prototype.writeFloatBE=function(R,z,W){return j(this,R,z,!1,W)},r.prototype.writeDoubleLE=function(R,z,W){return E(this,R,z,!0,W)},r.prototype.writeDoubleBE=function(R,z,W){return E(this,R,z,!1,W)},r.prototype.copy=function(R,z,W,se){if(!r.isBuffer(R))throw new TypeError("argument should be a Buffer");if(W||(W=0),se||se===0||(se=this.length),z>=R.length&&(z=R.length),z||(z=0),se>0&&se<W&&(se=W),se===W||R.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),R.length-z<se-W&&(se=R.length-z+W);var he=se-W;if(this===R&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,W,se);else if(this===R&&W<z&&z<se)for(var ne=he-1;ne>=0;--ne)R[ne+z]=this[ne+W];else Uint8Array.prototype.set.call(R,this.subarray(W,se),z);return he},r.prototype.fill=function(R,z,W,se){if(typeof R=="string"){if(typeof z=="string"?(se=z,z=0,W=this.length):typeof W=="string"&&(se=W,W=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!r.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(R.length===1){var he=R.charCodeAt(0);(se==="utf8"&&he<128||se==="latin1")&&(R=he)}}else typeof R=="number"&&(R&=255);if(z<0||this.length<z||this.length<W)throw new RangeError("Out of range index");if(W<=z)return this;var ne;if(z>>>=0,W=W===void 0?this.length:W>>>0,R||(R=0),typeof R=="number")for(ne=z;ne<W;++ne)this[ne]=R;else{var me=r.isBuffer(R)?R:r.from(R,se),Se=me.length;if(Se===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ne=0;ne<W-z;++ne)this[ne+z]=me[ne%Se]}return this};var I=/[^+/0-9A-Za-z-_]/g;function L(R){return R<16?"0"+R.toString(16):R.toString(16)}function G(R,z){var W;z=z||1/0;for(var se=R.length,he=null,ne=[],me=0;me<se;++me){if((W=R.charCodeAt(me))>55295&&W<57344){if(!he){if(W>56319){(z-=3)>-1&&ne.push(239,191,189);continue}if(me+1===se){(z-=3)>-1&&ne.push(239,191,189);continue}he=W;continue}if(W<56320){(z-=3)>-1&&ne.push(239,191,189),he=W;continue}W=65536+(he-55296<<10|W-56320)}else he&&(z-=3)>-1&&ne.push(239,191,189);if(he=null,W<128){if((z-=1)<0)break;ne.push(W)}else if(W<2048){if((z-=2)<0)break;ne.push(W>>6|192,63&W|128)}else if(W<65536){if((z-=3)<0)break;ne.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ne.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ne}function X(R){return s.toByteArray((function(z){if((z=(z=z.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z})(R))}function re(R,z,W,se){for(var he=0;he<se&&!(he+W>=z.length||he>=R.length);++he)z[he+W]=R[he];return he}function q(R,z){return R instanceof z||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===z.name}function ee(R){return R!=R}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("stream").Transform,a=t("string_decoder").StringDecoder;function i(r){s.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(i,s),i.prototype.update=function(r,n,l){typeof r=="string"&&(r=d.from(r,n));var o=this._update(r);return this.hashMode?this:(l&&(o=this._toString(o,l)),o)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(r,n,l){var o;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(c){o=c}finally{l(o)}},i.prototype._flush=function(r){var n;try{this.push(this.__final())}catch(l){n=l}r(n)},i.prototype._finalOrDigest=function(r){var n=this.__final()||d.alloc(0);return r&&(n=this._toString(n,r,!0)),n},i.prototype._toString=function(r,n,l){if(this._decoder||(this._decoder=new a(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var o=this._decoder.write(r);return l&&(o+=this._decoder.end()),o},f.exports=i},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,f,m){var d=t("../internals/is-callable"),s=t("../internals/try-to-string"),a=TypeError;f.exports=function(i){if(d(i))return i;throw new a(s(i)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,f,m){var d=t("../internals/is-constructor"),s=t("../internals/try-to-string"),a=TypeError;f.exports=function(i){if(d(i))return i;throw new a(s(i)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,f,m){var d=t("../internals/is-callable"),s=String,a=TypeError;f.exports=function(i){if(typeof i=="object"||d(i))return i;throw new a("Can't set "+s(i)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,f,m){var d=t("../internals/well-known-symbol"),s=t("../internals/object-create"),a=t("../internals/object-define-property").f,i=d("unscopables"),r=Array.prototype;r[i]===void 0&&a(r,i,{configurable:!0,value:s(null)}),f.exports=function(n){r[i][n]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,f,m){var d=t("../internals/object-is-prototype-of"),s=TypeError;f.exports=function(a,i){if(d(i,a))return a;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,f,m){var d=t("../internals/is-object"),s=String,a=TypeError;f.exports=function(i){if(d(i))return i;throw new a(s(i)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,f,m){var d=t("../internals/to-indexed-object"),s=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),i=function(r){return function(n,l,o){var c,p=d(n),g=a(p),h=s(o,g);if(r&&l!=l){for(;g>h;)if((c=p[h++])!=c)return!0}else for(;g>h;h++)if((r||h in p)&&p[h]===l)return r||h||0;return!r&&-1}};f.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,f,m){var d=t("../internals/function-bind-context"),s=t("../internals/function-uncurry-this"),a=t("../internals/indexed-object"),i=t("../internals/to-object"),r=t("../internals/length-of-array-like"),n=t("../internals/array-species-create"),l=s([].push),o=function(c){var p=c===1,g=c===2,h=c===3,y=c===4,b=c===6,C=c===7,T=c===5||b;return function(D,F,H,O){for(var $,B,K=i(D),U=a(K),_=d(F,H),M=r(U),A=0,N=O||n,S=p?N(D,M):g||C?N(D,0):void 0;M>A;A++)if((T||A in U)&&(B=_($=U[A],A,K),c))if(p)S[A]=B;else if(B)switch(c){case 3:return!0;case 5:return $;case 6:return A;case 2:l(S,$)}else switch(c){case 4:return!1;case 7:l(S,$)}return b?-1:h||y?y:S}};f.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,f,m){var d=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),a=t("../internals/create-property"),i=Array,r=Math.max;f.exports=function(n,l,o){for(var c=s(n),p=d(l,c),g=d(o===void 0?c:o,c),h=i(r(g-p,0)),y=0;p<g;p++,y++)a(h,y,n[p]);return h.length=y,h}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,f,m){var d=t("../internals/function-uncurry-this");f.exports=d([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,f,m){var d=t("../internals/is-array"),s=t("../internals/is-constructor"),a=t("../internals/is-object"),i=t("../internals/well-known-symbol")("species"),r=Array;f.exports=function(n){var l;return d(n)&&(l=n.constructor,(s(l)&&(l===r||d(l.prototype))||a(l)&&(l=l[i])===null)&&(l=void 0)),l===void 0?r:l}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,f,m){var d=t("../internals/array-species-constructor");f.exports=function(s,a){return new(d(s))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(t,f,m){var d=t("../internals/well-known-symbol")("iterator"),s=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){s=!0}};i[d]=function(){return this},Array.from(i,(function(){throw 2}))}catch{}f.exports=function(r,n){try{if(!n&&!s)return!1}catch{return!1}var l=!1;try{var o={};o[d]=function(){return{next:function(){return{done:l=!0}}}},r(o)}catch{}return l}},{"../internals/well-known-symbol":357}],235:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=d({}.toString),a=d("".slice);f.exports=function(i){return a(s(i),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,f,m){var d=t("../internals/to-string-tag-support"),s=t("../internals/is-callable"),a=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),r=Object,n=a((function(){return arguments})())==="Arguments";f.exports=d?a:function(l){var o,c,p;return l===void 0?"Undefined":l===null?"Null":typeof(c=(function(g,h){try{return g[h]}catch{}})(o=r(l),i))=="string"?c:n?a(o):(p=a(o))==="Object"&&s(o.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,f,m){var d=t("../internals/has-own-property"),s=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),i=t("../internals/object-define-property");f.exports=function(r,n,l){for(var o=s(n),c=i.f,p=a.f,g=0;g<o.length;g++){var h=o[g];d(r,h)||l&&d(l,h)||c(r,h,p(n,h))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,f,m){var d=t("../internals/well-known-symbol")("match");f.exports=function(s){var a=/./;try{"/./"[s](a)}catch{try{return a[d]=!1,"/./"[s](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,f,m){var d=t("../internals/fails");f.exports=!d((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(t,f,m){f.exports=function(d,s){return{value:d,done:s}}},{}],241:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");f.exports=d?function(i,r,n){return s.f(i,r,a(1,n))}:function(i,r,n){return i[r]=n,i}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,f,m){f.exports=function(d,s){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:s}}},{}],243:[function(t,f,m){var d=t("../internals/to-property-key"),s=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");f.exports=function(i,r,n){var l=d(r);l in i?s.f(i,l,a(0,n)):i[l]=n}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,f,m){var d=t("../internals/make-built-in"),s=t("../internals/object-define-property");f.exports=function(a,i,r){return r.get&&d(r.get,i,{getter:!0}),r.set&&d(r.set,i,{setter:!0}),s.f(a,i,r)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,f,m){var d=t("../internals/is-callable"),s=t("../internals/object-define-property"),a=t("../internals/make-built-in"),i=t("../internals/define-global-property");f.exports=function(r,n,l,o){o||(o={});var c=o.enumerable,p=o.name!==void 0?o.name:n;if(d(l)&&a(l,p,o),o.global)c?r[n]=l:i(n,l);else{try{o.unsafe?r[n]&&(c=!0):delete r[n]}catch{}c?r[n]=l:s.f(r,n,{value:l,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return r}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,f,m){var d=t("../internals/global"),s=Object.defineProperty;f.exports=function(a,i){try{s(d,a,{value:i,configurable:!0,writable:!0})}catch{d[a]=i}return i}},{"../internals/global":274}],247:[function(t,f,m){var d=t("../internals/fails");f.exports=!d((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,f,m){var d=typeof document=="object"&&document.all,s=d===void 0&&d!==void 0;f.exports={all:d,IS_HTMLDDA:s}},{}],249:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/is-object"),a=d.document,i=s(a)&&s(a.createElement);f.exports=function(r){return i?a.createElement(r):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,f,m){var d=t("../internals/engine-is-deno"),s=t("../internals/engine-is-node");f.exports=!d&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,f,m){f.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,f,m){var d=t("../internals/engine-user-agent");f.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,f,m){var d=t("../internals/engine-user-agent");f.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},{"../internals/engine-user-agent":256}],254:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/classof-raw");f.exports=s(d.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,f,m){var d=t("../internals/engine-user-agent");f.exports=/web0s(?!.*chrome)/i.test(d)},{"../internals/engine-user-agent":256}],256:[function(t,f,m){f.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,f,m){var d,s,a=t("../internals/global"),i=t("../internals/engine-user-agent"),r=a.process,n=a.Deno,l=r&&r.versions||n&&n.version,o=l&&l.v8;o&&(s=(d=o.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!s&&i&&(!(d=i.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=i.match(/Chrome\/(\d+)/))&&(s=+d[1]),f.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,f,m){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),i=t("../internals/define-built-in"),r=t("../internals/define-global-property"),n=t("../internals/copy-constructor-properties"),l=t("../internals/is-forced");f.exports=function(o,c){var p,g,h,y,b,C=o.target,T=o.global,D=o.stat;if(p=T?d:D?d[C]||r(C,{}):(d[C]||{}).prototype)for(g in c){if(y=c[g],h=o.dontCallGetSet?(b=s(p,g))&&b.value:p[g],!l(T?g:C+(D?".":"#")+g,o.forced)&&h!==void 0){if(typeof y==typeof h)continue;n(y,h)}(o.sham||h&&h.sham)&&a(y,"sham",!0),i(p,g,y,o)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,f,m){f.exports=function(d){try{return!!d()}catch{return!0}}},{}],261:[function(t,f,m){var d=t("../internals/function-bind-native"),s=Function.prototype,a=s.apply,i=s.call;f.exports=typeof Reflect=="object"&&Reflect.apply||(d?i.bind(a):function(){return i.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,f,m){var d=t("../internals/function-uncurry-this-clause"),s=t("../internals/a-callable"),a=t("../internals/function-bind-native"),i=d(d.bind);f.exports=function(r,n){return s(r),n===void 0?r:a?i(r,n):function(){return r.apply(n,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,f,m){var d=t("../internals/fails");f.exports=!d((function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,f,m){var d=t("../internals/function-bind-native"),s=Function.prototype.call;f.exports=d?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/has-own-property"),a=Function.prototype,i=d&&Object.getOwnPropertyDescriptor,r=s(a,"name"),n=r&&(function(){}).name==="something",l=r&&(!d||d&&i(a,"name").configurable);f.exports={EXISTS:r,PROPER:n,CONFIGURABLE:l}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/a-callable");f.exports=function(a,i,r){try{return d(s(Object.getOwnPropertyDescriptor(a,i)[r]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,f,m){var d=t("../internals/classof-raw"),s=t("../internals/function-uncurry-this");f.exports=function(a){if(d(a)==="Function")return s(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,f,m){var d=t("../internals/function-bind-native"),s=Function.prototype,a=s.call,i=d&&s.bind.bind(a,a);f.exports=d?i:function(r){return function(){return a.apply(r,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/is-callable"),a=function(i){return s(i)?i:void 0};f.exports=function(i,r){return arguments.length<2?a(d[i]):d[i]&&d[i][r]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,f,m){var d=t("../internals/classof"),s=t("../internals/get-method"),a=t("../internals/is-null-or-undefined"),i=t("../internals/iterators"),r=t("../internals/well-known-symbol")("iterator");f.exports=function(n){if(!a(n))return s(n,r)||s(n,"@@iterator")||i[d(n)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,f,m){var d=t("../internals/function-call"),s=t("../internals/a-callable"),a=t("../internals/an-object"),i=t("../internals/try-to-string"),r=t("../internals/get-iterator-method"),n=TypeError;f.exports=function(l,o){var c=arguments.length<2?r(l):o;if(s(c))return a(d(c,l));throw new n(i(l)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/is-array"),a=t("../internals/is-callable"),i=t("../internals/classof-raw"),r=t("../internals/to-string"),n=d([].push);f.exports=function(l){if(a(l))return l;if(s(l)){for(var o=l.length,c=[],p=0;p<o;p++){var g=l[p];typeof g=="string"?n(c,g):typeof g!="number"&&i(g)!=="Number"&&i(g)!=="String"||n(c,r(g))}var h=c.length,y=!0;return function(b,C){if(y)return y=!1,C;if(s(this))return C;for(var T=0;T<h;T++)if(c[T]===b)return C}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,f,m){var d=t("../internals/a-callable"),s=t("../internals/is-null-or-undefined");f.exports=function(a,i){var r=a[i];return s(r)?void 0:d(r)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,f,m){(function(d){(function(){var s=function(a){return a&&a.Math===Math&&a};f.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof d=="object"&&d)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/to-object"),a=d({}.hasOwnProperty);f.exports=Object.hasOwn||function(i,r){return a(s(i),r)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,f,m){f.exports={}},{}],277:[function(t,f,m){f.exports=function(d,s){try{arguments.length===1?console.error(d):console.error(d,s)}catch{}}},{}],278:[function(t,f,m){var d=t("../internals/get-built-in");f.exports=d("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/fails"),a=t("../internals/document-create-element");f.exports=!d&&!s((function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/fails"),a=t("../internals/classof-raw"),i=Object,r=d("".split);f.exports=s((function(){return!i("z").propertyIsEnumerable(0)}))?function(n){return a(n)==="String"?r(n,""):i(n)}:i},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/is-callable"),a=t("../internals/shared-store"),i=d(Function.toString);s(a.inspectSource)||(a.inspectSource=function(r){return i(r)}),f.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,f,m){var d,s,a,i=t("../internals/weak-map-basic-detection"),r=t("../internals/global"),n=t("../internals/is-object"),l=t("../internals/create-non-enumerable-property"),o=t("../internals/has-own-property"),c=t("../internals/shared-store"),p=t("../internals/shared-key"),g=t("../internals/hidden-keys"),h=r.TypeError,y=r.WeakMap;if(i||c.state){var b=c.state||(c.state=new y);b.get=b.get,b.has=b.has,b.set=b.set,d=function(T,D){if(b.has(T))throw new h("Object already initialized");return D.facade=T,b.set(T,D),D},s=function(T){return b.get(T)||{}},a=function(T){return b.has(T)}}else{var C=p("state");g[C]=!0,d=function(T,D){if(o(T,C))throw new h("Object already initialized");return D.facade=T,l(T,C,D),D},s=function(T){return o(T,C)?T[C]:{}},a=function(T){return o(T,C)}}f.exports={set:d,get:s,has:a,enforce:function(T){return a(T)?s(T):d(T,{})},getterFor:function(T){return function(D){var F;if(!n(D)||(F=s(D)).type!==T)throw new h("Incompatible receiver, "+T+" required");return F}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,f,m){var d=t("../internals/well-known-symbol"),s=t("../internals/iterators"),a=d("iterator"),i=Array.prototype;f.exports=function(r){return r!==void 0&&(s.Array===r||i[a]===r)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,f,m){var d=t("../internals/classof-raw");f.exports=Array.isArray||function(s){return d(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,f,m){var d=t("../internals/document-all"),s=d.all;f.exports=d.IS_HTMLDDA?function(a){return typeof a=="function"||a===s}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/fails"),a=t("../internals/is-callable"),i=t("../internals/classof"),r=t("../internals/get-built-in"),n=t("../internals/inspect-source"),l=function(){},o=[],c=r("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=d(p.exec),h=!p.test(l),y=function(C){if(!a(C))return!1;try{return c(l,o,C),!0}catch{return!1}},b=function(C){if(!a(C))return!1;switch(i(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!g(p,n(C))}catch{return!0}};b.sham=!0,f.exports=!c||s((function(){var C;return y(y.call)||!y(Object)||!y((function(){C=!0}))||C}))?b:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,f,m){var d=t("../internals/fails"),s=t("../internals/is-callable"),a=/#|\.prototype\./,i=function(c,p){var g=n[r(c)];return g===o||g!==l&&(s(p)?d(p):!!p)},r=i.normalize=function(c){return String(c).replace(a,".").toLowerCase()},n=i.data={},l=i.NATIVE="N",o=i.POLYFILL="P";f.exports=i},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,f,m){f.exports=function(d){return d==null}},{}],289:[function(t,f,m){var d=t("../internals/is-callable"),s=t("../internals/document-all"),a=s.all;f.exports=s.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:d(i)||i===a}:function(i){return typeof i=="object"?i!==null:d(i)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,f,m){f.exports=!1},{}],291:[function(t,f,m){var d=t("../internals/is-object"),s=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");f.exports=function(i){var r;return d(i)&&((r=i[a])!==void 0?!!r:s(i)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,f,m){var d=t("../internals/get-built-in"),s=t("../internals/is-callable"),a=t("../internals/object-is-prototype-of"),i=t("../internals/use-symbol-as-uid"),r=Object;f.exports=i?function(n){return typeof n=="symbol"}:function(n){var l=d("Symbol");return s(l)&&a(l.prototype,r(n))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,f,m){var d=t("../internals/function-bind-context"),s=t("../internals/function-call"),a=t("../internals/an-object"),i=t("../internals/try-to-string"),r=t("../internals/is-array-iterator-method"),n=t("../internals/length-of-array-like"),l=t("../internals/object-is-prototype-of"),o=t("../internals/get-iterator"),c=t("../internals/get-iterator-method"),p=t("../internals/iterator-close"),g=TypeError,h=function(b,C){this.stopped=b,this.result=C},y=h.prototype;f.exports=function(b,C,T){var D,F,H,O,$,B,K,U=T&&T.that,_=!(!T||!T.AS_ENTRIES),M=!(!T||!T.IS_RECORD),A=!(!T||!T.IS_ITERATOR),N=!(!T||!T.INTERRUPTED),S=d(C,U),w=function(E){return D&&p(D,"normal",E),new h(!0,E)},j=function(E){return _?(a(E),N?S(E[0],E[1],w):S(E[0],E[1])):N?S(E,w):S(E)};if(M)D=b.iterator;else if(A)D=b;else{if(!(F=c(b)))throw new g(i(b)+" is not iterable");if(r(F)){for(H=0,O=n(b);O>H;H++)if(($=j(b[H]))&&l(y,$))return $;return new h(!1)}D=o(b,F)}for(B=M?b.next:D.next;!(K=s(B,D)).done;){try{$=j(K.value)}catch(E){p(D,"throw",E)}if(typeof $=="object"&&$&&l(y,$))return $}return new h(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,f,m){var d=t("../internals/function-call"),s=t("../internals/an-object"),a=t("../internals/get-method");f.exports=function(i,r,n){var l,o;s(i);try{if(!(l=a(i,"return"))){if(r==="throw")throw n;return n}l=d(l,i)}catch(c){o=!0,l=c}if(r==="throw")throw n;if(o)throw l;return s(l),n}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,f,m){var d=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),a=t("../internals/create-property-descriptor"),i=t("../internals/set-to-string-tag"),r=t("../internals/iterators"),n=function(){return this};f.exports=function(l,o,c,p){var g=o+" Iterator";return l.prototype=s(d,{next:a(+!p,c)}),i(l,g,!1,!0),r[g]=n,l}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-call"),a=t("../internals/is-pure"),i=t("../internals/function-name"),r=t("../internals/is-callable"),n=t("../internals/iterator-create-constructor"),l=t("../internals/object-get-prototype-of"),o=t("../internals/object-set-prototype-of"),c=t("../internals/set-to-string-tag"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),h=t("../internals/well-known-symbol"),y=t("../internals/iterators"),b=t("../internals/iterators-core"),C=i.PROPER,T=i.CONFIGURABLE,D=b.IteratorPrototype,F=b.BUGGY_SAFARI_ITERATORS,H=h("iterator"),O=function(){return this};f.exports=function($,B,K,U,_,M,A){n(K,B,U);var N,S,w,j=function(q){if(q===_&&X)return X;if(!F&&q&&q in L)return L[q];switch(q){case"keys":case"values":case"entries":return function(){return new K(this,q)}}return function(){return new K(this)}},E=B+" Iterator",I=!1,L=$.prototype,G=L[H]||L["@@iterator"]||_&&L[_],X=!F&&G||j(_),re=B==="Array"&&L.entries||G;if(re&&(N=l(re.call(new $)))!==Object.prototype&&N.next&&(a||l(N)===D||(o?o(N,D):r(N[H])||g(N,H,O)),c(N,E,!0,!0),a&&(y[E]=O)),C&&_==="values"&&G&&G.name!=="values"&&(!a&&T?p(L,"name","values"):(I=!0,X=function(){return s(G,this)})),_)if(S={values:j("values"),keys:M?X:j("keys"),entries:j("entries")},A)for(w in S)(F||I||!(w in L))&&g(L,w,S[w]);else d({target:B,proto:!0,forced:F||I},S);return a&&!A||L[H]===X||g(L,H,X,{name:_}),y[B]=X,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,f,m){var d,s,a,i=t("../internals/fails"),r=t("../internals/is-callable"),n=t("../internals/is-object"),l=t("../internals/object-create"),o=t("../internals/object-get-prototype-of"),c=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),h=p("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(s=o(o(a)))!==Object.prototype&&(d=s):y=!0),!n(d)||i((function(){var b={};return d[h].call(b)!==b}))?d={}:g&&(d=l(d)),r(d[h])||c(d,h,(function(){return this})),f.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,f,m){arguments[4][276][0].apply(m,arguments)},{dup:276}],299:[function(t,f,m){var d=t("../internals/to-length");f.exports=function(s){return d(s.length)}},{"../internals/to-length":343}],300:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/fails"),a=t("../internals/is-callable"),i=t("../internals/has-own-property"),r=t("../internals/descriptors"),n=t("../internals/function-name").CONFIGURABLE,l=t("../internals/inspect-source"),o=t("../internals/internal-state"),c=o.enforce,p=o.get,g=String,h=Object.defineProperty,y=d("".slice),b=d("".replace),C=d([].join),T=r&&!s((function(){return h((function(){}),"length",{value:8}).length!==8})),D=String(String).split("String"),F=f.exports=function(H,O,$){y(g(O),0,7)==="Symbol("&&(O="["+b(g(O),/^Symbol\(([^)]*)\)/,"$1")+"]"),$&&$.getter&&(O="get "+O),$&&$.setter&&(O="set "+O),(!i(H,"name")||n&&H.name!==O)&&(r?h(H,"name",{value:O,configurable:!0}):H.name=O),T&&$&&i($,"arity")&&H.length!==$.arity&&h(H,"length",{value:$.arity});try{$&&i($,"constructor")&&$.constructor?r&&h(H,"prototype",{writable:!1}):H.prototype&&(H.prototype=void 0)}catch{}var B=c(H);return i(B,"source")||(B.source=C(D,typeof O=="string"?O:"")),H};Function.prototype.toString=F((function(){return a(this)&&p(this).source||l(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,f,m){var d=Math.ceil,s=Math.floor;f.exports=Math.trunc||function(a){var i=+a;return(i>0?s:d)(i)}},{}],302:[function(t,f,m){var d,s,a,i,r,n=t("../internals/global"),l=t("../internals/function-bind-context"),o=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/task").set,p=t("../internals/queue"),g=t("../internals/engine-is-ios"),h=t("../internals/engine-is-ios-pebble"),y=t("../internals/engine-is-webos-webkit"),b=t("../internals/engine-is-node"),C=n.MutationObserver||n.WebKitMutationObserver,T=n.document,D=n.process,F=n.Promise,H=o(n,"queueMicrotask"),O=H&&H.value;if(!O){var $=new p,B=function(){var K,U;for(b&&(K=D.domain)&&K.exit();U=$.get();)try{U()}catch(_){throw $.head&&d(),_}K&&K.enter()};g||b||y||!C||!T?!h&&F&&F.resolve?((i=F.resolve(void 0)).constructor=F,r=l(i.then,i),d=function(){r(B)}):b?d=function(){D.nextTick(B)}:(c=l(c,n),d=function(){c(B)}):(s=!0,a=T.createTextNode(""),new C(B).observe(a,{characterData:!0}),d=function(){a.data=s=!s}),O=function(K){$.head||d(),$.add(K)}}f.exports=O},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,f,m){var d=t("../internals/a-callable"),s=TypeError,a=function(i){var r,n;this.promise=new i((function(l,o){if(r!==void 0||n!==void 0)throw new s("Bad Promise constructor");r=l,n=o})),this.resolve=d(r),this.reject=d(n)};f.exports.f=function(i){return new a(i)}},{"../internals/a-callable":222}],304:[function(t,f,m){var d=t("../internals/is-regexp"),s=TypeError;f.exports=function(a){if(d(a))throw new s("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/function-uncurry-this"),a=t("../internals/function-call"),i=t("../internals/fails"),r=t("../internals/object-keys"),n=t("../internals/object-get-own-property-symbols"),l=t("../internals/object-property-is-enumerable"),o=t("../internals/to-object"),c=t("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,h=s([].concat);f.exports=!p||i((function(){if(d&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},b={},C=Symbol("assign detection");return y[C]=7,"abcdefghijklmnopqrst".split("").forEach((function(T){b[T]=T})),p({},y)[C]!==7||r(p({},b)).join("")!=="abcdefghijklmnopqrst"}))?function(y,b){for(var C=o(y),T=arguments.length,D=1,F=n.f,H=l.f;T>D;)for(var O,$=c(arguments[D++]),B=F?h(r($),F($)):r($),K=B.length,U=0;K>U;)O=B[U++],d&&!a(H,$,O)||(C[O]=$[O]);return C}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,f,m){var d,s=t("../internals/an-object"),a=t("../internals/object-define-properties"),i=t("../internals/enum-bug-keys"),r=t("../internals/hidden-keys"),n=t("../internals/html"),l=t("../internals/document-create-element"),o=t("../internals/shared-key"),c=o("IE_PROTO"),p=function(){},g=function(b){return"<script>"+b+"<\/script>"},h=function(b){b.write(g("")),b.close();var C=b.parentWindow.Object;return b=null,C},y=function(){try{d=new ActiveXObject("htmlfile")}catch{}var b,C;y=typeof document<"u"?document.domain&&d?h(d):((C=l("iframe")).style.display="none",n.appendChild(C),C.src="javascript:",(b=C.contentWindow.document).open(),b.write(g("document.F=Object")),b.close(),b.F):h(d);for(var T=i.length;T--;)delete y.prototype[i[T]];return y()};r[c]=!0,f.exports=Object.create||function(b,C){var T;return b!==null?(p.prototype=s(b),T=new p,p.prototype=null,T[c]=b):T=y(),C===void 0?T:a.f(T,C)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/v8-prototype-define-bug"),a=t("../internals/object-define-property"),i=t("../internals/an-object"),r=t("../internals/to-indexed-object"),n=t("../internals/object-keys");m.f=d&&!s?Object.defineProperties:function(l,o){i(l);for(var c,p=r(o),g=n(o),h=g.length,y=0;h>y;)a.f(l,c=g[y++],p[c]);return l}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),a=t("../internals/v8-prototype-define-bug"),i=t("../internals/an-object"),r=t("../internals/to-property-key"),n=TypeError,l=Object.defineProperty,o=Object.getOwnPropertyDescriptor;m.f=d?a?function(c,p,g){if(i(c),p=r(p),i(g),typeof c=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var h=o(c,p);h&&h.writable&&(c[p]=g.value,g={configurable:"configurable"in g?g.configurable:h.configurable,enumerable:"enumerable"in g?g.enumerable:h.enumerable,writable:!1})}return l(c,p,g)}:l:function(c,p,g){if(i(c),p=r(p),i(g),s)try{return l(c,p,g)}catch{}if("get"in g||"set"in g)throw new n("Accessors not supported");return"value"in g&&(c[p]=g.value),c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/function-call"),a=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),r=t("../internals/to-indexed-object"),n=t("../internals/to-property-key"),l=t("../internals/has-own-property"),o=t("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;m.f=d?c:function(p,g){if(p=r(p),g=n(g),o)try{return c(p,g)}catch{}if(l(p,g))return i(!s(a.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,f,m){var d=t("../internals/classof-raw"),s=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-names").f,i=t("../internals/array-slice-simple"),r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];f.exports.f=function(n){return r&&d(n)==="Window"?(function(l){try{return a(l)}catch{return i(r)}})(n):a(s(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,f,m){var d=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");m.f=Object.getOwnPropertyNames||function(a){return d(a,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,f,m){m.f=Object.getOwnPropertySymbols},{}],313:[function(t,f,m){var d=t("../internals/has-own-property"),s=t("../internals/is-callable"),a=t("../internals/to-object"),i=t("../internals/shared-key"),r=t("../internals/correct-prototype-getter"),n=i("IE_PROTO"),l=Object,o=l.prototype;f.exports=r?l.getPrototypeOf:function(c){var p=a(c);if(d(p,n))return p[n];var g=p.constructor;return s(g)&&p instanceof g?g.prototype:p instanceof l?o:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,f,m){var d=t("../internals/function-uncurry-this");f.exports=d({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=t("../internals/has-own-property"),a=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,r=t("../internals/hidden-keys"),n=d([].push);f.exports=function(l,o){var c,p=a(l),g=0,h=[];for(c in p)!s(r,c)&&s(p,c)&&n(h,c);for(;o.length>g;)s(p,c=o[g++])&&(~i(h,c)||n(h,c));return h}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,f,m){var d=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");f.exports=Object.keys||function(a){return d(a,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,f,m){var d={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,a=s&&!d.call({1:2},1);m.f=a?function(i){var r=s(this,i);return!!r&&r.enumerable}:d},{}],318:[function(t,f,m){var d=t("../internals/function-uncurry-this-accessor"),s=t("../internals/an-object"),a=t("../internals/a-possible-prototype");f.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var i,r=!1,n={};try{(i=d(Object.prototype,"__proto__","set"))(n,[]),r=n instanceof Array}catch{}return function(l,o){return s(l),a(o),r?i(l,o):l.__proto__=o,l}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/fails"),a=t("../internals/function-uncurry-this"),i=t("../internals/object-get-prototype-of"),r=t("../internals/object-keys"),n=t("../internals/to-indexed-object"),l=a(t("../internals/object-property-is-enumerable").f),o=a([].push),c=d&&s((function(){var g=Object.create(null);return g[2]=2,!l(g,2)})),p=function(g){return function(h){for(var y,b=n(h),C=r(b),T=c&&i(b)===null,D=C.length,F=0,H=[];D>F;)y=C[F++],d&&!(T?y in b:l(b,y))||o(H,g?[y,b[y]]:b[y]);return H}};f.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,f,m){var d=t("../internals/function-call"),s=t("../internals/is-callable"),a=t("../internals/is-object"),i=TypeError;f.exports=function(r,n){var l,o;if(n==="string"&&s(l=r.toString)&&!a(o=d(l,r))||s(l=r.valueOf)&&!a(o=d(l,r))||n!=="string"&&s(l=r.toString)&&!a(o=d(l,r)))return o;throw new i("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,f,m){var d=t("../internals/get-built-in"),s=t("../internals/function-uncurry-this"),a=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),r=t("../internals/an-object"),n=s([].concat);f.exports=d("Reflect","ownKeys")||function(l){var o=a.f(r(l)),c=i.f;return c?n(o,c(l)):o}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,f,m){var d=t("../internals/global");f.exports=d},{"../internals/global":274}],323:[function(t,f,m){f.exports=function(d){try{return{error:!1,value:d()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/promise-native-constructor"),a=t("../internals/is-callable"),i=t("../internals/is-forced"),r=t("../internals/inspect-source"),n=t("../internals/well-known-symbol"),l=t("../internals/engine-is-browser"),o=t("../internals/engine-is-deno"),c=t("../internals/is-pure"),p=t("../internals/engine-v8-version"),g=s&&s.prototype,h=n("species"),y=!1,b=a(d.PromiseRejectionEvent),C=i("Promise",(function(){var T=r(s),D=T!==String(s);if(!D&&p===66||c&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(T)){var F=new s((function(O){O(1)})),H=function(O){O((function(){}),(function(){}))};if((F.constructor={})[h]=H,!(y=F.then((function(){}))instanceof H))return!0}return!D&&(l||o)&&!b}));f.exports={CONSTRUCTOR:C,REJECTION_EVENT:b,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,f,m){var d=t("../internals/global");f.exports=d.Promise},{"../internals/global":274}],326:[function(t,f,m){var d=t("../internals/an-object"),s=t("../internals/is-object"),a=t("../internals/new-promise-capability");f.exports=function(i,r){if(d(i),s(r)&&r.constructor===i)return r;var n=a.f(i);return(0,n.resolve)(r),n.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,f,m){var d=t("../internals/promise-native-constructor"),s=t("../internals/check-correctness-of-iteration"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR;f.exports=a||!s((function(i){d.all(i).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,f,m){var d=function(){this.head=null,this.tail=null};d.prototype={add:function(s){var a={item:s,next:null},i=this.tail;i?i.next=a:this.head=a,this.tail=a},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},f.exports=d},{}],329:[function(t,f,m){var d=t("../internals/is-null-or-undefined"),s=TypeError;f.exports=function(a){if(d(a))throw new s("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(t,f,m){var d=t("../internals/get-built-in"),s=t("../internals/define-built-in-accessor"),a=t("../internals/well-known-symbol"),i=t("../internals/descriptors"),r=a("species");f.exports=function(n){var l=d(n);i&&l&&!l[r]&&s(l,r,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,f,m){var d=t("../internals/object-define-property").f,s=t("../internals/has-own-property"),a=t("../internals/well-known-symbol")("toStringTag");f.exports=function(i,r,n){i&&!n&&(i=i.prototype),i&&!s(i,a)&&d(i,a,{configurable:!0,value:r})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,f,m){var d=t("../internals/shared"),s=t("../internals/uid"),a=d("keys");f.exports=function(i){return a[i]||(a[i]=s(i))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/define-global-property"),a=d["__core-js_shared__"]||s("__core-js_shared__",{});f.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,f,m){var d=t("../internals/is-pure"),s=t("../internals/shared-store");(f.exports=function(a,i){return s[a]||(s[a]=i!==void 0?i:{})})("versions",[]).push({version:"3.33.0",mode:d?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,f,m){var d=t("../internals/an-object"),s=t("../internals/a-constructor"),a=t("../internals/is-null-or-undefined"),i=t("../internals/well-known-symbol")("species");f.exports=function(r,n){var l,o=d(r).constructor;return o===void 0||a(l=d(o)[i])?n:s(l)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,f,m){var d=t("../internals/engine-v8-version"),s=t("../internals/fails"),a=t("../internals/global").String;f.exports=!!Object.getOwnPropertySymbols&&!s((function(){var i=Symbol("symbol detection");return!a(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&d&&d<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,f,m){var d=t("../internals/function-call"),s=t("../internals/get-built-in"),a=t("../internals/well-known-symbol"),i=t("../internals/define-built-in");f.exports=function(){var r=s("Symbol"),n=r&&r.prototype,l=n&&n.valueOf,o=a("toPrimitive");n&&!n[o]&&i(n,o,(function(c){return d(l,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,f,m){var d=t("../internals/symbol-constructor-detection");f.exports=d&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,f,m){var d,s,a,i,r=t("../internals/global"),n=t("../internals/function-apply"),l=t("../internals/function-bind-context"),o=t("../internals/is-callable"),c=t("../internals/has-own-property"),p=t("../internals/fails"),g=t("../internals/html"),h=t("../internals/array-slice"),y=t("../internals/document-create-element"),b=t("../internals/validate-arguments-length"),C=t("../internals/engine-is-ios"),T=t("../internals/engine-is-node"),D=r.setImmediate,F=r.clearImmediate,H=r.process,O=r.Dispatch,$=r.Function,B=r.MessageChannel,K=r.String,U=0,_={};p((function(){d=r.location}));var M=function(w){if(c(_,w)){var j=_[w];delete _[w],j()}},A=function(w){return function(){M(w)}},N=function(w){M(w.data)},S=function(w){r.postMessage(K(w),d.protocol+"//"+d.host)};D&&F||(D=function(w){b(arguments.length,1);var j=o(w)?w:$(w),E=h(arguments,1);return _[++U]=function(){n(j,void 0,E)},s(U),U},F=function(w){delete _[w]},T?s=function(w){H.nextTick(A(w))}:O&&O.now?s=function(w){O.now(A(w))}:B&&!C?(i=(a=new B).port2,a.port1.onmessage=N,s=l(i.postMessage,i)):r.addEventListener&&o(r.postMessage)&&!r.importScripts&&d&&d.protocol!=="file:"&&!p(S)?(s=S,r.addEventListener("message",N,!1)):s="onreadystatechange"in y("script")?function(w){g.appendChild(y("script")).onreadystatechange=function(){g.removeChild(this),M(w)}}:function(w){setTimeout(A(w),0)}),f.exports={set:D,clear:F}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,f,m){var d=t("../internals/to-integer-or-infinity"),s=Math.max,a=Math.min;f.exports=function(i,r){var n=d(i);return n<0?s(n+r,0):a(n,r)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,f,m){var d=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");f.exports=function(a){return d(s(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,f,m){var d=t("../internals/math-trunc");f.exports=function(s){var a=+s;return a!=a||a===0?0:d(a)}},{"../internals/math-trunc":301}],343:[function(t,f,m){var d=t("../internals/to-integer-or-infinity"),s=Math.min;f.exports=function(a){return a>0?s(d(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,f,m){var d=t("../internals/require-object-coercible"),s=Object;f.exports=function(a){return s(d(a))}},{"../internals/require-object-coercible":329}],345:[function(t,f,m){var d=t("../internals/function-call"),s=t("../internals/is-object"),a=t("../internals/is-symbol"),i=t("../internals/get-method"),r=t("../internals/ordinary-to-primitive"),n=t("../internals/well-known-symbol"),l=TypeError,o=n("toPrimitive");f.exports=function(c,p){if(!s(c)||a(c))return c;var g,h=i(c,o);if(h){if(p===void 0&&(p="default"),g=d(h,c,p),!s(g)||a(g))return g;throw new l("Can't convert object to primitive value")}return p===void 0&&(p="number"),r(c,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,f,m){var d=t("../internals/to-primitive"),s=t("../internals/is-symbol");f.exports=function(a){var i=d(a,"string");return s(i)?i:i+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,f,m){var d={};d[t("../internals/well-known-symbol")("toStringTag")]="z",f.exports=String(d)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,f,m){var d=t("../internals/classof"),s=String;f.exports=function(a){if(d(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(a)}},{"../internals/classof":236}],349:[function(t,f,m){var d=String;f.exports=function(s){try{return d(s)}catch{return"Object"}}},{}],350:[function(t,f,m){var d=t("../internals/function-uncurry-this"),s=0,a=Math.random(),i=d(1 .toString);f.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+i(++s+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,f,m){var d=t("../internals/symbol-constructor-detection");f.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,f,m){var d=t("../internals/descriptors"),s=t("../internals/fails");f.exports=d&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,f,m){var d=TypeError;f.exports=function(s,a){if(s<a)throw new d("Not enough arguments");return s}},{}],354:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/is-callable"),a=d.WeakMap;f.exports=s(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,f,m){var d=t("../internals/path"),s=t("../internals/has-own-property"),a=t("../internals/well-known-symbol-wrapped"),i=t("../internals/object-define-property").f;f.exports=function(r){var n=d.Symbol||(d.Symbol={});s(n,r)||i(n,r,{value:a.f(r)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,f,m){var d=t("../internals/well-known-symbol");m.f=d},{"../internals/well-known-symbol":357}],357:[function(t,f,m){var d=t("../internals/global"),s=t("../internals/shared"),a=t("../internals/has-own-property"),i=t("../internals/uid"),r=t("../internals/symbol-constructor-detection"),n=t("../internals/use-symbol-as-uid"),l=d.Symbol,o=s("wks"),c=n?l.for||l:l&&l.withoutSetter||i;f.exports=function(p){return a(o,p)||(o[p]=r&&a(l,p)?l[p]:c("Symbol."+p)),o[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/array-iteration").findIndex,a=t("../internals/add-to-unscopables"),i=!0;"findIndex"in[]&&Array(1).findIndex((function(){i=!1})),d({target:"Array",proto:!0,forced:i},{findIndex:function(r){return s(this,r,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/array-iteration").find,a=t("../internals/add-to-unscopables"),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),d({target:"Array",proto:!0,forced:i},{find:function(r){return s(this,r,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/array-includes").includes,a=t("../internals/fails"),i=t("../internals/add-to-unscopables");d({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(r){return s(this,r,arguments.length>1?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,f,m){var d=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),a=t("../internals/iterators"),i=t("../internals/internal-state"),r=t("../internals/object-define-property").f,n=t("../internals/iterator-define"),l=t("../internals/create-iter-result-object"),o=t("../internals/is-pure"),c=t("../internals/descriptors"),p=i.set,g=i.getterFor("Array Iterator");f.exports=n(Array,"Array",(function(y,b){p(this,{type:"Array Iterator",target:d(y),index:0,kind:b})}),(function(){var y=g(this),b=y.target,C=y.kind,T=y.index++;if(!b||T>=b.length)return y.target=void 0,l(void 0,!0);switch(C){case"keys":return l(T,!1);case"values":return l(b[T],!1)}return l([T,b[T]],!1)}),"values");var h=a.Arguments=a.Array;if(s("keys"),s("values"),s("entries"),!o&&c&&h.name!=="values")try{r(h,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/get-built-in"),a=t("../internals/function-apply"),i=t("../internals/function-call"),r=t("../internals/function-uncurry-this"),n=t("../internals/fails"),l=t("../internals/is-callable"),o=t("../internals/is-symbol"),c=t("../internals/array-slice"),p=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),h=String,y=s("JSON","stringify"),b=r(/./.exec),C=r("".charAt),T=r("".charCodeAt),D=r("".replace),F=r(1 .toString),H=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,B=!g||n((function(){var M=s("Symbol")("stringify detection");return y([M])!=="[null]"||y({a:M})!=="{}"||y(Object(M))!=="{}"})),K=n((function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'})),U=function(M,A){var N=c(arguments),S=p(A);if(l(S)||M!==void 0&&!o(M))return N[1]=function(w,j){if(l(S)&&(j=i(S,this,h(w),j)),!o(j))return j},a(y,null,N)},_=function(M,A,N){var S=C(N,A-1),w=C(N,A+1);return b(O,M)&&!b($,w)||b($,M)&&!b(O,S)?"\\u"+F(T(M,0),16):M};y&&d({target:"JSON",stat:!0,arity:3,forced:B||K},{stringify:function(M,A,N){var S=c(arguments),w=a(B?U:y,null,S);return K&&typeof w=="string"?D(w,H,_):w}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,f,m){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},{"../internals/export":259}],364:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/object-assign");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/symbol-constructor-detection"),a=t("../internals/fails"),i=t("../internals/object-get-own-property-symbols"),r=t("../internals/to-object");d({target:"Object",stat:!0,forced:!s||a((function(){i.f(1)}))},{getOwnPropertySymbols:function(n){var l=i.f;return l?l(r(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/to-object"),a=t("../internals/object-keys");d({target:"Object",stat:!0,forced:t("../internals/fails")((function(){a(1)}))},{keys:function(i){return a(s(i))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/object-to-array").values;d({target:"Object",stat:!0},{values:function(a){return s(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-call"),a=t("../internals/a-callable"),i=t("../internals/new-promise-capability"),r=t("../internals/perform"),n=t("../internals/iterate");d({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(l){var o=this,c=i.f(o),p=c.resolve,g=c.reject,h=r((function(){var y=a(o.resolve),b=[],C=0,T=1;n(l,(function(D){var F=C++,H=!1;T++,s(y,o,D).then((function(O){H||(H=!0,b[F]=O,--T||p(b))}),g)})),--T||p(b)}));return h.error&&g(h.value),c.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/is-pure"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,i=t("../internals/promise-native-constructor"),r=t("../internals/get-built-in"),n=t("../internals/is-callable"),l=t("../internals/define-built-in"),o=i&&i.prototype;if(d({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(p){return this.then(void 0,p)}}),!s&&n(i)){var c=r("Promise").prototype.catch;o.catch!==c&&l(o,"catch",c,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,f,m){var d,s,a,i=t("../internals/export"),r=t("../internals/is-pure"),n=t("../internals/engine-is-node"),l=t("../internals/global"),o=t("../internals/function-call"),c=t("../internals/define-built-in"),p=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),h=t("../internals/set-species"),y=t("../internals/a-callable"),b=t("../internals/is-callable"),C=t("../internals/is-object"),T=t("../internals/an-instance"),D=t("../internals/species-constructor"),F=t("../internals/task").set,H=t("../internals/microtask"),O=t("../internals/host-report-errors"),$=t("../internals/perform"),B=t("../internals/queue"),K=t("../internals/internal-state"),U=t("../internals/promise-native-constructor"),_=t("../internals/promise-constructor-detection"),M=t("../internals/new-promise-capability"),A=_.CONSTRUCTOR,N=_.REJECTION_EVENT,S=_.SUBCLASSING,w=K.getterFor("Promise"),j=K.set,E=U&&U.prototype,I=U,L=E,G=l.TypeError,X=l.document,re=l.process,q=M.f,ee=q,R=!!(X&&X.createEvent&&l.dispatchEvent),z=function(ce){var ae;return!(!C(ce)||!b(ae=ce.then))&&ae},W=function(ce,ae){var ge,pe,Ae,fe=ae.value,te=ae.state===1,ye=te?ce.ok:ce.fail,Te=ce.resolve,Ce=ce.reject,je=ce.domain;try{ye?(te||(ae.rejection===2&&Se(ae),ae.rejection=1),ye===!0?ge=fe:(je&&je.enter(),ge=ye(fe),je&&(je.exit(),Ae=!0)),ge===ce.promise?Ce(new G("Promise-chain cycle")):(pe=z(ge))?o(pe,ge,Te,Ce):Te(ge)):Ce(fe)}catch(tt){je&&!Ae&&je.exit(),Ce(tt)}},se=function(ce,ae){ce.notified||(ce.notified=!0,H((function(){for(var ge,pe=ce.reactions;ge=pe.get();)W(ge,ce);ce.notified=!1,ae&&!ce.rejection&&ne(ce)})))},he=function(ce,ae,ge){var pe,Ae;R?((pe=X.createEvent("Event")).promise=ae,pe.reason=ge,pe.initEvent(ce,!1,!0),l.dispatchEvent(pe)):pe={promise:ae,reason:ge},!N&&(Ae=l["on"+ce])?Ae(pe):ce==="unhandledrejection"&&O("Unhandled promise rejection",ge)},ne=function(ce){o(F,l,(function(){var ae,ge=ce.facade,pe=ce.value;if(me(ce)&&(ae=$((function(){n?re.emit("unhandledRejection",pe,ge):he("unhandledrejection",ge,pe)})),ce.rejection=n||me(ce)?2:1,ae.error))throw ae.value}))},me=function(ce){return ce.rejection!==1&&!ce.parent},Se=function(ce){o(F,l,(function(){var ae=ce.facade;n?re.emit("rejectionHandled",ae):he("rejectionhandled",ae,ce.value)}))},Ee=function(ce,ae,ge){return function(pe){ce(ae,pe,ge)}},le=function(ce,ae,ge){ce.done||(ce.done=!0,ge&&(ce=ge),ce.value=ae,ce.state=2,se(ce,!0))},ie=function(ce,ae,ge){if(!ce.done){ce.done=!0,ge&&(ce=ge);try{if(ce.facade===ae)throw new G("Promise can't be resolved itself");var pe=z(ae);pe?H((function(){var Ae={done:!1};try{o(pe,ae,Ee(ie,Ae,ce),Ee(le,Ae,ce))}catch(fe){le(Ae,fe,ce)}})):(ce.value=ae,ce.state=1,se(ce,!1))}catch(Ae){le({done:!1},Ae,ce)}}};if(A&&(L=(I=function(ce){T(this,L),y(ce),o(d,this);var ae=w(this);try{ce(Ee(ie,ae),Ee(le,ae))}catch(ge){le(ae,ge)}}).prototype,(d=function(ce){j(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=c(L,"then",(function(ce,ae){var ge=w(this),pe=q(D(this,I));return ge.parent=!0,pe.ok=!b(ce)||ce,pe.fail=b(ae)&&ae,pe.domain=n?re.domain:void 0,ge.state===0?ge.reactions.add(pe):H((function(){W(pe,ge)})),pe.promise})),s=function(){var ce=new d,ae=w(ce);this.promise=ce,this.resolve=Ee(ie,ae),this.reject=Ee(le,ae)},M.f=q=function(ce){return ce===I||ce===void 0?new s(ce):ee(ce)},!r&&b(U)&&E!==Object.prototype)){a=E.then,S||c(E,"then",(function(ce,ae){var ge=this;return new I((function(pe,Ae){o(a,ge,pe,Ae)})).then(ce,ae)}),{unsafe:!0});try{delete E.constructor}catch{}p&&p(E,L)}i({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:I}),g(I,"Promise",!1,!0),h("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),i=t("../internals/fails"),r=t("../internals/get-built-in"),n=t("../internals/is-callable"),l=t("../internals/species-constructor"),o=t("../internals/promise-resolve"),c=t("../internals/define-built-in"),p=a&&a.prototype;if(d({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(h){var y=l(this,r("Promise")),b=n(h);return this.then(b?function(C){return o(y,h()).then((function(){return C}))}:h,b?function(C){return o(y,h()).then((function(){throw C}))}:h)}}),!s&&n(a)){var g=r("Promise").prototype.finally;p.finally!==g&&c(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,f,m){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-call"),a=t("../internals/a-callable"),i=t("../internals/new-promise-capability"),r=t("../internals/perform"),n=t("../internals/iterate");d({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(l){var o=this,c=i.f(o),p=c.reject,g=r((function(){var h=a(o.resolve);n(l,(function(y){s(h,o,y).then(c.resolve,p)}))}));return g.error&&p(g.value),c.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-call"),a=t("../internals/new-promise-capability");d({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(i){var r=a.f(this);return s(r.reject,void 0,i),r.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/get-built-in"),a=t("../internals/is-pure"),i=t("../internals/promise-native-constructor"),r=t("../internals/promise-constructor-detection").CONSTRUCTOR,n=t("../internals/promise-resolve"),l=s("Promise"),o=a&&!r;d({target:"Promise",stat:!0,forced:a||r},{resolve:function(c){return n(o&&this===l?i:this,c)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-uncurry-this"),a=t("../internals/to-absolute-index"),i=RangeError,r=String.fromCharCode,n=String.fromCodePoint,l=s([].join);d({target:"String",stat:!0,arity:1,forced:!!n&&n.length!==1},{fromCodePoint:function(o){for(var c,p=[],g=arguments.length,h=0;g>h;){if(c=+arguments[h++],a(c,1114111)!==c)throw new i(c+" is not a valid code point");p[h]=c<65536?r(c):r(55296+((c-=65536)>>10),c%1024+56320)}return l(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/function-uncurry-this"),a=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible"),r=t("../internals/to-string"),n=t("../internals/correct-is-regexp-logic"),l=s("".indexOf);d({target:"String",proto:!0,forced:!n("includes")},{includes:function(o){return!!~l(r(i(this)),r(a(o)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,f,m){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/global"),a=t("../internals/function-call"),i=t("../internals/function-uncurry-this"),r=t("../internals/is-pure"),n=t("../internals/descriptors"),l=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),c=t("../internals/has-own-property"),p=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),h=t("../internals/to-indexed-object"),y=t("../internals/to-property-key"),b=t("../internals/to-string"),C=t("../internals/create-property-descriptor"),T=t("../internals/object-create"),D=t("../internals/object-keys"),F=t("../internals/object-get-own-property-names"),H=t("../internals/object-get-own-property-names-external"),O=t("../internals/object-get-own-property-symbols"),$=t("../internals/object-get-own-property-descriptor"),B=t("../internals/object-define-property"),K=t("../internals/object-define-properties"),U=t("../internals/object-property-is-enumerable"),_=t("../internals/define-built-in"),M=t("../internals/define-built-in-accessor"),A=t("../internals/shared"),N=t("../internals/shared-key"),S=t("../internals/hidden-keys"),w=t("../internals/uid"),j=t("../internals/well-known-symbol"),E=t("../internals/well-known-symbol-wrapped"),I=t("../internals/well-known-symbol-define"),L=t("../internals/symbol-define-to-primitive"),G=t("../internals/set-to-string-tag"),X=t("../internals/internal-state"),re=t("../internals/array-iteration").forEach,q=N("hidden"),ee=X.set,R=X.getterFor("Symbol"),z=Object.prototype,W=s.Symbol,se=W&&W.prototype,he=s.RangeError,ne=s.TypeError,me=s.QObject,Se=$.f,Ee=B.f,le=H.f,ie=U.f,ce=i([].push),ae=A("symbols"),ge=A("op-symbols"),pe=A("wks"),Ae=!me||!me.prototype||!me.prototype.findChild,fe=function(ze,qe,Fe){var at=Se(z,qe);at&&delete z[qe],Ee(ze,qe,Fe),at&&ze!==z&&Ee(z,qe,at)},te=n&&o((function(){return T(Ee({},"a",{get:function(){return Ee(this,"a",{value:7}).a}})).a!==7}))?fe:Ee,ye=function(ze,qe){var Fe=ae[ze]=T(se);return ee(Fe,{type:"Symbol",tag:ze,description:qe}),n||(Fe.description=qe),Fe},Te=function(ze,qe,Fe){ze===z&&Te(ge,qe,Fe),g(ze);var at=y(qe);return g(Fe),c(ae,at)?(Fe.enumerable?(c(ze,q)&&ze[q][at]&&(ze[q][at]=!1),Fe=T(Fe,{enumerable:C(0,!1)})):(c(ze,q)||Ee(ze,q,C(1,{})),ze[q][at]=!0),te(ze,at,Fe)):Ee(ze,at,Fe)},Ce=function(ze,qe){g(ze);var Fe=h(qe),at=D(Fe).concat(ke(Fe));return re(at,(function(we){n&&!a(je,Fe,we)||Te(ze,we,Fe[we])})),ze},je=function(ze){var qe=y(ze),Fe=a(ie,this,qe);return!(this===z&&c(ae,qe)&&!c(ge,qe))&&(!(Fe||!c(this,qe)||!c(ae,qe)||c(this,q)&&this[q][qe])||Fe)},tt=function(ze,qe){var Fe=h(ze),at=y(qe);if(Fe!==z||!c(ae,at)||c(ge,at)){var we=Se(Fe,at);return!we||!c(ae,at)||c(Fe,q)&&Fe[q][at]||(we.enumerable=!0),we}},Pe=function(ze){var qe=le(h(ze)),Fe=[];return re(qe,(function(at){c(ae,at)||c(S,at)||ce(Fe,at)})),Fe},ke=function(ze){var qe=ze===z,Fe=le(qe?ge:h(ze)),at=[];return re(Fe,(function(we){!c(ae,we)||qe&&!c(z,we)||ce(at,ae[we])})),at};l||(_(se=(W=function(){if(p(se,this))throw new ne("Symbol is not a constructor");var ze=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,qe=w(ze),Fe=function(at){this===z&&a(Fe,ge,at),c(this,q)&&c(this[q],qe)&&(this[q][qe]=!1);var we=C(1,at);try{te(this,qe,we)}catch(Qe){if(!(Qe instanceof he))throw Qe;fe(this,qe,we)}};return n&&Ae&&te(z,qe,{configurable:!0,set:Fe}),ye(qe,ze)}).prototype,"toString",(function(){return R(this).tag})),_(W,"withoutSetter",(function(ze){return ye(w(ze),ze)})),U.f=je,B.f=Te,K.f=Ce,$.f=tt,F.f=H.f=Pe,O.f=ke,E.f=function(ze){return ye(j(ze),ze)},n&&(M(se,"description",{configurable:!0,get:function(){return R(this).description}}),r||_(z,"propertyIsEnumerable",je,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),re(D(pe),(function(ze){I(ze)})),d({target:"Symbol",stat:!0,forced:!l},{useSetter:function(){Ae=!0},useSimple:function(){Ae=!1}}),d({target:"Object",stat:!0,forced:!l,sham:!n},{create:function(ze,qe){return qe===void 0?T(ze):Ce(T(ze),qe)},defineProperty:Te,defineProperties:Ce,getOwnPropertyDescriptor:tt}),d({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:Pe}),L(),G(W,"Symbol"),S[q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/get-built-in"),a=t("../internals/has-own-property"),i=t("../internals/to-string"),r=t("../internals/shared"),n=t("../internals/symbol-registry-detection"),l=r("string-to-symbol-registry"),o=r("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!n},{for:function(c){var p=i(c);if(a(l,p))return l[p];var g=s("Symbol")(p);return l[p]=g,o[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,f,m){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,f,m){var d=t("../internals/export"),s=t("../internals/has-own-property"),a=t("../internals/is-symbol"),i=t("../internals/try-to-string"),r=t("../internals/shared"),n=t("../internals/symbol-registry-detection"),l=r("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!n},{keyFor:function(o){if(!a(o))throw new TypeError(i(o)+" is not a symbol");if(s(l,o))return l[o]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,f,m){function d(s){return Object.prototype.toString.call(s)}m.isArray=function(s){return Array.isArray?Array.isArray(s):d(s)==="[object Array]"},m.isBoolean=function(s){return typeof s=="boolean"},m.isNull=function(s){return s===null},m.isNullOrUndefined=function(s){return s==null},m.isNumber=function(s){return typeof s=="number"},m.isString=function(s){return typeof s=="string"},m.isSymbol=function(s){return typeof s=="symbol"},m.isUndefined=function(s){return s===void 0},m.isRegExp=function(s){return d(s)==="[object RegExp]"},m.isObject=function(s){return typeof s=="object"&&s!==null},m.isDate=function(s){return d(s)==="[object Date]"},m.isError=function(s){return d(s)==="[object Error]"||s instanceof Error},m.isFunction=function(s){return typeof s=="function"},m.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},m.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,f,m){(function(d){(function(){var s=t("elliptic"),a=t("bn.js");f.exports=function(l){return new r(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function r(l){this.curveType=i[l],this.curveType||(this.curveType={name:l}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function n(l,o,c){Array.isArray(l)||(l=l.toArray());var p=new d(l);if(c&&p.length<c){var g=new d(c-p.length);g.fill(0),p=d.concat([g,p])}return o?p.toString(o):p}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,r.prototype.generateKeys=function(l,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,o)},r.prototype.computeSecret=function(l,o,c){return o=o||"utf8",d.isBuffer(l)||(l=new d(l,o)),n(this.curve.keyFromPublic(l).getPublic().mul(this.keys.getPrivate()).getX(),c,this.curveType.byteLength)},r.prototype.getPublicKey=function(l,o){var c=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),n(c,l)},r.prototype.getPrivateKey=function(l){return n(this.keys.getPrivate(),l)},r.prototype.setPublicKey=function(l,o){return o=o||"utf8",d.isBuffer(l)||(l=new d(l,o)),this.keys._importPublic(l),this},r.prototype.setPrivateKey=function(l,o){o=o||"utf8",d.isBuffer(l)||(l=new d(l,o));var c=new a(l);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,f,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],386:[function(t,f,m){var d=t("inherits"),s=t("md5.js"),a=t("ripemd160"),i=t("sha.js"),r=t("cipher-base");function n(l){r.call(this,"digest"),this._hash=l}d(n,r),n.prototype._update=function(l){this._hash.update(l)},n.prototype._final=function(){return this._hash.digest()},f.exports=function(l){return(l=l.toLowerCase())==="md5"?new s:l==="rmd160"||l==="ripemd160"?new a:new n(i(l))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,f,m){var d=t("md5.js");f.exports=function(s){return new d().update(s).digest()}},{"md5.js":450}],388:[function(t,f,m){var d=t("inherits"),s=t("./legacy"),a=t("cipher-base"),i=t("safe-buffer").Buffer,r=t("create-hash/md5"),n=t("ripemd160"),l=t("sha.js"),o=i.alloc(128);function c(p,g){a.call(this,"digest"),typeof g=="string"&&(g=i.from(g));var h=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>h?g=(p==="rmd160"?new n:l(p)).update(g).digest():g.length<h&&(g=i.concat([g,o],h));for(var y=this._ipad=i.allocUnsafe(h),b=this._opad=i.allocUnsafe(h),C=0;C<h;C++)y[C]=54^g[C],b[C]=92^g[C];this._hash=p==="rmd160"?new n:l(p),this._hash.update(y)}d(c,a),c.prototype._update=function(p){this._hash.update(p)},c.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new n:l(this._alg)).update(this._opad).update(p).digest()},f.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new c("rmd160",g):p==="md5"?new s(r,g):new c(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,f,m){var d=t("inherits"),s=t("safe-buffer").Buffer,a=t("cipher-base"),i=s.alloc(128);function r(n,l){a.call(this,"digest"),typeof l=="string"&&(l=s.from(l)),this._alg=n,this._key=l,l.length>64?l=n(l):l.length<64&&(l=s.concat([l,i],64));for(var o=this._ipad=s.allocUnsafe(64),c=this._opad=s.allocUnsafe(64),p=0;p<64;p++)o[p]=54^l[p],c[p]=92^l[p];this._hash=[o]}d(r,a),r.prototype._update=function(n){this._hash.push(n)},r.prototype._final=function(){var n=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,n]))},f.exports=r},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,f,m){m.randomBytes=m.rng=m.pseudoRandomBytes=m.prng=t("randombytes"),m.createHash=m.Hash=t("create-hash"),m.createHmac=m.Hmac=t("create-hmac");var d=t("browserify-sign/algos"),s=Object.keys(d),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);m.getHashes=function(){return a};var i=t("pbkdf2");m.pbkdf2=i.pbkdf2,m.pbkdf2Sync=i.pbkdf2Sync;var r=t("browserify-cipher");m.Cipher=r.Cipher,m.createCipher=r.createCipher,m.Cipheriv=r.Cipheriv,m.createCipheriv=r.createCipheriv,m.Decipher=r.Decipher,m.createDecipher=r.createDecipher,m.Decipheriv=r.Decipheriv,m.createDecipheriv=r.createDecipheriv,m.getCiphers=r.getCiphers,m.listCiphers=r.listCiphers;var n=t("diffie-hellman");m.DiffieHellmanGroup=n.DiffieHellmanGroup,m.createDiffieHellmanGroup=n.createDiffieHellmanGroup,m.getDiffieHellman=n.getDiffieHellman,m.createDiffieHellman=n.createDiffieHellman,m.DiffieHellman=n.DiffieHellman;var l=t("browserify-sign");m.createSign=l.createSign,m.Sign=l.Sign,m.createVerify=l.createVerify,m.Verify=l.Verify,m.createECDH=t("create-ecdh");var o=t("public-encrypt");m.publicEncrypt=o.publicEncrypt,m.privateEncrypt=o.privateEncrypt,m.publicDecrypt=o.publicDecrypt,m.privateDecrypt=o.privateDecrypt;var c=t("randomfill");m.randomFill=c.randomFill,m.randomFillSync=c.randomFillSync,m.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},m.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,f,m){(function(d,s){typeof m=="object"&&f!==void 0?f.exports=s():(d=typeof globalThis<"u"?globalThis:d||self).dayjs=s()})(void 0,(function(){var d=6e4,s=36e5,a="millisecond",i="second",r="minute",n="hour",l="day",o="week",c="month",p="quarter",g="year",h="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var S=["th","st","nd","rd"],w=N%100;return"["+N+(S[(w-20)%10]||S[w]||S[0])+"]"}},D=function(N,S,w){var j=String(N);return!j||j.length>=S?N:""+Array(S+1-j.length).join(w)+N},F={s:D,z:function(N){var S=-N.utcOffset(),w=Math.abs(S),j=Math.floor(w/60),E=w%60;return(S<=0?"+":"-")+D(j,2,"0")+":"+D(E,2,"0")},m:function N(S,w){if(S.date()<w.date())return-N(w,S);var j=12*(w.year()-S.year())+(w.month()-S.month()),E=S.clone().add(j,c),I=w-E<0,L=S.clone().add(j+(I?-1:1),c);return+(-(j+(w-E)/(I?E-L:L-E))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:c,y:g,w:o,d:l,D:h,h:n,m:r,s:i,ms:a,Q:p}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},H="en",O={};O[H]=T;var $="$isDayjsObject",B=function(N){return N instanceof M||!(!N||!N[$])},K=function N(S,w,j){var E;if(!S)return H;if(typeof S=="string"){var I=S.toLowerCase();O[I]&&(E=I),w&&(O[I]=w,E=I);var L=S.split("-");if(!E&&L.length>1)return N(L[0])}else{var G=S.name;O[G]=S,E=G}return!j&&E&&(H=E),E||!j&&H},U=function(N,S){if(B(N))return N.clone();var w=typeof S=="object"?S:{};return w.date=N,w.args=arguments,new M(w)},_=F;_.l=K,_.i=B,_.w=function(N,S){return U(N,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var M=(function(){function N(w){this.$L=K(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[$]=!0}var S=N.prototype;return S.parse=function(w){this.$d=(function(j){var E=j.date,I=j.utc;if(E===null)return new Date(NaN);if(_.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var L=E.match(b);if(L){var G=L[2]-1||0,X=(L[7]||"0").substring(0,3);return I?new Date(Date.UTC(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,X)):new Date(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,X)}}return new Date(E)})(w),this.init()},S.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},S.$utils=function(){return _},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(w,j){var E=U(w);return this.startOf(j)<=E&&E<=this.endOf(j)},S.isAfter=function(w,j){return U(w)<this.startOf(j)},S.isBefore=function(w,j){return this.endOf(j)<U(w)},S.$g=function(w,j,E){return _.u(w)?this[j]:this.set(E,w)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(w,j){var E=this,I=!!_.u(j)||j,L=_.p(w),G=function(se,he){var ne=_.w(E.$u?Date.UTC(E.$y,he,se):new Date(E.$y,he,se),E);return I?ne:ne.endOf(l)},X=function(se,he){return _.w(E.toDate()[se].apply(E.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(he)),E)},re=this.$W,q=this.$M,ee=this.$D,R="set"+(this.$u?"UTC":"");switch(L){case g:return I?G(1,0):G(31,11);case c:return I?G(1,q):G(0,q+1);case o:var z=this.$locale().weekStart||0,W=(re<z?re+7:re)-z;return G(I?ee-W:ee+(6-W),q);case l:case h:return X(R+"Hours",0);case n:return X(R+"Minutes",1);case r:return X(R+"Seconds",2);case i:return X(R+"Milliseconds",3);default:return this.clone()}},S.endOf=function(w){return this.startOf(w,!1)},S.$set=function(w,j){var E,I=_.p(w),L="set"+(this.$u?"UTC":""),G=(E={},E[l]=L+"Date",E[h]=L+"Date",E[c]=L+"Month",E[g]=L+"FullYear",E[n]=L+"Hours",E[r]=L+"Minutes",E[i]=L+"Seconds",E[a]=L+"Milliseconds",E)[I],X=I===l?this.$D+(j-this.$W):j;if(I===c||I===g){var re=this.clone().set(h,1);re.$d[G](X),re.init(),this.$d=re.set(h,Math.min(this.$D,re.daysInMonth())).$d}else G&&this.$d[G](X);return this.init(),this},S.set=function(w,j){return this.clone().$set(w,j)},S.get=function(w){return this[_.p(w)]()},S.add=function(w,j){var E,I=this;w=Number(w);var L=_.p(j),G=function(q){var ee=U(I);return _.w(ee.date(ee.date()+Math.round(q*w)),I)};if(L===c)return this.set(c,this.$M+w);if(L===g)return this.set(g,this.$y+w);if(L===l)return G(1);if(L===o)return G(7);var X=(E={},E[r]=d,E[n]=s,E[i]=1e3,E)[L]||1,re=this.$d.getTime()+w*X;return _.w(re,this)},S.subtract=function(w,j){return this.add(-1*w,j)},S.format=function(w){var j=this,E=this.$locale();if(!this.isValid())return E.invalidDate||y;var I=w||"YYYY-MM-DDTHH:mm:ssZ",L=_.z(this),G=this.$H,X=this.$m,re=this.$M,q=E.weekdays,ee=E.months,R=E.meridiem,z=function(he,ne,me,Se){return he&&(he[ne]||he(j,I))||me[ne].slice(0,Se)},W=function(he){return _.s(G%12||12,he,"0")},se=R||function(he,ne,me){var Se=he<12?"AM":"PM";return me?Se.toLowerCase():Se};return I.replace(C,(function(he,ne){return ne||(function(me){switch(me){case"YY":return String(j.$y).slice(-2);case"YYYY":return _.s(j.$y,4,"0");case"M":return re+1;case"MM":return _.s(re+1,2,"0");case"MMM":return z(E.monthsShort,re,ee,3);case"MMMM":return z(ee,re);case"D":return j.$D;case"DD":return _.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return z(E.weekdaysMin,j.$W,q,2);case"ddd":return z(E.weekdaysShort,j.$W,q,3);case"dddd":return q[j.$W];case"H":return String(G);case"HH":return _.s(G,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return se(G,X,!0);case"A":return se(G,X,!1);case"m":return String(X);case"mm":return _.s(X,2,"0");case"s":return String(j.$s);case"ss":return _.s(j.$s,2,"0");case"SSS":return _.s(j.$ms,3,"0");case"Z":return L}return null})(he)||L.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(w,j,E){var I,L=this,G=_.p(j),X=U(w),re=(X.utcOffset()-this.utcOffset())*d,q=this-X,ee=function(){return _.m(L,X)};switch(G){case g:I=ee()/12;break;case c:I=ee();break;case p:I=ee()/3;break;case o:I=(q-re)/6048e5;break;case l:I=(q-re)/864e5;break;case n:I=q/s;break;case r:I=q/d;break;case i:I=q/1e3;break;default:I=q}return E?I:_.a(I)},S.daysInMonth=function(){return this.endOf(c).$D},S.$locale=function(){return O[this.$L]},S.locale=function(w,j){if(!w)return this.$L;var E=this.clone(),I=K(w,j,!0);return I&&(E.$L=I),E},S.clone=function(){return _.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},N})(),A=M.prototype;return U.prototype=A,[["$ms",a],["$s",i],["$m",r],["$H",n],["$W",l],["$M",c],["$y",g],["$D",h]].forEach((function(N){A[N[1]]=function(S){return this.$g(S,N[0],N[1])}})),U.extend=function(N,S){return N.$i||(N(S,M,U),N.$i=!0),U},U.locale=K,U.isDayjs=B,U.unix=function(N){return U(1e3*N)},U.en=O[H],U.Ls=O,U.p={},U}))},{}],392:[function(t,f,m){(function(d,s){typeof m=="object"&&f!==void 0?f.exports=s():(d=typeof globalThis<"u"?globalThis:d||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var d={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,n={},l=function(b){return(b=+b)+(b>68?1900:2e3)},o=function(b){return function(C){this[b]=+C}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=(function(C){if(!C||C==="Z")return 0;var T=C.match(/([+-]|\d\d)/g),D=60*T[1]+(+T[2]||0);return D===0?0:T[0]==="+"?-D:D})(b)}],p=function(b){var C=n[b];return C&&(C.indexOf?C:C.s.concat(C.f))},g=function(b,C){var T,D=n.meridiem;if(D){for(var F=1;F<=24;F+=1)if(b.indexOf(D(F,0,C))>-1){T=F>12;break}}else T=b===(C?"pm":"PM");return T},h={A:[r,function(b){this.afternoon=g(b,!1)}],a:[r,function(b){this.afternoon=g(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[i,o("seconds")],ss:[i,o("seconds")],m:[i,o("minutes")],mm:[i,o("minutes")],H:[i,o("hours")],h:[i,o("hours")],HH:[i,o("hours")],hh:[i,o("hours")],D:[i,o("day")],DD:[a,o("day")],Do:[r,function(b){var C=n.ordinal,T=b.match(/\d+/);if(this.day=T[0],C)for(var D=1;D<=31;D+=1)C(D).replace(/\[|\]/g,"")===b&&(this.day=D)}],M:[i,o("month")],MM:[a,o("month")],MMM:[r,function(b){var C=p("months"),T=(p("monthsShort")||C.map((function(D){return D.slice(0,3)}))).indexOf(b)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[r,function(b){var C=p("months").indexOf(b)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,o("year")],YY:[a,function(b){this.year=l(b)}],YYYY:[/\d{4}/,o("year")],Z:c,ZZ:c};function y(b){var C,T;C=b,T=n&&n.formats;for(var D=(b=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(U,_,M){var A=M&&M.toUpperCase();return _||T[M]||d[M]||T[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(N,S,w){return S||w.slice(1)}))}))).match(s),F=D.length,H=0;H<F;H+=1){var O=D[H],$=h[O],B=$&&$[0],K=$&&$[1];D[H]=K?{regex:B,parser:K}:O.replace(/^\[|\]$/g,"")}return function(U){for(var _={},M=0,A=0;M<F;M+=1){var N=D[M];if(typeof N=="string")A+=N.length;else{var S=N.regex,w=N.parser,j=U.slice(A),E=S.exec(j)[0];w.call(_,E),U=U.replace(E,"")}}return(function(I){var L=I.afternoon;if(L!==void 0){var G=I.hours;L?G<12&&(I.hours+=12):G===12&&(I.hours=0),delete I.afternoon}})(_),_}}return function(b,C,T){T.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(l=b.parseTwoDigitYear);var D=C.prototype,F=D.parse;D.parse=function(H){var O=H.date,$=H.utc,B=H.args;this.$u=$;var K=B[1];if(typeof K=="string"){var U=B[2]===!0,_=B[3]===!0,M=U||_,A=B[2];_&&(A=B[2]),n=this.$locale(),!U&&A&&(n=T.Ls[A]),this.$d=(function(j,E,I){try{if(["x","X"].indexOf(E)>-1)return new Date((E==="X"?1e3:1)*j);var L=y(E)(j),G=L.year,X=L.month,re=L.day,q=L.hours,ee=L.minutes,R=L.seconds,z=L.milliseconds,W=L.zone,se=new Date,he=re||(G||X?1:se.getDate()),ne=G||se.getFullYear(),me=0;G&&!X||(me=X>0?X-1:se.getMonth());var Se=q||0,Ee=ee||0,le=R||0,ie=z||0;return W?new Date(Date.UTC(ne,me,he,Se,Ee,le,ie+60*W.offset*1e3)):I?new Date(Date.UTC(ne,me,he,Se,Ee,le,ie)):new Date(ne,me,he,Se,Ee,le,ie)}catch{return new Date("")}})(O,K,$),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),M&&O!=this.format(K)&&(this.$d=new Date("")),n={}}else if(K instanceof Array)for(var N=K.length,S=1;S<=N;S+=1){B[1]=K[S-1];var w=T.apply(this,B);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}S===N&&(this.$d=new Date(""))}else F.call(this,H)}}}))},{}],393:[function(t,f,m){(function(d,s){typeof m=="object"&&f!==void 0?f.exports=s():(d=typeof globalThis<"u"?globalThis:d||self).dayjs_plugin_utc=s()})(void 0,(function(){var d="minute",s=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,r,n){var l=r.prototype;n.utc=function(b){var C={date:b,utc:!0,args:arguments};return new r(C)},l.utc=function(b){var C=n(this.toDate(),{locale:this.$L,utc:!0});return b?C.add(this.utcOffset(),d):C},l.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=l.parse;l.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),o.call(this,b)};var c=l.init;l.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else c.call(this)};var p=l.utcOffset;l.utcOffset=function(b,C){var T=this.$utils().u;if(T(b))return this.$u?0:T(this.$offset)?p.call(this):this.$offset;if(typeof b=="string"&&(b=(function(O){O===void 0&&(O="");var $=O.match(s);if(!$)return null;var B=(""+$[0]).match(a)||["-",0,0],K=B[0],U=60*+B[1]+ +B[2];return U===0?0:K==="+"?U:-U})(b))===null)return this;var D=Math.abs(b)<=16?60*b:b,F=this;if(C)return F.$offset=D,F.$u=b===0,F;if(b!==0){var H=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(D+H,d)).$offset=D,F.$x.$localOffset=H}else F=this.utc();return F};var g=l.format;l.format=function(b){var C=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,C)},l.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(b){return b==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var y=l.diff;l.diff=function(b,C,T){if(b&&this.$u===b.$u)return y.call(this,b,C,T);var D=this.local(),F=n(b).local();return y.call(D,F,C,T)}}}))},{}],394:[function(t,f,m){m.utils=t("./des/utils"),m.Cipher=t("./des/cipher"),m.DES=t("./des/des"),m.CBC=t("./des/cbc"),m.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,f,m){var d=t("minimalistic-assert"),s=t("inherits"),a={};function i(r){d.equal(r.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=r[n]}m.instantiate=function(r){function n(p){r.call(this,p),this._cbcInit()}s(n,r);for(var l=Object.keys(a),o=0;o<l.length;o++){var c=l[o];n.prototype[c]=a[c]}return n.create=function(p){return new n(p)},n},a._cbcInit=function(){var r=new i(this.options.iv);this._cbcState=r},a._update=function(r,n,l,o){var c=this._cbcState,p=this.constructor.super_.prototype,g=c.iv;if(this.type==="encrypt"){for(var h=0;h<this.blockSize;h++)g[h]^=r[n+h];for(p._update.call(this,g,0,l,o),h=0;h<this.blockSize;h++)g[h]=l[o+h]}else{for(p._update.call(this,r,n,l,o),h=0;h<this.blockSize;h++)l[o+h]^=g[h];for(h=0;h<this.blockSize;h++)g[h]=r[n+h]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,f,m){var d=t("minimalistic-assert");function s(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}f.exports=s,s.prototype._init=function(){},s.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},s.prototype._buffer=function(a,i){for(var r=Math.min(this.buffer.length-this.bufferOff,a.length-i),n=0;n<r;n++)this.buffer[this.bufferOff+n]=a[i+n];return this.bufferOff+=r,r},s.prototype._flushBuffer=function(a,i){return this._update(this.buffer,0,a,i),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(a){var i=0,r=0,n=(this.bufferOff+a.length)/this.blockSize|0,l=new Array(n*this.blockSize);this.bufferOff!==0&&(i+=this._buffer(a,i),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(l,r)));for(var o=a.length-(a.length-i)%this.blockSize;i<o;i+=this.blockSize)this._update(a,i,l,r),r+=this.blockSize;for(;i<a.length;i++,this.bufferOff++)this.buffer[this.bufferOff]=a[i];return l},s.prototype._updateDecrypt=function(a){for(var i=0,r=0,n=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,l=new Array(n*this.blockSize);n>0;n--)i+=this._buffer(a,i),r+=this._flushBuffer(l,r);return i+=this._buffer(a,i),l},s.prototype.final=function(a){var i,r;return a&&(i=this.update(a)),r=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),i?i.concat(r):r},s.prototype._pad=function(a,i){if(i===0)return!1;for(;i<a.length;)a[i++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},s.prototype._unpad=function(a){return a},s.prototype._finalDecrypt=function(){d.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(t,f,m){var d=t("minimalistic-assert"),s=t("inherits"),a=t("./utils"),i=t("./cipher");function r(){this.tmp=new Array(2),this.keys=null}function n(o){i.call(this,o);var c=new r;this._desState=c,this.deriveKeys(c,o.key)}s(n,i),f.exports=n,n.create=function(o){return new n(o)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(o,c){o.keys=new Array(32),d.equal(c.length,this.blockSize,"Invalid key length");var p=a.readUInt32BE(c,0),g=a.readUInt32BE(c,4);a.pc1(p,g,o.tmp,0),p=o.tmp[0],g=o.tmp[1];for(var h=0;h<o.keys.length;h+=2){var y=l[h>>>1];p=a.r28shl(p,y),g=a.r28shl(g,y),a.pc2(p,g,o.keys,h)}},n.prototype._update=function(o,c,p,g){var h=this._desState,y=a.readUInt32BE(o,c),b=a.readUInt32BE(o,c+4);a.ip(y,b,h.tmp,0),y=h.tmp[0],b=h.tmp[1],this.type==="encrypt"?this._encrypt(h,y,b,h.tmp,0):this._decrypt(h,y,b,h.tmp,0),y=h.tmp[0],b=h.tmp[1],a.writeUInt32BE(p,y,g),a.writeUInt32BE(p,b,g+4)},n.prototype._pad=function(o,c){if(this.padding===!1)return!1;for(var p=o.length-c,g=c;g<o.length;g++)o[g]=p;return!0},n.prototype._unpad=function(o){if(this.padding===!1)return o;for(var c=o[o.length-1],p=o.length-c;p<o.length;p++)d.equal(o[p],c);return o.slice(0,o.length-c)},n.prototype._encrypt=function(o,c,p,g,h){for(var y=c,b=p,C=0;C<o.keys.length;C+=2){var T=o.keys[C],D=o.keys[C+1];a.expand(b,o.tmp,0),T^=o.tmp[0],D^=o.tmp[1];var F=a.substitute(T,D),H=b;b=(y^a.permute(F))>>>0,y=H}a.rip(b,y,g,h)},n.prototype._decrypt=function(o,c,p,g,h){for(var y=p,b=c,C=o.keys.length-2;C>=0;C-=2){var T=o.keys[C],D=o.keys[C+1];a.expand(y,o.tmp,0),T^=o.tmp[0],D^=o.tmp[1];var F=a.substitute(T,D),H=y;y=(b^a.permute(F))>>>0,b=H}a.rip(y,b,g,h)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,f,m){var d=t("minimalistic-assert"),s=t("inherits"),a=t("./cipher"),i=t("./des");function r(l,o){d.equal(o.length,24,"Invalid key length");var c=o.slice(0,8),p=o.slice(8,16),g=o.slice(16,24);this.ciphers=l==="encrypt"?[i.create({type:"encrypt",key:c}),i.create({type:"decrypt",key:p}),i.create({type:"encrypt",key:g})]:[i.create({type:"decrypt",key:g}),i.create({type:"encrypt",key:p}),i.create({type:"decrypt",key:c})]}function n(l){a.call(this,l);var o=new r(this.type,this.options.key);this._edeState=o}s(n,a),f.exports=n,n.create=function(l){return new n(l)},n.prototype._update=function(l,o,c,p){var g=this._edeState;g.ciphers[0]._update(l,o,c,p),g.ciphers[1]._update(c,p,c,p),g.ciphers[2]._update(c,p,c,p)},n.prototype._pad=i.prototype._pad,n.prototype._unpad=i.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,f,m){m.readUInt32BE=function(i,r){return(i[0+r]<<24|i[1+r]<<16|i[2+r]<<8|i[3+r])>>>0},m.writeUInt32BE=function(i,r,n){i[0+n]=r>>>24,i[1+n]=r>>>16&255,i[2+n]=r>>>8&255,i[3+n]=255&r},m.ip=function(i,r,n,l){for(var o=0,c=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)o<<=1,o|=r>>>g+p&1;for(g=0;g<=24;g+=8)o<<=1,o|=i>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)c<<=1,c|=r>>>g+p&1;for(g=1;g<=25;g+=8)c<<=1,c|=i>>>g+p&1}n[l+0]=o>>>0,n[l+1]=c>>>0},m.rip=function(i,r,n,l){for(var o=0,c=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)o<<=1,o|=r>>>g+p&1,o<<=1,o|=i>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)c<<=1,c|=r>>>g+p&1,c<<=1,c|=i>>>g+p&1;n[l+0]=o>>>0,n[l+1]=c>>>0},m.pc1=function(i,r,n,l){for(var o=0,c=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)o<<=1,o|=r>>g+p&1;for(g=0;g<=24;g+=8)o<<=1,o|=i>>g+p&1}for(g=0;g<=24;g+=8)o<<=1,o|=r>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)c<<=1,c|=r>>g+p&1;for(g=0;g<=24;g+=8)c<<=1,c|=i>>g+p&1}for(g=0;g<=24;g+=8)c<<=1,c|=i>>g+p&1;n[l+0]=o>>>0,n[l+1]=c>>>0},m.r28shl=function(i,r){return i<<r&268435455|i>>>28-r};var d=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];m.pc2=function(i,r,n,l){for(var o=0,c=0,p=d.length>>>1,g=0;g<p;g++)o<<=1,o|=i>>>d[g]&1;for(g=p;g<d.length;g++)c<<=1,c|=r>>>d[g]&1;n[l+0]=o>>>0,n[l+1]=c>>>0},m.expand=function(i,r,n){var l=0,o=0;l=(1&i)<<5|i>>>27;for(var c=23;c>=15;c-=4)l<<=6,l|=i>>>c&63;for(c=11;c>=3;c-=4)o|=i>>>c&63,o<<=6;o|=(31&i)<<1|i>>>31,r[n+0]=l>>>0,r[n+1]=o>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];m.substitute=function(i,r){for(var n=0,l=0;l<4;l++)n<<=4,n|=s[64*l+(i>>>18-6*l&63)];for(l=0;l<4;l++)n<<=4,n|=s[256+64*l+(r>>>18-6*l&63)];return n>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];m.permute=function(i){for(var r=0,n=0;n<a.length;n++)r<<=1,r|=i>>>a[n]&1;return r>>>0},m.padSplit=function(i,r,n){for(var l=i.toString(2);l.length<r;)l="0"+l;for(var o=[],c=0;c<r;c+=n)o.push(l.slice(c,c+n));return o.join(" ")}},{}],400:[function(t,f,m){(function(d){(function(){var s=t("./lib/generatePrime"),a=t("./lib/primes.json"),i=t("./lib/dh"),r={binary:!0,hex:!0,base64:!0};m.DiffieHellmanGroup=m.createDiffieHellmanGroup=m.getDiffieHellman=function(n){var l=new d(a[n].prime,"hex"),o=new d(a[n].gen,"hex");return new i(l,o)},m.createDiffieHellman=m.DiffieHellman=function n(l,o,c,p){return d.isBuffer(o)||r[o]===void 0?n(l,"binary",o,c):(o=o||"binary",p=p||"binary",c=c||new d([2]),d.isBuffer(c)||(c=new d(c,p)),typeof l=="number"?new i(s(l,c),c,!0):(d.isBuffer(l)||(l=new d(l,o)),new i(l,c,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,f,m){(function(d){(function(){var s=t("bn.js"),a=new(t("miller-rabin")),i=new s(24),r=new s(11),n=new s(10),l=new s(3),o=new s(7),c=t("./generatePrime"),p=t("randombytes");function g(T,D){return D=D||"utf8",d.isBuffer(T)||(T=new d(T,D)),this._pub=new s(T),this}function h(T,D){return D=D||"utf8",d.isBuffer(T)||(T=new d(T,D)),this._priv=new s(T),this}f.exports=b;var y={};function b(T,D,F){this.setGenerator(D),this.__prime=new s(T),this._prime=s.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=g,this.setPrivateKey=h):this._primeCode=8}function C(T,D){var F=new d(T.toArray());return D?F.toString(D):F}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(T,D){var F=D.toString("hex"),H=[F,T.toString(16)].join("_");if(H in y)return y[H];var O,$=0;if(T.isEven()||!c.simpleSieve||!c.fermatTest(T)||!a.test(T))return $+=1,$+=F==="02"||F==="05"?8:4,y[H]=$,$;switch(a.test(T.shrn(1))||($+=2),F){case"02":T.mod(i).cmp(r)&&($+=8);break;case"05":(O=T.mod(n)).cmp(l)&&O.cmp(o)&&($+=8);break;default:$+=4}return y[H]=$,$})(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new s(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(T){var D=(T=(T=new s(T)).toRed(this._prime)).redPow(this._priv).fromRed(),F=new d(D.toArray()),H=this.getPrime();if(F.length<H.length){var O=new d(H.length-F.length);O.fill(0),F=d.concat([O,F])}return F},b.prototype.getPublicKey=function(T){return C(this._pub,T)},b.prototype.getPrivateKey=function(T){return C(this._priv,T)},b.prototype.getPrime=function(T){return C(this.__prime,T)},b.prototype.getGenerator=function(T){return C(this._gen,T)},b.prototype.setGenerator=function(T,D){return D=D||"utf8",d.isBuffer(T)||(T=new d(T,D)),this.__gen=T,this._gen=new s(T),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,f,m){var d=t("randombytes");f.exports=T,T.simpleSieve=b,T.fermatTest=C;var s=t("bn.js"),a=new s(24),i=new(t("miller-rabin")),r=new s(1),n=new s(2),l=new s(5),o=(new s(16),new s(8),new s(10)),c=new s(3),p=(new s(7),new s(11)),g=new s(4),h=(new s(12),null);function y(){if(h!==null)return h;var D=[];D[0]=2;for(var F=1,H=3;H<1048576;H+=2){for(var O=Math.ceil(Math.sqrt(H)),$=0;$<F&&D[$]<=O&&H%D[$]!=0;$++);F!==$&&D[$]<=O||(D[F++]=H)}return h=D,D}function b(D){for(var F=y(),H=0;H<F.length;H++)if(D.modn(F[H])===0)return D.cmpn(F[H])===0;return!0}function C(D){var F=s.mont(D);return n.toRed(F).redPow(D.subn(1)).fromRed().cmpn(1)===0}function T(D,F){if(D<16)return new s(F===2||F===5?[140,123]:[140,39]);var H,O;for(F=new s(F);;){for(H=new s(d(Math.ceil(D/8)));H.bitLength()>D;)H.ishrn(1);if(H.isEven()&&H.iadd(r),H.testn(1)||H.iadd(n),F.cmp(n)){if(!F.cmp(l))for(;H.mod(o).cmp(c);)H.iadd(g)}else for(;H.mod(a).cmp(p);)H.iadd(g);if(b(O=H.shrn(1))&&b(H)&&C(O)&&C(H)&&i.test(O)&&i.test(H))return H}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,f,m){f.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,f,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],405:[function(t,f,m){var d=m;d.version=t("../package.json").version,d.utils=t("./elliptic/utils"),d.rand=t("brorand"),d.curve=t("./elliptic/curve"),d.curves=t("./elliptic/curves"),d.ec=t("./elliptic/ec"),d.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,f,m){var d=t("bn.js"),s=t("../utils"),a=s.getNAF,i=s.getJSF,r=s.assert;function n(o,c){this.type=o,this.p=new d(c.p,16),this.red=c.prime?d.red(c.prime):d.mont(this.p),this.zero=new d(0).toRed(this.red),this.one=new d(1).toRed(this.red),this.two=new d(2).toRed(this.red),this.n=c.n&&new d(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(o,c){this.curve=o,this.type=c,this.precomputed=null}f.exports=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(o,c){r(o.precomputed);var p=o._getDoubles(),g=a(c,1,this._bitLength),h=(1<<p.step+1)-(p.step%2==0?2:1);h/=3;var y,b,C=[];for(y=0;y<g.length;y+=p.step){b=0;for(var T=y+p.step-1;T>=y;T--)b=(b<<1)+g[T];C.push(b)}for(var D=this.jpoint(null,null,null),F=this.jpoint(null,null,null),H=h;H>0;H--){for(y=0;y<C.length;y++)(b=C[y])===H?F=F.mixedAdd(p.points[y]):b===-H&&(F=F.mixedAdd(p.points[y].neg()));D=D.add(F)}return D.toP()},n.prototype._wnafMul=function(o,c){var p=4,g=o._getNAFPoints(p);p=g.wnd;for(var h=g.points,y=a(c,p,this._bitLength),b=this.jpoint(null,null,null),C=y.length-1;C>=0;C--){for(var T=0;C>=0&&y[C]===0;C--)T++;if(C>=0&&T++,b=b.dblp(T),C<0)break;var D=y[C];r(D!==0),b=o.type==="affine"?D>0?b.mixedAdd(h[D-1>>1]):b.mixedAdd(h[-D-1>>1].neg()):D>0?b.add(h[D-1>>1]):b.add(h[-D-1>>1].neg())}return o.type==="affine"?b.toP():b},n.prototype._wnafMulAdd=function(o,c,p,g,h){var y,b,C,T=this._wnafT1,D=this._wnafT2,F=this._wnafT3,H=0;for(y=0;y<g;y++){var O=(C=c[y])._getNAFPoints(o);T[y]=O.wnd,D[y]=O.points}for(y=g-1;y>=1;y-=2){var $=y-1,B=y;if(T[$]===1&&T[B]===1){var K=[c[$],null,null,c[B]];c[$].y.cmp(c[B].y)===0?(K[1]=c[$].add(c[B]),K[2]=c[$].toJ().mixedAdd(c[B].neg())):c[$].y.cmp(c[B].y.redNeg())===0?(K[1]=c[$].toJ().mixedAdd(c[B]),K[2]=c[$].add(c[B].neg())):(K[1]=c[$].toJ().mixedAdd(c[B]),K[2]=c[$].toJ().mixedAdd(c[B].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],_=i(p[$],p[B]);for(H=Math.max(_[0].length,H),F[$]=new Array(H),F[B]=new Array(H),b=0;b<H;b++){var M=0|_[0][b],A=0|_[1][b];F[$][b]=U[3*(M+1)+(A+1)],F[B][b]=0,D[$]=K}}else F[$]=a(p[$],T[$],this._bitLength),F[B]=a(p[B],T[B],this._bitLength),H=Math.max(F[$].length,H),H=Math.max(F[B].length,H)}var N=this.jpoint(null,null,null),S=this._wnafT4;for(y=H;y>=0;y--){for(var w=0;y>=0;){var j=!0;for(b=0;b<g;b++)S[b]=0|F[b][y],S[b]!==0&&(j=!1);if(!j)break;w++,y--}if(y>=0&&w++,N=N.dblp(w),y<0)break;for(b=0;b<g;b++){var E=S[b];E!==0&&(E>0?C=D[b][E-1>>1]:E<0&&(C=D[b][-E-1>>1].neg()),N=C.type==="affine"?N.mixedAdd(C):N.add(C))}}for(y=0;y<g;y++)D[y]=null;return h?N:N.toP()},n.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(o,c){o=s.toArray(o,c);var p=this.p.byteLength();if((o[0]===4||o[0]===6||o[0]===7)&&o.length-1==2*p)return o[0]===6?r(o[o.length-1]%2==0):o[0]===7&&r(o[o.length-1]%2==1),this.point(o.slice(1,1+p),o.slice(1+p,1+2*p));if((o[0]===2||o[0]===3)&&o.length-1===p)return this.pointFromX(o.slice(1,1+p),o[0]===3);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(o){return this.encode(o,!0)},l.prototype._encode=function(o){var c=this.curve.p.byteLength(),p=this.getX().toArray("be",c);return o?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",c))},l.prototype.encode=function(o,c){return s.encode(this._encode(c),o)},l.prototype.precompute=function(o){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,o),c.beta=this._getBeta(),this.precomputed=c,this},l.prototype._hasDoubles=function(o){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return!!c&&c.points.length>=Math.ceil((o.bitLength()+1)/c.step)},l.prototype._getDoubles=function(o,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,h=0;h<c;h+=o){for(var y=0;y<o;y++)g=g.dbl();p.push(g)}return{step:o,points:p}},l.prototype._getNAFPoints=function(o){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],p=(1<<o)-1,g=p===1?null:this.dbl(),h=1;h<p;h++)c[h]=c[h-1].add(g);return{wnd:o,points:c}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(o){for(var c=this,p=0;p<o;p++)c=c.dbl();return c}},{"../utils":419,"bn.js":420}],407:[function(t,f,m){var d=t("../utils"),s=t("bn.js"),a=t("inherits"),i=t("./base"),r=d.assert;function n(o){this.twisted=(0|o.a)!=1,this.mOneA=this.twisted&&(0|o.a)==-1,this.extended=this.mOneA,i.call(this,"edwards",o),this.a=new s(o.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(o.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(o.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|o.c)==1}function l(o,c,p,g,h){i.BasePoint.call(this,o,"projective"),c===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(c,16),this.y=new s(p,16),this.z=g?new s(g,16):this.curve.one,this.t=h&&new s(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(n,i),f.exports=n,n.prototype._mulA=function(o){return this.mOneA?o.redNeg():this.a.redMul(o)},n.prototype._mulC=function(o){return this.oneC?o:this.c.redMul(o)},n.prototype.jpoint=function(o,c,p,g){return this.point(o,c,p,g)},n.prototype.pointFromX=function(o,c){(o=new s(o,16)).red||(o=o.toRed(this.red));var p=o.redSqr(),g=this.c2.redSub(this.a.redMul(p)),h=this.one.redSub(this.c2.redMul(this.d).redMul(p)),y=g.redMul(h.redInvm()),b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var C=b.fromRed().isOdd();return(c&&!C||!c&&C)&&(b=b.redNeg()),this.point(o,b)},n.prototype.pointFromY=function(o,c){(o=new s(o,16)).red||(o=o.toRed(this.red));var p=o.redSqr(),g=p.redSub(this.c2),h=p.redMul(this.d).redMul(this.c2).redSub(this.a),y=g.redMul(h.redInvm());if(y.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,o)}var b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==c&&(b=b.redNeg()),this.point(b,o)},n.prototype.validate=function(o){if(o.isInfinity())return!0;o.normalize();var c=o.x.redSqr(),p=o.y.redSqr(),g=c.redMul(this.a).redAdd(p),h=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(p)));return g.cmp(h)===0},a(l,i.BasePoint),n.prototype.pointFromJSON=function(o){return l.fromJSON(this,o)},n.prototype.point=function(o,c,p,g){return new l(this,o,c,p,g)},l.fromJSON=function(o,c){return new l(o,c[0],c[1],c[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},l.prototype._extDbl=function(){var o=this.x.redSqr(),c=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(o),h=this.x.redAdd(this.y).redSqr().redISub(o).redISub(c),y=g.redAdd(c),b=y.redSub(p),C=g.redSub(c),T=h.redMul(b),D=y.redMul(C),F=h.redMul(C),H=b.redMul(y);return this.curve.point(T,D,H,F)},l.prototype._projDbl=function(){var o,c,p,g,h,y,b=this.x.redAdd(this.y).redSqr(),C=this.x.redSqr(),T=this.y.redSqr();if(this.curve.twisted){var D=(g=this.curve._mulA(C)).redAdd(T);this.zOne?(o=b.redSub(C).redSub(T).redMul(D.redSub(this.curve.two)),c=D.redMul(g.redSub(T)),p=D.redSqr().redSub(D).redSub(D)):(h=this.z.redSqr(),y=D.redSub(h).redISub(h),o=b.redSub(C).redISub(T).redMul(y),c=D.redMul(g.redSub(T)),p=D.redMul(y))}else g=C.redAdd(T),h=this.curve._mulC(this.z).redSqr(),y=g.redSub(h).redSub(h),o=this.curve._mulC(b.redISub(g)).redMul(y),c=this.curve._mulC(g).redMul(C.redISub(T)),p=g.redMul(y);return this.curve.point(o,c,p)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(o){var c=this.y.redSub(this.x).redMul(o.y.redSub(o.x)),p=this.y.redAdd(this.x).redMul(o.y.redAdd(o.x)),g=this.t.redMul(this.curve.dd).redMul(o.t),h=this.z.redMul(o.z.redAdd(o.z)),y=p.redSub(c),b=h.redSub(g),C=h.redAdd(g),T=p.redAdd(c),D=y.redMul(b),F=C.redMul(T),H=y.redMul(T),O=b.redMul(C);return this.curve.point(D,F,O,H)},l.prototype._projAdd=function(o){var c,p,g=this.z.redMul(o.z),h=g.redSqr(),y=this.x.redMul(o.x),b=this.y.redMul(o.y),C=this.curve.d.redMul(y).redMul(b),T=h.redSub(C),D=h.redAdd(C),F=this.x.redAdd(this.y).redMul(o.x.redAdd(o.y)).redISub(y).redISub(b),H=g.redMul(T).redMul(F);return this.curve.twisted?(c=g.redMul(D).redMul(b.redSub(this.curve._mulA(y))),p=T.redMul(D)):(c=g.redMul(D).redMul(b.redSub(y)),p=this.curve._mulC(T).redMul(D)),this.curve.point(H,c,p)},l.prototype.add=function(o){return this.isInfinity()?o:o.isInfinity()?this:this.curve.extended?this._extAdd(o):this._projAdd(o)},l.prototype.mul=function(o){return this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve._wnafMul(this,o)},l.prototype.mulAdd=function(o,c,p){return this.curve._wnafMulAdd(1,[this,c],[o,p],2,!1)},l.prototype.jmulAdd=function(o,c,p){return this.curve._wnafMulAdd(1,[this,c],[o,p],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var o=this.z.redInvm();return this.x=this.x.redMul(o),this.y=this.y.redMul(o),this.t&&(this.t=this.t.redMul(o)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(o){return this===o||this.getX().cmp(o.getX())===0&&this.getY().cmp(o.getY())===0},l.prototype.eqXToP=function(o){var c=o.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var p=o.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(g),this.x.cmp(c)===0)return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,f,m){var d=m;d.base=t("./base"),d.short=t("./short"),d.mont=t("./mont"),d.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,f,m){var d=t("bn.js"),s=t("inherits"),a=t("./base"),i=t("../utils");function r(l){a.call(this,"mont",l),this.a=new d(l.a,16).toRed(this.red),this.b=new d(l.b,16).toRed(this.red),this.i4=new d(4).toRed(this.red).redInvm(),this.two=new d(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(l,o,c){a.BasePoint.call(this,l,"projective"),o===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new d(o,16),this.z=new d(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(r,a),f.exports=r,r.prototype.validate=function(l){var o=l.normalize().x,c=o.redSqr(),p=c.redMul(o).redAdd(c.redMul(this.a)).redAdd(o);return p.redSqrt().redSqr().cmp(p)===0},s(n,a.BasePoint),r.prototype.decodePoint=function(l,o){return this.point(i.toArray(l,o),1)},r.prototype.point=function(l,o){return new n(this,l,o)},r.prototype.pointFromJSON=function(l){return n.fromJSON(this,l)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(l,o){return new n(l,o[0],o[1]||l.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var l=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),c=l.redSub(o),p=l.redMul(o),g=c.redMul(o.redAdd(this.curve.a24.redMul(c)));return this.curve.point(p,g)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(l,o){var c=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=l.x.redAdd(l.z),h=l.x.redSub(l.z).redMul(c),y=g.redMul(p),b=o.z.redMul(h.redAdd(y).redSqr()),C=o.x.redMul(h.redISub(y).redSqr());return this.curve.point(b,C)},n.prototype.mul=function(l){for(var o=l.clone(),c=this,p=this.curve.point(null,null),g=[];o.cmpn(0)!==0;o.iushrn(1))g.push(o.andln(1));for(var h=g.length-1;h>=0;h--)g[h]===0?(c=c.diffAdd(p,this),p=p.dbl()):(p=c.diffAdd(p,this),c=c.dbl());return p},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(l){return this.getX().cmp(l.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,f,m){var d=t("../utils"),s=t("bn.js"),a=t("inherits"),i=t("./base"),r=d.assert;function n(c){i.call(this,"short",c),this.a=new s(c.a,16).toRed(this.red),this.b=new s(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(c,p,g,h){i.BasePoint.call(this,c,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(p,16),this.y=new s(g,16),h&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(c,p,g,h){i.BasePoint.call(this,c,"jacobian"),p===null&&g===null&&h===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(p,16),this.y=new s(g,16),this.z=new s(h,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(n,i),f.exports=n,n.prototype._getEndomorphism=function(c){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(c.beta)p=new s(c.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);p=(p=h[0].cmp(h[1])<0?h[0]:h[1]).toRed(this.red)}if(c.lambda)g=new s(c.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(p))===0?g=y[0]:(g=y[1],r(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:c.basis?c.basis.map((function(b){return{a:new s(b.a,16),b:new s(b.b,16)}})):this._getEndoBasis(g)}}},n.prototype._getEndoRoots=function(c){var p=c===this.p?this.red:s.mont(c),g=new s(2).toRed(p).redInvm(),h=g.redNeg(),y=new s(3).toRed(p).redNeg().redSqrt().redMul(g);return[h.redAdd(y).fromRed(),h.redSub(y).fromRed()]},n.prototype._getEndoBasis=function(c){for(var p,g,h,y,b,C,T,D,F,H=this.n.ushrn(Math.floor(this.n.bitLength()/2)),O=c,$=this.n.clone(),B=new s(1),K=new s(0),U=new s(0),_=new s(1),M=0;O.cmpn(0)!==0;){var A=$.div(O);D=$.sub(A.mul(O)),F=U.sub(A.mul(B));var N=_.sub(A.mul(K));if(!h&&D.cmp(H)<0)p=T.neg(),g=B,h=D.neg(),y=F;else if(h&&++M==2)break;T=D,$=O,O=D,U=B,B=F,_=K,K=N}b=D.neg(),C=F;var S=h.sqr().add(y.sqr());return b.sqr().add(C.sqr()).cmp(S)>=0&&(b=p,C=g),h.negative&&(h=h.neg(),y=y.neg()),b.negative&&(b=b.neg(),C=C.neg()),[{a:h,b:y},{a:b,b:C}]},n.prototype._endoSplit=function(c){var p=this.endo.basis,g=p[0],h=p[1],y=h.b.mul(c).divRound(this.n),b=g.b.neg().mul(c).divRound(this.n),C=y.mul(g.a),T=b.mul(h.a),D=y.mul(g.b),F=b.mul(h.b);return{k1:c.sub(C).sub(T),k2:D.add(F).neg()}},n.prototype.pointFromX=function(c,p){(c=new s(c,16)).red||(c=c.toRed(this.red));var g=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),h=g.redSqrt();if(h.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var y=h.fromRed().isOdd();return(p&&!y||!p&&y)&&(h=h.redNeg()),this.point(c,h)},n.prototype.validate=function(c){if(c.inf)return!0;var p=c.x,g=c.y,h=this.a.redMul(p),y=p.redSqr().redMul(p).redIAdd(h).redIAdd(this.b);return g.redSqr().redISub(y).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(c,p,g){for(var h=this._endoWnafT1,y=this._endoWnafT2,b=0;b<c.length;b++){var C=this._endoSplit(p[b]),T=c[b],D=T._getBeta();C.k1.negative&&(C.k1.ineg(),T=T.neg(!0)),C.k2.negative&&(C.k2.ineg(),D=D.neg(!0)),h[2*b]=T,h[2*b+1]=D,y[2*b]=C.k1,y[2*b+1]=C.k2}for(var F=this._wnafMulAdd(1,h,y,2*b,g),H=0;H<2*b;H++)h[H]=null,y[H]=null;return F},a(l,i.BasePoint),n.prototype.point=function(c,p,g){return new l(this,c,p,g)},n.prototype.pointFromJSON=function(c,p){return l.fromJSON(this,c,p)},l.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var g=this.curve,h=function(y){return g.point(y.x.redMul(g.endo.beta),y.y)};c.beta=p,p.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(h)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(h)}}}return p}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(c,p,g){typeof p=="string"&&(p=JSON.parse(p));var h=c.point(p[0],p[1],g);if(!p[2])return h;function y(C){return c.point(C[0],C[1],g)}var b=p[2];return h.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[h].concat(b.doubles.points.map(y))},naf:b.naf&&{wnd:b.naf.wnd,points:[h].concat(b.naf.points.map(y))}},h},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var p=this.y.redSub(c.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(c.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(c.x),h=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,h)},l.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),h=c.redInvm(),y=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(h),b=y.redSqr().redISub(this.x.redAdd(this.x)),C=y.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,C)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(c){return c=new s(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},l.prototype.mulAdd=function(c,p,g){var h=[this,p],y=[c,g];return this.curve.endo?this.curve._endoWnafMulAdd(h,y):this.curve._wnafMulAdd(1,h,y,2)},l.prototype.jmulAdd=function(c,p,g){var h=[this,p],y=[c,g];return this.curve.endo?this.curve._endoWnafMulAdd(h,y,!0):this.curve._wnafMulAdd(1,h,y,2,!0)},l.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},l.prototype.neg=function(c){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var g=this.precomputed,h=function(y){return y.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(h)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(h)}}}return p},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(o,i.BasePoint),n.prototype.jpoint=function(c,p,g){return new o(this,c,p,g)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),p=c.redSqr(),g=this.x.redMul(p),h=this.y.redMul(p).redMul(c);return this.curve.point(g,h)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var p=c.z.redSqr(),g=this.z.redSqr(),h=this.x.redMul(p),y=c.x.redMul(g),b=this.y.redMul(p.redMul(c.z)),C=c.y.redMul(g.redMul(this.z)),T=h.redSub(y),D=b.redSub(C);if(T.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=T.redSqr(),H=F.redMul(T),O=h.redMul(F),$=D.redSqr().redIAdd(H).redISub(O).redISub(O),B=D.redMul(O.redISub($)).redISub(b.redMul(H)),K=this.z.redMul(c.z).redMul(T);return this.curve.jpoint($,B,K)},o.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var p=this.z.redSqr(),g=this.x,h=c.x.redMul(p),y=this.y,b=c.y.redMul(p).redMul(this.z),C=g.redSub(h),T=y.redSub(b);if(C.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=C.redSqr(),F=D.redMul(C),H=g.redMul(D),O=T.redSqr().redIAdd(F).redISub(H).redISub(H),$=T.redMul(H.redISub(O)).redISub(y.redMul(F)),B=this.z.redMul(C);return this.curve.jpoint(O,$,B)},o.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<c;p++)g=g.dbl();return g}var h=this.curve.a,y=this.curve.tinv,b=this.x,C=this.y,T=this.z,D=T.redSqr().redSqr(),F=C.redAdd(C);for(p=0;p<c;p++){var H=b.redSqr(),O=F.redSqr(),$=O.redSqr(),B=H.redAdd(H).redIAdd(H).redIAdd(h.redMul(D)),K=b.redMul(O),U=B.redSqr().redISub(K.redAdd(K)),_=K.redISub(U),M=B.redMul(_);M=M.redIAdd(M).redISub($);var A=F.redMul(T);p+1<c&&(D=D.redMul($)),b=U,T=A,F=M}return this.curve.jpoint(b,F.redMul(y),T)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var c,p,g;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),C=this.x.redAdd(y).redSqr().redISub(h).redISub(b);C=C.redIAdd(C);var T=h.redAdd(h).redIAdd(h),D=T.redSqr().redISub(C).redISub(C),F=b.redIAdd(b);F=(F=F.redIAdd(F)).redIAdd(F),c=D,p=T.redMul(C.redISub(D)).redISub(F),g=this.y.redAdd(this.y)}else{var H=this.x.redSqr(),O=this.y.redSqr(),$=O.redSqr(),B=this.x.redAdd(O).redSqr().redISub(H).redISub($);B=B.redIAdd(B);var K=H.redAdd(H).redIAdd(H),U=K.redSqr(),_=$.redIAdd($);_=(_=_.redIAdd(_)).redIAdd(_),c=U.redISub(B).redISub(B),p=K.redMul(B.redISub(c)).redISub(_),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(c,p,g)},o.prototype._threeDbl=function(){var c,p,g;if(this.zOne){var h=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),C=this.x.redAdd(y).redSqr().redISub(h).redISub(b);C=C.redIAdd(C);var T=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),D=T.redSqr().redISub(C).redISub(C);c=D;var F=b.redIAdd(b);F=(F=F.redIAdd(F)).redIAdd(F),p=T.redMul(C.redISub(D)).redISub(F),g=this.y.redAdd(this.y)}else{var H=this.z.redSqr(),O=this.y.redSqr(),$=this.x.redMul(O),B=this.x.redSub(H).redMul(this.x.redAdd(H));B=B.redAdd(B).redIAdd(B);var K=$.redIAdd($),U=(K=K.redIAdd(K)).redAdd(K);c=B.redSqr().redISub(U),g=this.y.redAdd(this.z).redSqr().redISub(O).redISub(H);var _=O.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),p=B.redMul(K.redISub(c)).redISub(_)}return this.curve.jpoint(c,p,g)},o.prototype._dbl=function(){var c=this.curve.a,p=this.x,g=this.y,h=this.z,y=h.redSqr().redSqr(),b=p.redSqr(),C=g.redSqr(),T=b.redAdd(b).redIAdd(b).redIAdd(c.redMul(y)),D=p.redAdd(p),F=(D=D.redIAdd(D)).redMul(C),H=T.redSqr().redISub(F.redAdd(F)),O=F.redISub(H),$=C.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var B=T.redMul(O).redISub($),K=g.redAdd(g).redMul(h);return this.curve.jpoint(H,B,K)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),h=p.redSqr(),y=c.redAdd(c).redIAdd(c),b=y.redSqr(),C=this.x.redAdd(p).redSqr().redISub(c).redISub(h),T=(C=(C=(C=C.redIAdd(C)).redAdd(C).redIAdd(C)).redISub(b)).redSqr(),D=h.redIAdd(h);D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var F=y.redIAdd(C).redSqr().redISub(b).redISub(T).redISub(D),H=p.redMul(F);H=(H=H.redIAdd(H)).redIAdd(H);var O=this.x.redMul(T).redISub(H);O=(O=O.redIAdd(O)).redIAdd(O);var $=this.y.redMul(F.redMul(D.redISub(F)).redISub(C.redMul(T)));$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var B=this.z.redAdd(C).redSqr().redISub(g).redISub(T);return this.curve.jpoint(O,$,B)},o.prototype.mul=function(c,p){return c=new s(c,p),this.curve._wnafMul(this,c)},o.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var p=this.z.redSqr(),g=c.z.redSqr();if(this.x.redMul(g).redISub(c.x.redMul(p)).cmpn(0)!==0)return!1;var h=p.redMul(this.z),y=g.redMul(c.z);return this.y.redMul(y).redISub(c.y.redMul(h)).cmpn(0)===0},o.prototype.eqXToP=function(c){var p=this.z.redSqr(),g=c.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var h=c.clone(),y=this.curve.redN.redMul(p);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(y),this.x.cmp(g)===0)return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,f,m){var d,s=m,a=t("hash.js"),i=t("./curve"),r=t("./utils").assert;function n(o){o.type==="short"?this.curve=new i.short(o):o.type==="edwards"?this.curve=new i.edwards(o):this.curve=new i.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(o,c){Object.defineProperty(s,o,{configurable:!0,enumerable:!0,get:function(){var p=new n(c);return Object.defineProperty(s,o,{configurable:!0,enumerable:!0,value:p}),p}})}s.PresetCurve=n,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{d=t("./precomputed/secp256k1")}catch{d=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,f,m){var d=t("bn.js"),s=t("hmac-drbg"),a=t("../utils"),i=t("../curves"),r=t("brorand"),n=a.assert,l=t("./key"),o=t("./signature");function c(p){if(!(this instanceof c))return new c(p);typeof p=="string"&&(n(Object.prototype.hasOwnProperty.call(i,p),"Unknown curve "+p),p=i[p]),p instanceof i.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}f.exports=c,c.prototype.keyPair=function(p){return new l(this,p)},c.prototype.keyFromPrivate=function(p,g){return l.fromPrivate(this,p,g)},c.prototype.keyFromPublic=function(p,g){return l.fromPublic(this,p,g)},c.prototype.genKeyPair=function(p){p||(p={});for(var g=new s({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||r(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),y=this.n.sub(new d(2));;){var b=new d(g.generate(h));if(!(b.cmp(y)>0))return b.iaddn(1),this.keyFromPrivate(b)}},c.prototype._truncateToN=function(p,g){var h=8*p.byteLength()-this.n.bitLength();return h>0&&(p=p.ushrn(h)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},c.prototype.sign=function(p,g,h,y){typeof h=="object"&&(y=h,h=null),y||(y={}),g=this.keyFromPrivate(g,h),p=this._truncateToN(new d(p,16));for(var b=this.n.byteLength(),C=g.getPrivate().toArray("be",b),T=p.toArray("be",b),D=new s({hash:this.hash,entropy:C,nonce:T,pers:y.pers,persEnc:y.persEnc||"utf8"}),F=this.n.sub(new d(1)),H=0;;H++){var O=y.k?y.k(H):new d(D.generate(this.n.byteLength()));if(!((O=this._truncateToN(O,!0)).cmpn(1)<=0||O.cmp(F)>=0)){var $=this.g.mul(O);if(!$.isInfinity()){var B=$.getX(),K=B.umod(this.n);if(K.cmpn(0)!==0){var U=O.invm(this.n).mul(K.mul(g.getPrivate()).iadd(p));if((U=U.umod(this.n)).cmpn(0)!==0){var _=($.getY().isOdd()?1:0)|(B.cmp(K)!==0?2:0);return y.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),_^=1),new o({r:K,s:U,recoveryParam:_})}}}}}},c.prototype.verify=function(p,g,h,y){p=this._truncateToN(new d(p,16)),h=this.keyFromPublic(h,y);var b=(g=new o(g,"hex")).r,C=g.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var T,D=C.invm(this.n),F=D.mul(p).umod(this.n),H=D.mul(b).umod(this.n);return this.curve._maxwellTrick?!(T=this.g.jmulAdd(F,h.getPublic(),H)).isInfinity()&&T.eqXToP(b):!(T=this.g.mulAdd(F,h.getPublic(),H)).isInfinity()&&T.getX().umod(this.n).cmp(b)===0},c.prototype.recoverPubKey=function(p,g,h,y){n((3&h)===h,"The recovery param is more than two bits"),g=new o(g,y);var b=this.n,C=new d(p),T=g.r,D=g.s,F=1&h,H=h>>1;if(T.cmp(this.curve.p.umod(this.curve.n))>=0&&H)throw new Error("Unable to find sencond key candinate");T=H?this.curve.pointFromX(T.add(this.curve.n),F):this.curve.pointFromX(T,F);var O=g.r.invm(b),$=b.sub(C).mul(O).umod(b),B=D.mul(O).umod(b);return this.g.mulAdd($,T,B)},c.prototype.getKeyRecoveryParam=function(p,g,h,y){if((g=new o(g,y)).recoveryParam!==null)return g.recoveryParam;for(var b=0;b<4;b++){var C;try{C=this.recoverPubKey(p,g,b)}catch{continue}if(C.eq(h))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,f,m){var d=t("bn.js"),s=t("../utils").assert;function a(i,r){this.ec=i,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}f.exports=a,a.fromPublic=function(i,r,n){return r instanceof a?r:new a(i,{pub:r,pubEnc:n})},a.fromPrivate=function(i,r,n){return r instanceof a?r:new a(i,{priv:r,privEnc:n})},a.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(i,r){return typeof i=="string"&&(r=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,i):this.pub},a.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(i,r){this.priv=new d(i,r||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(i,r){if(i.x||i.y)return this.ec.curve.type==="mont"?s(i.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(i.x&&i.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(i.x,i.y));this.pub=this.ec.curve.decodePoint(i,r)},a.prototype.derive=function(i){return i.validate()||s(i.validate(),"public point not validated"),i.mul(this.priv).getX()},a.prototype.sign=function(i,r,n){return this.ec.sign(i,this,r,n)},a.prototype.verify=function(i,r){return this.ec.verify(i,r,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,f,m){var d=t("bn.js"),s=t("../utils"),a=s.assert;function i(c,p){if(c instanceof i)return c;this._importDER(c,p)||(a(c.r&&c.s,"Signature without r or s"),this.r=new d(c.r,16),this.s=new d(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}function r(){this.place=0}function n(c,p){var g=c[p.place++];if(!(128&g))return g;var h=15&g;if(h===0||h>4)return!1;for(var y=0,b=0,C=p.place;b<h;b++,C++)y<<=8,y|=c[C],y>>>=0;return!(y<=127)&&(p.place=C,y)}function l(c){for(var p=0,g=c.length-1;!c[p]&&!(128&c[p+1])&&p<g;)p++;return p===0?c:c.slice(p)}function o(c,p){if(p<128)c.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(c.push(128|g);--g;)c.push(p>>>(g<<3)&255);c.push(p)}}f.exports=i,i.prototype._importDER=function(c,p){c=s.toArray(c,p);var g=new r;if(c[g.place++]!==48)return!1;var h=n(c,g);if(h===!1||h+g.place!==c.length||c[g.place++]!==2)return!1;var y=n(c,g);if(y===!1)return!1;var b=c.slice(g.place,y+g.place);if(g.place+=y,c[g.place++]!==2)return!1;var C=n(c,g);if(C===!1||c.length!==C+g.place)return!1;var T=c.slice(g.place,C+g.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(T[0]===0){if(!(128&T[1]))return!1;T=T.slice(1)}return this.r=new d(b),this.s=new d(T),this.recoveryParam=null,!0},i.prototype.toDER=function(c){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=l(p),g=l(g);!(g[0]||128&g[1]);)g=g.slice(1);var h=[2];o(h,p.length),(h=h.concat(p)).push(2),o(h,g.length);var y=h.concat(g),b=[48];return o(b,y.length),b=b.concat(y),s.encode(b,c)}},{"../utils":419,"bn.js":420}],415:[function(t,f,m){var d=t("hash.js"),s=t("../curves"),a=t("../utils"),i=a.assert,r=a.parseBytes,n=t("./key"),l=t("./signature");function o(c){if(i(c==="ed25519","only tested with ed25519 so far"),!(this instanceof o))return new o(c);c=s[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=d.sha512}f.exports=o,o.prototype.sign=function(c,p){c=r(c);var g=this.keyFromSecret(p),h=this.hashInt(g.messagePrefix(),c),y=this.g.mul(h),b=this.encodePoint(y),C=this.hashInt(b,g.pubBytes(),c).mul(g.priv()),T=h.add(C).umod(this.curve.n);return this.makeSignature({R:y,S:T,Rencoded:b})},o.prototype.verify=function(c,p,g){c=r(c),p=this.makeSignature(p);var h=this.keyFromPublic(g),y=this.hashInt(p.Rencoded(),h.pubBytes(),c),b=this.g.mul(p.S());return p.R().add(h.pub().mul(y)).eq(b)},o.prototype.hashInt=function(){for(var c=this.hash(),p=0;p<arguments.length;p++)c.update(arguments[p]);return a.intFromLE(c.digest()).umod(this.curve.n)},o.prototype.keyFromPublic=function(c){return n.fromPublic(this,c)},o.prototype.keyFromSecret=function(c){return n.fromSecret(this,c)},o.prototype.makeSignature=function(c){return c instanceof l?c:new l(this,c)},o.prototype.encodePoint=function(c){var p=c.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=c.getX().isOdd()?128:0,p},o.prototype.decodePoint=function(c){var p=(c=a.parseBytes(c)).length-1,g=c.slice(0,p).concat(-129&c[p]),h=(128&c[p])!=0,y=a.intFromLE(g);return this.curve.pointFromY(y,h)},o.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},o.prototype.decodeInt=function(c){return a.intFromLE(c)},o.prototype.isPoint=function(c){return c instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,f,m){var d=t("../utils"),s=d.assert,a=d.parseBytes,i=d.cachedProperty;function r(n,l){this.eddsa=n,this._secret=a(l.secret),n.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=a(l.pub)}r.fromPublic=function(n,l){return l instanceof r?l:new r(n,{pub:l})},r.fromSecret=function(n,l){return l instanceof r?l:new r(n,{secret:l})},r.prototype.secret=function(){return this._secret},i(r,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),i(r,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),i(r,"privBytes",(function(){var n=this.eddsa,l=this.hash(),o=n.encodingLength-1,c=l.slice(0,n.encodingLength);return c[0]&=248,c[o]&=127,c[o]|=64,c})),i(r,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),i(r,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),i(r,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),r.prototype.sign=function(n){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},r.prototype.verify=function(n,l){return this.eddsa.verify(n,l,this)},r.prototype.getSecret=function(n){return s(this._secret,"KeyPair is public only"),d.encode(this.secret(),n)},r.prototype.getPublic=function(n){return d.encode(this.pubBytes(),n)},f.exports=r},{"../utils":419}],417:[function(t,f,m){var d=t("bn.js"),s=t("../utils"),a=s.assert,i=s.cachedProperty,r=s.parseBytes;function n(l,o){this.eddsa=l,typeof o!="object"&&(o=r(o)),Array.isArray(o)&&(o={R:o.slice(0,l.encodingLength),S:o.slice(l.encodingLength)}),a(o.R&&o.S,"Signature without R or S"),l.isPoint(o.R)&&(this._R=o.R),o.S instanceof d&&(this._S=o.S),this._Rencoded=Array.isArray(o.R)?o.R:o.Rencoded,this._Sencoded=Array.isArray(o.S)?o.S:o.Sencoded}i(n,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),i(n,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),i(n,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),i(n,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},f.exports=n},{"../utils":419,"bn.js":420}],418:[function(t,f,m){f.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,f,m){var d=m,s=t("bn.js"),a=t("minimalistic-assert"),i=t("minimalistic-crypto-utils");d.assert=a,d.toArray=i.toArray,d.zero2=i.zero2,d.toHex=i.toHex,d.encode=i.encode,d.getNAF=function(r,n,l){var o=new Array(Math.max(r.bitLength(),l)+1);o.fill(0);for(var c=1<<n+1,p=r.clone(),g=0;g<o.length;g++){var h,y=p.andln(c-1);p.isOdd()?(h=y>(c>>1)-1?(c>>1)-y:y,p.isubn(h)):h=0,o[g]=h,p.iushrn(1)}return o},d.getJSF=function(r,n){var l=[[],[]];r=r.clone(),n=n.clone();for(var o,c=0,p=0;r.cmpn(-c)>0||n.cmpn(-p)>0;){var g,h,y=r.andln(3)+c&3,b=n.andln(3)+p&3;y===3&&(y=-1),b===3&&(b=-1),g=(1&y)==0?0:(o=r.andln(7)+c&7)!==3&&o!==5||b!==2?y:-y,l[0].push(g),h=(1&b)==0?0:(o=n.andln(7)+p&7)!==3&&o!==5||y!==2?b:-b,l[1].push(h),2*c===g+1&&(c=1-c),2*p===h+1&&(p=1-p),r.iushrn(1),n.iushrn(1)}return l},d.cachedProperty=function(r,n,l){var o="_"+n;r.prototype[n]=function(){return this[o]!==void 0?this[o]:this[o]=l.call(this)}},d.parseBytes=function(r){return typeof r=="string"?d.toArray(r,"hex"):r},d.intFromLE=function(r){return new s(r,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,f,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],421:[function(t,f,m){f.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,f,m){var d=Object.create||function(O){var $=function(){};return $.prototype=O,new $},s=Object.keys||function(O){var $=[];for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&$.push(B);return B},a=Function.prototype.bind||function(O){var $=this;return function(){return $.apply(O,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=d(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}f.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var r,n=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),r=l.x===0}catch{r=!1}function o(O){return O._maxListeners===void 0?i.defaultMaxListeners:O._maxListeners}function c(O,$,B){if($)O.call(B);else for(var K=O.length,U=H(O,K),_=0;_<K;++_)U[_].call(B)}function p(O,$,B,K){if($)O.call(B,K);else for(var U=O.length,_=H(O,U),M=0;M<U;++M)_[M].call(B,K)}function g(O,$,B,K,U){if($)O.call(B,K,U);else for(var _=O.length,M=H(O,_),A=0;A<_;++A)M[A].call(B,K,U)}function h(O,$,B,K,U,_){if($)O.call(B,K,U,_);else for(var M=O.length,A=H(O,M),N=0;N<M;++N)A[N].call(B,K,U,_)}function y(O,$,B,K){if($)O.apply(B,K);else for(var U=O.length,_=H(O,U),M=0;M<U;++M)_[M].apply(B,K)}function b(O,$,B,K){var U,_,M;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((_=O._events)?(_.newListener&&(O.emit("newListener",$,B.listener?B.listener:B),_=O._events),M=_[$]):(_=O._events=d(null),O._eventsCount=0),M){if(typeof M=="function"?M=_[$]=K?[B,M]:[M,B]:K?M.unshift(B):M.push(B),!M.warned&&(U=o(O))&&U>0&&M.length>U){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String($)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=O,A.type=$,A.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else M=_[$]=B,++O._eventsCount;return O}function C(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),$=0;$<O.length;++$)O[$]=arguments[$];this.listener.apply(this.target,O)}}function T(O,$,B){var K={fired:!1,wrapFn:void 0,target:O,type:$,listener:B},U=a.call(C,K);return U.listener=B,K.wrapFn=U,U}function D(O,$,B){var K=O._events;if(!K)return[];var U=K[$];return U?typeof U=="function"?B?[U.listener||U]:[U]:B?(function(_){for(var M=new Array(_.length),A=0;A<M.length;++A)M[A]=_[A].listener||_[A];return M})(U):H(U,U.length):[]}function F(O){var $=this._events;if($){var B=$[O];if(typeof B=="function")return 1;if(B)return B.length}return 0}function H(O,$){for(var B=new Array($),K=0;K<$;++K)B[K]=O[K];return B}r?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(O){if(typeof O!="number"||O<0||O!=O)throw new TypeError('"defaultMaxListeners" must be a positive number');n=O}}):i.defaultMaxListeners=n,i.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||isNaN(O))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=O,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(O){var $,B,K,U,_,M,A=O==="error";if(M=this._events)A=A&&M.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&($=arguments[1]),$ instanceof Error)throw $;var N=new Error('Unhandled "error" event. ('+$+")");throw N.context=$,N}if(!(B=M[O]))return!1;var S=typeof B=="function";switch(K=arguments.length){case 1:c(B,S,this);break;case 2:p(B,S,this,arguments[1]);break;case 3:g(B,S,this,arguments[1],arguments[2]);break;case 4:h(B,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array(K-1),_=1;_<K;_++)U[_-1]=arguments[_];y(B,S,this,U)}return!0},i.prototype.addListener=function(O,$){return b(this,O,$,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(O,$){return b(this,O,$,!0)},i.prototype.once=function(O,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(O,T(this,O,$)),this},i.prototype.prependOnceListener=function(O,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(O,T(this,O,$)),this},i.prototype.removeListener=function(O,$){var B,K,U,_,M;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(!(K=this._events))return this;if(!(B=K[O]))return this;if(B===$||B.listener===$)--this._eventsCount==0?this._events=d(null):(delete K[O],K.removeListener&&this.emit("removeListener",O,B.listener||$));else if(typeof B!="function"){for(U=-1,_=B.length-1;_>=0;_--)if(B[_]===$||B[_].listener===$){M=B[_].listener,U=_;break}if(U<0)return this;U===0?B.shift():(function(A,N){for(var S=N,w=S+1,j=A.length;w<j;S+=1,w+=1)A[S]=A[w];A.pop()})(B,U),B.length===1&&(K[O]=B[0]),K.removeListener&&this.emit("removeListener",O,M||$)}return this},i.prototype.removeAllListeners=function(O){var $,B,K;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=d(null),this._eventsCount=0):B[O]&&(--this._eventsCount==0?this._events=d(null):delete B[O]),this;if(arguments.length===0){var U,_=s(B);for(K=0;K<_.length;++K)(U=_[K])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=d(null),this._eventsCount=0,this}if(typeof($=B[O])=="function")this.removeListener(O,$);else if($)for(K=$.length-1;K>=0;K--)this.removeListener(O,$[K]);return this},i.prototype.listeners=function(O){return D(this,O,!0)},i.prototype.rawListeners=function(O){return D(this,O,!1)},i.listenerCount=function(O,$){return typeof O.listenerCount=="function"?O.listenerCount($):F.call(O,$)},i.prototype.listenerCount=F,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("md5.js");f.exports=function(a,i,r,n){if(d.isBuffer(a)||(a=d.from(a,"binary")),i&&(d.isBuffer(i)||(i=d.from(i,"binary")),i.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=r/8,o=d.alloc(l),c=d.alloc(n||0),p=d.alloc(0);l>0||n>0;){var g=new s;g.update(p),g.update(a),i&&g.update(i),p=g.digest();var h=0;if(l>0){var y=o.length-l;h=Math.min(l,p.length),p.copy(o,y,0,h),l-=h}if(h<p.length&&n>0){var b=c.length-n,C=Math.min(n,p.length-h);p.copy(c,b,h,h+C),n-=C}}return p.fill(0),{key:o,iv:c}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.CsvParserStream=m.ParserOptions=m.parseFile=m.parseStream=m.parseString=m.parse=m.FormatterOptions=m.CsvFormatterStream=m.writeToPath=m.writeToString=m.writeToBuffer=m.writeToStream=m.write=m.format=void 0;var d=t("@fast-csv/format");Object.defineProperty(m,"format",{enumerable:!0,get:function(){return d.format}}),Object.defineProperty(m,"write",{enumerable:!0,get:function(){return d.write}}),Object.defineProperty(m,"writeToStream",{enumerable:!0,get:function(){return d.writeToStream}}),Object.defineProperty(m,"writeToBuffer",{enumerable:!0,get:function(){return d.writeToBuffer}}),Object.defineProperty(m,"writeToString",{enumerable:!0,get:function(){return d.writeToString}}),Object.defineProperty(m,"writeToPath",{enumerable:!0,get:function(){return d.writeToPath}}),Object.defineProperty(m,"CsvFormatterStream",{enumerable:!0,get:function(){return d.CsvFormatterStream}}),Object.defineProperty(m,"FormatterOptions",{enumerable:!0,get:function(){return d.FormatterOptions}});var s=t("@fast-csv/parse");Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(m,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(m,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(m,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(m,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(m,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("readable-stream").Transform;function a(i){s.call(this),this._block=d.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(a,s),a.prototype._transform=function(i,r,n){var l=null;try{this.update(i,r)}catch(o){l=o}n(l)},a.prototype._flush=function(i){var r=null;try{this.push(this.digest())}catch(n){r=n}i(r)},a.prototype.update=function(i,r){if((function(g,h){if(!d.isBuffer(g)&&typeof g!="string")throw new TypeError(h+" must be a string or a buffer")})(i,"Data"),this._finalized)throw new Error("Digest already called");d.isBuffer(i)||(i=d.from(i,r));for(var n=this._block,l=0;this._blockOffset+i.length-l>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=i[l++];this._update(),this._blockOffset=0}for(;l<i.length;)n[this._blockOffset++]=i[l++];for(var c=0,p=8*i.length;p>0;++c)this._length[c]+=p,(p=this._length[c]/4294967296|0)>0&&(this._length[c]-=4294967296*p);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var r=this._digest();i!==void 0&&(r=r.toString(i)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return r},a.prototype._digest=function(){throw new Error("_digest is not implemented")},f.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,f,m){var d=m;d.utils=t("./hash/utils"),d.common=t("./hash/common"),d.sha=t("./hash/sha"),d.ripemd=t("./hash/ripemd"),d.hmac=t("./hash/hmac"),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,f,m){var d=t("./utils"),s=t("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}m.BlockHash=a,a.prototype.update=function(i,r){if(i=d.toArray(i,r),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var n=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-n,i.length),this.pending.length===0&&(this.pending=null),i=d.join32(i,0,i.length-n,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},a.prototype.digest=function(i){return this.update(this._pad()),s(this.pending===null),this._digest(i)},a.prototype._pad=function(){var i=this.pendingTotal,r=this._delta8,n=r-(i+this.padLength)%r,l=new Array(n+this.padLength);l[0]=128;for(var o=1;o<n;o++)l[o]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)l[o++]=0;l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=i>>>24&255,l[o++]=i>>>16&255,l[o++]=i>>>8&255,l[o++]=255&i}else for(l[o++]=255&i,l[o++]=i>>>8&255,l[o++]=i>>>16&255,l[o++]=i>>>24&255,l[o++]=0,l[o++]=0,l[o++]=0,l[o++]=0,c=8;c<this.padLength;c++)l[o++]=0;return l}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,f,m){var d=t("./utils"),s=t("minimalistic-assert");function a(i,r,n){if(!(this instanceof a))return new a(i,r,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(d.toArray(r,n))}f.exports=a,a.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),s(i.length<=this.blockSize);for(var r=i.length;r<this.blockSize;r++)i.push(0);for(r=0;r<i.length;r++)i[r]^=54;for(this.inner=new this.Hash().update(i),r=0;r<i.length;r++)i[r]^=106;this.outer=new this.Hash().update(i)},a.prototype.update=function(i,r){return this.inner.update(i,r),this},a.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,f,m){var d=t("./utils"),s=t("./common"),a=d.rotl32,i=d.sum32,r=d.sum32_3,n=d.sum32_4,l=s.BlockHash;function o(){if(!(this instanceof o))return new o;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(T,D,F,H){return T<=15?D^F^H:T<=31?D&F|~D&H:T<=47?(D|~F)^H:T<=63?D&H|F&~H:D^(F|~H)}function p(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function g(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}d.inherits(o,l),m.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(T,D){for(var F=this.h[0],H=this.h[1],O=this.h[2],$=this.h[3],B=this.h[4],K=F,U=H,_=O,M=$,A=B,N=0;N<80;N++){var S=i(a(n(F,c(N,H,O,$),T[h[N]+D],p(N)),b[N]),B);F=B,B=$,$=a(O,10),O=H,H=S,S=i(a(n(K,c(79-N,U,_,M),T[y[N]+D],g(N)),C[N]),A),K=A,A=M,M=a(_,10),_=U,U=S}S=r(this.h[1],O,M),this.h[1]=r(this.h[2],$,A),this.h[2]=r(this.h[3],B,K),this.h[3]=r(this.h[4],F,U),this.h[4]=r(this.h[0],H,_),this.h[0]=S},o.prototype._digest=function(T){return T==="hex"?d.toHex32(this.h,"little"):d.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],C=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,f,m){m.sha1=t("./sha/1"),m.sha224=t("./sha/224"),m.sha256=t("./sha/256"),m.sha384=t("./sha/384"),m.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,f,m){var d=t("../utils"),s=t("../common"),a=t("./common"),i=d.rotl32,r=d.sum32,n=d.sum32_5,l=a.ft_1,o=s.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}d.inherits(p,o),f.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,h){for(var y=this.W,b=0;b<16;b++)y[b]=g[h+b];for(;b<y.length;b++)y[b]=i(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var C=this.h[0],T=this.h[1],D=this.h[2],F=this.h[3],H=this.h[4];for(b=0;b<y.length;b++){var O=~~(b/20),$=n(i(C,5),l(O,T,D,F),H,y[b],c[O]);H=F,F=D,D=i(T,30),T=C,C=$}this.h[0]=r(this.h[0],C),this.h[1]=r(this.h[1],T),this.h[2]=r(this.h[2],D),this.h[3]=r(this.h[3],F),this.h[4]=r(this.h[4],H)},p.prototype._digest=function(g){return g==="hex"?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,f,m){var d=t("../utils"),s=t("./256");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}d.inherits(a,s),f.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(i){return i==="hex"?d.toHex32(this.h.slice(0,7),"big"):d.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,f,m){var d=t("../utils"),s=t("../common"),a=t("./common"),i=t("minimalistic-assert"),r=d.sum32,n=d.sum32_4,l=d.sum32_5,o=a.ch32,c=a.maj32,p=a.s0_256,g=a.s1_256,h=a.g0_256,y=a.g1_256,b=s.BlockHash,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function T(){if(!(this instanceof T))return new T;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=C,this.W=new Array(64)}d.inherits(T,b),f.exports=T,T.blockSize=512,T.outSize=256,T.hmacStrength=192,T.padLength=64,T.prototype._update=function(D,F){for(var H=this.W,O=0;O<16;O++)H[O]=D[F+O];for(;O<H.length;O++)H[O]=n(y(H[O-2]),H[O-7],h(H[O-15]),H[O-16]);var $=this.h[0],B=this.h[1],K=this.h[2],U=this.h[3],_=this.h[4],M=this.h[5],A=this.h[6],N=this.h[7];for(i(this.k.length===H.length),O=0;O<H.length;O++){var S=l(N,g(_),o(_,M,A),this.k[O],H[O]),w=r(p($),c($,B,K));N=A,A=M,M=_,_=r(U,S),U=K,K=B,B=$,$=r(S,w)}this.h[0]=r(this.h[0],$),this.h[1]=r(this.h[1],B),this.h[2]=r(this.h[2],K),this.h[3]=r(this.h[3],U),this.h[4]=r(this.h[4],_),this.h[5]=r(this.h[5],M),this.h[6]=r(this.h[6],A),this.h[7]=r(this.h[7],N)},T.prototype._digest=function(D){return D==="hex"?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,f,m){var d=t("../utils"),s=t("./512");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}d.inherits(a,s),f.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(i){return i==="hex"?d.toHex32(this.h.slice(0,12),"big"):d.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,f,m){var d=t("../utils"),s=t("../common"),a=t("minimalistic-assert"),i=d.rotr64_hi,r=d.rotr64_lo,n=d.shr64_hi,l=d.shr64_lo,o=d.sum64,c=d.sum64_hi,p=d.sum64_lo,g=d.sum64_4_hi,h=d.sum64_4_lo,y=d.sum64_5_hi,b=d.sum64_5_lo,C=s.BlockHash,T=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;C.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=T,this.W=new Array(160)}function F(w,j,E,I,L){var G=w&E^~w&L;return G<0&&(G+=4294967296),G}function H(w,j,E,I,L,G){var X=j&I^~j&G;return X<0&&(X+=4294967296),X}function O(w,j,E,I,L){var G=w&E^w&L^E&L;return G<0&&(G+=4294967296),G}function $(w,j,E,I,L,G){var X=j&I^j&G^I&G;return X<0&&(X+=4294967296),X}function B(w,j){var E=i(w,j,28)^i(j,w,2)^i(j,w,7);return E<0&&(E+=4294967296),E}function K(w,j){var E=r(w,j,28)^r(j,w,2)^r(j,w,7);return E<0&&(E+=4294967296),E}function U(w,j){var E=i(w,j,14)^i(w,j,18)^i(j,w,9);return E<0&&(E+=4294967296),E}function _(w,j){var E=r(w,j,14)^r(w,j,18)^r(j,w,9);return E<0&&(E+=4294967296),E}function M(w,j){var E=i(w,j,1)^i(w,j,8)^n(w,j,7);return E<0&&(E+=4294967296),E}function A(w,j){var E=r(w,j,1)^r(w,j,8)^l(w,j,7);return E<0&&(E+=4294967296),E}function N(w,j){var E=i(w,j,19)^i(j,w,29)^n(w,j,6);return E<0&&(E+=4294967296),E}function S(w,j){var E=r(w,j,19)^r(j,w,29)^l(w,j,6);return E<0&&(E+=4294967296),E}d.inherits(D,C),f.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(w,j){for(var E=this.W,I=0;I<32;I++)E[I]=w[j+I];for(;I<E.length;I+=2){var L=N(E[I-4],E[I-3]),G=S(E[I-4],E[I-3]),X=E[I-14],re=E[I-13],q=M(E[I-30],E[I-29]),ee=A(E[I-30],E[I-29]),R=E[I-32],z=E[I-31];E[I]=g(L,G,X,re,q,ee,R,z),E[I+1]=h(L,G,X,re,q,ee,R,z)}},D.prototype._update=function(w,j){this._prepareBlock(w,j);var E=this.W,I=this.h[0],L=this.h[1],G=this.h[2],X=this.h[3],re=this.h[4],q=this.h[5],ee=this.h[6],R=this.h[7],z=this.h[8],W=this.h[9],se=this.h[10],he=this.h[11],ne=this.h[12],me=this.h[13],Se=this.h[14],Ee=this.h[15];a(this.k.length===E.length);for(var le=0;le<E.length;le+=2){var ie=Se,ce=Ee,ae=U(z,W),ge=_(z,W),pe=F(z,W,se,he,ne),Ae=H(z,W,se,he,ne,me),fe=this.k[le],te=this.k[le+1],ye=E[le],Te=E[le+1],Ce=y(ie,ce,ae,ge,pe,Ae,fe,te,ye,Te),je=b(ie,ce,ae,ge,pe,Ae,fe,te,ye,Te);ie=B(I,L),ce=K(I,L),ae=O(I,L,G,X,re),ge=$(I,L,G,X,re,q);var tt=c(ie,ce,ae,ge),Pe=p(ie,ce,ae,ge);Se=ne,Ee=me,ne=se,me=he,se=z,he=W,z=c(ee,R,Ce,je),W=p(R,R,Ce,je),ee=re,R=q,re=G,q=X,G=I,X=L,I=c(Ce,je,tt,Pe),L=p(Ce,je,tt,Pe)}o(this.h,0,I,L),o(this.h,2,G,X),o(this.h,4,re,q),o(this.h,6,ee,R),o(this.h,8,z,W),o(this.h,10,se,he),o(this.h,12,ne,me),o(this.h,14,Se,Ee)},D.prototype._digest=function(w){return w==="hex"?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,f,m){var d=t("../utils").rotr32;function s(r,n,l){return r&n^~r&l}function a(r,n,l){return r&n^r&l^n&l}function i(r,n,l){return r^n^l}m.ft_1=function(r,n,l,o){return r===0?s(n,l,o):r===1||r===3?i(n,l,o):r===2?a(n,l,o):void 0},m.ch32=s,m.maj32=a,m.p32=i,m.s0_256=function(r){return d(r,2)^d(r,13)^d(r,22)},m.s1_256=function(r){return d(r,6)^d(r,11)^d(r,25)},m.g0_256=function(r){return d(r,7)^d(r,18)^r>>>3},m.g1_256=function(r){return d(r,17)^d(r,19)^r>>>10}},{"../utils":437}],437:[function(t,f,m){var d=t("minimalistic-assert"),s=t("inherits");function a(l,o){return(64512&l.charCodeAt(o))==55296&&!(o<0||o+1>=l.length)&&(64512&l.charCodeAt(o+1))==56320}function i(l){return(l>>>24|l>>>8&65280|l<<8&16711680|(255&l)<<24)>>>0}function r(l){return l.length===1?"0"+l:l}function n(l){return l.length===7?"0"+l:l.length===6?"00"+l:l.length===5?"000"+l:l.length===4?"0000"+l:l.length===3?"00000"+l:l.length===2?"000000"+l:l.length===1?"0000000"+l:l}m.inherits=s,m.toArray=function(l,o){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l=="string")if(o){if(o==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),g=0;g<l.length;g+=2)c.push(parseInt(l[g]+l[g+1],16))}else for(var p=0,g=0;g<l.length;g++){var h=l.charCodeAt(g);h<128?c[p++]=h:h<2048?(c[p++]=h>>6|192,c[p++]=63&h|128):a(l,g)?(h=65536+((1023&h)<<10)+(1023&l.charCodeAt(++g)),c[p++]=h>>18|240,c[p++]=h>>12&63|128,c[p++]=h>>6&63|128,c[p++]=63&h|128):(c[p++]=h>>12|224,c[p++]=h>>6&63|128,c[p++]=63&h|128)}else for(g=0;g<l.length;g++)c[g]=0|l[g];return c},m.toHex=function(l){for(var o="",c=0;c<l.length;c++)o+=r(l[c].toString(16));return o},m.htonl=i,m.toHex32=function(l,o){for(var c="",p=0;p<l.length;p++){var g=l[p];o==="little"&&(g=i(g)),c+=n(g.toString(16))}return c},m.zero2=r,m.zero8=n,m.join32=function(l,o,c,p){var g=c-o;d(g%4==0);for(var h=new Array(g/4),y=0,b=o;y<h.length;y++,b+=4){var C;C=p==="big"?l[b]<<24|l[b+1]<<16|l[b+2]<<8|l[b+3]:l[b+3]<<24|l[b+2]<<16|l[b+1]<<8|l[b],h[y]=C>>>0}return h},m.split32=function(l,o){for(var c=new Array(4*l.length),p=0,g=0;p<l.length;p++,g+=4){var h=l[p];o==="big"?(c[g]=h>>>24,c[g+1]=h>>>16&255,c[g+2]=h>>>8&255,c[g+3]=255&h):(c[g+3]=h>>>24,c[g+2]=h>>>16&255,c[g+1]=h>>>8&255,c[g]=255&h)}return c},m.rotr32=function(l,o){return l>>>o|l<<32-o},m.rotl32=function(l,o){return l<<o|l>>>32-o},m.sum32=function(l,o){return l+o>>>0},m.sum32_3=function(l,o,c){return l+o+c>>>0},m.sum32_4=function(l,o,c,p){return l+o+c+p>>>0},m.sum32_5=function(l,o,c,p,g){return l+o+c+p+g>>>0},m.sum64=function(l,o,c,p){var g=l[o],h=p+l[o+1]>>>0,y=(h<p?1:0)+c+g;l[o]=y>>>0,l[o+1]=h},m.sum64_hi=function(l,o,c,p){return(o+p>>>0<o?1:0)+l+c>>>0},m.sum64_lo=function(l,o,c,p){return o+p>>>0},m.sum64_4_hi=function(l,o,c,p,g,h,y,b){var C=0,T=o;return C+=(T=T+p>>>0)<o?1:0,C+=(T=T+h>>>0)<h?1:0,l+c+g+y+(C+=(T=T+b>>>0)<b?1:0)>>>0},m.sum64_4_lo=function(l,o,c,p,g,h,y,b){return o+p+h+b>>>0},m.sum64_5_hi=function(l,o,c,p,g,h,y,b,C,T){var D=0,F=o;return D+=(F=F+p>>>0)<o?1:0,D+=(F=F+h>>>0)<h?1:0,D+=(F=F+b>>>0)<b?1:0,l+c+g+y+C+(D+=(F=F+T>>>0)<T?1:0)>>>0},m.sum64_5_lo=function(l,o,c,p,g,h,y,b,C,T){return o+p+h+b+T>>>0},m.rotr64_hi=function(l,o,c){return(o<<32-c|l>>>c)>>>0},m.rotr64_lo=function(l,o,c){return(l<<32-c|o>>>c)>>>0},m.shr64_hi=function(l,o,c){return l>>>c},m.shr64_lo=function(l,o,c){return(l<<32-c|o>>>c)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,f,m){var d=t("hash.js"),s=t("minimalistic-crypto-utils"),a=t("minimalistic-assert");function i(r){if(!(this instanceof i))return new i(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=s.toArray(r.entropy,r.entropyEnc||"hex"),l=s.toArray(r.nonce,r.nonceEnc||"hex"),o=s.toArray(r.pers,r.persEnc||"hex");a(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,l,o)}f.exports=i,i.prototype._init=function(r,n,l){var o=r.concat(n).concat(l);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new d.hmac(this.hash,this.K)},i.prototype._update=function(r){var n=this._hmac().update(this.V).update([0]);r&&(n=n.update(r)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(r,n,l,o){typeof n!="string"&&(o=l,l=n,n=null),r=s.toArray(r,n),l=s.toArray(l,o),a(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(l||[])),this._reseed=1},i.prototype.generate=function(r,n,l,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(o=l,l=n,n=null),l&&(l=s.toArray(l,o||"hex"),this._update(l));for(var c=[];c.length<r;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var p=c.slice(0,r);return this._update(l),this._reseed++,s.encode(p,n)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,f,m){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(d,s,a,i,r){var n,l,o=8*r-i-1,c=(1<<o)-1,p=c>>1,g=-7,h=a?r-1:0,y=a?-1:1,b=d[s+h];for(h+=y,n=b&(1<<-g)-1,b>>=-g,g+=o;g>0;n=256*n+d[s+h],h+=y,g-=8);for(l=n&(1<<-g)-1,n>>=-g,g+=i;g>0;l=256*l+d[s+h],h+=y,g-=8);if(n===0)n=1-p;else{if(n===c)return l?NaN:1/0*(b?-1:1);l+=Math.pow(2,i),n-=p}return(b?-1:1)*l*Math.pow(2,n-i)},m.write=function(d,s,a,i,r,n){var l,o,c,p=8*n-r-1,g=(1<<p)-1,h=g>>1,y=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:n-1,C=i?1:-1,T=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(o=isNaN(s)?1:0,l=g):(l=Math.floor(Math.log(s)/Math.LN2),s*(c=Math.pow(2,-l))<1&&(l--,c*=2),(s+=l+h>=1?y/c:y*Math.pow(2,1-h))*c>=2&&(l++,c/=2),l+h>=g?(o=0,l=g):l+h>=1?(o=(s*c-1)*Math.pow(2,r),l+=h):(o=s*Math.pow(2,h-1)*Math.pow(2,r),l=0));r>=8;d[a+b]=255&o,b+=C,o/=256,r-=8);for(l=l<<r|o,p+=r;p>0;d[a+b]=255&l,b+=C,l/=256,p-=8);d[a+b-C]|=128*T}},{}],440:[function(t,f,m){typeof Object.create=="function"?f.exports=function(d,s){s&&(d.super_=s,d.prototype=Object.create(s.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}))}:f.exports=function(d,s){if(s){d.super_=s;var a=function(){};a.prototype=s.prototype,d.prototype=new a,d.prototype.constructor=d}}},{}],441:[function(t,f,m){(function(d,s,a,i,r,n,l,o){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(c){typeof m=="object"&&f!==void 0?f.exports=c():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=c()})((function(){return(function c(p,g,h){function y(T,D){if(!g[T]){if(!p[T]){var F=typeof t=="function"&&t;if(!D&&F)return F(T,!0);if(b)return b(T,!0);var H=new Error("Cannot find module '"+T+"'");throw H.code="MODULE_NOT_FOUND",H}var O=g[T]={exports:{}};p[T][0].call(O.exports,(function($){return y(p[T][1][$]||$)}),O,O.exports,c,p,g,h)}return g[T].exports}for(var b=typeof t=="function"&&t,C=0;C<h.length;C++)y(h[C]);return y})({1:[function(c,p,g){var h=c("./utils"),y=c("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(C){for(var T,D,F,H,O,$,B,K=[],U=0,_=C.length,M=_,A=h.getTypeOf(C)!=="string";U<C.length;)M=_-U,F=A?(T=C[U++],D=U<_?C[U++]:0,U<_?C[U++]:0):(T=C.charCodeAt(U++),D=U<_?C.charCodeAt(U++):0,U<_?C.charCodeAt(U++):0),H=T>>2,O=(3&T)<<4|D>>4,$=1<M?(15&D)<<2|F>>6:64,B=2<M?63&F:64,K.push(b.charAt(H)+b.charAt(O)+b.charAt($)+b.charAt(B));return K.join("")},g.decode=function(C){var T,D,F,H,O,$,B=0,K=0,U="data:";if(C.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var _,M=3*(C=C.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(C.charAt(C.length-1)===b.charAt(64)&&M--,C.charAt(C.length-2)===b.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=y.uint8array?new Uint8Array(0|M):new Array(0|M);B<C.length;)T=b.indexOf(C.charAt(B++))<<2|(H=b.indexOf(C.charAt(B++)))>>4,D=(15&H)<<4|(O=b.indexOf(C.charAt(B++)))>>2,F=(3&O)<<6|($=b.indexOf(C.charAt(B++))),_[K++]=T,O!==64&&(_[K++]=D),$!==64&&(_[K++]=F);return _}},{"./support":30,"./utils":32}],2:[function(c,p,g){var h=c("./external"),y=c("./stream/DataWorker"),b=c("./stream/Crc32Probe"),C=c("./stream/DataLengthProbe");function T(D,F,H,O,$){this.compressedSize=D,this.uncompressedSize=F,this.crc32=H,this.compression=O,this.compressedContent=$}T.prototype={getContentWorker:function(){var D=new y(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new C("data_length")),F=this;return D.on("end",(function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),D},getCompressedWorker:function(){return new y(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},T.createWorkerFrom=function(D,F,H){return D.pipe(new b).pipe(new C("uncompressedSize")).pipe(F.compressWorker(H)).pipe(new C("compressedSize")).withStreamInfo("compression",F)},p.exports=T},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(c,p,g){var h=c("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},g.DEFLATE=c("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(c,p,g){var h=c("./utils"),y=(function(){for(var b,C=[],T=0;T<256;T++){b=T;for(var D=0;D<8;D++)b=1&b?3988292384^b>>>1:b>>>1;C[T]=b}return C})();p.exports=function(b,C){return b!==void 0&&b.length?h.getTypeOf(b)!=="string"?(function(T,D,F,H){var O=y,$=0+F;T^=-1;for(var B=0;B<$;B++)T=T>>>8^O[255&(T^D[B])];return-1^T})(0|C,b,b.length):(function(T,D,F,H){var O=y,$=0+F;T^=-1;for(var B=0;B<$;B++)T=T>>>8^O[255&(T^D.charCodeAt(B))];return-1^T})(0|C,b,b.length):0}},{"./utils":32}],5:[function(c,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(c,p,g){var h;h=typeof Promise<"u"?Promise:c("lie"),p.exports={Promise:h}},{lie:37}],7:[function(c,p,g){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=c("pako"),b=c("./utils"),C=c("./stream/GenericWorker"),T=h?"uint8array":"array";function D(F,H){C.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=H,this.meta={}}g.magic="\b\0",b.inherits(D,C),D.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(T,F.data),!1)},D.prototype.flush=function(){C.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){C.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(H){F.push({data:H,meta:F.meta})}},g.compressWorker=function(F){return new D("Deflate",F)},g.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(c,p,g){function h(O,$){var B,K="";for(B=0;B<$;B++)K+=String.fromCharCode(255&O),O>>>=8;return K}function y(O,$,B,K,U,_){var M,A,N=O.file,S=O.compression,w=_!==T.utf8encode,j=b.transformTo("string",_(N.name)),E=b.transformTo("string",T.utf8encode(N.name)),I=N.comment,L=b.transformTo("string",_(I)),G=b.transformTo("string",T.utf8encode(I)),X=E.length!==N.name.length,re=G.length!==I.length,q="",ee="",R="",z=N.dir,W=N.date,se={crc32:0,compressedSize:0,uncompressedSize:0};$&&!B||(se.crc32=O.crc32,se.compressedSize=O.compressedSize,se.uncompressedSize=O.uncompressedSize);var he=0;$&&(he|=8),w||!X&&!re||(he|=2048);var ne=0,me=0;z&&(ne|=16),U==="UNIX"?(me=798,ne|=(function(Ee,le){var ie=Ee;return Ee||(ie=le?16893:33204),(65535&ie)<<16})(N.unixPermissions,z)):(me=20,ne|=(function(Ee){return 63&(Ee||0)})(N.dosPermissions)),M=W.getUTCHours(),M<<=6,M|=W.getUTCMinutes(),M<<=5,M|=W.getUTCSeconds()/2,A=W.getUTCFullYear()-1980,A<<=4,A|=W.getUTCMonth()+1,A<<=5,A|=W.getUTCDate(),X&&(ee=h(1,1)+h(D(j),4)+E,q+="up"+h(ee.length,2)+ee),re&&(R=h(1,1)+h(D(L),4)+G,q+="uc"+h(R.length,2)+R);var Se="";return Se+=`
\0`,Se+=h(he,2),Se+=S.magic,Se+=h(M,2),Se+=h(A,2),Se+=h(se.crc32,4),Se+=h(se.compressedSize,4),Se+=h(se.uncompressedSize,4),Se+=h(j.length,2),Se+=h(q.length,2),{fileRecord:F.LOCAL_FILE_HEADER+Se+j+q,dirRecord:F.CENTRAL_FILE_HEADER+h(me,2)+Se+h(L.length,2)+"\0\0\0\0"+h(ne,4)+h(K,4)+j+q+L}}var b=c("../utils"),C=c("../stream/GenericWorker"),T=c("../utf8"),D=c("../crc32"),F=c("../signature");function H(O,$,B,K){C.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=$,this.zipPlatform=B,this.encodeFileName=K,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(H,C),H.prototype.push=function(O){var $=O.meta.percent||0,B=this.entriesCount,K=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,C.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:B?($+100*(B-K-1))/B:100}}))},H.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var $=this.streamFiles&&!O.file.dir;if($){var B=y(O,$,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},H.prototype.closedSource=function(O){this.accumulate=!1;var $=this.streamFiles&&!O.file.dir,B=y(O,$,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),$)this.push({data:(function(K){return F.DATA_DESCRIPTOR+h(K.crc32,4)+h(K.compressedSize,4)+h(K.uncompressedSize,4)})(O),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},H.prototype.flush=function(){for(var O=this.bytesWritten,$=0;$<this.dirRecords.length;$++)this.push({data:this.dirRecords[$],meta:{percent:100}});var B=this.bytesWritten-O,K=(function(U,_,M,A,N){var S=b.transformTo("string",N(A));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(U,2)+h(U,2)+h(_,4)+h(M,4)+h(S.length,2)+S})(this.dirRecords.length,B,O,this.zipComment,this.encodeFileName);this.push({data:K,meta:{percent:100}})},H.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},H.prototype.registerPrevious=function(O){this._sources.push(O);var $=this;return O.on("data",(function(B){$.processChunk(B)})),O.on("end",(function(){$.closedSource($.previous.streamInfo),$._sources.length?$.prepareNextSource():$.end()})),O.on("error",(function(B){$.error(B)})),this},H.prototype.resume=function(){return!!C.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},H.prototype.error=function(O){var $=this._sources;if(!C.prototype.error.call(this,O))return!1;for(var B=0;B<$.length;B++)try{$[B].error(O)}catch{}return!0},H.prototype.lock=function(){C.prototype.lock.call(this);for(var O=this._sources,$=0;$<O.length;$++)O[$].lock()},p.exports=H},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(c,p,g){var h=c("../compressions"),y=c("./ZipFileWorker");g.generateWorker=function(b,C,T){var D=new y(C.streamFiles,T,C.platform,C.encodeFileName),F=0;try{b.forEach((function(H,O){F++;var $=(function(_,M){var A=_||M,N=h[A];if(!N)throw new Error(A+" is not a valid compression method !");return N})(O.options.compression,C.compression),B=O.options.compressionOptions||C.compressionOptions||{},K=O.dir,U=O.date;O._compressWorker($,B).withStreamInfo("file",{name:H,dir:K,date:U,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(D)})),D.entriesCount=F}catch(H){D.error(H)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(c,p,g){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new h;for(var b in this)typeof this[b]!="function"&&(y[b]=this[b]);return y}}(h.prototype=c("./object")).loadAsync=c("./load"),h.support=c("./support"),h.defaults=c("./defaults"),h.version="3.10.1",h.loadAsync=function(y,b){return new h().loadAsync(y,b)},h.external=c("./external"),p.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(c,p,g){var h=c("./utils"),y=c("./external"),b=c("./utf8"),C=c("./zipEntries"),T=c("./stream/Crc32Probe"),D=c("./nodejsUtils");function F(H){return new y.Promise((function(O,$){var B=H.decompressed.getContentWorker().pipe(new T);B.on("error",(function(K){$(K)})).on("end",(function(){B.streamInfo.crc32!==H.decompressed.crc32?$(new Error("Corrupted zip : CRC32 mismatch")):O()})).resume()}))}p.exports=function(H,O){var $=this;return O=h.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),D.isNode&&D.isStream(H)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",H,!0,O.optimizedBinaryString,O.base64).then((function(B){var K=new C(O);return K.load(B),K})).then((function(B){var K=[y.Promise.resolve(B)],U=B.files;if(O.checkCRC32)for(var _=0;_<U.length;_++)K.push(F(U[_]));return y.Promise.all(K)})).then((function(B){for(var K=B.shift(),U=K.files,_=0;_<U.length;_++){var M=U[_],A=M.fileNameStr,N=h.resolve(M.fileNameStr);$.file(N,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:O.createFolders}),M.dir||($.file(N).unsafeOriginalName=A)}return K.zipComment.length&&($.comment=K.zipComment),$}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(c,p,g){var h=c("../utils"),y=c("../stream/GenericWorker");function b(C,T){y.call(this,"Nodejs stream input adapter for "+C),this._upstreamEnded=!1,this._bindStream(T)}h.inherits(b,y),b.prototype._bindStream=function(C){var T=this;(this._stream=C).pause(),C.on("data",(function(D){T.push({data:D,meta:{percent:0}})})).on("error",(function(D){T.isPaused?this.generatedError=D:T.error(D)})).on("end",(function(){T.isPaused?T._upstreamEnded=!0:T.end()}))},b.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(c,p,g){var h=c("readable-stream").Readable;function y(b,C,T){h.call(this,C),this._helper=b;var D=this;b.on("data",(function(F,H){D.push(F)||D._helper.pause(),T&&T(H)})).on("error",(function(F){D.emit("error",F)})).on("end",(function(){D.push(null)}))}c("../utils").inherits(y,h),y.prototype._read=function(){this._helper.resume()},p.exports=y},{"../utils":32,"readable-stream":16}],14:[function(c,p,g){p.exports={isNode:a!==void 0,newBufferFrom:function(h,y){if(a.from&&a.from!==Uint8Array.from)return a.from(h,y);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new a(h,y)},allocBuffer:function(h){if(a.alloc)return a.alloc(h);var y=new a(h);return y.fill(0),y},isBuffer:function(h){return a.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(c,p,g){function h(N,S,w){var j,E=b.getTypeOf(S),I=b.extend(w||{},D);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(N=U(N)),I.createFolders&&(j=K(N))&&_.call(this,j,!0);var L=E==="string"&&I.binary===!1&&I.base64===!1;w&&w.binary!==void 0||(I.binary=!L),(S instanceof F&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",E="string");var G;G=S instanceof F||S instanceof C?S:$.isNode&&$.isStream(S)?new B(N,S):b.prepareContent(N,S,I.binary,I.optimizedBinaryString,I.base64);var X=new H(N,G,I);this.files[N]=X}var y=c("./utf8"),b=c("./utils"),C=c("./stream/GenericWorker"),T=c("./stream/StreamHelper"),D=c("./defaults"),F=c("./compressedObject"),H=c("./zipObject"),O=c("./generate"),$=c("./nodejsUtils"),B=c("./nodejs/NodejsStreamInputAdapter"),K=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var S=N.lastIndexOf("/");return 0<S?N.substring(0,S):""},U=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},_=function(N,S){return S=S!==void 0?S:D.createFolders,N=U(N),this.files[N]||h.call(this,N,null,{dir:!0,createFolders:S}),this.files[N]};function M(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var S,w,j;for(S in this.files)j=this.files[S],(w=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&N(w,j)},filter:function(N){var S=[];return this.forEach((function(w,j){N(w,j)&&S.push(j)})),S},file:function(N,S,w){if(arguments.length!==1)return N=this.root+N,h.call(this,N,S,w),this;if(M(N)){var j=N;return this.filter((function(I,L){return!L.dir&&j.test(I)}))}var E=this.files[this.root+N];return E&&!E.dir?E:null},folder:function(N){if(!N)return this;if(M(N))return this.filter((function(E,I){return I.dir&&N.test(E)}));var S=this.root+N,w=_.call(this,S),j=this.clone();return j.root=w.name,j},remove:function(N){N=this.root+N;var S=this.files[N];if(S||(N.slice(-1)!=="/"&&(N+="/"),S=this.files[N]),S&&!S.dir)delete this.files[N];else for(var w=this.filter((function(E,I){return I.name.slice(0,N.length)===N})),j=0;j<w.length;j++)delete this.files[w[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var S,w={};try{if((w=b.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");b.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var j=w.comment||this.comment||"";S=O.generateWorker(this,w,j)}catch(E){(S=new C("error")).error(E)}return new T(S,w.type||"string",w.mimeType)},generateAsync:function(N,S){return this.generateInternalStream(N).accumulate(S)},generateNodeStream:function(N,S){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(S)}};p.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(c,p,g){p.exports=c("stream")},{stream:void 0}],17:[function(c,p,g){var h=c("./DataReader");function y(b){h.call(this,b);for(var C=0;C<this.data.length;C++)b[C]=255&b[C]}c("../utils").inherits(y,h),y.prototype.byteAt=function(b){return this.data[this.zero+b]},y.prototype.lastIndexOfSignature=function(b){for(var C=b.charCodeAt(0),T=b.charCodeAt(1),D=b.charCodeAt(2),F=b.charCodeAt(3),H=this.length-4;0<=H;--H)if(this.data[H]===C&&this.data[H+1]===T&&this.data[H+2]===D&&this.data[H+3]===F)return H-this.zero;return-1},y.prototype.readAndCheckSignature=function(b){var C=b.charCodeAt(0),T=b.charCodeAt(1),D=b.charCodeAt(2),F=b.charCodeAt(3),H=this.readData(4);return C===H[0]&&T===H[1]&&D===H[2]&&F===H[3]},y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var C=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,C},p.exports=y},{"../utils":32,"./DataReader":18}],18:[function(c,p,g){var h=c("../utils");function y(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var C,T=0;for(this.checkOffset(b),C=this.index+b-1;C>=this.index;C--)T=(T<<8)+this.byteAt(C);return this.index+=b,T},readString:function(b){return h.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},p.exports=y},{"../utils":32}],19:[function(c,p,g){var h=c("./Uint8ArrayReader");function y(b){h.call(this,b)}c("../utils").inherits(y,h),y.prototype.readData=function(b){this.checkOffset(b);var C=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,C},p.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(c,p,g){var h=c("./DataReader");function y(b){h.call(this,b)}c("../utils").inherits(y,h),y.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},y.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},y.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},y.prototype.readData=function(b){this.checkOffset(b);var C=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,C},p.exports=y},{"../utils":32,"./DataReader":18}],21:[function(c,p,g){var h=c("./ArrayReader");function y(b){h.call(this,b)}c("../utils").inherits(y,h),y.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var C=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,C},p.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(c,p,g){var h=c("../utils"),y=c("../support"),b=c("./ArrayReader"),C=c("./StringReader"),T=c("./NodeBufferReader"),D=c("./Uint8ArrayReader");p.exports=function(F){var H=h.getTypeOf(F);return h.checkSupport(H),H!=="string"||y.uint8array?H==="nodebuffer"?new T(F):y.uint8array?new D(h.transformTo("uint8array",F)):new b(h.transformTo("array",F)):new C(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(c,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(c,p,g){var h=c("./GenericWorker"),y=c("../utils");function b(C){h.call(this,"ConvertWorker to "+C),this.destType=C}y.inherits(b,h),b.prototype.processChunk=function(C){this.push({data:y.transformTo(this.destType,C.data),meta:C.meta})},p.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(c,p,g){var h=c("./GenericWorker"),y=c("../crc32");function b(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c("../utils").inherits(b,h),b.prototype.processChunk=function(C){this.streamInfo.crc32=y(C.data,this.streamInfo.crc32||0),this.push(C)},p.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(c,p,g){var h=c("../utils"),y=c("./GenericWorker");function b(C){y.call(this,"DataLengthProbe for "+C),this.propName=C,this.withStreamInfo(C,0)}h.inherits(b,y),b.prototype.processChunk=function(C){if(C){var T=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=T+C.data.length}y.prototype.processChunk.call(this,C)},p.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(c,p,g){var h=c("../utils"),y=c("./GenericWorker");function b(C){y.call(this,"DataWorker");var T=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,C.then((function(D){T.dataIsReady=!0,T.data=D,T.max=D&&D.length||0,T.type=h.getTypeOf(D),T.isPaused||T._tickAndRepeat()}),(function(D){T.error(D)}))}h.inherits(b,y),b.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var C=null,T=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":C=this.data.substring(this.index,T);break;case"uint8array":C=this.data.subarray(this.index,T);break;case"array":case"nodebuffer":C=this.data.slice(this.index,T)}return this.index=T,this.push({data:C,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(c,p,g){function h(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,b){return this._listeners[y].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,b){if(this._listeners[y])for(var C=0;C<this._listeners[y].length;C++)this._listeners[y][C].call(this,b)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var b=this;return y.on("data",(function(C){b.processChunk(C)})),y.on("end",(function(){b.end()})),y.on("error",(function(C){b.error(C)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,b){return this.extraStreamInfo[y]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},p.exports=h},{}],29:[function(c,p,g){var h=c("../utils"),y=c("./ConvertWorker"),b=c("./GenericWorker"),C=c("../base64"),T=c("../support"),D=c("../external"),F=null;if(T.nodestream)try{F=c("../nodejs/NodejsStreamOutputAdapter")}catch{}function H(O,$,B){var K=$;switch($){case"blob":case"arraybuffer":K="uint8array";break;case"base64":K="string"}try{this._internalType=K,this._outputType=$,this._mimeType=B,h.checkSupport(K),this._worker=O.pipe(new y(K)),O.lock()}catch(U){this._worker=new b("error"),this._worker.error(U)}}H.prototype={accumulate:function(O){return(function($,B){return new D.Promise((function(K,U){var _=[],M=$._internalType,A=$._outputType,N=$._mimeType;$.on("data",(function(S,w){_.push(S),B&&B(w)})).on("error",(function(S){_=[],U(S)})).on("end",(function(){try{var S=(function(w,j,E){switch(w){case"blob":return h.newBlob(h.transformTo("arraybuffer",j),E);case"base64":return C.encode(j);default:return h.transformTo(w,j)}})(A,(function(w,j){var E,I=0,L=null,G=0;for(E=0;E<j.length;E++)G+=j[E].length;switch(w){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(L=new Uint8Array(G),E=0;E<j.length;E++)L.set(j[E],I),I+=j[E].length;return L;case"nodebuffer":return a.concat(j);default:throw new Error("concat : unsupported type '"+w+"'")}})(M,_),N);K(S)}catch(w){U(w)}_=[]})).resume()}))})(this,O)},on:function(O,$){var B=this;return O==="data"?this._worker.on(O,(function(K){$.call(B,K.data,K.meta)})):this._worker.on(O,(function(){h.delay($,arguments,B)})),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},O)}},p.exports=H},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(c,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=a!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var h=new ArrayBuffer(0);try{g.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(h),g.blob=y.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!c("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(c,p,g){for(var h=c("./utils"),y=c("./support"),b=c("./nodejsUtils"),C=c("./stream/GenericWorker"),T=new Array(256),D=0;D<256;D++)T[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function F(){C.call(this,"utf-8 decode"),this.leftOver=null}function H(){C.call(this,"utf-8 encode")}T[254]=T[254]=1,g.utf8encode=function(O){return y.nodebuffer?b.newBufferFrom(O,"utf-8"):(function($){var B,K,U,_,M,A=$.length,N=0;for(_=0;_<A;_++)(64512&(K=$.charCodeAt(_)))==55296&&_+1<A&&(64512&(U=$.charCodeAt(_+1)))==56320&&(K=65536+(K-55296<<10)+(U-56320),_++),N+=K<128?1:K<2048?2:K<65536?3:4;for(B=y.uint8array?new Uint8Array(N):new Array(N),_=M=0;M<N;_++)(64512&(K=$.charCodeAt(_)))==55296&&_+1<A&&(64512&(U=$.charCodeAt(_+1)))==56320&&(K=65536+(K-55296<<10)+(U-56320),_++),K<128?B[M++]=K:(K<2048?B[M++]=192|K>>>6:(K<65536?B[M++]=224|K>>>12:(B[M++]=240|K>>>18,B[M++]=128|K>>>12&63),B[M++]=128|K>>>6&63),B[M++]=128|63&K);return B})(O)},g.utf8decode=function(O){return y.nodebuffer?h.transformTo("nodebuffer",O).toString("utf-8"):(function($){var B,K,U,_,M=$.length,A=new Array(2*M);for(B=K=0;B<M;)if((U=$[B++])<128)A[K++]=U;else if(4<(_=T[U]))A[K++]=65533,B+=_-1;else{for(U&=_===2?31:_===3?15:7;1<_&&B<M;)U=U<<6|63&$[B++],_--;1<_?A[K++]=65533:U<65536?A[K++]=U:(U-=65536,A[K++]=55296|U>>10&1023,A[K++]=56320|1023&U)}return A.length!==K&&(A.subarray?A=A.subarray(0,K):A.length=K),h.applyFromCharCode(A)})(O=h.transformTo(y.uint8array?"uint8array":"array",O))},h.inherits(F,C),F.prototype.processChunk=function(O){var $=h.transformTo(y.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var B=$;($=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),$.set(B,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var K=(function(_,M){var A;for((M=M||_.length)>_.length&&(M=_.length),A=M-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?M:A+T[_[A]]>M?A:M})($),U=$;K!==$.length&&(y.uint8array?(U=$.subarray(0,K),this.leftOver=$.subarray(K,$.length)):(U=$.slice(0,K),this.leftOver=$.slice(K,$.length))),this.push({data:g.utf8decode(U),meta:O.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=F,h.inherits(H,C),H.prototype.processChunk=function(O){this.push({data:g.utf8encode(O.data),meta:O.meta})},g.Utf8EncodeWorker=H},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(c,p,g){var h=c("./support"),y=c("./base64"),b=c("./nodejsUtils"),C=c("./external");function T(B){return B}function D(B,K){for(var U=0;U<B.length;++U)K[U]=255&B.charCodeAt(U);return K}c("setimmediate"),g.newBlob=function(B,K){g.checkSupport("blob");try{return new Blob([B],{type:K})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(B),U.getBlob(K)}catch{throw new Error("Bug : can't construct the Blob.")}}};var F={stringifyByChunk:function(B,K,U){var _=[],M=0,A=B.length;if(A<=U)return String.fromCharCode.apply(null,B);for(;M<A;)K==="array"||K==="nodebuffer"?_.push(String.fromCharCode.apply(null,B.slice(M,Math.min(M+U,A)))):_.push(String.fromCharCode.apply(null,B.subarray(M,Math.min(M+U,A)))),M+=U;return _.join("")},stringifyByChar:function(B){for(var K="",U=0;U<B.length;U++)K+=String.fromCharCode(B[U]);return K},applyCanBeUsed:{uint8array:(function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}})()}};function H(B){var K=65536,U=g.getTypeOf(B),_=!0;if(U==="uint8array"?_=F.applyCanBeUsed.uint8array:U==="nodebuffer"&&(_=F.applyCanBeUsed.nodebuffer),_)for(;1<K;)try{return F.stringifyByChunk(B,U,K)}catch{K=Math.floor(K/2)}return F.stringifyByChar(B)}function O(B,K){for(var U=0;U<B.length;U++)K[U]=B[U];return K}g.applyFromCharCode=H;var $={};$.string={string:T,array:function(B){return D(B,new Array(B.length))},arraybuffer:function(B){return $.string.uint8array(B).buffer},uint8array:function(B){return D(B,new Uint8Array(B.length))},nodebuffer:function(B){return D(B,b.allocBuffer(B.length))}},$.array={string:H,array:T,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return b.newBufferFrom(B)}},$.arraybuffer={string:function(B){return H(new Uint8Array(B))},array:function(B){return O(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:T,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return b.newBufferFrom(new Uint8Array(B))}},$.uint8array={string:H,array:function(B){return O(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:T,nodebuffer:function(B){return b.newBufferFrom(B)}},$.nodebuffer={string:H,array:function(B){return O(B,new Array(B.length))},arraybuffer:function(B){return $.nodebuffer.uint8array(B).buffer},uint8array:function(B){return O(B,new Uint8Array(B.length))},nodebuffer:T},g.transformTo=function(B,K){if(K=K||"",!B)return K;g.checkSupport(B);var U=g.getTypeOf(K);return $[U][B](K)},g.resolve=function(B){for(var K=B.split("/"),U=[],_=0;_<K.length;_++){var M=K[_];M==="."||M===""&&_!==0&&_!==K.length-1||(M===".."?U.pop():U.push(M))}return U.join("/")},g.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":h.nodebuffer&&b.isBuffer(B)?"nodebuffer":h.uint8array&&B instanceof Uint8Array?"uint8array":h.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(B){if(!h[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(B){var K,U,_="";for(U=0;U<(B||"").length;U++)_+="\\x"+((K=B.charCodeAt(U))<16?"0":"")+K.toString(16).toUpperCase();return _},g.delay=function(B,K,U){o((function(){B.apply(U||null,K||[])}))},g.inherits=function(B,K){function U(){}U.prototype=K.prototype,B.prototype=new U},g.extend=function(){var B,K,U={};for(B=0;B<arguments.length;B++)for(K in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],K)&&U[K]===void 0&&(U[K]=arguments[B][K]);return U},g.prepareContent=function(B,K,U,_,M){return C.Promise.resolve(K).then((function(A){return h.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new C.Promise((function(N,S){var w=new FileReader;w.onload=function(j){N(j.target.result)},w.onerror=function(j){S(j.target.error)},w.readAsArrayBuffer(A)})):A})).then((function(A){var N=g.getTypeOf(A);return N?(N==="arraybuffer"?A=g.transformTo("uint8array",A):N==="string"&&(M?A=y.decode(A):U&&_!==!0&&(A=(function(S){return D(S,h.uint8array?new Uint8Array(S.length):new Array(S.length))})(A))),A):C.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(c,p,g){var h=c("./reader/readerFor"),y=c("./utils"),b=c("./signature"),C=c("./zipEntry"),T=c("./support");function D(F){this.files=[],this.loadOptions=F}D.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var H=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(H)+", expected "+y.pretty(F)+")")}},isSignature:function(F,H){var O=this.reader.index;this.reader.setIndex(F);var $=this.reader.readString(4)===H;return this.reader.setIndex(O),$},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),H=T.uint8array?"uint8array":"array",O=y.transformTo(H,F);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,H,O,$=this.zip64EndOfCentralSize-44;0<$;)F=this.reader.readInt(2),H=this.reader.readInt(4),O=this.reader.readData(H),this.zip64ExtensibleData[F]={id:F,length:H,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,H;for(F=0;F<this.files.length;F++)H=this.files[F],this.reader.setIndex(H.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),H.readLocalPart(this.reader),H.handleUTF8(),H.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(F=new C({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var H=F;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var $=H-O;if(0<$)this.isSignature(H,b.CENTRAL_FILE_HEADER)||(this.reader.zero=$);else if($<0)throw new Error("Corrupted zip: missing "+Math.abs($)+" bytes.")},prepareReader:function(F){this.reader=h(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(c,p,g){var h=c("./reader/readerFor"),y=c("./utils"),b=c("./compressedObject"),C=c("./crc32"),T=c("./utf8"),D=c("./compressions"),F=c("./support");function H(O,$){this.options=O,this.loadOptions=$}H.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var $,B;if(O.skip(22),this.fileNameLength=O.readInt(2),B=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(($=(function(K){for(var U in D)if(Object.prototype.hasOwnProperty.call(D,U)&&D[U].magic===K)return D[U];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,$,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var $=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip($),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=h(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var $,B,K,U=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<U;)$=O.readInt(2),B=O.readInt(2),K=O.readData(B),this.extraFields[$]={id:$,length:B,value:K};O.setIndex(U)},handleUTF8:function(){var O=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=T.utf8decode(this.fileName),this.fileCommentStr=T.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if($!==null)this.fileNameStr=$;else{var B=y.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var K=this.findExtraFieldUnicodeComment();if(K!==null)this.fileCommentStr=K;else{var U=y.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var $=h(O.value);return $.readInt(1)!==1||C(this.fileName)!==$.readInt(4)?null:T.utf8decode($.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var $=h(O.value);return $.readInt(1)!==1||C(this.fileComment)!==$.readInt(4)?null:T.utf8decode($.readData(O.length-5))}return null}},p.exports=H},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(c,p,g){function h($,B,K){this.name=$,this.dir=K.dir,this.date=K.date,this.comment=K.comment,this.unixPermissions=K.unixPermissions,this.dosPermissions=K.dosPermissions,this._data=B,this._dataBinary=K.binary,this.options={compression:K.compression,compressionOptions:K.compressionOptions}}var y=c("./stream/StreamHelper"),b=c("./stream/DataWorker"),C=c("./utf8"),T=c("./compressedObject"),D=c("./stream/GenericWorker");h.prototype={internalStream:function($){var B=null,K="string";try{if(!$)throw new Error("No output type specified.");var U=(K=$.toLowerCase())==="string"||K==="text";K!=="binarystring"&&K!=="text"||(K="string"),B=this._decompressWorker();var _=!this._dataBinary;_&&!U&&(B=B.pipe(new C.Utf8EncodeWorker)),!_&&U&&(B=B.pipe(new C.Utf8DecodeWorker))}catch(M){(B=new D("error")).error(M)}return new y(B,K,"")},async:function($,B){return this.internalStream($).accumulate(B)},nodeStream:function($,B){return this.internalStream($||"nodebuffer").toNodejsStream(B)},_compressWorker:function($,B){if(this._data instanceof T&&this._data.compression.magic===$.magic)return this._data.getCompressedWorker();var K=this._decompressWorker();return this._dataBinary||(K=K.pipe(new C.Utf8EncodeWorker)),T.createWorkerFrom(K,$,B)},_decompressWorker:function(){return this._data instanceof T?this._data.getContentWorker():this._data instanceof D?this._data:new b(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],H=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<F.length;O++)h.prototype[F[O]]=H;p.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(c,p,g){(function(h){var y,b,C=h.MutationObserver||h.WebKitMutationObserver;if(C){var T=0,D=new C($),F=h.document.createTextNode("");D.observe(F,{characterData:!0}),y=function(){F.data=T=++T%2}}else if(h.setImmediate||h.MessageChannel===void 0)y="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var B=h.document.createElement("script");B.onreadystatechange=function(){$(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},h.document.documentElement.appendChild(B)}:function(){setTimeout($,0)};else{var H=new h.MessageChannel;H.port1.onmessage=$,y=function(){H.port2.postMessage(0)}}var O=[];function $(){var B,K;b=!0;for(var U=O.length;U;){for(K=O,O=[],B=-1;++B<U;)K[B]();U=O.length}b=!1}p.exports=function(B){O.push(B)!==1||b||y()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(c,p,g){var h=c("immediate");function y(){}var b={},C=["REJECTED"],T=["FULFILLED"],D=["PENDING"];function F(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,U!==y&&B(this,U)}function H(U,_,M){this.promise=U,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function O(U,_,M){h((function(){var A;try{A=_(M)}catch(N){return b.reject(U,N)}A===U?b.reject(U,new TypeError("Cannot resolve promise with itself")):b.resolve(U,A)}))}function $(U){var _=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof _=="function")return function(){_.apply(U,arguments)}}function B(U,_){var M=!1;function A(w){M||(M=!0,b.reject(U,w))}function N(w){M||(M=!0,b.resolve(U,w))}var S=K((function(){_(N,A)}));S.status==="error"&&A(S.value)}function K(U,_){var M={};try{M.value=U(_),M.status="success"}catch(A){M.status="error",M.value=A}return M}(p.exports=F).prototype.finally=function(U){if(typeof U!="function")return this;var _=this.constructor;return this.then((function(M){return _.resolve(U()).then((function(){return M}))}),(function(M){return _.resolve(U()).then((function(){throw M}))}))},F.prototype.catch=function(U){return this.then(null,U)},F.prototype.then=function(U,_){if(typeof U!="function"&&this.state===T||typeof _!="function"&&this.state===C)return this;var M=new this.constructor(y);return this.state!==D?O(M,this.state===T?U:_,this.outcome):this.queue.push(new H(M,U,_)),M},H.prototype.callFulfilled=function(U){b.resolve(this.promise,U)},H.prototype.otherCallFulfilled=function(U){O(this.promise,this.onFulfilled,U)},H.prototype.callRejected=function(U){b.reject(this.promise,U)},H.prototype.otherCallRejected=function(U){O(this.promise,this.onRejected,U)},b.resolve=function(U,_){var M=K($,_);if(M.status==="error")return b.reject(U,M.value);var A=M.value;if(A)B(U,A);else{U.state=T,U.outcome=_;for(var N=-1,S=U.queue.length;++N<S;)U.queue[N].callFulfilled(_)}return U},b.reject=function(U,_){U.state=C,U.outcome=_;for(var M=-1,A=U.queue.length;++M<A;)U.queue[M].callRejected(_);return U},F.resolve=function(U){return U instanceof this?U:b.resolve(new this(y),U)},F.reject=function(U){var _=new this(y);return b.reject(_,U)},F.all=function(U){var _=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=U.length,A=!1;if(!M)return this.resolve([]);for(var N=new Array(M),S=0,w=-1,j=new this(y);++w<M;)E(U[w],w);return j;function E(I,L){_.resolve(I).then((function(G){N[L]=G,++S!==M||A||(A=!0,b.resolve(j,N))}),(function(G){A||(A=!0,b.reject(j,G))}))}},F.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=U.length,M=!1;if(!_)return this.resolve([]);for(var A,N=-1,S=new this(y);++N<_;)A=U[N],this.resolve(A).then((function(w){M||(M=!0,b.resolve(S,w))}),(function(w){M||(M=!0,b.reject(S,w))}));return S}},{immediate:36}],38:[function(c,p,g){var h={};(0,c("./lib/utils/common").assign)(h,c("./lib/deflate"),c("./lib/inflate"),c("./lib/zlib/constants")),p.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(c,p,g){var h=c("./zlib/deflate"),y=c("./utils/common"),b=c("./utils/strings"),C=c("./zlib/messages"),T=c("./zlib/zstream"),D=Object.prototype.toString;function F(O){if(!(this instanceof F))return new F(O);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},O||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var B=h.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(B!==0)throw new Error(C[B]);if($.header&&h.deflateSetHeader(this.strm,$.header),$.dictionary){var K;if(K=typeof $.dictionary=="string"?b.string2buf($.dictionary):D.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(B=h.deflateSetDictionary(this.strm,K))!==0)throw new Error(C[B]);this._dict_set=!0}}function H(O,$){var B=new F($);if(B.push(O,!0),B.err)throw B.msg||C[B.err];return B.result}F.prototype.push=function(O,$){var B,K,U=this.strm,_=this.options.chunkSize;if(this.ended)return!1;K=$===~~$?$:$===!0?4:0,typeof O=="string"?U.input=b.string2buf(O):D.call(O)==="[object ArrayBuffer]"?U.input=new Uint8Array(O):U.input=O,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new y.Buf8(_),U.next_out=0,U.avail_out=_),(B=h.deflate(U,K))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||K!==4&&K!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(y.shrinkBuf(U.output,U.next_out))):this.onData(y.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&B!==1);return K===4?(B=h.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):K!==2||(this.onEnd(0),!(U.avail_out=0))},F.prototype.onData=function(O){this.chunks.push(O)},F.prototype.onEnd=function(O){O===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},g.Deflate=F,g.deflate=H,g.deflateRaw=function(O,$){return($=$||{}).raw=!0,H(O,$)},g.gzip=function(O,$){return($=$||{}).gzip=!0,H(O,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(c,p,g){var h=c("./zlib/inflate"),y=c("./utils/common"),b=c("./utils/strings"),C=c("./zlib/constants"),T=c("./zlib/messages"),D=c("./zlib/zstream"),F=c("./zlib/gzheader"),H=Object.prototype.toString;function O(B){if(!(this instanceof O))return new O(B);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},B||{});var K=this.options;K.raw&&0<=K.windowBits&&K.windowBits<16&&(K.windowBits=-K.windowBits,K.windowBits===0&&(K.windowBits=-15)),!(0<=K.windowBits&&K.windowBits<16)||B&&B.windowBits||(K.windowBits+=32),15<K.windowBits&&K.windowBits<48&&(15&K.windowBits)==0&&(K.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var U=h.inflateInit2(this.strm,K.windowBits);if(U!==C.Z_OK)throw new Error(T[U]);this.header=new F,h.inflateGetHeader(this.strm,this.header)}function $(B,K){var U=new O(K);if(U.push(B,!0),U.err)throw U.msg||T[U.err];return U.result}O.prototype.push=function(B,K){var U,_,M,A,N,S,w=this.strm,j=this.options.chunkSize,E=this.options.dictionary,I=!1;if(this.ended)return!1;_=K===~~K?K:K===!0?C.Z_FINISH:C.Z_NO_FLUSH,typeof B=="string"?w.input=b.binstring2buf(B):H.call(B)==="[object ArrayBuffer]"?w.input=new Uint8Array(B):w.input=B,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new y.Buf8(j),w.next_out=0,w.avail_out=j),(U=h.inflate(w,C.Z_NO_FLUSH))===C.Z_NEED_DICT&&E&&(S=typeof E=="string"?b.string2buf(E):H.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,U=h.inflateSetDictionary(this.strm,S)),U===C.Z_BUF_ERROR&&I===!0&&(U=C.Z_OK,I=!1),U!==C.Z_STREAM_END&&U!==C.Z_OK)return this.onEnd(U),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&U!==C.Z_STREAM_END&&(w.avail_in!==0||_!==C.Z_FINISH&&_!==C.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=b.utf8border(w.output,w.next_out),A=w.next_out-M,N=b.buf2string(w.output,M),w.next_out=A,w.avail_out=j-A,A&&y.arraySet(w.output,w.output,M,A,0),this.onData(N)):this.onData(y.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(I=!0)}while((0<w.avail_in||w.avail_out===0)&&U!==C.Z_STREAM_END);return U===C.Z_STREAM_END&&(_=C.Z_FINISH),_===C.Z_FINISH?(U=h.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===C.Z_OK):_!==C.Z_SYNC_FLUSH||(this.onEnd(C.Z_OK),!(w.avail_out=0))},O.prototype.onData=function(B){this.chunks.push(B)},O.prototype.onEnd=function(B){B===C.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},g.Inflate=O,g.inflate=$,g.inflateRaw=function(B,K){return(K=K||{}).raw=!0,$(B,K)},g.ungzip=$},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(c,p,g){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(C){for(var T=Array.prototype.slice.call(arguments,1);T.length;){var D=T.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var F in D)D.hasOwnProperty(F)&&(C[F]=D[F])}}return C},g.shrinkBuf=function(C,T){return C.length===T?C:C.subarray?C.subarray(0,T):(C.length=T,C)};var y={arraySet:function(C,T,D,F,H){if(T.subarray&&C.subarray)C.set(T.subarray(D,D+F),H);else for(var O=0;O<F;O++)C[H+O]=T[D+O]},flattenChunks:function(C){var T,D,F,H,O,$;for(T=F=0,D=C.length;T<D;T++)F+=C[T].length;for($=new Uint8Array(F),T=H=0,D=C.length;T<D;T++)O=C[T],$.set(O,H),H+=O.length;return $}},b={arraySet:function(C,T,D,F,H){for(var O=0;O<F;O++)C[H+O]=T[D+O]},flattenChunks:function(C){return[].concat.apply([],C)}};g.setTyped=function(C){C?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,y)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,b))},g.setTyped(h)},{}],42:[function(c,p,g){var h=c("./common"),y=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var C=new h.Buf8(256),T=0;T<256;T++)C[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function D(F,H){if(H<65537&&(F.subarray&&b||!F.subarray&&y))return String.fromCharCode.apply(null,h.shrinkBuf(F,H));for(var O="",$=0;$<H;$++)O+=String.fromCharCode(F[$]);return O}C[254]=C[254]=1,g.string2buf=function(F){var H,O,$,B,K,U=F.length,_=0;for(B=0;B<U;B++)(64512&(O=F.charCodeAt(B)))==55296&&B+1<U&&(64512&($=F.charCodeAt(B+1)))==56320&&(O=65536+(O-55296<<10)+($-56320),B++),_+=O<128?1:O<2048?2:O<65536?3:4;for(H=new h.Buf8(_),B=K=0;K<_;B++)(64512&(O=F.charCodeAt(B)))==55296&&B+1<U&&(64512&($=F.charCodeAt(B+1)))==56320&&(O=65536+(O-55296<<10)+($-56320),B++),O<128?H[K++]=O:(O<2048?H[K++]=192|O>>>6:(O<65536?H[K++]=224|O>>>12:(H[K++]=240|O>>>18,H[K++]=128|O>>>12&63),H[K++]=128|O>>>6&63),H[K++]=128|63&O);return H},g.buf2binstring=function(F){return D(F,F.length)},g.binstring2buf=function(F){for(var H=new h.Buf8(F.length),O=0,$=H.length;O<$;O++)H[O]=F.charCodeAt(O);return H},g.buf2string=function(F,H){var O,$,B,K,U=H||F.length,_=new Array(2*U);for(O=$=0;O<U;)if((B=F[O++])<128)_[$++]=B;else if(4<(K=C[B]))_[$++]=65533,O+=K-1;else{for(B&=K===2?31:K===3?15:7;1<K&&O<U;)B=B<<6|63&F[O++],K--;1<K?_[$++]=65533:B<65536?_[$++]=B:(B-=65536,_[$++]=55296|B>>10&1023,_[$++]=56320|1023&B)}return D(_,$)},g.utf8border=function(F,H){var O;for((H=H||F.length)>F.length&&(H=F.length),O=H-1;0<=O&&(192&F[O])==128;)O--;return O<0||O===0?H:O+C[F[O]]>H?O:H}},{"./common":41}],43:[function(c,p,g){p.exports=function(h,y,b,C){for(var T=65535&h|0,D=h>>>16&65535|0,F=0;b!==0;){for(b-=F=2e3<b?2e3:b;D=D+(T=T+y[C++]|0)|0,--F;);T%=65521,D%=65521}return T|D<<16|0}},{}],44:[function(c,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(c,p,g){var h=(function(){for(var y,b=[],C=0;C<256;C++){y=C;for(var T=0;T<8;T++)y=1&y?3988292384^y>>>1:y>>>1;b[C]=y}return b})();p.exports=function(y,b,C,T){var D=h,F=T+C;y^=-1;for(var H=T;H<F;H++)y=y>>>8^D[255&(y^b[H])];return-1^y}},{}],46:[function(c,p,g){var h,y=c("../utils/common"),b=c("./trees"),C=c("./adler32"),T=c("./crc32"),D=c("./messages"),F=-2,H=258,O=262,$=113;function B(q,ee){return q.msg=D[ee],ee}function K(q){return(q<<1)-(4<q?9:0)}function U(q){for(var ee=q.length;0<=--ee;)q[ee]=0}function _(q){var ee=q.state,R=ee.pending;R>q.avail_out&&(R=q.avail_out),R!==0&&(y.arraySet(q.output,ee.pending_buf,ee.pending_out,R,q.next_out),q.next_out+=R,ee.pending_out+=R,q.total_out+=R,q.avail_out-=R,ee.pending-=R,ee.pending===0&&(ee.pending_out=0))}function M(q,ee){b._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,ee),q.block_start=q.strstart,_(q.strm)}function A(q,ee){q.pending_buf[q.pending++]=ee}function N(q,ee){q.pending_buf[q.pending++]=ee>>>8&255,q.pending_buf[q.pending++]=255&ee}function S(q,ee){var R,z,W=q.max_chain_length,se=q.strstart,he=q.prev_length,ne=q.nice_match,me=q.strstart>q.w_size-O?q.strstart-(q.w_size-O):0,Se=q.window,Ee=q.w_mask,le=q.prev,ie=q.strstart+H,ce=Se[se+he-1],ae=Se[se+he];q.prev_length>=q.good_match&&(W>>=2),ne>q.lookahead&&(ne=q.lookahead);do if(Se[(R=ee)+he]===ae&&Se[R+he-1]===ce&&Se[R]===Se[se]&&Se[++R]===Se[se+1]){se+=2,R++;do;while(Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&Se[++se]===Se[++R]&&se<ie);if(z=H-(ie-se),se=ie-H,he<z){if(q.match_start=ee,ne<=(he=z))break;ce=Se[se+he-1],ae=Se[se+he]}}while((ee=le[ee&Ee])>me&&--W!=0);return he<=q.lookahead?he:q.lookahead}function w(q){var ee,R,z,W,se,he,ne,me,Se,Ee,le=q.w_size;do{if(W=q.window_size-q.lookahead-q.strstart,q.strstart>=le+(le-O)){for(y.arraySet(q.window,q.window,le,le,0),q.match_start-=le,q.strstart-=le,q.block_start-=le,ee=R=q.hash_size;z=q.head[--ee],q.head[ee]=le<=z?z-le:0,--R;);for(ee=R=le;z=q.prev[--ee],q.prev[ee]=le<=z?z-le:0,--R;);W+=le}if(q.strm.avail_in===0)break;if(he=q.strm,ne=q.window,me=q.strstart+q.lookahead,Ee=void 0,(Se=W)<(Ee=he.avail_in)&&(Ee=Se),R=Ee===0?0:(he.avail_in-=Ee,y.arraySet(ne,he.input,he.next_in,Ee,me),he.state.wrap===1?he.adler=C(he.adler,ne,Ee,me):he.state.wrap===2&&(he.adler=T(he.adler,ne,Ee,me)),he.next_in+=Ee,he.total_in+=Ee,Ee),q.lookahead+=R,q.lookahead+q.insert>=3)for(se=q.strstart-q.insert,q.ins_h=q.window[se],q.ins_h=(q.ins_h<<q.hash_shift^q.window[se+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[se+3-1])&q.hash_mask,q.prev[se&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=se,se++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<O&&q.strm.avail_in!==0)}function j(q,ee){for(var R,z;;){if(q.lookahead<O){if(w(q),q.lookahead<O&&ee===0)return 1;if(q.lookahead===0)break}if(R=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,R=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),R!==0&&q.strstart-R<=q.w_size-O&&(q.match_length=S(q,R)),q.match_length>=3)if(z=b._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,R=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else z=b._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(z&&(M(q,!1),q.strm.avail_out===0))return 1}return q.insert=q.strstart<2?q.strstart:2,ee===4?(M(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(M(q,!1),q.strm.avail_out===0)?1:2}function E(q,ee){for(var R,z,W;;){if(q.lookahead<O){if(w(q),q.lookahead<O&&ee===0)return 1;if(q.lookahead===0)break}if(R=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,R=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,R!==0&&q.prev_length<q.max_lazy_match&&q.strstart-R<=q.w_size-O&&(q.match_length=S(q,R),q.match_length<=5&&(q.strategy===1||q.match_length===3&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(W=q.strstart+q.lookahead-3,z=b._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=W&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,R=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=2,q.strstart++,z&&(M(q,!1),q.strm.avail_out===0))return 1}else if(q.match_available){if((z=b._tr_tally(q,0,q.window[q.strstart-1]))&&M(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(z=b._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,ee===4?(M(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(M(q,!1),q.strm.avail_out===0)?1:2}function I(q,ee,R,z,W){this.good_length=q,this.max_lazy=ee,this.nice_length=R,this.max_chain=z,this.func=W}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(q){var ee;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,(ee=q.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?42:$,q.adler=ee.wrap===2?0:1,ee.last_flush=0,b._tr_init(ee),0):B(q,F)}function X(q){var ee=G(q);return ee===0&&(function(R){R.window_size=2*R.w_size,U(R.head),R.max_lazy_match=h[R.level].max_lazy,R.good_match=h[R.level].good_length,R.nice_match=h[R.level].nice_length,R.max_chain_length=h[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=2,R.match_available=0,R.ins_h=0})(q.state),ee}function re(q,ee,R,z,W,se){if(!q)return F;var he=1;if(ee===-1&&(ee=6),z<0?(he=0,z=-z):15<z&&(he=2,z-=16),W<1||9<W||R!==8||z<8||15<z||ee<0||9<ee||se<0||4<se)return B(q,F);z===8&&(z=9);var ne=new L;return(q.state=ne).strm=q,ne.wrap=he,ne.gzhead=null,ne.w_bits=z,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=W+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new y.Buf8(2*ne.w_size),ne.head=new y.Buf16(ne.hash_size),ne.prev=new y.Buf16(ne.w_size),ne.lit_bufsize=1<<W+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new y.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=ee,ne.strategy=se,ne.method=R,X(q)}h=[new I(0,0,0,0,(function(q,ee){var R=65535;for(R>q.pending_buf_size-5&&(R=q.pending_buf_size-5);;){if(q.lookahead<=1){if(w(q),q.lookahead===0&&ee===0)return 1;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var z=q.block_start+R;if((q.strstart===0||q.strstart>=z)&&(q.lookahead=q.strstart-z,q.strstart=z,M(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-O&&(M(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,ee===4?(M(q,!0),q.strm.avail_out===0?3:4):(q.strstart>q.block_start&&(M(q,!1),q.strm.avail_out),1)})),new I(4,4,8,4,j),new I(4,5,16,8,j),new I(4,6,32,32,j),new I(4,4,16,16,E),new I(8,16,32,32,E),new I(8,16,128,128,E),new I(8,32,128,256,E),new I(32,128,258,1024,E),new I(32,258,258,4096,E)],g.deflateInit=function(q,ee){return re(q,ee,8,15,8,0)},g.deflateInit2=re,g.deflateReset=X,g.deflateResetKeep=G,g.deflateSetHeader=function(q,ee){return q&&q.state?q.state.wrap!==2?F:(q.state.gzhead=ee,0):F},g.deflate=function(q,ee){var R,z,W,se;if(!q||!q.state||5<ee||ee<0)return q?B(q,F):F;if(z=q.state,!q.output||!q.input&&q.avail_in!==0||z.status===666&&ee!==4)return B(q,q.avail_out===0?-5:F);if(z.strm=q,R=z.last_flush,z.last_flush=ee,z.status===42)if(z.wrap===2)q.adler=0,A(z,31),A(z,139),A(z,8),z.gzhead?(A(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),A(z,255&z.gzhead.time),A(z,z.gzhead.time>>8&255),A(z,z.gzhead.time>>16&255),A(z,z.gzhead.time>>24&255),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(A(z,255&z.gzhead.extra.length),A(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(q.adler=T(q.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(A(z,0),A(z,0),A(z,0),A(z,0),A(z,0),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,3),z.status=$);else{var he=8+(z.w_bits-8<<4)<<8;he|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(he|=32),he+=31-he%31,z.status=$,N(z,he),z.strstart!==0&&(N(z,q.adler>>>16),N(z,65535&q.adler)),q.adler=1}if(z.status===69)if(z.gzhead.extra){for(W=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),_(q),W=z.pending,z.pending!==z.pending_buf_size));)A(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){W=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),_(q),W=z.pending,z.pending===z.pending_buf_size)){se=1;break}se=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,A(z,se)}while(se!==0);z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),se===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){W=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),_(q),W=z.pending,z.pending===z.pending_buf_size)){se=1;break}se=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,A(z,se)}while(se!==0);z.gzhead.hcrc&&z.pending>W&&(q.adler=T(q.adler,z.pending_buf,z.pending-W,W)),se===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&_(q),z.pending+2<=z.pending_buf_size&&(A(z,255&q.adler),A(z,q.adler>>8&255),q.adler=0,z.status=$)):z.status=$),z.pending!==0){if(_(q),q.avail_out===0)return z.last_flush=-1,0}else if(q.avail_in===0&&K(ee)<=K(R)&&ee!==4)return B(q,-5);if(z.status===666&&q.avail_in!==0)return B(q,-5);if(q.avail_in!==0||z.lookahead!==0||ee!==0&&z.status!==666){var ne=z.strategy===2?(function(me,Se){for(var Ee;;){if(me.lookahead===0&&(w(me),me.lookahead===0)){if(Se===0)return 1;break}if(me.match_length=0,Ee=b._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,Ee&&(M(me,!1),me.strm.avail_out===0))return 1}return me.insert=0,Se===4?(M(me,!0),me.strm.avail_out===0?3:4):me.last_lit&&(M(me,!1),me.strm.avail_out===0)?1:2})(z,ee):z.strategy===3?(function(me,Se){for(var Ee,le,ie,ce,ae=me.window;;){if(me.lookahead<=H){if(w(me),me.lookahead<=H&&Se===0)return 1;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=3&&0<me.strstart&&(le=ae[ie=me.strstart-1])===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]){ce=me.strstart+H;do;while(le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&le===ae[++ie]&&ie<ce);me.match_length=H-(ce-ie),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=3?(Ee=b._tr_tally(me,1,me.match_length-3),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(Ee=b._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),Ee&&(M(me,!1),me.strm.avail_out===0))return 1}return me.insert=0,Se===4?(M(me,!0),me.strm.avail_out===0?3:4):me.last_lit&&(M(me,!1),me.strm.avail_out===0)?1:2})(z,ee):h[z.level].func(z,ee);if(ne!==3&&ne!==4||(z.status=666),ne===1||ne===3)return q.avail_out===0&&(z.last_flush=-1),0;if(ne===2&&(ee===1?b._tr_align(z):ee!==5&&(b._tr_stored_block(z,0,0,!1),ee===3&&(U(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),_(q),q.avail_out===0))return z.last_flush=-1,0}return ee!==4?0:z.wrap<=0?1:(z.wrap===2?(A(z,255&q.adler),A(z,q.adler>>8&255),A(z,q.adler>>16&255),A(z,q.adler>>24&255),A(z,255&q.total_in),A(z,q.total_in>>8&255),A(z,q.total_in>>16&255),A(z,q.total_in>>24&255)):(N(z,q.adler>>>16),N(z,65535&q.adler)),_(q),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},g.deflateEnd=function(q){var ee;return q&&q.state?(ee=q.state.status)!==42&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==$&&ee!==666?B(q,F):(q.state=null,ee===$?B(q,-3):0):F},g.deflateSetDictionary=function(q,ee){var R,z,W,se,he,ne,me,Se,Ee=ee.length;if(!q||!q.state||(se=(R=q.state).wrap)===2||se===1&&R.status!==42||R.lookahead)return F;for(se===1&&(q.adler=C(q.adler,ee,Ee,0)),R.wrap=0,Ee>=R.w_size&&(se===0&&(U(R.head),R.strstart=0,R.block_start=0,R.insert=0),Se=new y.Buf8(R.w_size),y.arraySet(Se,ee,Ee-R.w_size,R.w_size,0),ee=Se,Ee=R.w_size),he=q.avail_in,ne=q.next_in,me=q.input,q.avail_in=Ee,q.next_in=0,q.input=ee,w(R);R.lookahead>=3;){for(z=R.strstart,W=R.lookahead-2;R.ins_h=(R.ins_h<<R.hash_shift^R.window[z+3-1])&R.hash_mask,R.prev[z&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=z,z++,--W;);R.strstart=z,R.lookahead=2,w(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=2,R.match_available=0,q.next_in=ne,q.input=me,q.avail_in=he,R.wrap=se,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(c,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(c,p,g){p.exports=function(h,y){var b,C,T,D,F,H,O,$,B,K,U,_,M,A,N,S,w,j,E,I,L,G,X,re,q;b=h.state,C=h.next_in,re=h.input,T=C+(h.avail_in-5),D=h.next_out,q=h.output,F=D-(y-h.avail_out),H=D+(h.avail_out-257),O=b.dmax,$=b.wsize,B=b.whave,K=b.wnext,U=b.window,_=b.hold,M=b.bits,A=b.lencode,N=b.distcode,S=(1<<b.lenbits)-1,w=(1<<b.distbits)-1;e:do{M<15&&(_+=re[C++]<<M,M+=8,_+=re[C++]<<M,M+=8),j=A[_&S];t:for(;;){if(_>>>=E=j>>>24,M-=E,(E=j>>>16&255)==0)q[D++]=65535&j;else{if(!(16&E)){if((64&E)==0){j=A[(65535&j)+(_&(1<<E)-1)];continue t}if(32&E){b.mode=12;break e}h.msg="invalid literal/length code",b.mode=30;break e}I=65535&j,(E&=15)&&(M<E&&(_+=re[C++]<<M,M+=8),I+=_&(1<<E)-1,_>>>=E,M-=E),M<15&&(_+=re[C++]<<M,M+=8,_+=re[C++]<<M,M+=8),j=N[_&w];r:for(;;){if(_>>>=E=j>>>24,M-=E,!(16&(E=j>>>16&255))){if((64&E)==0){j=N[(65535&j)+(_&(1<<E)-1)];continue r}h.msg="invalid distance code",b.mode=30;break e}if(L=65535&j,M<(E&=15)&&(_+=re[C++]<<M,(M+=8)<E&&(_+=re[C++]<<M,M+=8)),O<(L+=_&(1<<E)-1)){h.msg="invalid distance too far back",b.mode=30;break e}if(_>>>=E,M-=E,(E=D-F)<L){if(B<(E=L-E)&&b.sane){h.msg="invalid distance too far back",b.mode=30;break e}if(X=U,(G=0)===K){if(G+=$-E,E<I){for(I-=E;q[D++]=U[G++],--E;);G=D-L,X=q}}else if(K<E){if(G+=$+K-E,(E-=K)<I){for(I-=E;q[D++]=U[G++],--E;);if(G=0,K<I){for(I-=E=K;q[D++]=U[G++],--E;);G=D-L,X=q}}}else if(G+=K-E,E<I){for(I-=E;q[D++]=U[G++],--E;);G=D-L,X=q}for(;2<I;)q[D++]=X[G++],q[D++]=X[G++],q[D++]=X[G++],I-=3;I&&(q[D++]=X[G++],1<I&&(q[D++]=X[G++]))}else{for(G=D-L;q[D++]=q[G++],q[D++]=q[G++],q[D++]=q[G++],2<(I-=3););I&&(q[D++]=q[G++],1<I&&(q[D++]=q[G++]))}break}}break}}while(C<T&&D<H);C-=I=M>>3,_&=(1<<(M-=I<<3))-1,h.next_in=C,h.next_out=D,h.avail_in=C<T?T-C+5:5-(C-T),h.avail_out=D<H?H-D+257:257-(D-H),b.hold=_,b.bits=M}},{}],49:[function(c,p,g){var h=c("../utils/common"),y=c("./adler32"),b=c("./crc32"),C=c("./inffast"),T=c("./inftrees"),D=-2;function F(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function H(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(S){var w;return S&&S.state?(w=S.state,S.total_in=S.total_out=w.total=0,S.msg="",w.wrap&&(S.adler=1&w.wrap),w.mode=1,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new h.Buf32(852),w.distcode=w.distdyn=new h.Buf32(592),w.sane=1,w.back=-1,0):D}function $(S){var w;return S&&S.state?((w=S.state).wsize=0,w.whave=0,w.wnext=0,O(S)):D}function B(S,w){var j,E;return S&&S.state?(E=S.state,w<0?(j=0,w=-w):(j=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?D:(E.window!==null&&E.wbits!==w&&(E.window=null),E.wrap=j,E.wbits=w,$(S))):D}function K(S,w){var j,E;return S?(E=new H,(S.state=E).window=null,(j=B(S,w))!==0&&(S.state=null),j):D}var U,_,M=!0;function A(S){if(M){var w;for(U=new h.Buf32(512),_=new h.Buf32(32),w=0;w<144;)S.lens[w++]=8;for(;w<256;)S.lens[w++]=9;for(;w<280;)S.lens[w++]=7;for(;w<288;)S.lens[w++]=8;for(T(1,S.lens,0,288,U,0,S.work,{bits:9}),w=0;w<32;)S.lens[w++]=5;T(2,S.lens,0,32,_,0,S.work,{bits:5}),M=!1}S.lencode=U,S.lenbits=9,S.distcode=_,S.distbits=5}function N(S,w,j,E){var I,L=S.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new h.Buf8(L.wsize)),E>=L.wsize?(h.arraySet(L.window,w,j-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(E<(I=L.wsize-L.wnext)&&(I=E),h.arraySet(L.window,w,j-E,I,L.wnext),(E-=I)?(h.arraySet(L.window,w,j-E,E,0),L.wnext=E,L.whave=L.wsize):(L.wnext+=I,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=I))),0}g.inflateReset=$,g.inflateReset2=B,g.inflateResetKeep=O,g.inflateInit=function(S){return K(S,15)},g.inflateInit2=K,g.inflate=function(S,w){var j,E,I,L,G,X,re,q,ee,R,z,W,se,he,ne,me,Se,Ee,le,ie,ce,ae,ge,pe,Ae=0,fe=new h.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return D;(j=S.state).mode===12&&(j.mode=13),G=S.next_out,I=S.output,re=S.avail_out,L=S.next_in,E=S.input,X=S.avail_in,q=j.hold,ee=j.bits,R=X,z=re,ae=0;e:for(;;)switch(j.mode){case 1:if(j.wrap===0){j.mode=13;break}for(;ee<16;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(2&j.wrap&&q===35615){fe[j.check=0]=255&q,fe[1]=q>>>8&255,j.check=b(j.check,fe,2,0),ee=q=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&q)<<8)+(q>>8))%31){S.msg="incorrect header check",j.mode=30;break}if((15&q)!=8){S.msg="unknown compression method",j.mode=30;break}if(ee-=4,ce=8+(15&(q>>>=4)),j.wbits===0)j.wbits=ce;else if(ce>j.wbits){S.msg="invalid window size",j.mode=30;break}j.dmax=1<<ce,S.adler=j.check=1,j.mode=512&q?10:12,ee=q=0;break;case 2:for(;ee<16;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(j.flags=q,(255&j.flags)!=8){S.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){S.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=q>>8&1),512&j.flags&&(fe[0]=255&q,fe[1]=q>>>8&255,j.check=b(j.check,fe,2,0)),ee=q=0,j.mode=3;case 3:for(;ee<32;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.head&&(j.head.time=q),512&j.flags&&(fe[0]=255&q,fe[1]=q>>>8&255,fe[2]=q>>>16&255,fe[3]=q>>>24&255,j.check=b(j.check,fe,4,0)),ee=q=0,j.mode=4;case 4:for(;ee<16;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.head&&(j.head.xflags=255&q,j.head.os=q>>8),512&j.flags&&(fe[0]=255&q,fe[1]=q>>>8&255,j.check=b(j.check,fe,2,0)),ee=q=0,j.mode=5;case 5:if(1024&j.flags){for(;ee<16;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.length=q,j.head&&(j.head.extra_len=q),512&j.flags&&(fe[0]=255&q,fe[1]=q>>>8&255,j.check=b(j.check,fe,2,0)),ee=q=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(X<(W=j.length)&&(W=X),W&&(j.head&&(ce=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),h.arraySet(j.head.extra,E,L,W,ce)),512&j.flags&&(j.check=b(j.check,E,W,L)),X-=W,L+=W,j.length-=W),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(X===0)break e;for(W=0;ce=E[L+W++],j.head&&ce&&j.length<65536&&(j.head.name+=String.fromCharCode(ce)),ce&&W<X;);if(512&j.flags&&(j.check=b(j.check,E,W,L)),X-=W,L+=W,ce)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(X===0)break e;for(W=0;ce=E[L+W++],j.head&&ce&&j.length<65536&&(j.head.comment+=String.fromCharCode(ce)),ce&&W<X;);if(512&j.flags&&(j.check=b(j.check,E,W,L)),X-=W,L+=W,ce)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;ee<16;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(q!==(65535&j.check)){S.msg="header crc mismatch",j.mode=30;break}ee=q=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),S.adler=j.check=0,j.mode=12;break;case 10:for(;ee<32;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}S.adler=j.check=F(q),ee=q=0,j.mode=11;case 11:if(j.havedict===0)return S.next_out=G,S.avail_out=re,S.next_in=L,S.avail_in=X,j.hold=q,j.bits=ee,2;S.adler=j.check=1,j.mode=12;case 12:if(w===5||w===6)break e;case 13:if(j.last){q>>>=7&ee,ee-=7&ee,j.mode=27;break}for(;ee<3;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}switch(j.last=1&q,ee-=1,3&(q>>>=1)){case 0:j.mode=14;break;case 1:if(A(j),j.mode=20,w!==6)break;q>>>=2,ee-=2;break e;case 2:j.mode=17;break;case 3:S.msg="invalid block type",j.mode=30}q>>>=2,ee-=2;break;case 14:for(q>>>=7&ee,ee-=7&ee;ee<32;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if((65535&q)!=(q>>>16^65535)){S.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&q,ee=q=0,j.mode=15,w===6)break e;case 15:j.mode=16;case 16:if(W=j.length){if(X<W&&(W=X),re<W&&(W=re),W===0)break e;h.arraySet(I,E,L,W,G),X-=W,L+=W,re-=W,G+=W,j.length-=W;break}j.mode=12;break;case 17:for(;ee<14;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(j.nlen=257+(31&q),q>>>=5,ee-=5,j.ndist=1+(31&q),q>>>=5,ee-=5,j.ncode=4+(15&q),q>>>=4,ee-=4,286<j.nlen||30<j.ndist){S.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;ee<3;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.lens[te[j.have++]]=7&q,q>>>=3,ee-=3}for(;j.have<19;)j.lens[te[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,ge={bits:j.lenbits},ae=T(0,j.lens,0,19,j.lencode,0,j.work,ge),j.lenbits=ge.bits,ae){S.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;me=(Ae=j.lencode[q&(1<<j.lenbits)-1])>>>16&255,Se=65535&Ae,!((ne=Ae>>>24)<=ee);){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(Se<16)q>>>=ne,ee-=ne,j.lens[j.have++]=Se;else{if(Se===16){for(pe=ne+2;ee<pe;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(q>>>=ne,ee-=ne,j.have===0){S.msg="invalid bit length repeat",j.mode=30;break}ce=j.lens[j.have-1],W=3+(3&q),q>>>=2,ee-=2}else if(Se===17){for(pe=ne+3;ee<pe;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}ee-=ne,ce=0,W=3+(7&(q>>>=ne)),q>>>=3,ee-=3}else{for(pe=ne+7;ee<pe;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}ee-=ne,ce=0,W=11+(127&(q>>>=ne)),q>>>=7,ee-=7}if(j.have+W>j.nlen+j.ndist){S.msg="invalid bit length repeat",j.mode=30;break}for(;W--;)j.lens[j.have++]=ce}}if(j.mode===30)break;if(j.lens[256]===0){S.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,ge={bits:j.lenbits},ae=T(1,j.lens,0,j.nlen,j.lencode,0,j.work,ge),j.lenbits=ge.bits,ae){S.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,ge={bits:j.distbits},ae=T(2,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,ge),j.distbits=ge.bits,ae){S.msg="invalid distances set",j.mode=30;break}if(j.mode=20,w===6)break e;case 20:j.mode=21;case 21:if(6<=X&&258<=re){S.next_out=G,S.avail_out=re,S.next_in=L,S.avail_in=X,j.hold=q,j.bits=ee,C(S,z),G=S.next_out,I=S.output,re=S.avail_out,L=S.next_in,E=S.input,X=S.avail_in,q=j.hold,ee=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;me=(Ae=j.lencode[q&(1<<j.lenbits)-1])>>>16&255,Se=65535&Ae,!((ne=Ae>>>24)<=ee);){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(me&&(240&me)==0){for(Ee=ne,le=me,ie=Se;me=(Ae=j.lencode[ie+((q&(1<<Ee+le)-1)>>Ee)])>>>16&255,Se=65535&Ae,!(Ee+(ne=Ae>>>24)<=ee);){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}q>>>=Ee,ee-=Ee,j.back+=Ee}if(q>>>=ne,ee-=ne,j.back+=ne,j.length=Se,me===0){j.mode=26;break}if(32&me){j.back=-1,j.mode=12;break}if(64&me){S.msg="invalid literal/length code",j.mode=30;break}j.extra=15&me,j.mode=22;case 22:if(j.extra){for(pe=j.extra;ee<pe;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.length+=q&(1<<j.extra)-1,q>>>=j.extra,ee-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;me=(Ae=j.distcode[q&(1<<j.distbits)-1])>>>16&255,Se=65535&Ae,!((ne=Ae>>>24)<=ee);){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if((240&me)==0){for(Ee=ne,le=me,ie=Se;me=(Ae=j.distcode[ie+((q&(1<<Ee+le)-1)>>Ee)])>>>16&255,Se=65535&Ae,!(Ee+(ne=Ae>>>24)<=ee);){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}q>>>=Ee,ee-=Ee,j.back+=Ee}if(q>>>=ne,ee-=ne,j.back+=ne,64&me){S.msg="invalid distance code",j.mode=30;break}j.offset=Se,j.extra=15&me,j.mode=24;case 24:if(j.extra){for(pe=j.extra;ee<pe;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}j.offset+=q&(1<<j.extra)-1,q>>>=j.extra,ee-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){S.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(re===0)break e;if(W=z-re,j.offset>W){if((W=j.offset-W)>j.whave&&j.sane){S.msg="invalid distance too far back",j.mode=30;break}se=W>j.wnext?(W-=j.wnext,j.wsize-W):j.wnext-W,W>j.length&&(W=j.length),he=j.window}else he=I,se=G-j.offset,W=j.length;for(re<W&&(W=re),re-=W,j.length-=W;I[G++]=he[se++],--W;);j.length===0&&(j.mode=21);break;case 26:if(re===0)break e;I[G++]=j.length,re--,j.mode=21;break;case 27:if(j.wrap){for(;ee<32;){if(X===0)break e;X--,q|=E[L++]<<ee,ee+=8}if(z-=re,S.total_out+=z,j.total+=z,z&&(S.adler=j.check=j.flags?b(j.check,I,z,G-z):y(j.check,I,z,G-z)),z=re,(j.flags?q:F(q))!==j.check){S.msg="incorrect data check",j.mode=30;break}ee=q=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;ee<32;){if(X===0)break e;X--,q+=E[L++]<<ee,ee+=8}if(q!==(4294967295&j.total)){S.msg="incorrect length check",j.mode=30;break}ee=q=0}j.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return D}return S.next_out=G,S.avail_out=re,S.next_in=L,S.avail_in=X,j.hold=q,j.bits=ee,(j.wsize||z!==S.avail_out&&j.mode<30&&(j.mode<27||w!==4))&&N(S,S.output,S.next_out,z-S.avail_out)?(j.mode=31,-4):(R-=S.avail_in,z-=S.avail_out,S.total_in+=R,S.total_out+=z,j.total+=z,j.wrap&&z&&(S.adler=j.check=j.flags?b(j.check,I,z,S.next_out-z):y(j.check,I,z,S.next_out-z)),S.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(R==0&&z===0||w===4)&&ae===0&&(ae=-5),ae)},g.inflateEnd=function(S){if(!S||!S.state)return D;var w=S.state;return w.window&&(w.window=null),S.state=null,0},g.inflateGetHeader=function(S,w){var j;return S&&S.state?(2&(j=S.state).wrap)==0?D:((j.head=w).done=!1,0):D},g.inflateSetDictionary=function(S,w){var j,E=w.length;return S&&S.state?(j=S.state).wrap!==0&&j.mode!==11?D:j.mode===11&&y(1,w,E,0)!==j.check?-3:N(S,w,E,E)?(j.mode=31,-4):(j.havedict=1,0):D},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(c,p,g){var h=c("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(D,F,H,O,$,B,K,U){var _,M,A,N,S,w,j,E,I,L=U.bits,G=0,X=0,re=0,q=0,ee=0,R=0,z=0,W=0,se=0,he=0,ne=null,me=0,Se=new h.Buf16(16),Ee=new h.Buf16(16),le=null,ie=0;for(G=0;G<=15;G++)Se[G]=0;for(X=0;X<O;X++)Se[F[H+X]]++;for(ee=L,q=15;1<=q&&Se[q]===0;q--);if(q<ee&&(ee=q),q===0)return $[B++]=20971520,$[B++]=20971520,U.bits=1,0;for(re=1;re<q&&Se[re]===0;re++);for(ee<re&&(ee=re),G=W=1;G<=15;G++)if(W<<=1,(W-=Se[G])<0)return-1;if(0<W&&(D===0||q!==1))return-1;for(Ee[1]=0,G=1;G<15;G++)Ee[G+1]=Ee[G]+Se[G];for(X=0;X<O;X++)F[H+X]!==0&&(K[Ee[F[H+X]]++]=X);if(w=D===0?(ne=le=K,19):D===1?(ne=y,me-=257,le=b,ie-=257,256):(ne=C,le=T,-1),G=re,S=B,z=X=he=0,A=-1,N=(se=1<<(R=ee))-1,D===1&&852<se||D===2&&592<se)return 1;for(;;){for(j=G-z,I=K[X]<w?(E=0,K[X]):K[X]>w?(E=le[ie+K[X]],ne[me+K[X]]):(E=96,0),_=1<<G-z,re=M=1<<R;$[S+(he>>z)+(M-=_)]=j<<24|E<<16|I|0,M!==0;);for(_=1<<G-1;he&_;)_>>=1;if(_!==0?(he&=_-1,he+=_):he=0,X++,--Se[G]==0){if(G===q)break;G=F[H+K[X]]}if(ee<G&&(he&N)!==A){for(z===0&&(z=ee),S+=re,W=1<<(R=G-z);R+z<q&&!((W-=Se[R+z])<=0);)R++,W<<=1;if(se+=1<<R,D===1&&852<se||D===2&&592<se)return 1;$[A=he&N]=ee<<24|R<<16|S-B|0}}return he!==0&&($[S+he]=G-z<<24|64<<16|0),U.bits=ee,0}},{"../utils/common":41}],51:[function(c,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(c,p,g){var h=c("../utils/common");function y(le){for(var ie=le.length;0<=--ie;)le[ie]=0}var b=256,C=286,T=30,D=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);y(B);var K=new Array(60);y(K);var U=new Array(512);y(U);var _=new Array(256);y(_);var M=new Array(29);y(M);var A,N,S,w=new Array(T);function j(le,ie,ce,ae,ge){this.static_tree=le,this.extra_bits=ie,this.extra_base=ce,this.elems=ae,this.max_length=ge,this.has_stree=le&&le.length}function E(le,ie){this.dyn_tree=le,this.max_code=0,this.stat_desc=ie}function I(le){return le<256?U[le]:U[256+(le>>>7)]}function L(le,ie){le.pending_buf[le.pending++]=255&ie,le.pending_buf[le.pending++]=ie>>>8&255}function G(le,ie,ce){le.bi_valid>16-ce?(le.bi_buf|=ie<<le.bi_valid&65535,L(le,le.bi_buf),le.bi_buf=ie>>16-le.bi_valid,le.bi_valid+=ce-16):(le.bi_buf|=ie<<le.bi_valid&65535,le.bi_valid+=ce)}function X(le,ie,ce){G(le,ce[2*ie],ce[2*ie+1])}function re(le,ie){for(var ce=0;ce|=1&le,le>>>=1,ce<<=1,0<--ie;);return ce>>>1}function q(le,ie,ce){var ae,ge,pe=new Array(16),Ae=0;for(ae=1;ae<=D;ae++)pe[ae]=Ae=Ae+ce[ae-1]<<1;for(ge=0;ge<=ie;ge++){var fe=le[2*ge+1];fe!==0&&(le[2*ge]=re(pe[fe]++,fe))}}function ee(le){var ie;for(ie=0;ie<C;ie++)le.dyn_ltree[2*ie]=0;for(ie=0;ie<T;ie++)le.dyn_dtree[2*ie]=0;for(ie=0;ie<19;ie++)le.bl_tree[2*ie]=0;le.dyn_ltree[512]=1,le.opt_len=le.static_len=0,le.last_lit=le.matches=0}function R(le){8<le.bi_valid?L(le,le.bi_buf):0<le.bi_valid&&(le.pending_buf[le.pending++]=le.bi_buf),le.bi_buf=0,le.bi_valid=0}function z(le,ie,ce,ae){var ge=2*ie,pe=2*ce;return le[ge]<le[pe]||le[ge]===le[pe]&&ae[ie]<=ae[ce]}function W(le,ie,ce){for(var ae=le.heap[ce],ge=ce<<1;ge<=le.heap_len&&(ge<le.heap_len&&z(ie,le.heap[ge+1],le.heap[ge],le.depth)&&ge++,!z(ie,ae,le.heap[ge],le.depth));)le.heap[ce]=le.heap[ge],ce=ge,ge<<=1;le.heap[ce]=ae}function se(le,ie,ce){var ae,ge,pe,Ae,fe=0;if(le.last_lit!==0)for(;ae=le.pending_buf[le.d_buf+2*fe]<<8|le.pending_buf[le.d_buf+2*fe+1],ge=le.pending_buf[le.l_buf+fe],fe++,ae===0?X(le,ge,ie):(X(le,(pe=_[ge])+b+1,ie),(Ae=F[pe])!==0&&G(le,ge-=M[pe],Ae),X(le,pe=I(--ae),ce),(Ae=H[pe])!==0&&G(le,ae-=w[pe],Ae)),fe<le.last_lit;);X(le,256,ie)}function he(le,ie){var ce,ae,ge,pe=ie.dyn_tree,Ae=ie.stat_desc.static_tree,fe=ie.stat_desc.has_stree,te=ie.stat_desc.elems,ye=-1;for(le.heap_len=0,le.heap_max=573,ce=0;ce<te;ce++)pe[2*ce]!==0?(le.heap[++le.heap_len]=ye=ce,le.depth[ce]=0):pe[2*ce+1]=0;for(;le.heap_len<2;)pe[2*(ge=le.heap[++le.heap_len]=ye<2?++ye:0)]=1,le.depth[ge]=0,le.opt_len--,fe&&(le.static_len-=Ae[2*ge+1]);for(ie.max_code=ye,ce=le.heap_len>>1;1<=ce;ce--)W(le,pe,ce);for(ge=te;ce=le.heap[1],le.heap[1]=le.heap[le.heap_len--],W(le,pe,1),ae=le.heap[1],le.heap[--le.heap_max]=ce,le.heap[--le.heap_max]=ae,pe[2*ge]=pe[2*ce]+pe[2*ae],le.depth[ge]=(le.depth[ce]>=le.depth[ae]?le.depth[ce]:le.depth[ae])+1,pe[2*ce+1]=pe[2*ae+1]=ge,le.heap[1]=ge++,W(le,pe,1),2<=le.heap_len;);le.heap[--le.heap_max]=le.heap[1],(function(Te,Ce){var je,tt,Pe,ke,ze,qe,Fe=Ce.dyn_tree,at=Ce.max_code,we=Ce.stat_desc.static_tree,Qe=Ce.stat_desc.has_stree,ut=Ce.stat_desc.extra_bits,be=Ce.stat_desc.extra_base,Be=Ce.stat_desc.max_length,ot=0;for(ke=0;ke<=D;ke++)Te.bl_count[ke]=0;for(Fe[2*Te.heap[Te.heap_max]+1]=0,je=Te.heap_max+1;je<573;je++)Be<(ke=Fe[2*Fe[2*(tt=Te.heap[je])+1]+1]+1)&&(ke=Be,ot++),Fe[2*tt+1]=ke,at<tt||(Te.bl_count[ke]++,ze=0,be<=tt&&(ze=ut[tt-be]),qe=Fe[2*tt],Te.opt_len+=qe*(ke+ze),Qe&&(Te.static_len+=qe*(we[2*tt+1]+ze)));if(ot!==0){do{for(ke=Be-1;Te.bl_count[ke]===0;)ke--;Te.bl_count[ke]--,Te.bl_count[ke+1]+=2,Te.bl_count[Be]--,ot-=2}while(0<ot);for(ke=Be;ke!==0;ke--)for(tt=Te.bl_count[ke];tt!==0;)at<(Pe=Te.heap[--je])||(Fe[2*Pe+1]!==ke&&(Te.opt_len+=(ke-Fe[2*Pe+1])*Fe[2*Pe],Fe[2*Pe+1]=ke),tt--)}})(le,ie),q(pe,ye,le.bl_count)}function ne(le,ie,ce){var ae,ge,pe=-1,Ae=ie[1],fe=0,te=7,ye=4;for(Ae===0&&(te=138,ye=3),ie[2*(ce+1)+1]=65535,ae=0;ae<=ce;ae++)ge=Ae,Ae=ie[2*(ae+1)+1],++fe<te&&ge===Ae||(fe<ye?le.bl_tree[2*ge]+=fe:ge!==0?(ge!==pe&&le.bl_tree[2*ge]++,le.bl_tree[32]++):fe<=10?le.bl_tree[34]++:le.bl_tree[36]++,pe=ge,ye=(fe=0)===Ae?(te=138,3):ge===Ae?(te=6,3):(te=7,4))}function me(le,ie,ce){var ae,ge,pe=-1,Ae=ie[1],fe=0,te=7,ye=4;for(Ae===0&&(te=138,ye=3),ae=0;ae<=ce;ae++)if(ge=Ae,Ae=ie[2*(ae+1)+1],!(++fe<te&&ge===Ae)){if(fe<ye)for(;X(le,ge,le.bl_tree),--fe!=0;);else ge!==0?(ge!==pe&&(X(le,ge,le.bl_tree),fe--),X(le,16,le.bl_tree),G(le,fe-3,2)):fe<=10?(X(le,17,le.bl_tree),G(le,fe-3,3)):(X(le,18,le.bl_tree),G(le,fe-11,7));pe=ge,ye=(fe=0)===Ae?(te=138,3):ge===Ae?(te=6,3):(te=7,4)}}y(w);var Se=!1;function Ee(le,ie,ce,ae){G(le,0+(ae?1:0),3),(function(ge,pe,Ae,fe){R(ge),L(ge,Ae),L(ge,~Ae),h.arraySet(ge.pending_buf,ge.window,pe,Ae,ge.pending),ge.pending+=Ae})(le,ie,ce)}g._tr_init=function(le){Se||((function(){var ie,ce,ae,ge,pe,Ae=new Array(16);for(ge=ae=0;ge<28;ge++)for(M[ge]=ae,ie=0;ie<1<<F[ge];ie++)_[ae++]=ge;for(_[ae-1]=ge,ge=pe=0;ge<16;ge++)for(w[ge]=pe,ie=0;ie<1<<H[ge];ie++)U[pe++]=ge;for(pe>>=7;ge<T;ge++)for(w[ge]=pe<<7,ie=0;ie<1<<H[ge]-7;ie++)U[256+pe++]=ge;for(ce=0;ce<=D;ce++)Ae[ce]=0;for(ie=0;ie<=143;)B[2*ie+1]=8,ie++,Ae[8]++;for(;ie<=255;)B[2*ie+1]=9,ie++,Ae[9]++;for(;ie<=279;)B[2*ie+1]=7,ie++,Ae[7]++;for(;ie<=287;)B[2*ie+1]=8,ie++,Ae[8]++;for(q(B,287,Ae),ie=0;ie<T;ie++)K[2*ie+1]=5,K[2*ie]=re(ie,5);A=new j(B,F,257,C,D),N=new j(K,H,0,T,D),S=new j(new Array(0),O,0,19,7)})(),Se=!0),le.l_desc=new E(le.dyn_ltree,A),le.d_desc=new E(le.dyn_dtree,N),le.bl_desc=new E(le.bl_tree,S),le.bi_buf=0,le.bi_valid=0,ee(le)},g._tr_stored_block=Ee,g._tr_flush_block=function(le,ie,ce,ae){var ge,pe,Ae=0;0<le.level?(le.strm.data_type===2&&(le.strm.data_type=(function(fe){var te,ye=4093624447;for(te=0;te<=31;te++,ye>>>=1)if(1&ye&&fe.dyn_ltree[2*te]!==0)return 0;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return 1;for(te=32;te<b;te++)if(fe.dyn_ltree[2*te]!==0)return 1;return 0})(le)),he(le,le.l_desc),he(le,le.d_desc),Ae=(function(fe){var te;for(ne(fe,fe.dyn_ltree,fe.l_desc.max_code),ne(fe,fe.dyn_dtree,fe.d_desc.max_code),he(fe,fe.bl_desc),te=18;3<=te&&fe.bl_tree[2*$[te]+1]===0;te--);return fe.opt_len+=3*(te+1)+5+5+4,te})(le),ge=le.opt_len+3+7>>>3,(pe=le.static_len+3+7>>>3)<=ge&&(ge=pe)):ge=pe=ce+5,ce+4<=ge&&ie!==-1?Ee(le,ie,ce,ae):le.strategy===4||pe===ge?(G(le,2+(ae?1:0),3),se(le,B,K)):(G(le,4+(ae?1:0),3),(function(fe,te,ye,Te){var Ce;for(G(fe,te-257,5),G(fe,ye-1,5),G(fe,Te-4,4),Ce=0;Ce<Te;Ce++)G(fe,fe.bl_tree[2*$[Ce]+1],3);me(fe,fe.dyn_ltree,te-1),me(fe,fe.dyn_dtree,ye-1)})(le,le.l_desc.max_code+1,le.d_desc.max_code+1,Ae+1),se(le,le.dyn_ltree,le.dyn_dtree)),ee(le),ae&&R(le)},g._tr_tally=function(le,ie,ce){return le.pending_buf[le.d_buf+2*le.last_lit]=ie>>>8&255,le.pending_buf[le.d_buf+2*le.last_lit+1]=255&ie,le.pending_buf[le.l_buf+le.last_lit]=255&ce,le.last_lit++,ie===0?le.dyn_ltree[2*ce]++:(le.matches++,ie--,le.dyn_ltree[2*(_[ce]+b+1)]++,le.dyn_dtree[2*I(ie)]++),le.last_lit===le.lit_bufsize-1},g._tr_align=function(le){G(le,2,3),X(le,256,B),(function(ie){ie.bi_valid===16?(L(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)})(le)}},{"../utils/common":41}],53:[function(c,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(c,p,g){(function(h){(function(y,b){if(!y.setImmediate){var C,T,D,F,H=1,O={},$=!1,B=y.document,K=Object.getPrototypeOf&&Object.getPrototypeOf(y);K=K&&K.setTimeout?K:y,C={}.toString.call(y.process)==="[object process]"?function(A){d.nextTick((function(){_(A)}))}:(function(){if(y.postMessage&&!y.importScripts){var A=!0,N=y.onmessage;return y.onmessage=function(){A=!1},y.postMessage("","*"),y.onmessage=N,A}})()?(F="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",M,!1):y.attachEvent("onmessage",M),function(A){y.postMessage(F+A,"*")}):y.MessageChannel?((D=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){D.port2.postMessage(A)}):B&&"onreadystatechange"in B.createElement("script")?(T=B.documentElement,function(A){var N=B.createElement("script");N.onreadystatechange=function(){_(A),N.onreadystatechange=null,T.removeChild(N),N=null},T.appendChild(N)}):function(A){setTimeout(_,0,A)},K.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var N=new Array(arguments.length-1),S=0;S<N.length;S++)N[S]=arguments[S+1];var w={callback:A,args:N};return O[H]=w,C(H),H++},K.clearImmediate=U}function U(A){delete O[A]}function _(A){if($)setTimeout(_,0,A);else{var N=O[A];if(N){$=!0;try{(function(S){var w=S.callback,j=S.args;switch(j.length){case 0:w();break;case 1:w(j[0]);break;case 2:w(j[0],j[1]);break;case 3:w(j[0],j[1],j[2]);break;default:w.apply(void 0,j)}})(N)}finally{U(A),$=!1}}}}function M(A){A.source===y&&typeof A.data=="string"&&A.data.indexOf(F)===0&&_(+A.data.slice(F.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,f,m){(function(d){(function(){var s=/[\\^$.*+?()[\]{}|]/g,a=RegExp(s.source),i=typeof d=="object"&&d&&d.Object===Object&&d,r=typeof self=="object"&&self&&self.Object===Object&&self,n=i||r||Function("return this")(),l=Object.prototype.toString,o=n.Symbol,c=o?o.prototype:void 0,p=c?c.toString:void 0;function g(h){if(typeof h=="string")return h;if((function(b){return typeof b=="symbol"||(function(C){return!!C&&typeof C=="object"})(b)&&l.call(b)=="[object Symbol]"})(h))return p?p.call(h):"";var y=h+"";return y=="0"&&1/h==-1/0?"-0":y}f.exports=function(h){var y;return(h=(y=h)==null?"":g(y))&&a.test(h)?h.replace(s,"\\$&"):h}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,f,m){(function(d){(function(){var s="[object Arguments]",a="[object Map]",i="[object Object]",r="[object Set]",n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,o=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[s]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[a]=y["[object Number]"]=y[i]=y["[object RegExp]"]=y[r]=y["[object String]"]=y["[object WeakMap]"]=!1;var b=typeof d=="object"&&d&&d.Object===Object&&d,C=typeof self=="object"&&self&&self.Object===Object&&self,T=b||C||Function("return this")(),D=typeof m=="object"&&m&&!m.nodeType&&m,F=D&&typeof f=="object"&&f&&!f.nodeType&&f,H=F&&F.exports===D&&b.process,O=(function(){try{return H&&H.binding("util")}catch{}})(),$=O&&O.isTypedArray;function B(ve,Re,nt,dt){for(var Ft=-1,bt=ve?ve.length:0;++Ft<bt;){var Nt=ve[Ft];Re(dt,Nt,nt(Nt),ve)}return dt}function K(ve,Re){for(var nt=-1,dt=ve?ve.length:0;++nt<dt;)if(Re(ve[nt],nt,ve))return!0;return!1}function U(ve){var Re=!1;if(ve!=null&&typeof ve.toString!="function")try{Re=!!(ve+"")}catch{}return Re}function _(ve){var Re=-1,nt=Array(ve.size);return ve.forEach((function(dt,Ft){nt[++Re]=[Ft,dt]})),nt}function M(ve){var Re=-1,nt=Array(ve.size);return ve.forEach((function(dt){nt[++Re]=dt})),nt}var A,N,S,w=Array.prototype,j=Function.prototype,E=Object.prototype,I=T["__core-js_shared__"],L=(A=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",G=j.toString,X=E.hasOwnProperty,re=E.toString,q=RegExp("^"+G.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=T.Symbol,R=T.Uint8Array,z=E.propertyIsEnumerable,W=w.splice,se=(N=Object.keys,S=Object,function(ve){return N(S(ve))}),he=yt(T,"DataView"),ne=yt(T,"Map"),me=yt(T,"Promise"),Se=yt(T,"Set"),Ee=yt(T,"WeakMap"),le=yt(Object,"create"),ie=Ie(he),ce=Ie(ne),ae=Ie(me),ge=Ie(Se),pe=Ie(Ee),Ae=ee?ee.prototype:void 0,fe=Ae?Ae.valueOf:void 0,te=Ae?Ae.toString:void 0;function ye(ve){var Re=-1,nt=ve?ve.length:0;for(this.clear();++Re<nt;){var dt=ve[Re];this.set(dt[0],dt[1])}}function Te(ve){var Re=-1,nt=ve?ve.length:0;for(this.clear();++Re<nt;){var dt=ve[Re];this.set(dt[0],dt[1])}}function Ce(ve){var Re=-1,nt=ve?ve.length:0;for(this.clear();++Re<nt;){var dt=ve[Re];this.set(dt[0],dt[1])}}function je(ve){var Re=-1,nt=ve?ve.length:0;for(this.__data__=new Ce;++Re<nt;)this.add(ve[Re])}function tt(ve){this.__data__=new Te(ve)}function Pe(ve,Re){var nt=Pt(ve)||Jt(ve)?(function(Nt,Kt){for(var ir=-1,rr=Array(Nt);++ir<Nt;)rr[ir]=Kt(ir);return rr})(ve.length,String):[],dt=nt.length,Ft=!!dt;for(var bt in ve)!X.call(ve,bt)||Ft&&(bt=="length"||$e(bt,dt))||nt.push(bt);return nt}function ke(ve,Re){for(var nt=ve.length;nt--;)if(Ct(ve[nt][0],Re))return nt;return-1}function ze(ve,Re,nt,dt){return Fe(ve,(function(Ft,bt,Nt){Re(dt,Ft,nt(Ft),Nt)})),dt}ye.prototype.clear=function(){this.__data__=le?le(null):{}},ye.prototype.delete=function(ve){return this.has(ve)&&delete this.__data__[ve]},ye.prototype.get=function(ve){var Re=this.__data__;if(le){var nt=Re[ve];return nt==="__lodash_hash_undefined__"?void 0:nt}return X.call(Re,ve)?Re[ve]:void 0},ye.prototype.has=function(ve){var Re=this.__data__;return le?Re[ve]!==void 0:X.call(Re,ve)},ye.prototype.set=function(ve,Re){return this.__data__[ve]=le&&Re===void 0?"__lodash_hash_undefined__":Re,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(ve){var Re=this.__data__,nt=ke(Re,ve);return!(nt<0)&&(nt==Re.length-1?Re.pop():W.call(Re,nt,1),!0)},Te.prototype.get=function(ve){var Re=this.__data__,nt=ke(Re,ve);return nt<0?void 0:Re[nt][1]},Te.prototype.has=function(ve){return ke(this.__data__,ve)>-1},Te.prototype.set=function(ve,Re){var nt=this.__data__,dt=ke(nt,ve);return dt<0?nt.push([ve,Re]):nt[dt][1]=Re,this},Ce.prototype.clear=function(){this.__data__={hash:new ye,map:new(ne||Te),string:new ye}},Ce.prototype.delete=function(ve){return Rt(this,ve).delete(ve)},Ce.prototype.get=function(ve){return Rt(this,ve).get(ve)},Ce.prototype.has=function(ve){return Rt(this,ve).has(ve)},Ce.prototype.set=function(ve,Re){return Rt(this,ve).set(ve,Re),this},je.prototype.add=je.prototype.push=function(ve){return this.__data__.set(ve,"__lodash_hash_undefined__"),this},je.prototype.has=function(ve){return this.__data__.has(ve)},tt.prototype.clear=function(){this.__data__=new Te},tt.prototype.delete=function(ve){return this.__data__.delete(ve)},tt.prototype.get=function(ve){return this.__data__.get(ve)},tt.prototype.has=function(ve){return this.__data__.has(ve)},tt.prototype.set=function(ve,Re){var nt=this.__data__;if(nt instanceof Te){var dt=nt.__data__;if(!ne||dt.length<199)return dt.push([ve,Re]),this;nt=this.__data__=new Ce(dt)}return nt.set(ve,Re),this};var qe,Fe=(qe=function(ve,Re){return ve&&at(ve,Re,st)},function(ve,Re){if(ve==null)return ve;if(!Ot(ve))return qe(ve,Re);for(var nt=ve.length,dt=-1,Ft=Object(ve);++dt<nt&&Re(Ft[dt],dt,Ft)!==!1;);return ve}),at=(function(ve){return function(Re,nt,dt){for(var Ft=-1,bt=Object(Re),Nt=dt(Re),Kt=Nt.length;Kt--;){var ir=Nt[++Ft];if(nt(bt[ir],ir,bt)===!1)break}return Re}})();function we(ve,Re){for(var nt=0,dt=(Re=Ke(Re,ve)?[Re]:lt(Re)).length;ve!=null&&nt<dt;)ve=ve[Ne(Re[nt++])];return nt&&nt==dt?ve:void 0}function Qe(ve,Re){return ve!=null&&Re in Object(ve)}function ut(ve,Re,nt,dt,Ft){return ve===Re||(ve==null||Re==null||!Lt(ve)&&!gr(Re)?ve!=ve&&Re!=Re:(function(bt,Nt,Kt,ir,rr,nr){var ur=Pt(bt),kr=Pt(Nt),ar="[object Array]",Lr="[object Array]";ur||(ar=(ar=Ut(bt))==s?i:ar),kr||(Lr=(Lr=Ut(Nt))==s?i:Lr);var Vr=ar==i&&!U(bt),qr=Lr==i&&!U(Nt),os=ar==Lr;if(os&&!Vr)return nr||(nr=new tt),ur||De(bt)?Et(bt,Nt,Kt,ir,rr,nr):(function(Sr,yr,ws,In,Wn,pr,Es){switch(ws){case"[object DataView]":if(Sr.byteLength!=yr.byteLength||Sr.byteOffset!=yr.byteOffset)return!1;Sr=Sr.buffer,yr=yr.buffer;case"[object ArrayBuffer]":return!(Sr.byteLength!=yr.byteLength||!In(new R(Sr),new R(yr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ct(+Sr,+yr);case"[object Error]":return Sr.name==yr.name&&Sr.message==yr.message;case"[object RegExp]":case"[object String]":return Sr==yr+"";case a:var un=_;case r:var Xr=2&pr;if(un||(un=M),Sr.size!=yr.size&&!Xr)return!1;var li=Es.get(Sr);if(li)return li==yr;pr|=1,Es.set(Sr,yr);var Mn=Et(un(Sr),un(yr),In,Wn,pr,Es);return Es.delete(Sr),Mn;case"[object Symbol]":if(fe)return fe.call(Sr)==fe.call(yr)}return!1})(bt,Nt,ar,Kt,ir,rr,nr);if(!(2&rr)){var Os=Vr&&X.call(bt,"__wrapped__"),kn=qr&&X.call(Nt,"__wrapped__");if(Os||kn){var Bt=Os?bt.value():bt,_s=kn?Nt.value():Nt;return nr||(nr=new tt),Kt(Bt,_s,ir,rr,nr)}}return os?(nr||(nr=new tt),(function(Sr,yr,ws,In,Wn,pr){var Es=2&Wn,un=st(Sr),Xr=un.length,li=st(yr).length;if(Xr!=li&&!Es)return!1;for(var Mn=Xr;Mn--;){var mn=un[Mn];if(!(Es?mn in yr:X.call(yr,mn)))return!1}var ji=pr.get(Sr);if(ji&&pr.get(yr))return ji==yr;var Rn=!0;pr.set(Sr,yr),pr.set(yr,Sr);for(var Er=Es;++Mn<Xr;){mn=un[Mn];var Ls=Sr[mn],Fs=yr[mn];if(In)var Yn=Es?In(Fs,Ls,mn,yr,Sr,pr):In(Ls,Fs,mn,Sr,yr,pr);if(!(Yn===void 0?Ls===Fs||ws(Ls,Fs,In,Wn,pr):Yn)){Rn=!1;break}Er||(Er=mn=="constructor")}if(Rn&&!Er){var Nn=Sr.constructor,Bs=yr.constructor;Nn==Bs||!("constructor"in Sr)||!("constructor"in yr)||typeof Nn=="function"&&Nn instanceof Nn&&typeof Bs=="function"&&Bs instanceof Bs||(Rn=!1)}return pr.delete(Sr),pr.delete(yr),Rn})(bt,Nt,Kt,ir,rr,nr)):!1})(ve,Re,ut,nt,dt,Ft))}function be(ve){return!(!Lt(ve)||(function(Re){return!!L&&L in Re})(ve))&&(tr(ve)||U(ve)?q:g).test(Ie(ve))}function Be(ve){return typeof ve=="function"?ve:ve==null?At:typeof ve=="object"?Pt(ve)?(function(dt,Ft){return Ke(dt)&&ht(Ft)?St(Ne(dt),Ft):function(bt){var Nt=(function(Kt,ir,rr){var nr=Kt==null?void 0:we(Kt,ir);return nr===void 0?rr:nr})(bt,dt);return Nt===void 0&&Nt===Ft?(function(Kt,ir){return Kt!=null&&(function(rr,nr,ur){nr=Ke(nr,rr)?[nr]:lt(nr);for(var kr,ar=-1,Lr=nr.length;++ar<Lr;){var Vr=Ne(nr[ar]);if(!(kr=rr!=null&&ur(rr,Vr)))break;rr=rr[Vr]}return kr||!!(Lr=rr?rr.length:0)&&Wt(Lr)&&$e(Vr,Lr)&&(Pt(rr)||Jt(rr))})(Kt,ir,Qe)})(bt,dt):ut(Ft,Nt,void 0,3)}})(ve[0],ve[1]):(function(dt){var Ft=(function(bt){for(var Nt=st(bt),Kt=Nt.length;Kt--;){var ir=Nt[Kt],rr=bt[ir];Nt[Kt]=[ir,rr,ht(rr)]}return Nt})(dt);return Ft.length==1&&Ft[0][2]?St(Ft[0][0],Ft[0][1]):function(bt){return bt===dt||(function(Nt,Kt,ir,rr){var nr=ir.length,ur=nr;if(Nt==null)return!ur;for(Nt=Object(Nt);nr--;){var kr=ir[nr];if(kr[2]?kr[1]!==Nt[kr[0]]:!(kr[0]in Nt))return!1}for(;++nr<ur;){var ar=(kr=ir[nr])[0],Lr=Nt[ar],Vr=kr[1];if(kr[2]){if(Lr===void 0&&!(ar in Nt))return!1}else{var qr=new tt,os;if(!(os===void 0?ut(Vr,Lr,rr,3,qr):os))return!1}}return!0})(bt,dt,Ft)}})(ve):Ke(Re=ve)?(nt=Ne(Re),function(dt){return dt?.[nt]}):(function(dt){return function(Ft){return we(Ft,dt)}})(Re);var Re,nt}function ot(ve){if(nt=(Re=ve)&&Re.constructor,dt=typeof nt=="function"&&nt.prototype||E,Re!==dt)return se(ve);var Re,nt,dt,Ft=[];for(var bt in Object(ve))X.call(ve,bt)&&bt!="constructor"&&Ft.push(bt);return Ft}function lt(ve){return Pt(ve)?ve:xt(ve)}function Et(ve,Re,nt,dt,Ft,bt){var Nt=2&Ft,Kt=ve.length,ir=Re.length;if(Kt!=ir&&!(Nt&&ir>Kt))return!1;var rr=bt.get(ve);if(rr&&bt.get(Re))return rr==Re;var nr=-1,ur=!0,kr=1&Ft?new je:void 0;for(bt.set(ve,Re),bt.set(Re,ve);++nr<Kt;){var ar=ve[nr],Lr=Re[nr];if(dt)var Vr=Nt?dt(Lr,ar,nr,Re,ve,bt):dt(ar,Lr,nr,ve,Re,bt);if(Vr!==void 0){if(Vr)continue;ur=!1;break}if(kr){if(!K(Re,(function(qr,os){if(!kr.has(os)&&(ar===qr||nt(ar,qr,dt,Ft,bt)))return kr.add(os)}))){ur=!1;break}}else if(ar!==Lr&&!nt(ar,Lr,dt,Ft,bt)){ur=!1;break}}return bt.delete(ve),bt.delete(Re),ur}function Rt(ve,Re){var nt,dt,Ft=ve.__data__;return((dt=typeof(nt=Re))=="string"||dt=="number"||dt=="symbol"||dt=="boolean"?nt!=="__proto__":nt===null)?Ft[typeof Re=="string"?"string":"hash"]:Ft.map}function yt(ve,Re){var nt=(function(dt,Ft){return dt?.[Ft]})(ve,Re);return be(nt)?nt:void 0}var Ut=function(ve){return re.call(ve)};function $e(ve,Re){return!!(Re=Re??9007199254740991)&&(typeof ve=="number"||h.test(ve))&&ve>-1&&ve%1==0&&ve<Re}function Ke(ve,Re){if(Pt(ve))return!1;var nt=typeof ve;return!(nt!="number"&&nt!="symbol"&&nt!="boolean"&&ve!=null&&!pt(ve))||l.test(ve)||!n.test(ve)||Re!=null&&ve in Object(Re)}function ht(ve){return ve==ve&&!Lt(ve)}function St(ve,Re){return function(nt){return nt!=null&&nt[ve]===Re&&(Re!==void 0||ve in Object(nt))}}(he&&Ut(new he(new ArrayBuffer(1)))!="[object DataView]"||ne&&Ut(new ne)!=a||me&&Ut(me.resolve())!="[object Promise]"||Se&&Ut(new Se)!=r||Ee&&Ut(new Ee)!="[object WeakMap]")&&(Ut=function(ve){var Re=re.call(ve),nt=Re==i?ve.constructor:void 0,dt=nt?Ie(nt):void 0;if(dt)switch(dt){case ie:return"[object DataView]";case ce:return a;case ae:return"[object Promise]";case ge:return r;case pe:return"[object WeakMap]"}return Re});var xt=Mt((function(ve){var Re;ve=(Re=ve)==null?"":(function(dt){if(typeof dt=="string")return dt;if(pt(dt))return te?te.call(dt):"";var Ft=dt+"";return Ft=="0"&&1/dt==-1/0?"-0":Ft})(Re);var nt=[];return o.test(ve)&&nt.push(""),ve.replace(c,(function(dt,Ft,bt,Nt){nt.push(bt?Nt.replace(p,"$1"):Ft||dt)})),nt}));function Ne(ve){if(typeof ve=="string"||pt(ve))return ve;var Re=ve+"";return Re=="0"&&1/ve==-1/0?"-0":Re}function Ie(ve){if(ve!=null){try{return G.call(ve)}catch{}try{return ve+""}catch{}}return""}var Ge,ct=(Ge=function(ve,Re,nt){X.call(ve,nt)?ve[nt].push(Re):ve[nt]=[Re]},function(ve,Re){var nt=Pt(ve)?B:ze,dt={};return nt(ve,Ge,Be(Re),dt)});function Mt(ve,Re){if(typeof ve!="function"||Re&&typeof Re!="function")throw new TypeError("Expected a function");var nt=function(){var dt=arguments,Ft=Re?Re.apply(this,dt):dt[0],bt=nt.cache;if(bt.has(Ft))return bt.get(Ft);var Nt=ve.apply(this,dt);return nt.cache=bt.set(Ft,Nt),Nt};return nt.cache=new(Mt.Cache||Ce),nt}function Ct(ve,Re){return ve===Re||ve!=ve&&Re!=Re}function Jt(ve){return(function(Re){return gr(Re)&&Ot(Re)})(ve)&&X.call(ve,"callee")&&(!z.call(ve,"callee")||re.call(ve)==s)}Mt.Cache=Ce;var Pt=Array.isArray;function Ot(ve){return ve!=null&&Wt(ve.length)&&!tr(ve)}function tr(ve){var Re=Lt(ve)?re.call(ve):"";return Re=="[object Function]"||Re=="[object GeneratorFunction]"}function Wt(ve){return typeof ve=="number"&&ve>-1&&ve%1==0&&ve<=9007199254740991}function Lt(ve){var Re=typeof ve;return!!ve&&(Re=="object"||Re=="function")}function gr(ve){return!!ve&&typeof ve=="object"}function pt(ve){return typeof ve=="symbol"||gr(ve)&&re.call(ve)=="[object Symbol]"}var De=$?(function(ve){return function(Re){return ve(Re)}})($):function(ve){return gr(ve)&&Wt(ve.length)&&!!y[re.call(ve)]};function st(ve){return Ot(ve)?Pe(ve):ot(ve)}function At(ve){return ve}f.exports=ct}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,f,m){var d=Object.prototype.toString;f.exports=function(s){return s===!0||s===!1||(function(a){return!!a&&typeof a=="object"})(s)&&d.call(s)=="[object Boolean]"}},{}],445:[function(t,f,m){(function(d){(function(){var s="[object Arguments]",a="[object Map]",i="[object Object]",r="[object Set]",n=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o[s]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o[a]=o["[object Number]"]=o[i]=o["[object RegExp]"]=o[r]=o["[object String]"]=o["[object WeakMap]"]=!1;var c=typeof d=="object"&&d&&d.Object===Object&&d,p=typeof self=="object"&&self&&self.Object===Object&&self,g=c||p||Function("return this")(),h=typeof m=="object"&&m&&!m.nodeType&&m,y=h&&typeof f=="object"&&f&&!f.nodeType&&f,b=y&&y.exports===h,C=b&&c.process,T=(function(){try{return C&&C.binding&&C.binding("util")}catch{}})(),D=T&&T.isTypedArray;function F(Ne,Ie){for(var Ge=-1,ct=Ne==null?0:Ne.length;++Ge<ct;)if(Ie(Ne[Ge],Ge,Ne))return!0;return!1}function H(Ne){var Ie=-1,Ge=Array(Ne.size);return Ne.forEach((function(ct,Mt){Ge[++Ie]=[Mt,ct]})),Ge}function O(Ne){var Ie=-1,Ge=Array(Ne.size);return Ne.forEach((function(ct){Ge[++Ie]=ct})),Ge}var $,B,K,U=Array.prototype,_=Function.prototype,M=Object.prototype,A=g["__core-js_shared__"],N=_.toString,S=M.hasOwnProperty,w=($=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",j=M.toString,E=RegExp("^"+N.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=b?g.Buffer:void 0,L=g.Symbol,G=g.Uint8Array,X=M.propertyIsEnumerable,re=U.splice,q=L?L.toStringTag:void 0,ee=Object.getOwnPropertySymbols,R=I?I.isBuffer:void 0,z=(B=Object.keys,K=Object,function(Ne){return B(K(Ne))}),W=Qe(g,"DataView"),se=Qe(g,"Map"),he=Qe(g,"Promise"),ne=Qe(g,"Set"),me=Qe(g,"WeakMap"),Se=Qe(Object,"create"),Ee=ot(W),le=ot(se),ie=ot(he),ce=ot(ne),ae=ot(me),ge=L?L.prototype:void 0,pe=ge?ge.valueOf:void 0;function Ae(Ne){var Ie=-1,Ge=Ne==null?0:Ne.length;for(this.clear();++Ie<Ge;){var ct=Ne[Ie];this.set(ct[0],ct[1])}}function fe(Ne){var Ie=-1,Ge=Ne==null?0:Ne.length;for(this.clear();++Ie<Ge;){var ct=Ne[Ie];this.set(ct[0],ct[1])}}function te(Ne){var Ie=-1,Ge=Ne==null?0:Ne.length;for(this.clear();++Ie<Ge;){var ct=Ne[Ie];this.set(ct[0],ct[1])}}function ye(Ne){var Ie=-1,Ge=Ne==null?0:Ne.length;for(this.__data__=new te;++Ie<Ge;)this.add(Ne[Ie])}function Te(Ne){var Ie=this.__data__=new fe(Ne);this.size=Ie.size}function Ce(Ne,Ie){var Ge=Rt(Ne),ct=!Ge&&Et(Ne),Mt=!Ge&&!ct&&yt(Ne),Ct=!Ge&&!ct&&!Mt&&St(Ne),Jt=Ge||ct||Mt||Ct,Pt=Jt?(function(Wt,Lt){for(var gr=-1,pt=Array(Wt);++gr<Wt;)pt[gr]=Lt(gr);return pt})(Ne.length,String):[],Ot=Pt.length;for(var tr in Ne)!S.call(Ne,tr)||Jt&&(tr=="length"||Mt&&(tr=="offset"||tr=="parent")||Ct&&(tr=="buffer"||tr=="byteLength"||tr=="byteOffset")||Be(tr,Ot))||Pt.push(tr);return Pt}function je(Ne,Ie){for(var Ge=Ne.length;Ge--;)if(lt(Ne[Ge][0],Ie))return Ge;return-1}function tt(Ne){return Ne==null?Ne===void 0?"[object Undefined]":"[object Null]":q&&q in Object(Ne)?(function(Ie){var Ge=S.call(Ie,q),ct=Ie[q];try{Ie[q]=void 0;var Mt=!0}catch{}var Ct=j.call(Ie);return Mt&&(Ge?Ie[q]=ct:delete Ie[q]),Ct})(Ne):(function(Ie){return j.call(Ie)})(Ne)}function Pe(Ne){return ht(Ne)&&tt(Ne)==s}function ke(Ne,Ie,Ge,ct,Mt){return Ne===Ie||(Ne==null||Ie==null||!ht(Ne)&&!ht(Ie)?Ne!=Ne&&Ie!=Ie:(function(Ct,Jt,Pt,Ot,tr,Wt){var Lt=Rt(Ct),gr=Rt(Jt),pt=Lt?"[object Array]":be(Ct),De=gr?"[object Array]":be(Jt),st=(pt=pt==s?i:pt)==i,At=(De=De==s?i:De)==i,ve=pt==De;if(ve&&yt(Ct)){if(!yt(Jt))return!1;Lt=!0,st=!1}if(ve&&!st)return Wt||(Wt=new Te),Lt||St(Ct)?Fe(Ct,Jt,Pt,Ot,tr,Wt):(function(bt,Nt,Kt,ir,rr,nr,ur){switch(Kt){case"[object DataView]":if(bt.byteLength!=Nt.byteLength||bt.byteOffset!=Nt.byteOffset)return!1;bt=bt.buffer,Nt=Nt.buffer;case"[object ArrayBuffer]":return!(bt.byteLength!=Nt.byteLength||!nr(new G(bt),new G(Nt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lt(+bt,+Nt);case"[object Error]":return bt.name==Nt.name&&bt.message==Nt.message;case"[object RegExp]":case"[object String]":return bt==Nt+"";case a:var kr=H;case r:var ar=1&ir;if(kr||(kr=O),bt.size!=Nt.size&&!ar)return!1;var Lr=ur.get(bt);if(Lr)return Lr==Nt;ir|=2,ur.set(bt,Nt);var Vr=Fe(kr(bt),kr(Nt),ir,rr,nr,ur);return ur.delete(bt),Vr;case"[object Symbol]":if(pe)return pe.call(bt)==pe.call(Nt)}return!1})(Ct,Jt,pt,Pt,Ot,tr,Wt);if(!(1&Pt)){var Re=st&&S.call(Ct,"__wrapped__"),nt=At&&S.call(Jt,"__wrapped__");if(Re||nt){var dt=Re?Ct.value():Ct,Ft=nt?Jt.value():Jt;return Wt||(Wt=new Te),tr(dt,Ft,Pt,Ot,Wt)}}return ve?(Wt||(Wt=new Te),(function(bt,Nt,Kt,ir,rr,nr){var ur=1&Kt,kr=at(bt),ar=kr.length,Lr=at(Nt).length;if(ar!=Lr&&!ur)return!1;for(var Vr=ar;Vr--;){var qr=kr[Vr];if(!(ur?qr in Nt:S.call(Nt,qr)))return!1}var os=nr.get(bt);if(os&&nr.get(Nt))return os==Nt;var Os=!0;nr.set(bt,Nt),nr.set(Nt,bt);for(var kn=ur;++Vr<ar;){qr=kr[Vr];var Bt=bt[qr],_s=Nt[qr];if(ir)var Sr=ur?ir(_s,Bt,qr,Nt,bt,nr):ir(Bt,_s,qr,bt,Nt,nr);if(!(Sr===void 0?Bt===_s||rr(Bt,_s,Kt,ir,nr):Sr)){Os=!1;break}kn||(kn=qr=="constructor")}if(Os&&!kn){var yr=bt.constructor,ws=Nt.constructor;yr==ws||!("constructor"in bt)||!("constructor"in Nt)||typeof yr=="function"&&yr instanceof yr&&typeof ws=="function"&&ws instanceof ws||(Os=!1)}return nr.delete(bt),nr.delete(Nt),Os})(Ct,Jt,Pt,Ot,tr,Wt)):!1})(Ne,Ie,Ge,ct,ke,Mt))}function ze(Ne){return!(!Ke(Ne)||(function(Ie){return!!w&&w in Ie})(Ne))&&(Ut(Ne)?E:n).test(ot(Ne))}function qe(Ne){if(Ge=(Ie=Ne)&&Ie.constructor,ct=typeof Ge=="function"&&Ge.prototype||M,Ie!==ct)return z(Ne);var Ie,Ge,ct,Mt=[];for(var Ct in Object(Ne))S.call(Ne,Ct)&&Ct!="constructor"&&Mt.push(Ct);return Mt}function Fe(Ne,Ie,Ge,ct,Mt,Ct){var Jt=1&Ge,Pt=Ne.length,Ot=Ie.length;if(Pt!=Ot&&!(Jt&&Ot>Pt))return!1;var tr=Ct.get(Ne);if(tr&&Ct.get(Ie))return tr==Ie;var Wt=-1,Lt=!0,gr=2&Ge?new ye:void 0;for(Ct.set(Ne,Ie),Ct.set(Ie,Ne);++Wt<Pt;){var pt=Ne[Wt],De=Ie[Wt];if(ct)var st=Jt?ct(De,pt,Wt,Ie,Ne,Ct):ct(pt,De,Wt,Ne,Ie,Ct);if(st!==void 0){if(st)continue;Lt=!1;break}if(gr){if(!F(Ie,(function(At,ve){if(Re=ve,!gr.has(Re)&&(pt===At||Mt(pt,At,Ge,ct,Ct)))return gr.push(ve);var Re}))){Lt=!1;break}}else if(pt!==De&&!Mt(pt,De,Ge,ct,Ct)){Lt=!1;break}}return Ct.delete(Ne),Ct.delete(Ie),Lt}function at(Ne){return(function(Ie,Ge,ct){var Mt=Ge(Ie);return Rt(Ie)?Mt:(function(Ct,Jt){for(var Pt=-1,Ot=Jt.length,tr=Ct.length;++Pt<Ot;)Ct[tr+Pt]=Jt[Pt];return Ct})(Mt,ct(Ie))})(Ne,xt,ut)}function we(Ne,Ie){var Ge,ct,Mt=Ne.__data__;return((ct=typeof(Ge=Ie))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?Ge!=="__proto__":Ge===null)?Mt[typeof Ie=="string"?"string":"hash"]:Mt.map}function Qe(Ne,Ie){var Ge=(function(ct,Mt){return ct?.[Mt]})(Ne,Ie);return ze(Ge)?Ge:void 0}Ae.prototype.clear=function(){this.__data__=Se?Se(null):{},this.size=0},Ae.prototype.delete=function(Ne){var Ie=this.has(Ne)&&delete this.__data__[Ne];return this.size-=Ie?1:0,Ie},Ae.prototype.get=function(Ne){var Ie=this.__data__;if(Se){var Ge=Ie[Ne];return Ge==="__lodash_hash_undefined__"?void 0:Ge}return S.call(Ie,Ne)?Ie[Ne]:void 0},Ae.prototype.has=function(Ne){var Ie=this.__data__;return Se?Ie[Ne]!==void 0:S.call(Ie,Ne)},Ae.prototype.set=function(Ne,Ie){var Ge=this.__data__;return this.size+=this.has(Ne)?0:1,Ge[Ne]=Se&&Ie===void 0?"__lodash_hash_undefined__":Ie,this},fe.prototype.clear=function(){this.__data__=[],this.size=0},fe.prototype.delete=function(Ne){var Ie=this.__data__,Ge=je(Ie,Ne);return!(Ge<0)&&(Ge==Ie.length-1?Ie.pop():re.call(Ie,Ge,1),--this.size,!0)},fe.prototype.get=function(Ne){var Ie=this.__data__,Ge=je(Ie,Ne);return Ge<0?void 0:Ie[Ge][1]},fe.prototype.has=function(Ne){return je(this.__data__,Ne)>-1},fe.prototype.set=function(Ne,Ie){var Ge=this.__data__,ct=je(Ge,Ne);return ct<0?(++this.size,Ge.push([Ne,Ie])):Ge[ct][1]=Ie,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(se||fe),string:new Ae}},te.prototype.delete=function(Ne){var Ie=we(this,Ne).delete(Ne);return this.size-=Ie?1:0,Ie},te.prototype.get=function(Ne){return we(this,Ne).get(Ne)},te.prototype.has=function(Ne){return we(this,Ne).has(Ne)},te.prototype.set=function(Ne,Ie){var Ge=we(this,Ne),ct=Ge.size;return Ge.set(Ne,Ie),this.size+=Ge.size==ct?0:1,this},ye.prototype.add=ye.prototype.push=function(Ne){return this.__data__.set(Ne,"__lodash_hash_undefined__"),this},ye.prototype.has=function(Ne){return this.__data__.has(Ne)},Te.prototype.clear=function(){this.__data__=new fe,this.size=0},Te.prototype.delete=function(Ne){var Ie=this.__data__,Ge=Ie.delete(Ne);return this.size=Ie.size,Ge},Te.prototype.get=function(Ne){return this.__data__.get(Ne)},Te.prototype.has=function(Ne){return this.__data__.has(Ne)},Te.prototype.set=function(Ne,Ie){var Ge=this.__data__;if(Ge instanceof fe){var ct=Ge.__data__;if(!se||ct.length<199)return ct.push([Ne,Ie]),this.size=++Ge.size,this;Ge=this.__data__=new te(ct)}return Ge.set(Ne,Ie),this.size=Ge.size,this};var ut=ee?function(Ne){return Ne==null?[]:(Ne=Object(Ne),(function(Ie,Ge){for(var ct=-1,Mt=Ie==null?0:Ie.length,Ct=0,Jt=[];++ct<Mt;){var Pt=Ie[ct];Ge(Pt,ct,Ie)&&(Jt[Ct++]=Pt)}return Jt})(ee(Ne),(function(Ie){return X.call(Ne,Ie)})))}:function(){return[]},be=tt;function Be(Ne,Ie){return!!(Ie=Ie??9007199254740991)&&(typeof Ne=="number"||l.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Ie}function ot(Ne){if(Ne!=null){try{return N.call(Ne)}catch{}try{return Ne+""}catch{}}return""}function lt(Ne,Ie){return Ne===Ie||Ne!=Ne&&Ie!=Ie}(W&&be(new W(new ArrayBuffer(1)))!="[object DataView]"||se&&be(new se)!=a||he&&be(he.resolve())!="[object Promise]"||ne&&be(new ne)!=r||me&&be(new me)!="[object WeakMap]")&&(be=function(Ne){var Ie=tt(Ne),Ge=Ie==i?Ne.constructor:void 0,ct=Ge?ot(Ge):"";if(ct)switch(ct){case Ee:return"[object DataView]";case le:return a;case ie:return"[object Promise]";case ce:return r;case ae:return"[object WeakMap]"}return Ie});var Et=Pe((function(){return arguments})())?Pe:function(Ne){return ht(Ne)&&S.call(Ne,"callee")&&!X.call(Ne,"callee")},Rt=Array.isArray,yt=R||function(){return!1};function Ut(Ne){if(!Ke(Ne))return!1;var Ie=tt(Ne);return Ie=="[object Function]"||Ie=="[object GeneratorFunction]"||Ie=="[object AsyncFunction]"||Ie=="[object Proxy]"}function $e(Ne){return typeof Ne=="number"&&Ne>-1&&Ne%1==0&&Ne<=9007199254740991}function Ke(Ne){var Ie=typeof Ne;return Ne!=null&&(Ie=="object"||Ie=="function")}function ht(Ne){return Ne!=null&&typeof Ne=="object"}var St=D?(function(Ne){return function(Ie){return Ne(Ie)}})(D):function(Ne){return ht(Ne)&&$e(Ne.length)&&!!o[tt(Ne)]};function xt(Ne){return(Ie=Ne)!=null&&$e(Ie.length)&&!Ut(Ie)?Ce(Ne):qe(Ne);var Ie}f.exports=function(Ne,Ie){return ke(Ne,Ie)}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,f,m){(function(d){(function(){var s=typeof d=="object"&&d&&d.Object===Object&&d,a=typeof self=="object"&&self&&self.Object===Object&&self,i=s||a||Function("return this")(),r=Object.prototype,n=r.hasOwnProperty,l=r.toString,o=i.Symbol,c=o?o.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":c&&c in Object(g)?(function(h){var y=n.call(h,c),b=h[c];try{h[c]=void 0;var C=!0}catch{}var T=l.call(h);return C&&(y?h[c]=b:delete h[c]),T})(g):(function(h){return l.call(h)})(g)}f.exports=function(g){if(!(function(y){var b=typeof y;return y!=null&&(b=="object"||b=="function")})(g))return!1;var h=p(g);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,f,m){f.exports=function(d){return d==null}},{}],448:[function(t,f,m){f.exports=function(d){return d===void 0}},{}],449:[function(t,f,m){(function(d){(function(){var s=/^\[object .+?Constructor\]$/,a=typeof d=="object"&&d&&d.Object===Object&&d,i=typeof self=="object"&&self&&self.Object===Object&&self,r=a||i||Function("return this")();function n(L,G){return!!(L&&L.length)&&(function(X,re,q){if(re!=re)return(function(z,W,se,he){for(var ne=z.length,me=se+-1;++me<ne;)if(W(z[me],me,z))return me;return-1})(X,l,q);for(var ee=q-1,R=X.length;++ee<R;)if(X[ee]===re)return ee;return-1})(L,G,0)>-1}function l(L){return L!=L}function o(L,G){return L.has(G)}function c(L){var G=-1,X=Array(L.size);return L.forEach((function(re){X[++G]=re})),X}var p,g=Array.prototype,h=Function.prototype,y=Object.prototype,b=r["__core-js_shared__"],C=(p=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",T=h.toString,D=y.hasOwnProperty,F=y.toString,H=RegExp("^"+T.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=g.splice,$=E(r,"Map"),B=E(r,"Set"),K=E(Object,"create");function U(L){var G=-1,X=L?L.length:0;for(this.clear();++G<X;){var re=L[G];this.set(re[0],re[1])}}function _(L){var G=-1,X=L?L.length:0;for(this.clear();++G<X;){var re=L[G];this.set(re[0],re[1])}}function M(L){var G=-1,X=L?L.length:0;for(this.clear();++G<X;){var re=L[G];this.set(re[0],re[1])}}function A(L){var G=-1,X=L?L.length:0;for(this.__data__=new M;++G<X;)this.add(L[G])}function N(L,G){for(var X,re,q=L.length;q--;)if((X=L[q][0])===(re=G)||X!=X&&re!=re)return q;return-1}function S(L){return!(!I(L)||(G=L,C&&C in G))&&((function(X){var re=I(X)?F.call(X):"";return re=="[object Function]"||re=="[object GeneratorFunction]"})(L)||(function(X){var re=!1;if(X!=null&&typeof X.toString!="function")try{re=!!(X+"")}catch{}return re})(L)?H:s).test((function(X){if(X!=null){try{return T.call(X)}catch{}try{return X+""}catch{}}return""})(L));var G}U.prototype.clear=function(){this.__data__=K?K(null):{}},U.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},U.prototype.get=function(L){var G=this.__data__;if(K){var X=G[L];return X==="__lodash_hash_undefined__"?void 0:X}return D.call(G,L)?G[L]:void 0},U.prototype.has=function(L){var G=this.__data__;return K?G[L]!==void 0:D.call(G,L)},U.prototype.set=function(L,G){return this.__data__[L]=K&&G===void 0?"__lodash_hash_undefined__":G,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(L){var G=this.__data__,X=N(G,L);return!(X<0)&&(X==G.length-1?G.pop():O.call(G,X,1),!0)},_.prototype.get=function(L){var G=this.__data__,X=N(G,L);return X<0?void 0:G[X][1]},_.prototype.has=function(L){return N(this.__data__,L)>-1},_.prototype.set=function(L,G){var X=this.__data__,re=N(X,L);return re<0?X.push([L,G]):X[re][1]=G,this},M.prototype.clear=function(){this.__data__={hash:new U,map:new($||_),string:new U}},M.prototype.delete=function(L){return j(this,L).delete(L)},M.prototype.get=function(L){return j(this,L).get(L)},M.prototype.has=function(L){return j(this,L).has(L)},M.prototype.set=function(L,G){return j(this,L).set(L,G),this},A.prototype.add=A.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},A.prototype.has=function(L){return this.__data__.has(L)};var w=B&&1/c(new B([,-0]))[1]==1/0?function(L){return new B(L)}:function(){};function j(L,G){var X,re,q=L.__data__;return((re=typeof(X=G))=="string"||re=="number"||re=="symbol"||re=="boolean"?X!=="__proto__":X===null)?q[typeof G=="string"?"string":"hash"]:q.map}function E(L,G){var X=(function(re,q){return re?.[q]})(L,G);return S(X)?X:void 0}function I(L){var G=typeof L;return!!L&&(G=="object"||G=="function")}f.exports=function(L){return L&&L.length?(function(G,X,re){var q=-1,ee=n,R=G.length,z=!0,W=[],se=W;if(R>=200){var he=w(G);if(he)return c(he);z=!1,ee=o,se=new A}else se=W;e:for(;++q<R;){var ne=G[q],me=ne;if(ne=ne!==0?ne:0,z&&me==me){for(var Se=se.length;Se--;)if(se[Se]===me)continue e;W.push(ne)}else ee(se,me,re)||(se!==W&&se.push(me),W.push(ne))}return W})(L):[]}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,f,m){var d=t("inherits"),s=t("hash-base"),a=t("safe-buffer").Buffer,i=new Array(16);function r(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(g,h){return g<<h|g>>>32-h}function l(g,h,y,b,C,T,D){return n(g+(h&y|~h&b)+C+T|0,D)+h|0}function o(g,h,y,b,C,T,D){return n(g+(h&b|y&~b)+C+T|0,D)+h|0}function c(g,h,y,b,C,T,D){return n(g+(h^y^b)+C+T|0,D)+h|0}function p(g,h,y,b,C,T,D){return n(g+(y^(h|~b))+C+T|0,D)+h|0}d(r,s),r.prototype._update=function(){for(var g=i,h=0;h<16;++h)g[h]=this._block.readInt32LE(4*h);var y=this._a,b=this._b,C=this._c,T=this._d;y=l(y,b,C,T,g[0],3614090360,7),T=l(T,y,b,C,g[1],3905402710,12),C=l(C,T,y,b,g[2],606105819,17),b=l(b,C,T,y,g[3],3250441966,22),y=l(y,b,C,T,g[4],4118548399,7),T=l(T,y,b,C,g[5],1200080426,12),C=l(C,T,y,b,g[6],2821735955,17),b=l(b,C,T,y,g[7],4249261313,22),y=l(y,b,C,T,g[8],1770035416,7),T=l(T,y,b,C,g[9],2336552879,12),C=l(C,T,y,b,g[10],4294925233,17),b=l(b,C,T,y,g[11],2304563134,22),y=l(y,b,C,T,g[12],1804603682,7),T=l(T,y,b,C,g[13],4254626195,12),C=l(C,T,y,b,g[14],2792965006,17),y=o(y,b=l(b,C,T,y,g[15],1236535329,22),C,T,g[1],4129170786,5),T=o(T,y,b,C,g[6],3225465664,9),C=o(C,T,y,b,g[11],643717713,14),b=o(b,C,T,y,g[0],3921069994,20),y=o(y,b,C,T,g[5],3593408605,5),T=o(T,y,b,C,g[10],38016083,9),C=o(C,T,y,b,g[15],3634488961,14),b=o(b,C,T,y,g[4],3889429448,20),y=o(y,b,C,T,g[9],568446438,5),T=o(T,y,b,C,g[14],3275163606,9),C=o(C,T,y,b,g[3],4107603335,14),b=o(b,C,T,y,g[8],1163531501,20),y=o(y,b,C,T,g[13],2850285829,5),T=o(T,y,b,C,g[2],4243563512,9),C=o(C,T,y,b,g[7],1735328473,14),y=c(y,b=o(b,C,T,y,g[12],2368359562,20),C,T,g[5],4294588738,4),T=c(T,y,b,C,g[8],2272392833,11),C=c(C,T,y,b,g[11],1839030562,16),b=c(b,C,T,y,g[14],4259657740,23),y=c(y,b,C,T,g[1],2763975236,4),T=c(T,y,b,C,g[4],1272893353,11),C=c(C,T,y,b,g[7],4139469664,16),b=c(b,C,T,y,g[10],3200236656,23),y=c(y,b,C,T,g[13],681279174,4),T=c(T,y,b,C,g[0],3936430074,11),C=c(C,T,y,b,g[3],3572445317,16),b=c(b,C,T,y,g[6],76029189,23),y=c(y,b,C,T,g[9],3654602809,4),T=c(T,y,b,C,g[12],3873151461,11),C=c(C,T,y,b,g[15],530742520,16),y=p(y,b=c(b,C,T,y,g[2],3299628645,23),C,T,g[0],4096336452,6),T=p(T,y,b,C,g[7],1126891415,10),C=p(C,T,y,b,g[14],2878612391,15),b=p(b,C,T,y,g[5],4237533241,21),y=p(y,b,C,T,g[12],1700485571,6),T=p(T,y,b,C,g[3],2399980690,10),C=p(C,T,y,b,g[10],4293915773,15),b=p(b,C,T,y,g[1],2240044497,21),y=p(y,b,C,T,g[8],1873313359,6),T=p(T,y,b,C,g[15],4264355552,10),C=p(C,T,y,b,g[6],2734768916,15),b=p(b,C,T,y,g[13],1309151649,21),y=p(y,b,C,T,g[4],4149444226,6),T=p(T,y,b,C,g[11],3174756917,10),C=p(C,T,y,b,g[2],718787259,15),b=p(b,C,T,y,g[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+b|0,this._c=this._c+C|0,this._d=this._d+T|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=a.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},f.exports=r},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,f,m){var d=t("bn.js"),s=t("brorand");function a(i){this.rand=i||new s.Rand}f.exports=a,a.create=function(i){return new a(i)},a.prototype._randbelow=function(i){var r=i.bitLength(),n=Math.ceil(r/8);do var l=new d(this.rand.generate(n));while(l.cmp(i)>=0);return l},a.prototype._randrange=function(i,r){var n=r.sub(i);return i.add(this._randbelow(n))},a.prototype.test=function(i,r,n){var l=i.bitLength(),o=d.mont(i),c=new d(1).toRed(o);r||(r=Math.max(1,l/48|0));for(var p=i.subn(1),g=0;!p.testn(g);g++);for(var h=i.shrn(g),y=p.toRed(o);r>0;r--){var b=this._randrange(new d(2),p);n&&n(b);var C=b.toRed(o).redPow(h);if(C.cmp(c)!==0&&C.cmp(y)!==0){for(var T=1;T<g;T++){if((C=C.redSqr()).cmp(c)===0)return!1;if(C.cmp(y)===0)break}if(T===g)return!1}}return!0},a.prototype.getDivisor=function(i,r){var n=i.bitLength(),l=d.mont(i),o=new d(1).toRed(l);r||(r=Math.max(1,n/48|0));for(var c=i.subn(1),p=0;!c.testn(p);p++);for(var g=i.shrn(p),h=c.toRed(l);r>0;r--){var y=this._randrange(new d(2),c),b=i.gcd(y);if(b.cmpn(1)!==0)return b;var C=y.toRed(l).redPow(g);if(C.cmp(o)!==0&&C.cmp(h)!==0){for(var T=1;T<p;T++){if((C=C.redSqr()).cmp(o)===0)return C.fromRed().subn(1).gcd(i);if(C.cmp(h)===0)break}if(T===p)return(C=C.redSqr()).fromRed().subn(1).gcd(i)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,f,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],453:[function(t,f,m){function d(s,a){if(!s)throw new Error(a||"Assertion failed")}f.exports=d,d.equal=function(s,a,i){if(s!=a)throw new Error(i||"Assertion failed: "+s+" != "+a)}},{}],454:[function(t,f,m){var d=m;function s(i){return i.length===1?"0"+i:i}function a(i){for(var r="",n=0;n<i.length;n++)r+=s(i[n].toString(16));return r}d.toArray=function(i,r){if(Array.isArray(i))return i.slice();if(!i)return[];var n=[];if(typeof i!="string"){for(var l=0;l<i.length;l++)n[l]=0|i[l];return n}if(r==="hex")for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),l=0;l<i.length;l+=2)n.push(parseInt(i[l]+i[l+1],16));else for(l=0;l<i.length;l++){var o=i.charCodeAt(l),c=o>>8,p=255&o;c?n.push(c,p):n.push(p)}return n},d.zero2=s,d.toHex=a,d.encode=function(i,r){return r==="hex"?a(i):i}},{}],455:[function(t,f,m){f.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,f,m){var d=t("asn1.js");m.certificate=t("./certificate");var s=d.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));m.RSAPrivateKey=s;var a=d.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));m.RSAPublicKey=a;var i=d.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())}));m.PublicKey=i;var r=d.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),n=d.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())}));m.PrivateKey=n;var l=d.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));m.EncryptedPrivateKey=l;var o=d.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));m.DSAPrivateKey=o,m.DSAparam=d.define("DSAparam",(function(){this.int()}));var c=d.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())}));m.ECPrivateKey=c;var p=d.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));m.signature=d.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,f,m){var d=t("asn1.js"),s=d.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=d.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),i=d.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),r=d.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())})),n=d.define("RelativeDistinguishedName",(function(){this.setof(a)})),l=d.define("RDNSequence",(function(){this.seqof(n)})),o=d.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),c=d.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),p=d.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),g=d.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(i),this.key("issuer").use(o),this.key("validity").use(c),this.key("subject").use(o),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())})),h=d.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(i),this.key("signatureValue").bitstr())}));f.exports=h},{"asn1.js":170}],458:[function(t,f,m){var d=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,i=t("evp_bytestokey"),r=t("browserify-aes"),n=t("safe-buffer").Buffer;f.exports=function(l,o){var c,p=l.toString(),g=p.match(d);if(g){var h="aes"+g[1],y=n.from(g[2],"hex"),b=n.from(g[3].replace(/[\r\n]/g,""),"base64"),C=i(o,y.slice(0,8),parseInt(g[1],10)).key,T=[],D=r.createDecipheriv(h,C,y);T.push(D.update(b)),T.push(D.final()),c=n.concat(T)}else{var F=p.match(a);c=n.from(F[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(s)[1],data:c}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,f,m){var d=t("./asn1"),s=t("./aesid.json"),a=t("./fixProc"),i=t("browserify-aes"),r=t("pbkdf2"),n=t("safe-buffer").Buffer;function l(o){var c;typeof o!="object"||n.isBuffer(o)||(c=o.passphrase,o=o.key),typeof o=="string"&&(o=n.from(o));var p,g,h=a(o,c),y=h.tag,b=h.data;switch(y){case"CERTIFICATE":g=d.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=d.PublicKey.decode(b,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=d.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":b=(function(C,T){var D=C.algorithm.decrypt.kde.kdeparams.salt,F=parseInt(C.algorithm.decrypt.kde.kdeparams.iters.toString(),10),H=s[C.algorithm.decrypt.cipher.algo.join(".")],O=C.algorithm.decrypt.cipher.iv,$=C.subjectPrivateKey,B=parseInt(H.split("-")[1],10)/8,K=r.pbkdf2Sync(T,D,F,B,"sha1"),U=i.createDecipheriv(H,K,O),_=[];return _.push(U.update($)),_.push(U.final()),n.concat(_)})(b=d.EncryptedPrivateKey.decode(b,"der"),c);case"PRIVATE KEY":switch(p=(g=d.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:d.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=d.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return d.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return d.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:d.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=d.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+y)}}f.exports=l,l.signature=d.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,f,m){m.pbkdf2=t("./lib/async"),m.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,f,m){(function(d){(function(){var s,a,i=t("safe-buffer").Buffer,r=t("./precondition"),n=t("./default-encoding"),l=t("./sync"),o=t("./to-buffer"),c=d.crypto&&d.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function h(){return a||(a=d.process&&d.process.nextTick?d.process.nextTick:d.queueMicrotask?d.queueMicrotask:d.setImmediate?d.setImmediate:d.setTimeout)}function y(b,C,T,D,F){return c.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then((function(H){return c.deriveBits({name:"PBKDF2",salt:C,iterations:T,hash:{name:F}},H,D<<3)})).then((function(H){return i.from(H)}))}f.exports=function(b,C,T,D,F,H){typeof F=="function"&&(H=F,F=void 0);var O=p[(F=F||"sha1").toLowerCase()];if(O&&typeof d.Promise=="function"){if(r(T,D),b=o(b,n,"Password"),C=o(C,n,"Salt"),typeof H!="function")throw new Error("No callback provided to pbkdf2");(function($,B){$.then((function(K){h()((function(){B(null,K)}))}),(function(K){h()((function(){B(K)}))}))})((function($){if(d.process&&!d.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(g[$]!==void 0)return g[$];var B=y(s=s||i.alloc(8),s,10,128,$).then((function(){return!0})).catch((function(){return!1}));return g[$]=B,B})(O).then((function($){return $?y(b,C,T,D,O):l(b,C,T,D,F)})),H)}else h()((function(){var $;try{$=l(b,C,T,D,F)}catch(B){return H(B)}H(null,$)}))}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,f,m){(function(d,s){(function(){var a;s.process&&s.process.browser?a="utf-8":s.process&&s.process.version?a=parseInt(d.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",f.exports=a}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,f,m){var d=Math.pow(2,30)-1;f.exports=function(s,a){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>d||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(t,f,m){var d=t("create-hash/md5"),s=t("ripemd160"),a=t("sha.js"),i=t("safe-buffer").Buffer,r=t("./precondition"),n=t("./default-encoding"),l=t("./to-buffer"),o=i.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,h,y){var b=(function(O){function $(B){return a(O).update(B).digest()}return O==="rmd160"||O==="ripemd160"?function(B){return new s().update(B).digest()}:O==="md5"?d:$})(g),C=g==="sha512"||g==="sha384"?128:64;h.length>C?h=b(h):h.length<C&&(h=i.concat([h,o],C));for(var T=i.allocUnsafe(C+c[g]),D=i.allocUnsafe(C+c[g]),F=0;F<C;F++)T[F]=54^h[F],D[F]=92^h[F];var H=i.allocUnsafe(C+y+4);T.copy(H,0,0,C),this.ipad1=H,this.ipad2=T,this.opad=D,this.alg=g,this.blocksize=C,this.hash=b,this.size=c[g]}p.prototype.run=function(g,h){return g.copy(h,this.blocksize),this.hash(h).copy(this.opad,this.blocksize),this.hash(this.opad)},f.exports=function(g,h,y,b,C){r(y,b);var T=new p(C=C||"sha1",g=l(g,n,"Password"),(h=l(h,n,"Salt")).length),D=i.allocUnsafe(b),F=i.allocUnsafe(h.length+4);h.copy(F,0,0,h.length);for(var H=0,O=c[C],$=Math.ceil(b/O),B=1;B<=$;B++){F.writeUInt32BE(B,h.length);for(var K=T.run(F,T.ipad1),U=K,_=1;_<y;_++){U=T.run(U,T.ipad2);for(var M=0;M<O;M++)K[M]^=U[M]}K.copy(D,H),H+=O}return D}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,f,m){var d=t("safe-buffer").Buffer;f.exports=function(s,a,i){if(d.isBuffer(s))return s;if(typeof s=="string")return d.from(s,a);if(ArrayBuffer.isView(s))return d.from(s.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,f,m){(function(d){(function(){d===void 0||!d.version||d.version.indexOf("v0.")===0||d.version.indexOf("v1.")===0&&d.version.indexOf("v1.8.")!==0?f.exports={nextTick:function(s,a,i,r){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var n,l,o=arguments.length;switch(o){case 0:case 1:return d.nextTick(s);case 2:return d.nextTick((function(){s.call(null,a)}));case 3:return d.nextTick((function(){s.call(null,a,i)}));case 4:return d.nextTick((function(){s.call(null,a,i,r)}));default:for(n=new Array(o-1),l=0;l<n.length;)n[l++]=arguments[l];return d.nextTick((function(){s.apply(null,n)}))}}}:f.exports=d}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,f,m){var d,s,a=f.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(C){if(d===setTimeout)return setTimeout(C,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(C,0);try{return d(C,0)}catch{try{return d.call(null,C,0)}catch{return d.call(this,C,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:i}catch{d=i}try{s=typeof clearTimeout=="function"?clearTimeout:r}catch{s=r}})();var l,o=[],c=!1,p=-1;function g(){c&&l&&(c=!1,l.length?o=l.concat(o):p=-1,o.length&&h())}function h(){if(!c){var C=n(g);c=!0;for(var T=o.length;T;){for(l=o,o=[];++p<T;)l&&l[p].run();p=-1,T=o.length}l=null,c=!1,(function(D){if(s===clearTimeout)return clearTimeout(D);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(D);try{s(D)}catch{try{return s.call(null,D)}catch{return s.call(this,D)}}})(C)}}function y(C,T){this.fun=C,this.array=T}function b(){}a.nextTick=function(C){var T=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)T[D-1]=arguments[D];o.push(new y(C,T)),o.length!==1||c||n(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(C){return[]},a.binding=function(C){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(C){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(t,f,m){m.publicEncrypt=t("./publicEncrypt"),m.privateDecrypt=t("./privateDecrypt"),m.privateEncrypt=function(d,s){return m.publicEncrypt(d,s,!0)},m.publicDecrypt=function(d,s){return m.privateDecrypt(d,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,f,m){var d=t("create-hash"),s=t("safe-buffer").Buffer;function a(i){var r=s.allocUnsafe(4);return r.writeUInt32BE(i,0),r}f.exports=function(i,r){for(var n,l=s.alloc(0),o=0;l.length<r;)n=a(o++),l=s.concat([l,d("sha1").update(i).update(n).digest()]);return l.slice(0,r)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,f,m){arguments[4][184][0].apply(m,arguments)},{buffer:188,dup:184}],471:[function(t,f,m){var d=t("parse-asn1"),s=t("./mgf"),a=t("./xor"),i=t("bn.js"),r=t("browserify-rsa"),n=t("create-hash"),l=t("./withPublic"),o=t("safe-buffer").Buffer;f.exports=function(c,p,g){var h;h=c.padding?c.padding:g?1:4;var y,b=d(c),C=b.modulus.byteLength();if(p.length>C||new i(p).cmp(b.modulus)>=0)throw new Error("decryption error");y=g?l(new i(p),b):r(p,b);var T=o.alloc(C-y.length);if(y=o.concat([T,y],C),h===4)return(function(D,F){var H=D.modulus.byteLength(),O=n("sha1").update(o.alloc(0)).digest(),$=O.length;if(F[0]!==0)throw new Error("decryption error");var B=F.slice(1,$+1),K=F.slice($+1),U=a(B,s(K,$)),_=a(K,s(U,H-$-1));if((function(A,N){A=o.from(A),N=o.from(N);var S=0,w=A.length;A.length!==N.length&&(S++,w=Math.min(A.length,N.length));for(var j=-1;++j<w;)S+=A[j]^N[j];return S})(O,_.slice(0,$)))throw new Error("decryption error");for(var M=$;_[M]===0;)M++;if(_[M++]!==1)throw new Error("decryption error");return _.slice(M)})(b,y);if(h===1)return(function(D,F,H){for(var O=F.slice(0,2),$=2,B=0;F[$++]!==0;)if($>=F.length){B++;break}var K=F.slice(2,$-1);if((O.toString("hex")!=="0002"&&!H||O.toString("hex")!=="0001"&&H)&&B++,K.length<8&&B++,B)throw new Error("decryption error");return F.slice($)})(0,y,g);if(h===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,f,m){var d=t("parse-asn1"),s=t("randombytes"),a=t("create-hash"),i=t("./mgf"),r=t("./xor"),n=t("bn.js"),l=t("./withPublic"),o=t("browserify-rsa"),c=t("safe-buffer").Buffer;f.exports=function(p,g,h){var y;y=p.padding?p.padding:h?1:4;var b,C=d(p);if(y===4)b=(function(T,D){var F=T.modulus.byteLength(),H=D.length,O=a("sha1").update(c.alloc(0)).digest(),$=O.length,B=2*$;if(H>F-B-2)throw new Error("message too long");var K=c.alloc(F-H-B-2),U=F-$-1,_=s($),M=r(c.concat([O,K,c.alloc(1,1),D],U),i(_,U)),A=r(_,i(M,$));return new n(c.concat([c.alloc(1),A,M],F))})(C,g);else if(y===1)b=(function(T,D,F){var H,O=D.length,$=T.modulus.byteLength();if(O>$-11)throw new Error("message too long");return H=F?c.alloc($-O-3,255):(function(B){for(var K,U=c.allocUnsafe(B),_=0,M=s(2*B),A=0;_<B;)A===M.length&&(M=s(2*B),A=0),(K=M[A++])&&(U[_++]=K);return U})($-O-3),new n(c.concat([c.from([0,F?1:2]),H,c.alloc(1),D],$))})(C,g,h);else{if(y!==3)throw new Error("unknown padding");if((b=new n(g)).cmp(C.modulus)>=0)throw new Error("data too long for modulus")}return h?o(b,C):l(b,C)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,f,m){var d=t("bn.js"),s=t("safe-buffer").Buffer;f.exports=function(a,i){return s.from(a.toRed(d.mont(i.modulus)).redPow(new d(i.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,f,m){f.exports=function(d,s){for(var a=d.length,i=-1;++i<a;)d[i]^=s[i];return d}},{}],475:[function(t,f,m){(function(d,s){(function(){var a=t("safe-buffer").Buffer,i=s.crypto||s.msCrypto;i&&i.getRandomValues?f.exports=function(r,n){if(r>4294967295)throw new RangeError("requested too many random bytes");var l=a.allocUnsafe(r);if(r>0)if(r>65536)for(var o=0;o<r;o+=65536)i.getRandomValues(l.slice(o,o+65536));else i.getRandomValues(l);return typeof n=="function"?d.nextTick((function(){n(null,l)})):l}:f.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,f,m){(function(d,s){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var i=t("safe-buffer"),r=t("randombytes"),n=i.Buffer,l=i.kMaxLength,o=s.crypto||s.msCrypto,c=Math.pow(2,32)-1;function p(y,b){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>c||y<0)throw new TypeError("offset must be a uint32");if(y>l||y>b)throw new RangeError("offset out of range")}function g(y,b,C){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>c||y<0)throw new TypeError("size must be a uint32");if(y+b>C||y>l)throw new RangeError("buffer too small")}function h(y,b,C,T){if(d.browser){var D=y.buffer,F=new Uint8Array(D,b,C);return o.getRandomValues(F),T?void d.nextTick((function(){T(null,y)})):y}if(!T)return r(C).copy(y,b),y;r(C,(function(H,O){if(H)return T(H);O.copy(y,b),T(null,y)}))}o&&o.getRandomValues||!d.browser?(m.randomFill=function(y,b,C,T){if(!(n.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")T=b,b=0,C=y.length;else if(typeof C=="function")T=C,C=y.length-b;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return p(b,y.length),g(C,b,y.length),h(y,b,C,T)},m.randomFillSync=function(y,b,C){if(b===void 0&&(b=0),!(n.isBuffer(y)||y instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(b,y.length),C===void 0&&(C=y.length-b),g(C,b,y.length),h(y,b,C)}):(m.randomFill=a,m.randomFillSync=a)}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,f,m){var d={};function s(i,r,n){n||(n=Error);var l=(function(o){var c,p;function g(h,y,b){return o.call(this,(function(C,T,D){return typeof r=="string"?r:r(C,T,D)})(h,y,b))||this}return p=o,(c=g).prototype=Object.create(p.prototype),c.prototype.constructor=c,c.__proto__=p,g})(n);l.prototype.name=n.name,l.prototype.code=i,d[i]=l}function a(i,r){if(Array.isArray(i)){var n=i.length;return i=i.map((function(l){return String(l)})),n>2?"one of ".concat(r," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:n===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}s("ERR_INVALID_OPT_VALUE",(function(i,r){return'The value "'+r+'" is invalid for option "'+i+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(i,r,n){var l,o,c;if(typeof r=="string"&&(o="not ",r.substr(0,o.length)===o)?(l="must not be",r=r.replace(/^not /,"")):l="must be",(function(g,h,y){return(y===void 0||y>g.length)&&(y=g.length),g.substring(y-h.length,y)===h})(i," argument"))c="The ".concat(i," ").concat(l," ").concat(a(r,"type"));else{var p=(function(g,h,y){return typeof y!="number"&&(y=0),!(y+h.length>g.length)&&g.indexOf(h,y)!==-1})(i,".")?"property":"argument";c='The "'.concat(i,'" ').concat(p," ").concat(l," ").concat(a(r,"type"))}return c+=". Received type ".concat(typeof n)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(i){return"The "+i+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(i){return"Cannot call "+i+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(i){return"Unknown encoding: "+i}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),f.exports.codes=d},{}],478:[function(t,f,m){(function(d){(function(){var s=Object.keys||function(g){var h=[];for(var y in g)h.push(y);return h};f.exports=o;var a=t("./_stream_readable"),i=t("./_stream_writable");t("inherits")(o,a);for(var r=s(i.prototype),n=0;n<r.length;n++){var l=r[n];o.prototype[l]||(o.prototype[l]=i.prototype[l])}function o(g){if(!(this instanceof o))return new o(g);a.call(this,g),i.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||d.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,f,m){f.exports=s;var d=t("./_stream_transform");function s(a){if(!(this instanceof s))return new s(a);d.call(this,a)}t("inherits")(s,d),s.prototype._transform=function(a,i,r){r(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(t,f,m){(function(d,s){(function(){var a;f.exports=U,U.ReadableState=K,t("events").EventEmitter;var i=function(R,z){return R.listeners(z).length},r=t("./internal/streams/stream"),n=t("buffer").Buffer,l=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o,c=t("util");o=c&&c.debuglog?c.debuglog("stream"):function(){};var p,g,h,y=t("./internal/streams/buffer_list"),b=t("./internal/streams/destroy"),C=t("./internal/streams/state").getHighWaterMark,T=t("../errors").codes,D=T.ERR_INVALID_ARG_TYPE,F=T.ERR_STREAM_PUSH_AFTER_EOF,H=T.ERR_METHOD_NOT_IMPLEMENTED,O=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(U,r);var $=b.errorOrDestroy,B=["error","close","destroy","pause","resume"];function K(R,z,W){a=a||t("./_stream_duplex"),R=R||{},typeof W!="boolean"&&(W=z instanceof a),this.objectMode=!!R.objectMode,W&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=C(this,R,"readableHighWaterMark",W),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(R.encoding),this.encoding=R.encoding)}function U(R){if(a=a||t("./_stream_duplex"),!(this instanceof U))return new U(R);var z=this instanceof a;this._readableState=new K(R,this,z),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),r.call(this)}function _(R,z,W,se,he){o("readableAddChunk",z);var ne,me=R._readableState;if(z===null)me.reading=!1,(function(Se,Ee){if(o("onEofChunk"),!Ee.ended){if(Ee.decoder){var le=Ee.decoder.end();le&&le.length&&(Ee.buffer.push(le),Ee.length+=Ee.objectMode?1:le.length)}Ee.ended=!0,Ee.sync?N(Se):(Ee.needReadable=!1,Ee.emittedReadable||(Ee.emittedReadable=!0,S(Se)))}})(R,me);else if(he||(ne=(function(Se,Ee){var le;ie=Ee,n.isBuffer(ie)||ie instanceof l||typeof Ee=="string"||Ee===void 0||Se.objectMode||(le=new D("chunk",["string","Buffer","Uint8Array"],Ee));var ie;return le})(me,z)),ne)$(R,ne);else if(me.objectMode||z&&z.length>0)if(typeof z=="string"||me.objectMode||Object.getPrototypeOf(z)===n.prototype||(z=(function(Se){return n.from(Se)})(z)),se)me.endEmitted?$(R,new O):M(R,me,z,!0);else if(me.ended)$(R,new F);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!W?(z=me.decoder.write(z),me.objectMode||z.length!==0?M(R,me,z,!1):w(R,me)):M(R,me,z,!1)}else se||(me.reading=!1,w(R,me));return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function M(R,z,W,se){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,R.emit("data",W)):(z.length+=z.objectMode?1:W.length,se?z.buffer.unshift(W):z.buffer.push(W),z.needReadable&&N(R)),w(R,z)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),U.prototype.destroy=b.destroy,U.prototype._undestroy=b.undestroy,U.prototype._destroy=function(R,z){z(R)},U.prototype.push=function(R,z){var W,se=this._readableState;return se.objectMode?W=!0:typeof R=="string"&&((z=z||se.defaultEncoding)!==se.encoding&&(R=n.from(R,z),z=""),W=!0),_(this,R,z,!1,W)},U.prototype.unshift=function(R){return _(this,R,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(R){p||(p=t("string_decoder/").StringDecoder);var z=new p(R);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,se="";W!==null;)se+=z.write(W.data),W=W.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};function A(R,z){return R<=0||z.length===0&&z.ended?0:z.objectMode?1:R!=R?z.flowing&&z.length?z.buffer.head.data.length:z.length:(R>z.highWaterMark&&(z.highWaterMark=(function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W})(R)),R<=z.length?R:z.ended?z.length:(z.needReadable=!0,0))}function N(R){var z=R._readableState;o("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(o("emitReadable",z.flowing),z.emittedReadable=!0,d.nextTick(S,R))}function S(R){var z=R._readableState;o("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(R.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,G(R)}function w(R,z){z.readingMore||(z.readingMore=!0,d.nextTick(j,R,z))}function j(R,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var W=z.length;if(o("maybeReadMore read 0"),R.read(0),W===z.length)break}z.readingMore=!1}function E(R){var z=R._readableState;z.readableListening=R.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:R.listenerCount("data")>0&&R.resume()}function I(R){o("readable nexttick read 0"),R.read(0)}function L(R,z){o("resume",z.reading),z.reading||R.read(0),z.resumeScheduled=!1,R.emit("resume"),G(R),z.flowing&&!z.reading&&R.read(0)}function G(R){var z=R._readableState;for(o("flow",z.flowing);z.flowing&&R.read()!==null;);}function X(R,z){return z.length===0?null:(z.objectMode?W=z.buffer.shift():!R||R>=z.length?(W=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):W=z.buffer.consume(R,z.decoder),W);var W}function re(R){var z=R._readableState;o("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,d.nextTick(q,z,R))}function q(R,z){if(o("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,z.readable=!1,z.emit("end"),R.autoDestroy)){var W=z._writableState;(!W||W.autoDestroy&&W.finished)&&z.destroy()}}function ee(R,z){for(var W=0,se=R.length;W<se;W++)if(R[W]===z)return W;return-1}U.prototype.read=function(R){o("read",R),R=parseInt(R,10);var z=this._readableState,W=R;if(R!==0&&(z.emittedReadable=!1),R===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return o("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?re(this):N(this),null;if((R=A(R,z))===0&&z.ended)return z.length===0&&re(this),null;var se,he=z.needReadable;return o("need readable",he),(z.length===0||z.length-R<z.highWaterMark)&&o("length less than watermark",he=!0),z.ended||z.reading?o("reading or ended",he=!1):he&&(o("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(R=A(W,z))),(se=R>0?X(R,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,R=0):(z.length-=R,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),W!==R&&z.ended&&re(this)),se!==null&&this.emit("data",se),se},U.prototype._read=function(R){$(this,new H("_read()"))},U.prototype.pipe=function(R,z){var W=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=R;break;case 1:se.pipes=[se.pipes,R];break;default:se.pipes.push(R)}se.pipesCount+=1,o("pipe count=%d opts=%j",se.pipesCount,z);var he=(!z||z.end!==!1)&&R!==d.stdout&&R!==d.stderr?me:ge;function ne(pe,Ae){o("onunpipe"),pe===W&&Ae&&Ae.hasUnpiped===!1&&(Ae.hasUnpiped=!0,o("cleanup"),R.removeListener("close",ce),R.removeListener("finish",ae),R.removeListener("drain",Se),R.removeListener("error",ie),R.removeListener("unpipe",ne),W.removeListener("end",me),W.removeListener("end",ge),W.removeListener("data",le),Ee=!0,!se.awaitDrain||R._writableState&&!R._writableState.needDrain||Se())}function me(){o("onend"),R.end()}se.endEmitted?d.nextTick(he):W.once("end",he),R.on("unpipe",ne);var Se=(function(pe){return function(){var Ae=pe._readableState;o("pipeOnDrain",Ae.awaitDrain),Ae.awaitDrain&&Ae.awaitDrain--,Ae.awaitDrain===0&&i(pe,"data")&&(Ae.flowing=!0,G(pe))}})(W);R.on("drain",Se);var Ee=!1;function le(pe){o("ondata");var Ae=R.write(pe);o("dest.write",Ae),Ae===!1&&((se.pipesCount===1&&se.pipes===R||se.pipesCount>1&&ee(se.pipes,R)!==-1)&&!Ee&&(o("false write response, pause",se.awaitDrain),se.awaitDrain++),W.pause())}function ie(pe){o("onerror",pe),ge(),R.removeListener("error",ie),i(R,"error")===0&&$(R,pe)}function ce(){R.removeListener("finish",ae),ge()}function ae(){o("onfinish"),R.removeListener("close",ce),ge()}function ge(){o("unpipe"),W.unpipe(R)}return W.on("data",le),(function(pe,Ae,fe){if(typeof pe.prependListener=="function")return pe.prependListener(Ae,fe);pe._events&&pe._events[Ae]?Array.isArray(pe._events[Ae])?pe._events[Ae].unshift(fe):pe._events[Ae]=[fe,pe._events[Ae]]:pe.on(Ae,fe)})(R,"error",ie),R.once("close",ce),R.once("finish",ae),R.emit("pipe",W),se.flowing||(o("pipe resume"),W.resume()),R},U.prototype.unpipe=function(R){var z=this._readableState,W={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return R&&R!==z.pipes||(R||(R=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,R&&R.emit("unpipe",this,W)),this;if(!R){var se=z.pipes,he=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var ne=0;ne<he;ne++)se[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var me=ee(z.pipes,R);return me===-1||(z.pipes.splice(me,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),R.emit("unpipe",this,W)),this},U.prototype.on=function(R,z){var W=r.prototype.on.call(this,R,z),se=this._readableState;return R==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):R==="readable"&&(se.endEmitted||se.readableListening||(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,o("on readable",se.length,se.reading),se.length?N(this):se.reading||d.nextTick(I,this))),W},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(R,z){var W=r.prototype.removeListener.call(this,R,z);return R==="readable"&&d.nextTick(E,this),W},U.prototype.removeAllListeners=function(R){var z=r.prototype.removeAllListeners.apply(this,arguments);return R!=="readable"&&R!==void 0||d.nextTick(E,this),z},U.prototype.resume=function(){var R=this._readableState;return R.flowing||(o("resume"),R.flowing=!R.readableListening,(function(z,W){W.resumeScheduled||(W.resumeScheduled=!0,d.nextTick(L,z,W))})(this,R)),R.paused=!1,this},U.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(R){var z=this,W=this._readableState,se=!1;for(var he in R.on("end",(function(){if(o("wrapped end"),W.decoder&&!W.ended){var me=W.decoder.end();me&&me.length&&z.push(me)}z.push(null)})),R.on("data",(function(me){o("wrapped data"),W.decoder&&(me=W.decoder.write(me)),W.objectMode&&me==null||(W.objectMode||me&&me.length)&&(z.push(me)||(se=!0,R.pause()))})),R)this[he]===void 0&&typeof R[he]=="function"&&(this[he]=(function(me){return function(){return R[me].apply(R,arguments)}})(he));for(var ne=0;ne<B.length;ne++)R.on(B[ne],this.emit.bind(this,B[ne]));return this._read=function(me){o("wrapped _read",me),se&&(se=!1,R.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),U._fromList=X,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(R,z){return h===void 0&&(h=t("./internal/streams/from")),h(U,R,z)})}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,f,m){f.exports=o;var d=t("../errors").codes,s=d.ERR_METHOD_NOT_IMPLEMENTED,a=d.ERR_MULTIPLE_CALLBACK,i=d.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=d.ERR_TRANSFORM_WITH_LENGTH_0,n=t("./_stream_duplex");function l(g,h){var y=this._transformState;y.transforming=!1;var b=y.writecb;if(b===null)return this.emit("error",new a);y.writechunk=null,y.writecb=null,h!=null&&this.push(h),b(g);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function o(g){if(!(this instanceof o))return new o(g);n.call(this,g),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",c)}function c(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush((function(h,y){p(g,h,y)}))}function p(g,h,y){if(h)return g.emit("error",h);if(y!=null&&g.push(y),g._writableState.length)throw new r;if(g._transformState.transforming)throw new i;return g.push(null)}t("inherits")(o,n),o.prototype.push=function(g,h){return this._transformState.needTransform=!1,n.prototype.push.call(this,g,h)},o.prototype._transform=function(g,h,y){y(new s("_transform()"))},o.prototype._write=function(g,h,y){var b=this._transformState;if(b.writecb=y,b.writechunk=g,b.writeencoding=h,!b.transforming){var C=this._readableState;(b.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},o.prototype._read=function(g){var h=this._transformState;h.writechunk===null||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},o.prototype._destroy=function(g,h){n.prototype._destroy.call(this,g,(function(y){h(y)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,f,m){(function(d,s){(function(){function a(j){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(I,L,G){var X=I.entry;for(I.entry=null;X;){var re=X.callback;L.pendingcb--,re(G),X=X.next}L.corkedRequestsFree.next=I})(E,j)}}var i;f.exports=U,U.WritableState=K;var r={deprecate:t("util-deprecate")},n=t("./internal/streams/stream"),l=t("buffer").Buffer,o=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},c,p=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,h=t("../errors").codes,y=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,C=h.ERR_MULTIPLE_CALLBACK,T=h.ERR_STREAM_CANNOT_PIPE,D=h.ERR_STREAM_DESTROYED,F=h.ERR_STREAM_NULL_VALUES,H=h.ERR_STREAM_WRITE_AFTER_END,O=h.ERR_UNKNOWN_ENCODING,$=p.errorOrDestroy;function B(){}function K(j,E,I){i=i||t("./_stream_duplex"),j=j||{},typeof I!="boolean"&&(I=E instanceof i),this.objectMode=!!j.objectMode,I&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=g(this,j,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=j.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(X,re){var q=X._writableState,ee=q.sync,R=q.writecb;if(typeof R!="function")throw new C;if((function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0})(q),re)(function(W,se,he,ne,me){--se.pendingcb,he?(d.nextTick(me,ne),d.nextTick(w,W,se),W._writableState.errorEmitted=!0,$(W,ne)):(me(ne),W._writableState.errorEmitted=!0,$(W,ne),w(W,se))})(X,q,ee,re,R);else{var z=N(q)||X.destroyed;z||q.corked||q.bufferProcessing||!q.bufferedRequest||A(X,q),ee?d.nextTick(M,X,q,z,R):M(X,q,z,R)}})(E,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function U(j){var E=this instanceof(i=i||t("./_stream_duplex"));if(!E&&!c.call(U,this))return new U(j);this._writableState=new K(j,this,E),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),n.call(this)}function _(j,E,I,L,G,X,re){E.writelen=L,E.writecb=re,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new D("write")):I?j._writev(G,E.onwrite):j._write(G,X,E.onwrite),E.sync=!1}function M(j,E,I,L){I||(function(G,X){X.length===0&&X.needDrain&&(X.needDrain=!1,G.emit("drain"))})(j,E),E.pendingcb--,L(),w(j,E)}function A(j,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(j._writev&&I&&I.next){var L=E.bufferedRequestCount,G=new Array(L),X=E.corkedRequestsFree;X.entry=I;for(var re=0,q=!0;I;)G[re]=I,I.isBuf||(q=!1),I=I.next,re+=1;G.allBuffers=q,_(j,E,!0,E.length,G,"",X.finish),E.pendingcb++,E.lastBufferedRequest=null,X.next?(E.corkedRequestsFree=X.next,X.next=null):E.corkedRequestsFree=new a(E),E.bufferedRequestCount=0}else{for(;I;){var ee=I.chunk,R=I.encoding,z=I.callback;if(_(j,E,!1,E.objectMode?1:ee.length,ee,R,z),I=I.next,E.bufferedRequestCount--,E.writing)break}I===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function N(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function S(j,E){j._final((function(I){E.pendingcb--,I&&$(j,I),E.prefinished=!0,j.emit("prefinish"),w(j,E)}))}function w(j,E){var I=N(E);if(I&&((function(G,X){X.prefinished||X.finalCalled||(typeof G._final!="function"||X.destroyed?(X.prefinished=!0,G.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,d.nextTick(S,G,X)))})(j,E),E.pendingcb===0&&(E.finished=!0,j.emit("finish"),E.autoDestroy))){var L=j._readableState;(!L||L.autoDestroy&&L.endEmitted)&&j.destroy()}return I}t("inherits")(U,n),K.prototype.getBuffer=function(){for(var j=this.bufferedRequest,E=[];j;)E.push(j),j=j.next;return E},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(j){return!!c.call(this,j)||this===U&&j&&j._writableState instanceof K}})):c=function(j){return j instanceof this},U.prototype.pipe=function(){$(this,new T)},U.prototype.write=function(j,E,I){var L,G=this._writableState,X=!1,re=!G.objectMode&&(L=j,l.isBuffer(L)||L instanceof o);return re&&!l.isBuffer(j)&&(j=(function(q){return l.from(q)})(j)),typeof E=="function"&&(I=E,E=null),re?E="buffer":E||(E=G.defaultEncoding),typeof I!="function"&&(I=B),G.ending?(function(q,ee){var R=new H;$(q,R),d.nextTick(ee,R)})(this,I):(re||(function(q,ee,R,z){var W;return R===null?W=new F:typeof R=="string"||ee.objectMode||(W=new y("chunk",["string","Buffer"],R)),!W||($(q,W),d.nextTick(z,W),!1)})(this,G,j,I))&&(G.pendingcb++,X=(function(q,ee,R,z,W,se){if(!R){var he=(function(Ee,le,ie){return Ee.objectMode||Ee.decodeStrings===!1||typeof le!="string"||(le=l.from(le,ie)),le})(ee,z,W);z!==he&&(R=!0,W="buffer",z=he)}var ne=ee.objectMode?1:z.length;ee.length+=ne;var me=ee.length<ee.highWaterMark;if(me||(ee.needDrain=!0),ee.writing||ee.corked){var Se=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:z,encoding:W,isBuf:R,callback:se,next:null},Se?Se.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else _(q,ee,!1,ne,z,W,se);return me})(this,G,re,j,E,I)),X},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,j.writing||j.corked||j.bufferProcessing||!j.bufferedRequest||A(this,j))},U.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new O(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(j,E,I){I(new b("_write()"))},U.prototype._writev=null,U.prototype.end=function(j,E,I){var L=this._writableState;return typeof j=="function"?(I=j,j=null,E=null):typeof E=="function"&&(I=E,E=null),j!=null&&this.write(j,E),L.corked&&(L.corked=1,this.uncork()),L.ending||(function(G,X,re){X.ending=!0,w(G,X),re&&(X.finished?d.nextTick(re):G.once("finish",re)),X.ended=!0,G.writable=!1})(this,L,I),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),U.prototype.destroy=p.destroy,U.prototype._undestroy=p.undestroy,U.prototype._destroy=function(j,E){E(j)}}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,f,m){(function(d){(function(){var s;function a(D,F,H){return(F=(function(O){var $=(function(B,K){if(typeof B!="object"||B===null)return B;var U=B[Symbol.toPrimitive];if(U!==void 0){var _=U.call(B,K);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(B)})(O,"string");return typeof $=="symbol"?$:String($)})(F))in D?Object.defineProperty(D,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):D[F]=H,D}var i=t("./end-of-stream"),r=Symbol("lastResolve"),n=Symbol("lastReject"),l=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function h(D,F){return{value:D,done:F}}function y(D){var F=D[r];if(F!==null){var H=D[g].read();H!==null&&(D[c]=null,D[r]=null,D[n]=null,F(h(H,!1)))}}function b(D){d.nextTick(y,D)}var C=Object.getPrototypeOf((function(){})),T=Object.setPrototypeOf((a(s={get stream(){return this[g]},next:function(){var D=this,F=this[l];if(F!==null)return Promise.reject(F);if(this[o])return Promise.resolve(h(void 0,!0));if(this[g].destroyed)return new Promise((function(B,K){d.nextTick((function(){D[l]?K(D[l]):B(h(void 0,!0))}))}));var H,O=this[c];if(O)H=new Promise((function(B,K){return function(U,_){B.then((function(){K[o]?U(h(void 0,!0)):K[p](U,_)}),_)}})(O,this));else{var $=this[g].read();if($!==null)return Promise.resolve(h($,!1));H=new Promise(this[p])}return this[c]=H,H}},Symbol.asyncIterator,(function(){return this})),a(s,"return",(function(){var D=this;return new Promise((function(F,H){D[g].destroy(null,(function(O){O?H(O):F(h(void 0,!0))}))}))})),s),C);f.exports=function(D){var F,H=Object.create(T,(a(F={},g,{value:D,writable:!0}),a(F,r,{value:null,writable:!0}),a(F,n,{value:null,writable:!0}),a(F,l,{value:null,writable:!0}),a(F,o,{value:D._readableState.endEmitted,writable:!0}),a(F,p,{value:function(O,$){var B=H[g].read();B?(H[c]=null,H[r]=null,H[n]=null,O(h(B,!1))):(H[r]=O,H[n]=$)},writable:!0}),F));return H[c]=null,i(D,(function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=H[n];return $!==null&&(H[c]=null,H[r]=null,H[n]=null,$(O)),void(H[l]=O)}var B=H[r];B!==null&&(H[c]=null,H[r]=null,H[n]=null,B(h(void 0,!0))),H[o]=!0})),D.on("readable",b.bind(null,H)),H}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,f,m){function d(c,p){var g=Object.keys(c);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(c);p&&(h=h.filter((function(y){return Object.getOwnPropertyDescriptor(c,y).enumerable}))),g.push.apply(g,h)}return g}function s(c){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?d(Object(g),!0).forEach((function(h){a(c,h,g[h])})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(g)):d(Object(g)).forEach((function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(g,h))}))}return c}function a(c,p,g){return(p=r(p))in c?Object.defineProperty(c,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):c[p]=g,c}function i(c,p){for(var g=0;g<p.length;g++){var h=p[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,r(h.key),h)}}function r(c){var p=(function(g,h){if(typeof g!="object"||g===null)return g;var y=g[Symbol.toPrimitive];if(y!==void 0){var b=y.call(g,h);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(g)})(c,"string");return typeof p=="symbol"?p:String(p)}var n=t("buffer").Buffer,l=t("util").inspect,o=l&&l.custom||"inspect";f.exports=(function(){function c(){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}var p,g;return p=c,(g=[{key:"push",value:function(h){var y={data:h,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(h){var y={data:h,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var y=this.head,b=""+y.data;y=y.next;)b+=h+y.data;return b}},{key:"concat",value:function(h){if(this.length===0)return n.alloc(0);for(var y,b,C,T=n.allocUnsafe(h>>>0),D=this.head,F=0;D;)y=D.data,b=T,C=F,n.prototype.copy.call(y,b,C),F+=D.data.length,D=D.next;return T}},{key:"consume",value:function(h,y){var b;return h<this.head.data.length?(b=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):b=h===this.head.data.length?this.shift():y?this._getString(h):this._getBuffer(h),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var y=this.head,b=1,C=y.data;for(h-=C.length;y=y.next;){var T=y.data,D=h>T.length?T.length:h;if(D===T.length?C+=T:C+=T.slice(0,h),(h-=D)==0){D===T.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=T.slice(D));break}++b}return this.length-=b,C}},{key:"_getBuffer",value:function(h){var y=n.allocUnsafe(h),b=this.head,C=1;for(b.data.copy(y),h-=b.data.length;b=b.next;){var T=b.data,D=h>T.length?T.length:h;if(T.copy(y,y.length-h,0,D),(h-=D)==0){D===T.length?(++C,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=T.slice(D));break}++C}return this.length-=C,y}},{key:o,value:function(h,y){return l(this,s(s({},y),{},{depth:0,customInspect:!1}))}}])&&i(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),c})()},{buffer:220,util:188}],485:[function(t,f,m){(function(d){(function(){function s(r,n){i(r,n),a(r)}function a(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function i(r,n){r.emit("error",n)}f.exports={destroy:function(r,n){var l=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(i,this,r)):d.nextTick(i,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(p){!n&&p?l._writableState?l._writableState.errorEmitted?d.nextTick(a,l):(l._writableState.errorEmitted=!0,d.nextTick(s,l,p)):d.nextTick(s,l,p):n?(d.nextTick(a,l),n(p)):d.nextTick(a,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,n){var l=r._readableState,o=r._writableState;l&&l.autoDestroy||o&&o.autoDestroy?r.destroy(n):r.emit("error",n)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,f,m){var d=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}f.exports=function a(i,r,n){if(typeof r=="function")return a(i,null,r);r||(r={}),n=(function(D){var F=!1;return function(){if(!F){F=!0;for(var H=arguments.length,O=new Array(H),$=0;$<H;$++)O[$]=arguments[$];D.apply(this,O)}}})(n||s);var l=r.readable||r.readable!==!1&&i.readable,o=r.writable||r.writable!==!1&&i.writable,c=function(){i.writable||g()},p=i._writableState&&i._writableState.finished,g=function(){o=!1,p=!0,l||n.call(i)},h=i._readableState&&i._readableState.endEmitted,y=function(){l=!1,h=!0,o||n.call(i)},b=function(D){n.call(i,D)},C=function(){var D;return l&&!h?(i._readableState&&i._readableState.ended||(D=new d),n.call(i,D)):o&&!p?(i._writableState&&i._writableState.ended||(D=new d),n.call(i,D)):void 0},T=function(){i.req.on("finish",g)};return(function(D){return D.setHeader&&typeof D.abort=="function"})(i)?(i.on("complete",g),i.on("abort",C),i.req?T():i.on("request",T)):o&&!i._writableState&&(i.on("end",c),i.on("close",c)),i.on("end",y),i.on("finish",g),r.error!==!1&&i.on("error",b),i.on("close",C),function(){i.removeListener("complete",g),i.removeListener("abort",C),i.removeListener("request",T),i.req&&i.req.removeListener("finish",g),i.removeListener("end",c),i.removeListener("close",c),i.removeListener("finish",g),i.removeListener("end",y),i.removeListener("error",b),i.removeListener("close",C)}}},{"../../../errors":477}],487:[function(t,f,m){f.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,f,m){var d,s=t("../../../errors").codes,a=s.ERR_MISSING_ARGS,i=s.ERR_STREAM_DESTROYED;function r(p){if(p)throw p}function n(p,g,h,y){y=(function(T){var D=!1;return function(){D||(D=!0,T.apply(void 0,arguments))}})(y);var b=!1;p.on("close",(function(){b=!0})),d===void 0&&(d=t("./end-of-stream")),d(p,{readable:g,writable:h},(function(T){if(T)return y(T);b=!0,y()}));var C=!1;return function(T){if(!b&&!C)return C=!0,(function(D){return D.setHeader&&typeof D.abort=="function"})(p)?p.abort():typeof p.destroy=="function"?p.destroy():void y(T||new i("pipe"))}}function l(p){p()}function o(p,g){return p.pipe(g)}function c(p){return p.length?typeof p[p.length-1]!="function"?r:p.pop():r}f.exports=function(){for(var p=arguments.length,g=new Array(p),h=0;h<p;h++)g[h]=arguments[h];var y,b=c(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new a("streams");var C=g.map((function(T,D){var F=D<g.length-1;return n(T,F,D>0,(function(H){y||(y=H),H&&C.forEach(l),F||(C.forEach(l),b(y))}))}));return g.reduce(o)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,f,m){var d=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;f.exports={getHighWaterMark:function(s,a,i,r){var n=(function(l,o,c){return l.highWaterMark!=null?l.highWaterMark:o?l[c]:null})(a,r,i);if(n!=null){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new d(r?i:"highWaterMark",n);return Math.floor(n)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,f,m){f.exports=t("events").EventEmitter},{events:422}],491:[function(t,f,m){(m=f.exports=t("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=t("./lib/_stream_writable.js"),m.Duplex=t("./lib/_stream_duplex.js"),m.Transform=t("./lib/_stream_transform.js"),m.PassThrough=t("./lib/_stream_passthrough.js"),m.finished=t("./lib/internal/streams/end-of-stream.js"),m.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,f,m){var d=(function(s){var a=Object.prototype,i=a.hasOwnProperty,r=Object.defineProperty||function(w,j,E){w[j]=E.value},n=typeof Symbol=="function"?Symbol:{},l=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function p(w,j,E){return Object.defineProperty(w,j,{value:E,enumerable:!0,configurable:!0,writable:!0}),w[j]}try{p({},"")}catch{p=function(j,E,I){return j[E]=I}}function g(w,j,E,I){var L=j&&j.prototype instanceof b?j:b,G=Object.create(L.prototype),X=new A(I||[]);return r(G,"_invoke",{value:K(w,E,X)}),G}function h(w,j,E){try{return{type:"normal",arg:w.call(j,E)}}catch(I){return{type:"throw",arg:I}}}s.wrap=g;var y={};function b(){}function C(){}function T(){}var D={};p(D,l,(function(){return this}));var F=Object.getPrototypeOf,H=F&&F(F(N([])));H&&H!==a&&i.call(H,l)&&(D=H);var O=T.prototype=b.prototype=Object.create(D);function $(w){["next","throw","return"].forEach((function(j){p(w,j,(function(E){return this._invoke(j,E)}))}))}function B(w,j){var E;r(this,"_invoke",{value:function(I,L){function G(){return new j((function(X,re){(function q(ee,R,z,W){var se=h(w[ee],w,R);if(se.type!=="throw"){var he=se.arg,ne=he.value;return ne&&typeof ne=="object"&&i.call(ne,"__await")?j.resolve(ne.__await).then((function(me){q("next",me,z,W)}),(function(me){q("throw",me,z,W)})):j.resolve(ne).then((function(me){he.value=me,z(he)}),(function(me){return q("throw",me,z,W)}))}W(se.arg)})(I,L,X,re)}))}return E=E?E.then(G,G):G()}})}function K(w,j,E){var I="suspendedStart";return function(L,G){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(L==="throw")throw G;return S()}for(E.method=L,E.arg=G;;){var X=E.delegate;if(X){var re=U(X,E);if(re){if(re===y)continue;return re}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(I==="suspendedStart")throw I="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);I="executing";var q=h(w,j,E);if(q.type==="normal"){if(I=E.done?"completed":"suspendedYield",q.arg===y)continue;return{value:q.arg,done:E.done}}q.type==="throw"&&(I="completed",E.method="throw",E.arg=q.arg)}}}function U(w,j){var E=j.method,I=w.iterator[E];if(I===void 0)return j.delegate=null,E==="throw"&&w.iterator.return&&(j.method="return",j.arg=void 0,U(w,j),j.method==="throw")||E!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+E+"' method")),y;var L=h(I,w.iterator,j.arg);if(L.type==="throw")return j.method="throw",j.arg=L.arg,j.delegate=null,y;var G=L.arg;return G?G.done?(j[w.resultName]=G.value,j.next=w.nextLoc,j.method!=="return"&&(j.method="next",j.arg=void 0),j.delegate=null,y):G:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,y)}function _(w){var j={tryLoc:w[0]};1 in w&&(j.catchLoc=w[1]),2 in w&&(j.finallyLoc=w[2],j.afterLoc=w[3]),this.tryEntries.push(j)}function M(w){var j=w.completion||{};j.type="normal",delete j.arg,w.completion=j}function A(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(_,this),this.reset(!0)}function N(w){if(w){var j=w[l];if(j)return j.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var E=-1,I=function L(){for(;++E<w.length;)if(i.call(w,E))return L.value=w[E],L.done=!1,L;return L.value=void 0,L.done=!0,L};return I.next=I}}return{next:S}}function S(){return{value:void 0,done:!0}}return C.prototype=T,r(O,"constructor",{value:T,configurable:!0}),r(T,"constructor",{value:C,configurable:!0}),C.displayName=p(T,c,"GeneratorFunction"),s.isGeneratorFunction=function(w){var j=typeof w=="function"&&w.constructor;return!!j&&(j===C||(j.displayName||j.name)==="GeneratorFunction")},s.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,T):(w.__proto__=T,p(w,c,"GeneratorFunction")),w.prototype=Object.create(O),w},s.awrap=function(w){return{__await:w}},$(B.prototype),p(B.prototype,o,(function(){return this})),s.AsyncIterator=B,s.async=function(w,j,E,I,L){L===void 0&&(L=Promise);var G=new B(g(w,j,E,I),L);return s.isGeneratorFunction(j)?G:G.next().then((function(X){return X.done?X.value:G.next()}))},$(O),p(O,c,"Generator"),p(O,l,(function(){return this})),p(O,"toString",(function(){return"[object Generator]"})),s.keys=function(w){var j=Object(w),E=[];for(var I in j)E.push(I);return E.reverse(),function L(){for(;E.length;){var G=E.pop();if(G in j)return L.value=G,L.done=!1,L}return L.done=!0,L}},s.values=N,A.prototype={constructor:A,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!w)for(var j in this)j.charAt(0)==="t"&&i.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var j=this;function E(q,ee){return G.type="throw",G.arg=w,j.next=q,ee&&(j.method="next",j.arg=void 0),!!ee}for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I],G=L.completion;if(L.tryLoc==="root")return E("end");if(L.tryLoc<=this.prev){var X=i.call(L,"catchLoc"),re=i.call(L,"finallyLoc");if(X&&re){if(this.prev<L.catchLoc)return E(L.catchLoc,!0);if(this.prev<L.finallyLoc)return E(L.finallyLoc)}else if(X){if(this.prev<L.catchLoc)return E(L.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return E(L.finallyLoc)}}}},abrupt:function(w,j){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc<=this.prev&&i.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var L=I;break}}L&&(w==="break"||w==="continue")&&L.tryLoc<=j&&j<=L.finallyLoc&&(L=null);var G=L?L.completion:{};return G.type=w,G.arg=j,L?(this.method="next",this.next=L.finallyLoc,y):this.complete(G)},complete:function(w,j){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&j&&(this.next=j),y},finish:function(w){for(var j=this.tryEntries.length-1;j>=0;--j){var E=this.tryEntries[j];if(E.finallyLoc===w)return this.complete(E.completion,E.afterLoc),M(E),y}},catch:function(w){for(var j=this.tryEntries.length-1;j>=0;--j){var E=this.tryEntries[j];if(E.tryLoc===w){var I=E.completion;if(I.type==="throw"){var L=I.arg;M(E)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(w,j,E){return this.delegate={iterator:N(w),resultName:j,nextLoc:E},this.method==="next"&&(this.arg=void 0),y}},s})(typeof f=="object"?f.exports:{});try{regeneratorRuntime=d}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=d:Function("r","regeneratorRuntime = r")(d)}},{}],493:[function(t,f,m){var d=t("buffer").Buffer,s=t("inherits"),a=t("hash-base"),i=new Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function h(F,H){return F<<H|F>>>32-H}function y(F,H,O,$,B,K,U,_){return h(F+(H^O^$)+K+U|0,_)+B|0}function b(F,H,O,$,B,K,U,_){return h(F+(H&O|~H&$)+K+U|0,_)+B|0}function C(F,H,O,$,B,K,U,_){return h(F+((H|~O)^$)+K+U|0,_)+B|0}function T(F,H,O,$,B,K,U,_){return h(F+(H&$|O&~$)+K+U|0,_)+B|0}function D(F,H,O,$,B,K,U,_){return h(F+(H^(O|~$))+K+U|0,_)+B|0}s(g,a),g.prototype._update=function(){for(var F=i,H=0;H<16;++H)F[H]=this._block.readInt32LE(4*H);for(var O=0|this._a,$=0|this._b,B=0|this._c,K=0|this._d,U=0|this._e,_=0|this._a,M=0|this._b,A=0|this._c,N=0|this._d,S=0|this._e,w=0;w<80;w+=1){var j,E;w<16?(j=y(O,$,B,K,U,F[r[w]],c[0],l[w]),E=D(_,M,A,N,S,F[n[w]],p[0],o[w])):w<32?(j=b(O,$,B,K,U,F[r[w]],c[1],l[w]),E=T(_,M,A,N,S,F[n[w]],p[1],o[w])):w<48?(j=C(O,$,B,K,U,F[r[w]],c[2],l[w]),E=C(_,M,A,N,S,F[n[w]],p[2],o[w])):w<64?(j=T(O,$,B,K,U,F[r[w]],c[3],l[w]),E=b(_,M,A,N,S,F[n[w]],p[3],o[w])):(j=D(O,$,B,K,U,F[r[w]],c[4],l[w]),E=y(_,M,A,N,S,F[n[w]],p[4],o[w])),O=U,U=K,K=h(B,10),B=$,$=j,_=S,S=N,N=h(A,10),A=M,M=E}var I=this._b+B+N|0;this._b=this._c+K+S|0,this._c=this._d+U+_|0,this._d=this._e+O+M|0,this._e=this._a+$+A|0,this._a=I},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=d.alloc?d.alloc(20):new d(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F},f.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,f,m){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var d=t("buffer"),s=d.Buffer;function a(r,n){for(var l in r)n[l]=r[l]}function i(r,n,l){return s(r,n,l)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?f.exports=d:(a(d,m),m.Buffer=i),i.prototype=Object.create(s.prototype),a(s,i),i.from=function(r,n,l){if(typeof r=="number")throw new TypeError("Argument must not be a number");return s(r,n,l)},i.alloc=function(r,n,l){if(typeof r!="number")throw new TypeError("Argument must be a number");var o=s(r);return n!==void 0?typeof l=="string"?o.fill(n,l):o.fill(n):o.fill(0),o},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return s(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(r)}},{buffer:220}],495:[function(t,f,m){(function(d){(function(){var s,a=t("buffer"),i=a.Buffer,r={};for(s in a)a.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(r[s]=a[s]);var n=r.Buffer={};for(s in i)i.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(n[s]=i[s]);if(r.Buffer.prototype=i.prototype,n.from&&n.from!==Uint8Array.from||(n.from=function(l,o,c){if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof l);if(l&&l.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);return i(l,o,c)}),n.alloc||(n.alloc=function(l,o,c){if(typeof l!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof l);if(l<0||l>=2*(1<<30))throw new RangeError('The value "'+l+'" is invalid for option "size"');var p=i(l);return o&&o.length!==0?typeof c=="string"?p.fill(o,c):p.fill(o):p.fill(0),p}),!r.kStringMaxLength)try{r.kStringMaxLength=d.binding("buffer").kStringMaxLength}catch{}r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),f.exports=r}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0});const d=t("xmlchars/xml/1.0/ed5"),s=t("xmlchars/xml/1.1/ed2"),a=t("xmlchars/xmlns/1.0/ed3");var i=d.isS,r=d.isChar,n=d.isNameStartChar,l=d.isNameChar,o=d.S_LIST,c=d.NAME_RE,p=s.isChar,g=a.isNCNameStartChar,h=a.isNCNameChar,y=a.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",T={__proto__:null,xml:b,xmlns:C},D={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},F=N=>N===34||N===39,H=[34,39],O=[...H,91,62],$=[...H,60,93],B=[61,63,...o],K=[...o,62,38,60];function U(N,S,w){switch(S){case"xml":w!==b&&N.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":w!==C&&N.fail(`xmlns prefix must be bound to ${C}.`)}switch(w){case C:N.fail(S===""?`the default namespace may not be set to ${w}.`:`may not assign a prefix (even "xmlns") to the URI ${C}.`);break;case b:switch(S){case"xml":break;case"":N.fail(`the default namespace may not be set to ${w}.`);break;default:N.fail("may not assign the xml namespace to another prefix.")}}}const _=N=>y.test(N),M=N=>c.test(N);m.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};m.SaxesParser=class{constructor(N){this.opt=N??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=g,this.nameCheck=h,this.isName=_,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},T);const w=this.opt.additionalNamespaces;w!=null&&((function(j,E){for(const I of Object.keys(E))U(j,I,E[I])})(this,w),Object.assign(this.ns,w))}else this.nameStartCheck=n,this.nameCheck=l,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var N;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:w}=this.opt;if(w===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");w="1.0"}this.setXMLVersion(w),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(D),(N=this.readyHandler)===null||N===void 0||N.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(N,S){this[A[N]]=S}off(N){this[A[N]]=void 0}makeError(N){var S;let w=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(w.length>0&&(w+=":"),w+=`${this.line}:${this.column}`),w.length>0&&(w+=": "),new Error(w+N)}fail(N){const S=this.makeError(N),w=this.errorHandler;if(w===void 0)throw S;return w(S),this}write(N){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;N===null?(S=!0,N=""):typeof N=="object"&&(N=N.toString()),this.carriedFromPrevious!==void 0&&(N=`${this.carriedFromPrevious}${N}`,this.carriedFromPrevious=void 0);let w=N.length;const j=N.charCodeAt(w-1);!S&&(j===13||j>=55296&&j<=56319)&&(this.carriedFromPrevious=N[w-1],w--,N=N.slice(0,w));const{stateTable:E}=this;for(this.chunk=N,this.i=0;this.i<w;)E[this.state].call(this);return this.chunkPosition+=w,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:N,i:S}=this;if(this.prevI=S,this.i=S+1,S>=N.length)return-1;const w=N.charCodeAt(S);if(this.column++,w<55296){if(w>=32||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return N.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const j=65536+1024*(w-55296)+(N.charCodeAt(S+1)-56320);return this.i=S+2,j>1114111&&this.fail("disallowed character."),j}getCode11(){const{chunk:N,i:S}=this;if(this.prevI=S,this.i=S+1,S>=N.length)return-1;const w=N.charCodeAt(S);if(this.column++,w<55296){if(w>31&&w<127||w>159&&w!==8232||w===9)return w;switch(w){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const E=N.charCodeAt(S+1);E!==10&&E!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),w}}if(w>56319)return w>=57344&&w<=65533||this.fail("disallowed character."),w;const j=65536+1024*(w-55296)+(N.charCodeAt(S+1)-56320);return this.i=S+2,j>1114111&&this.fail("disallowed character."),j}getCodeNorm(){const N=this.getCode();return N===-2?10:N}unget(){this.i=this.prevI,this.column--}captureTo(N){let{i:S}=this;const{chunk:w}=this;for(;;){const j=this.getCode(),E=j===-2,I=E?10:j;if(I===-1||N.includes(I))return this.text+=w.slice(S,this.prevI),I;E&&(this.text+=w.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(N){let{i:S}=this;const{chunk:w}=this;for(;;){let j=this.getCode();switch(j){case-2:this.text+=w.slice(S,this.prevI)+`
`,S=this.i,j=10;break;case-1:return this.text+=w.slice(S),!1}if(j===N)return this.text+=w.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:N,i:S}=this;for(;;){const w=this.getCode();if(w===-1)return this.name+=N.slice(S),-1;if(!l(w))return this.name+=N.slice(S,this.prevI),w===-2?10:w}}skipSpaces(){for(;;){const N=this.getCodeNorm();if(N===-1||!i(N))return N}}setXMLVersion(N){this.currentXMLVersion=N,N==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const N=this.i,S=this.skipSpaces();switch(this.prevI!==N&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var N;const S=this.captureTo(O);switch(S){case 62:(N=this.doctypeHandler)===null||N===void 0||N.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:F(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const N=this.q;this.captureToChar(N)&&(this.text+=String.fromCodePoint(N),this.q=null,this.state=2)}sDTD(){const N=this.captureTo($);N!==-1&&(this.text+=String.fromCodePoint(N),N===93?this.state=2:N===60?this.state=6:F(N)&&(this.state=5,this.q=N))}sDTDQuoted(){const N=this.q;this.captureToChar(N)&&(this.text+=String.fromCodePoint(N),this.state=4,this.q=null)}sDTDOpenWaka(){const N=this.getCodeNorm();switch(this.text+=String.fromCodePoint(N),N){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const N=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=N;this.text+=N,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const N=this.getCodeNorm();this.text+=String.fromCodePoint(N),this.state=N===45?10:8}sDTDCommentEnded(){const N=this.getCodeNorm();this.text+=String.fromCodePoint(N),N===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const N=this.getCodeNorm();this.text+=String.fromCodePoint(N),N===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:N}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(N,this.prevI)+`
`,N=this.i;break;case 59:{const{entityReturnState:w}=this,j=this.entity+S.slice(N,this.prevI);let E;this.state=w,j===""?(this.fail("empty entity name."),E="&;"):(E=this.parseEntity(j),this.entity=""),w===13&&this.textHandler===void 0||(this.text+=E);break e}case-1:this.entity+=S.slice(N);break e}}sOpenWaka(){const N=this.getCode();if(n(N))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(N){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var N;const S=this.getCodeNorm();S===45?(this.state=19,(N=this.commentHandler)===null||N===void 0||N.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const N=this.getCodeNorm();N!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(N),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const N=this.getCodeNorm();N===93?this.state=22:(this.text+="]"+String.fromCodePoint(N),this.state=20)}sCDataEnding2(){var N;const S=this.getCodeNorm();switch(S){case 62:(N=this.cdataHandler)===null||N===void 0||N.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const N=this.getCodeNorm();this.nameStartCheck(N)?(this.piTarget+=String.fromCodePoint(N),this.state=24):N===63||i(N)?(this.fail("processing instruction without a target."),this.state=N===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(N),this.state=24)}sPIRest(){const{chunk:N,i:S}=this;for(;;){const w=this.getCodeNorm();if(w===-1)return void(this.piTarget+=N.slice(S));if(!this.nameCheck(w)){this.piTarget+=N.slice(S,this.prevI);const j=w===63;j||i(w)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=j?33:27):this.state=j?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w));break}}}sPIBody(){if(this.text.length===0){const N=this.getCodeNorm();N===63?this.state=26:i(N)||(this.text=String.fromCodePoint(N))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var N;const S=this.getCodeNorm();if(S===62){const{piTarget:w}=this;w.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(N=this.piHandler)===null||N===void 0||N.call(this,{target:w,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const N=this.skipSpaces();N!==63?N!==-1&&(this.state=28,this.name=String.fromCodePoint(N)):this.state=33}sXMLDeclName(){const N=this.captureTo(B);if(N===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(N)||N===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=N===61?30:29}}sXMLDeclEq(){const N=this.getCodeNorm();if(N===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(N)||(N!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const N=this.getCodeNorm();if(N===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(N)||(F(N)?this.q=N:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const N=this.captureTo([this.q,63]);if(N===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(N===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const w=S;this.xmlDecl.version=w,/^1\.[0-9]+$/.test(w)?this.opt.forceXMLVersion||this.setXMLVersion(w):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const N=this.getCodeNorm();N!==63?(i(N)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var N;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(N=this.xmldeclHandler)===null||N===void 0||N.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var N;const S=this.captureNameChars();if(S===-1)return;const w=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=w.ns=Object.create(null)),(N=this.openTagStartHandler)===null||N===void 0||N.call(this,w),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:i(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const N=this.skipSpaces();N!==-1&&(n(N)?(this.unget(),this.state=37):N===62?this.openTag():N===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const N=this.captureNameChars();N===61?this.state=39:i(N)?this.state=38:N===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):N!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const N=this.skipSpaces();switch(N){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",N===62?this.openTag():n(N)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const N=this.getCodeNorm();F(N)?(this.q=N,this.state=40):i(N)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:N,chunk:S}=this;let{i:w}=this;for(;;)switch(this.getCode()){case N:return this.pushAttrib(this.name,this.text+S.slice(w,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(w,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(w,this.prevI)+" ",w=this.i;break;case 60:return this.text+=S.slice(w,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(w))}}sAttribValueClosed(){const N=this.getCodeNorm();i(N)?this.state=36:N===62?this.openTag():N===47?this.state=35:n(N)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const N=this.captureTo(K);switch(N){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",N===62?this.openTag():this.state=36}}sCloseTag(){const N=this.captureNameChars();N===62?this.closeTag():i(N)?this.state=44:N!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:N,forbiddenState:S}=this;const{chunk:w,textHandler:j}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,j!==void 0){const{text:E}=this,I=w.slice(N,this.prevI);E.length!==0?(j(E+I),this.text=""):I.length!==0&&j(I)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=w.slice(N,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:j!==void 0&&(this.text+=w.slice(N,this.prevI)+`
`),N=this.i,S=0;break;case-1:j!==void 0&&(this.text+=w.slice(N));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:N}=this;const{chunk:S,textHandler:w}=this;let j=!1;e:for(;;){const E=this.getCode();switch(E){case 60:if(this.state=15,w!==void 0){const{text:I}=this,L=S.slice(N,this.prevI);I.length!==0?(w(I+L),this.text=""):L.length!==0&&w(L)}break e;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=S.slice(N,this.prevI)),j=!0;break e;case-2:w!==void 0&&(this.text+=S.slice(N,this.prevI)+`
`),N=this.i;break;case-1:w!==void 0&&(this.text+=S.slice(N));break e;default:i(E)||(j=!0)}}j&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(N,S){var w;const{prefix:j,local:E}=this.qname(N),I={name:N,prefix:j,local:E,value:S};if(this.attribList.push(I),(w=this.attributeHandler)===null||w===void 0||w.call(this,I),j==="xmlns"){const L=S.trim();this.currentXMLVersion==="1.0"&&L===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[E]=L,U(this,E,L)}else if(N==="xmlns"){const L=S.trim();this.topNS[""]=L,U(this,"",L)}}pushAttribPlain(N,S){var w;const j={name:N,value:S};this.attribList.push(j),(w=this.attributeHandler)===null||w===void 0||w.call(this,j)}end(){var N,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:w}=this;for(;w.length>0;){const E=w.pop();this.fail("unclosed tag: "+E.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:j}=this;return j.length!==0&&((N=this.textHandler)===null||N===void 0||N.call(this,j),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(N){var S,w;let j=this.topNS[N];if(j!==void 0)return j;const{tags:E}=this;for(let I=E.length-1;I>=0;I--)if(j=E[I].ns[N],j!==void 0)return j;return j=this.ns[N],j!==void 0?j:(w=(S=this.opt).resolvePrefix)===null||w===void 0?void 0:w.call(S,N)}qname(N){const S=N.indexOf(":");if(S===-1)return{prefix:"",local:N};const w=N.slice(S+1),j=N.slice(0,S);return(j===""||w===""||w.includes(":"))&&this.fail(`malformed name: ${N}.`),{prefix:j,local:w}}processAttribsNS(){var N;const{attribList:S}=this,w=this.tag;{const{prefix:I,local:L}=this.qname(w.name);w.prefix=I,w.local=L;const G=w.uri=(N=this.resolve(I))!==null&&N!==void 0?N:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),w.uri=I))}if(S.length===0)return;const{attributes:j}=w,E=new Set;for(const I of S){const{name:L,prefix:G,local:X}=I;let re,q;G===""?(re=L==="xmlns"?C:"",q=L):(re=this.resolve(G),re===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),re=G),q=`{${re}}${X}`),E.has(q)&&this.fail(`duplicate attribute: ${q}.`),E.add(q),I.uri=re,j[L]=I}this.attribList=[]}processAttribsPlain(){const{attribList:N}=this,S=this.tag.attributes;for(const{name:w,value:j}of N)S[w]!==void 0&&this.fail(`duplicate attribute: ${w}.`),S[w]=j;this.attribList=[]}openTag(){var N;this.processAttribs();const{tags:S}=this,w=this.tag;w.isSelfClosing=!1,(N=this.openTagHandler)===null||N===void 0||N.call(this,w),S.push(w),this.state=13,this.name=""}openSelfClosingTag(){var N,S,w;this.processAttribs();const{tags:j}=this,E=this.tag;E.isSelfClosing=!0,(N=this.openTagHandler)===null||N===void 0||N.call(this,E),(S=this.closeTagHandler)===null||S===void 0||S.call(this,E),(this.tag=(w=j[j.length-1])!==null&&w!==void 0?w:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:N,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const w=this.closeTagHandler;let j=N.length;for(;j-- >0;){const E=this.tag=N.pop();if(this.topNS=E.ns,w?.(E),E.name===S)break;this.fail("unexpected close tag.")}j===0?this.closedRoot=!0:j<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(N){if(N[0]!=="#"){const w=this.ENTITIES[N];return w!==void 0?w:(this.fail(this.isName(N)?"undefined entity.":"disallowed character in entity name."),`&${N};`)}let S=NaN;return N[1]==="x"&&/^#x[0-9a-f]+$/i.test(N)?S=parseInt(N.slice(2),16):/^#[0-9]+$/.test(N)&&(S=parseInt(N.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${N};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,f,m){var d=t("safe-buffer").Buffer;function s(a,i){this._block=d.alloc(a),this._finalSize=i,this._blockSize=a,this._len=0}s.prototype.update=function(a,i){typeof a=="string"&&(i=i||"utf8",a=d.from(a,i));for(var r=this._block,n=this._blockSize,l=a.length,o=this._len,c=0;c<l;){for(var p=o%n,g=Math.min(l-c,n-p),h=0;h<g;h++)r[p+h]=a[c+h];c+=g,(o+=g)%n==0&&this._update(r)}return this._len+=l,this},s.prototype.digest=function(a){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,l=(r-n)/4294967296;this._block.writeUInt32BE(l,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return a?o.toString(a):o},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},f.exports=s},{"safe-buffer":494}],498:[function(t,f,m){var d=f.exports=function(s){s=s.toLowerCase();var a=d[s];if(!a)throw new Error(s+" is not supported (we accept pull requests)");return new a};d.sha=t("./sha"),d.sha1=t("./sha1"),d.sha224=t("./sha224"),d.sha256=t("./sha256"),d.sha384=t("./sha384"),d.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,f,m){var d=t("inherits"),s=t("./hash"),a=t("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function n(){this.init(),this._w=r,s.call(this,64,56)}function l(c){return c<<30|c>>>2}function o(c,p,g,h){return c===0?p&g|~p&h:c===2?p&g|p&h|g&h:p^g^h}d(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(c){for(var p,g=this._w,h=0|this._a,y=0|this._b,b=0|this._c,C=0|this._d,T=0|this._e,D=0;D<16;++D)g[D]=c.readInt32BE(4*D);for(;D<80;++D)g[D]=g[D-3]^g[D-8]^g[D-14]^g[D-16];for(var F=0;F<80;++F){var H=~~(F/20),O=0|((p=h)<<5|p>>>27)+o(H,y,b,C)+T+g[F]+i[H];T=C,C=b,b=l(y),y=h,h=O}this._a=h+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=C+this._d|0,this._e=T+this._e|0},n.prototype._hash=function(){var c=a.allocUnsafe(20);return c.writeInt32BE(0|this._a,0),c.writeInt32BE(0|this._b,4),c.writeInt32BE(0|this._c,8),c.writeInt32BE(0|this._d,12),c.writeInt32BE(0|this._e,16),c},f.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,f,m){var d=t("inherits"),s=t("./hash"),a=t("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function n(){this.init(),this._w=r,s.call(this,64,56)}function l(p){return p<<5|p>>>27}function o(p){return p<<30|p>>>2}function c(p,g,h,y){return p===0?g&h|~g&y:p===2?g&h|g&y|h&y:g^h^y}d(n,s),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(p){for(var g,h=this._w,y=0|this._a,b=0|this._b,C=0|this._c,T=0|this._d,D=0|this._e,F=0;F<16;++F)h[F]=p.readInt32BE(4*F);for(;F<80;++F)h[F]=(g=h[F-3]^h[F-8]^h[F-14]^h[F-16])<<1|g>>>31;for(var H=0;H<80;++H){var O=~~(H/20),$=l(y)+c(O,b,C,T)+D+h[H]+i[O]|0;D=T,T=C,C=o(b),b=y,y=$}this._a=y+this._a|0,this._b=b+this._b|0,this._c=C+this._c|0,this._d=T+this._d|0,this._e=D+this._e|0},n.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},f.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,f,m){var d=t("inherits"),s=t("./sha256"),a=t("./hash"),i=t("safe-buffer").Buffer,r=new Array(64);function n(){this.init(),this._w=r,a.call(this,64,56)}d(n,s),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var l=i.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},f.exports=n},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,f,m){var d=t("inherits"),s=t("./hash"),a=t("safe-buffer").Buffer,i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function n(){this.init(),this._w=r,s.call(this,64,56)}function l(h,y,b){return b^h&(y^b)}function o(h,y,b){return h&y|b&(h|y)}function c(h){return(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10)}function p(h){return(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7)}function g(h){return(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3}d(n,s),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(h){for(var y,b=this._w,C=0|this._a,T=0|this._b,D=0|this._c,F=0|this._d,H=0|this._e,O=0|this._f,$=0|this._g,B=0|this._h,K=0;K<16;++K)b[K]=h.readInt32BE(4*K);for(;K<64;++K)b[K]=0|(((y=b[K-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+b[K-7]+g(b[K-15])+b[K-16];for(var U=0;U<64;++U){var _=B+p(H)+l(H,O,$)+i[U]+b[U]|0,M=c(C)+o(C,T,D)|0;B=$,$=O,O=H,H=F+_|0,F=D,D=T,T=C,C=_+M|0}this._a=C+this._a|0,this._b=T+this._b|0,this._c=D+this._c|0,this._d=F+this._d|0,this._e=H+this._e|0,this._f=O+this._f|0,this._g=$+this._g|0,this._h=B+this._h|0},n.prototype._hash=function(){var h=a.allocUnsafe(32);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h.writeInt32BE(this._h,28),h},f.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,f,m){var d=t("inherits"),s=t("./sha512"),a=t("./hash"),i=t("safe-buffer").Buffer,r=new Array(160);function n(){this.init(),this._w=r,a.call(this,128,112)}d(n,s),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var l=i.allocUnsafe(48);function o(c,p,g){l.writeInt32BE(c,g),l.writeInt32BE(p,g+4)}return o(this._ah,this._al,0),o(this._bh,this._bl,8),o(this._ch,this._cl,16),o(this._dh,this._dl,24),o(this._eh,this._el,32),o(this._fh,this._fl,40),l},f.exports=n},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,f,m){var d=t("inherits"),s=t("./hash"),a=t("safe-buffer").Buffer,i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],r=new Array(160);function n(){this.init(),this._w=r,s.call(this,128,112)}function l(T,D,F){return F^T&(D^F)}function o(T,D,F){return T&D|F&(T|D)}function c(T,D){return(T>>>28|D<<4)^(D>>>2|T<<30)^(D>>>7|T<<25)}function p(T,D){return(T>>>14|D<<18)^(T>>>18|D<<14)^(D>>>9|T<<23)}function g(T,D){return(T>>>1|D<<31)^(T>>>8|D<<24)^T>>>7}function h(T,D){return(T>>>1|D<<31)^(T>>>8|D<<24)^(T>>>7|D<<25)}function y(T,D){return(T>>>19|D<<13)^(D>>>29|T<<3)^T>>>6}function b(T,D){return(T>>>19|D<<13)^(D>>>29|T<<3)^(T>>>6|D<<26)}function C(T,D){return T>>>0<D>>>0?1:0}d(n,s),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(T){for(var D=this._w,F=0|this._ah,H=0|this._bh,O=0|this._ch,$=0|this._dh,B=0|this._eh,K=0|this._fh,U=0|this._gh,_=0|this._hh,M=0|this._al,A=0|this._bl,N=0|this._cl,S=0|this._dl,w=0|this._el,j=0|this._fl,E=0|this._gl,I=0|this._hl,L=0;L<32;L+=2)D[L]=T.readInt32BE(4*L),D[L+1]=T.readInt32BE(4*L+4);for(;L<160;L+=2){var G=D[L-30],X=D[L-30+1],re=g(G,X),q=h(X,G),ee=y(G=D[L-4],X=D[L-4+1]),R=b(X,G),z=D[L-14],W=D[L-14+1],se=D[L-32],he=D[L-32+1],ne=q+W|0,me=re+z+C(ne,q)|0;me=(me=me+ee+C(ne=ne+R|0,R)|0)+se+C(ne=ne+he|0,he)|0,D[L]=me,D[L+1]=ne}for(var Se=0;Se<160;Se+=2){me=D[Se],ne=D[Se+1];var Ee=o(F,H,O),le=o(M,A,N),ie=c(F,M),ce=c(M,F),ae=p(B,w),ge=p(w,B),pe=i[Se],Ae=i[Se+1],fe=l(B,K,U),te=l(w,j,E),ye=I+ge|0,Te=_+ae+C(ye,I)|0;Te=(Te=(Te=Te+fe+C(ye=ye+te|0,te)|0)+pe+C(ye=ye+Ae|0,Ae)|0)+me+C(ye=ye+ne|0,ne)|0;var Ce=ce+le|0,je=ie+Ee+C(Ce,ce)|0;_=U,I=E,U=K,E=j,K=B,j=w,B=$+Te+C(w=S+ye|0,S)|0,$=O,S=N,O=H,N=A,H=F,A=M,F=Te+je+C(M=ye+Ce|0,ye)|0}this._al=this._al+M|0,this._bl=this._bl+A|0,this._cl=this._cl+N|0,this._dl=this._dl+S|0,this._el=this._el+w|0,this._fl=this._fl+j|0,this._gl=this._gl+E|0,this._hl=this._hl+I|0,this._ah=this._ah+F+C(this._al,M)|0,this._bh=this._bh+H+C(this._bl,A)|0,this._ch=this._ch+O+C(this._cl,N)|0,this._dh=this._dh+$+C(this._dl,S)|0,this._eh=this._eh+B+C(this._el,w)|0,this._fh=this._fh+K+C(this._fl,j)|0,this._gh=this._gh+U+C(this._gl,E)|0,this._hh=this._hh+_+C(this._hl,I)|0},n.prototype._hash=function(){var T=a.allocUnsafe(64);function D(F,H,O){T.writeInt32BE(F,O),T.writeInt32BE(H,O+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),T},f.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,f,m){f.exports=s;var d=t("events").EventEmitter;function s(){d.call(this)}t("inherits")(s,d),s.Readable=t("readable-stream/readable.js"),s.Writable=t("readable-stream/writable.js"),s.Duplex=t("readable-stream/duplex.js"),s.Transform=t("readable-stream/transform.js"),s.PassThrough=t("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(a,i){var r=this;function n(y){a.writable&&a.write(y)===!1&&r.pause&&r.pause()}function l(){r.readable&&r.resume&&r.resume()}r.on("data",n),a.on("drain",l),a._isStdio||i&&i.end===!1||(r.on("end",c),r.on("close",p));var o=!1;function c(){o||(o=!0,a.end())}function p(){o||(o=!0,typeof a.destroy=="function"&&a.destroy())}function g(y){if(h(),d.listenerCount(this,"error")===0)throw y}function h(){r.removeListener("data",n),a.removeListener("drain",l),r.removeListener("end",c),r.removeListener("close",p),r.removeListener("error",g),a.removeListener("error",g),r.removeListener("end",h),r.removeListener("close",h),a.removeListener("close",h)}return r.on("error",g),a.on("error",g),r.on("end",h),r.on("close",h),a.on("close",h),a.emit("pipe",r),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,f,m){var d={}.toString;f.exports=Array.isArray||function(s){return d.call(s)=="[object Array]"}},{}],507:[function(t,f,m){f.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,f,m){var d=t("process-nextick-args"),s=Object.keys||function(h){var y=[];for(var b in h)y.push(b);return y};f.exports=c;var a=Object.create(t("core-util-is"));a.inherits=t("inherits");var i=t("./_stream_readable"),r=t("./_stream_writable");a.inherits(c,i);for(var n=s(r.prototype),l=0;l<n.length;l++){var o=n[l];c.prototype[o]||(c.prototype[o]=r.prototype[o])}function c(h){if(!(this instanceof c))return new c(h);i.call(this,h),r.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||d.nextTick(g,this)}function g(h){h.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),c.prototype._destroy=function(h,y){this.push(null),this.end(),d.nextTick(y,h)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,f,m){f.exports=a;var d=t("./_stream_transform"),s=Object.create(t("core-util-is"));function a(i){if(!(this instanceof a))return new a(i);d.call(this,i)}s.inherits=t("inherits"),s.inherits(a,d),a.prototype._transform=function(i,r,n){n(null,i)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,f,m){(function(d,s){(function(){var a=t("process-nextick-args");f.exports=F;var i,r=t("isarray");F.ReadableState=D,t("events").EventEmitter;var n=function(I,L){return I.listeners(L).length},l=t("./internal/streams/stream"),o=t("safe-buffer").Buffer,c=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(t("core-util-is"));p.inherits=t("inherits");var g=t("util"),h=void 0;h=g&&g.debuglog?g.debuglog("stream"):function(){};var y,b=t("./internal/streams/BufferList"),C=t("./internal/streams/destroy");p.inherits(F,l);var T=["error","close","destroy","pause","resume"];function D(I,L){I=I||{};var G=L instanceof(i=i||t("./_stream_duplex"));this.objectMode=!!I.objectMode,G&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var X=I.highWaterMark,re=I.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:G&&(re||re===0)?re:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=t("string_decoder/").StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function F(I){if(i=i||t("./_stream_duplex"),!(this instanceof F))return new F(I);this._readableState=new D(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),l.call(this)}function H(I,L,G,X,re){var q,ee=I._readableState;return L===null?(ee.reading=!1,(function(R,z){if(!z.ended){if(z.decoder){var W=z.decoder.end();W&&W.length&&(z.buffer.push(W),z.length+=z.objectMode?1:W.length)}z.ended=!0,B(R)}})(I,ee)):(re||(q=(function(R,z){var W;se=z,o.isBuffer(se)||se instanceof c||typeof z=="string"||z===void 0||R.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var se;return W})(ee,L)),q?I.emit("error",q):ee.objectMode||L&&L.length>0?(typeof L=="string"||ee.objectMode||Object.getPrototypeOf(L)===o.prototype||(L=(function(R){return o.from(R)})(L)),X?ee.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):O(I,ee,L,!0):ee.ended?I.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!G?(L=ee.decoder.write(L),ee.objectMode||L.length!==0?O(I,ee,L,!1):U(I,ee)):O(I,ee,L,!1))):X||(ee.reading=!1)),(function(R){return!R.ended&&(R.needReadable||R.length<R.highWaterMark||R.length===0)})(ee)}function O(I,L,G,X){L.flowing&&L.length===0&&!L.sync?(I.emit("data",G),I.read(0)):(L.length+=L.objectMode?1:G.length,X?L.buffer.unshift(G):L.buffer.push(G),L.needReadable&&B(I)),U(I,L)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),F.prototype.destroy=C.destroy,F.prototype._undestroy=C.undestroy,F.prototype._destroy=function(I,L){this.push(null),L(I)},F.prototype.push=function(I,L){var G,X=this._readableState;return X.objectMode?G=!0:typeof I=="string"&&((L=L||X.defaultEncoding)!==X.encoding&&(I=o.from(I,L),L=""),G=!0),H(this,I,L,!1,G)},F.prototype.unshift=function(I){return H(this,I,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(I){return y||(y=t("string_decoder/").StringDecoder),this._readableState.decoder=new y(I),this._readableState.encoding=I,this};function $(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!=I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=(function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}function B(I){var L=I._readableState;L.needReadable=!1,L.emittedReadable||(h("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?a.nextTick(K,I):K(I))}function K(I){h("emit readable"),I.emit("readable"),N(I)}function U(I,L){L.readingMore||(L.readingMore=!0,a.nextTick(_,I,L))}function _(I,L){for(var G=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(h("maybeReadMore read 0"),I.read(0),G!==L.length);)G=L.length;L.readingMore=!1}function M(I){h("readable nexttick read 0"),I.read(0)}function A(I,L){L.reading||(h("resume read 0"),I.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,I.emit("resume"),N(I),L.flowing&&!L.reading&&I.read(0)}function N(I){var L=I._readableState;for(h("flow",L.flowing);L.flowing&&I.read()!==null;);}function S(I,L){return L.length===0?null:(L.objectMode?G=L.buffer.shift():!I||I>=L.length?(G=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.head.data:L.buffer.concat(L.length),L.buffer.clear()):G=(function(X,re,q){var ee;return X<re.head.data.length?(ee=re.head.data.slice(0,X),re.head.data=re.head.data.slice(X)):ee=X===re.head.data.length?re.shift():q?(function(R,z){var W=z.head,se=1,he=W.data;for(R-=he.length;W=W.next;){var ne=W.data,me=R>ne.length?ne.length:R;if(me===ne.length?he+=ne:he+=ne.slice(0,R),(R-=me)===0){me===ne.length?(++se,W.next?z.head=W.next:z.head=z.tail=null):(z.head=W,W.data=ne.slice(me));break}++se}return z.length-=se,he})(X,re):(function(R,z){var W=o.allocUnsafe(R),se=z.head,he=1;for(se.data.copy(W),R-=se.data.length;se=se.next;){var ne=se.data,me=R>ne.length?ne.length:R;if(ne.copy(W,W.length-R,0,me),(R-=me)===0){me===ne.length?(++he,se.next?z.head=se.next:z.head=z.tail=null):(z.head=se,se.data=ne.slice(me));break}++he}return z.length-=he,W})(X,re),ee})(I,L.buffer,L.decoder),G);var G}function w(I){var L=I._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,a.nextTick(j,L,I))}function j(I,L){I.endEmitted||I.length!==0||(I.endEmitted=!0,L.readable=!1,L.emit("end"))}function E(I,L){for(var G=0,X=I.length;G<X;G++)if(I[G]===L)return G;return-1}F.prototype.read=function(I){h("read",I),I=parseInt(I,10);var L=this._readableState,G=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return h("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?w(this):B(this),null;if((I=$(I,L))===0&&L.ended)return L.length===0&&w(this),null;var X,re=L.needReadable;return h("need readable",re),(L.length===0||L.length-I<L.highWaterMark)&&h("length less than watermark",re=!0),L.ended||L.reading?h("reading or ended",re=!1):re&&(h("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=$(G,L))),(X=I>0?S(I,L):null)===null?(L.needReadable=!0,I=0):L.length-=I,L.length===0&&(L.ended||(L.needReadable=!0),G!==I&&L.ended&&w(this)),X!==null&&this.emit("data",X),X},F.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(I,L){var G=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=I;break;case 1:X.pipes=[X.pipes,I];break;default:X.pipes.push(I)}X.pipesCount+=1,h("pipe count=%d opts=%j",X.pipesCount,L);var re=(!L||L.end!==!1)&&I!==d.stdout&&I!==d.stderr?ee:Se;function q(Ee,le){h("onunpipe"),Ee===G&&le&&le.hasUnpiped===!1&&(le.hasUnpiped=!0,h("cleanup"),I.removeListener("close",ne),I.removeListener("finish",me),I.removeListener("drain",R),I.removeListener("error",he),I.removeListener("unpipe",q),G.removeListener("end",ee),G.removeListener("end",Se),G.removeListener("data",se),z=!0,!X.awaitDrain||I._writableState&&!I._writableState.needDrain||R())}function ee(){h("onend"),I.end()}X.endEmitted?a.nextTick(re):G.once("end",re),I.on("unpipe",q);var R=(function(Ee){return function(){var le=Ee._readableState;h("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&n(Ee,"data")&&(le.flowing=!0,N(Ee))}})(G);I.on("drain",R);var z=!1,W=!1;function se(Ee){h("ondata"),W=!1,I.write(Ee)!==!1||W||((X.pipesCount===1&&X.pipes===I||X.pipesCount>1&&E(X.pipes,I)!==-1)&&!z&&(h("false write response, pause",X.awaitDrain),X.awaitDrain++,W=!0),G.pause())}function he(Ee){h("onerror",Ee),Se(),I.removeListener("error",he),n(I,"error")===0&&I.emit("error",Ee)}function ne(){I.removeListener("finish",me),Se()}function me(){h("onfinish"),I.removeListener("close",ne),Se()}function Se(){h("unpipe"),G.unpipe(I)}return G.on("data",se),(function(Ee,le,ie){if(typeof Ee.prependListener=="function")return Ee.prependListener(le,ie);Ee._events&&Ee._events[le]?r(Ee._events[le])?Ee._events[le].unshift(ie):Ee._events[le]=[ie,Ee._events[le]]:Ee.on(le,ie)})(I,"error",he),I.once("close",ne),I.once("finish",me),I.emit("pipe",G),X.flowing||(h("pipe resume"),G.resume()),I},F.prototype.unpipe=function(I){var L=this._readableState,G={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes||(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,G)),this;if(!I){var X=L.pipes,re=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var q=0;q<re;q++)X[q].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=E(L.pipes,I);return ee===-1||(L.pipes.splice(ee,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,G)),this},F.prototype.on=function(I,L){var G=l.prototype.on.call(this,I,L);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&B(this):a.nextTick(M,this))}return G},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var I=this._readableState;return I.flowing||(h("resume"),I.flowing=!0,(function(L,G){G.resumeScheduled||(G.resumeScheduled=!0,a.nextTick(A,L,G))})(this,I)),this},F.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(I){var L=this,G=this._readableState,X=!1;for(var re in I.on("end",(function(){if(h("wrapped end"),G.decoder&&!G.ended){var ee=G.decoder.end();ee&&ee.length&&L.push(ee)}L.push(null)})),I.on("data",(function(ee){h("wrapped data"),G.decoder&&(ee=G.decoder.write(ee)),G.objectMode&&ee==null||(G.objectMode||ee&&ee.length)&&(L.push(ee)||(X=!0,I.pause()))})),I)this[re]===void 0&&typeof I[re]=="function"&&(this[re]=(function(ee){return function(){return I[ee].apply(I,arguments)}})(re));for(var q=0;q<T.length;q++)I.on(T[q],this.emit.bind(this,T[q]));return this._read=function(ee){h("wrapped _read",ee),X&&(X=!1,I.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=S}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,f,m){f.exports=i;var d=t("./_stream_duplex"),s=Object.create(t("core-util-is"));function a(l,o){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,o!=null&&this.push(o),p(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function i(l){if(!(this instanceof i))return new i(l);d.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",r)}function r(){var l=this;typeof this._flush=="function"?this._flush((function(o,c){n(l,o,c)})):n(this,null,null)}function n(l,o,c){if(o)return l.emit("error",o);if(c!=null&&l.push(c),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}s.inherits=t("inherits"),s.inherits(i,d),i.prototype.push=function(l,o){return this._transformState.needTransform=!1,d.prototype.push.call(this,l,o)},i.prototype._transform=function(l,o,c){throw new Error("_transform() is not implemented")},i.prototype._write=function(l,o,c){var p=this._transformState;if(p.writecb=c,p.writechunk=l,p.writeencoding=o,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},i.prototype._read=function(l){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},i.prototype._destroy=function(l,o){var c=this;d.prototype._destroy.call(this,l,(function(p){o(p),c.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,f,m){(function(d,s,a){(function(){var i=t("process-nextick-args");function r(U){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(M,A,N){var S=M.entry;for(M.entry=null;S;){var w=S.callback;A.pendingcb--,w(N),S=S.next}A.corkedRequestsFree.next=M})(_,U)}}f.exports=D;var n,l=!d.browser&&["v0.10","v0.9."].indexOf(d.version.slice(0,5))>-1?a:i.nextTick;D.WritableState=T;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var c={deprecate:t("util-deprecate")},p=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,b=t("./internal/streams/destroy");function C(){}function T(U,_){n=n||t("./_stream_duplex"),U=U||{};var M=_ instanceof n;this.objectMode=!!U.objectMode,M&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var A=U.highWaterMark,N=U.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:M&&(N||N===0)?N:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var w=U.decodeStrings===!1;this.decodeStrings=!w,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(E,I){var L=E._writableState,G=L.sync,X=L.writecb;if((function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0})(L),I)(function(q,ee,R,z,W){--ee.pendingcb,R?(i.nextTick(W,z),i.nextTick(K,q,ee),q._writableState.errorEmitted=!0,q.emit("error",z)):(W(z),q._writableState.errorEmitted=!0,q.emit("error",z),K(q,ee))})(E,L,G,I,X);else{var re=$(L);re||L.corked||L.bufferProcessing||!L.bufferedRequest||O(E,L),G?l(H,E,L,re,X):H(E,L,re,X)}})(_,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function D(U){if(n=n||t("./_stream_duplex"),!(y.call(D,this)||this instanceof n))return new D(U);this._writableState=new T(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),p.call(this)}function F(U,_,M,A,N,S,w){_.writelen=A,_.writecb=w,_.writing=!0,_.sync=!0,M?U._writev(N,_.onwrite):U._write(N,S,_.onwrite),_.sync=!1}function H(U,_,M,A){M||(function(N,S){S.length===0&&S.needDrain&&(S.needDrain=!1,N.emit("drain"))})(U,_),_.pendingcb--,A(),K(U,_)}function O(U,_){_.bufferProcessing=!0;var M=_.bufferedRequest;if(U._writev&&M&&M.next){var A=_.bufferedRequestCount,N=new Array(A),S=_.corkedRequestsFree;S.entry=M;for(var w=0,j=!0;M;)N[w]=M,M.isBuf||(j=!1),M=M.next,w+=1;N.allBuffers=j,F(U,_,!0,_.length,N,"",S.finish),_.pendingcb++,_.lastBufferedRequest=null,S.next?(_.corkedRequestsFree=S.next,S.next=null):_.corkedRequestsFree=new r(_),_.bufferedRequestCount=0}else{for(;M;){var E=M.chunk,I=M.encoding,L=M.callback;if(F(U,_,!1,_.objectMode?1:E.length,E,I,L),M=M.next,_.bufferedRequestCount--,_.writing)break}M===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=M,_.bufferProcessing=!1}function $(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function B(U,_){U._final((function(M){_.pendingcb--,M&&U.emit("error",M),_.prefinished=!0,U.emit("prefinish"),K(U,_)}))}function K(U,_){var M=$(_);return M&&((function(A,N){N.prefinished||N.finalCalled||(typeof A._final=="function"?(N.pendingcb++,N.finalCalled=!0,i.nextTick(B,A,N)):(N.prefinished=!0,A.emit("prefinish")))})(U,_),_.pendingcb===0&&(_.finished=!0,U.emit("finish"))),M}o.inherits(D,p),T.prototype.getBuffer=function(){for(var U=this.bufferedRequest,_=[];U;)_.push(U),U=U.next;return _},(function(){try{Object.defineProperty(T.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(U){return!!y.call(this,U)||this===D&&U&&U._writableState instanceof T}})):y=function(U){return U instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(U,_,M){var A,N=this._writableState,S=!1,w=!N.objectMode&&(A=U,g.isBuffer(A)||A instanceof h);return w&&!g.isBuffer(U)&&(U=(function(j){return g.from(j)})(U)),typeof _=="function"&&(M=_,_=null),w?_="buffer":_||(_=N.defaultEncoding),typeof M!="function"&&(M=C),N.ended?(function(j,E){var I=new Error("write after end");j.emit("error",I),i.nextTick(E,I)})(this,M):(w||(function(j,E,I,L){var G=!0,X=!1;return I===null?X=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||E.objectMode||(X=new TypeError("Invalid non-string/buffer chunk")),X&&(j.emit("error",X),i.nextTick(L,X),G=!1),G})(this,N,U,M))&&(N.pendingcb++,S=(function(j,E,I,L,G,X){if(!I){var re=(function(z,W,se){return z.objectMode||z.decodeStrings===!1||typeof W!="string"||(W=g.from(W,se)),W})(E,L,G);L!==re&&(I=!0,G="buffer",L=re)}var q=E.objectMode?1:L.length;E.length+=q;var ee=E.length<E.highWaterMark;if(ee||(E.needDrain=!0),E.writing||E.corked){var R=E.lastBufferedRequest;E.lastBufferedRequest={chunk:L,encoding:G,isBuf:I,callback:X,next:null},R?R.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else F(j,E,!1,q,L,G,X);return ee})(this,N,w,U,_,M)),S},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||O(this,U))},D.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(U,_,M){M(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(U,_,M){var A=this._writableState;typeof U=="function"?(M=U,U=null,_=null):typeof _=="function"&&(M=_,_=null),U!=null&&this.write(U,_),A.corked&&(A.corked=1,this.uncork()),A.ending||(function(N,S,w){S.ending=!0,K(N,S),w&&(S.finished?i.nextTick(w):N.once("finish",w)),S.ended=!0,N.writable=!1})(this,A,M)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),D.prototype.destroy=b.destroy,D.prototype._undestroy=b.undestroy,D.prototype._destroy=function(U,_){this.end(),_(U)}}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,f,m){var d=t("safe-buffer").Buffer,s=t("util");f.exports=(function(){function a(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},a.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},a.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,n=""+r.data;r=r.next;)n+=i+r.data;return n},a.prototype.concat=function(i){if(this.length===0)return d.alloc(0);for(var r,n,l,o=d.allocUnsafe(i>>>0),c=this.head,p=0;c;)r=c.data,n=o,l=p,r.copy(n,l),p+=c.data.length,c=c.next;return o},a})(),s&&s.inspect&&s.inspect.custom&&(f.exports.prototype[s.inspect.custom]=function(){var a=s.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(t,f,m){var d=t("process-nextick-args");function s(a,i){a.emit("error",i)}f.exports={destroy:function(a,i){var r=this,n=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return n||l?(i?i(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,d.nextTick(s,this,a)):d.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,(function(o){!i&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,d.nextTick(s,r,o)):d.nextTick(s,r,o):i&&i(o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,f,m){arguments[4][490][0].apply(m,arguments)},{dup:490,events:422}],516:[function(t,f,m){f.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,f,m){(m=f.exports=t("./lib/_stream_readable.js")).Stream=m,m.Readable=m,m.Writable=t("./lib/_stream_writable.js"),m.Duplex=t("./lib/_stream_duplex.js"),m.Transform=t("./lib/_stream_transform.js"),m.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,f,m){f.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,f,m){f.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,f,m){arguments[4][217][0].apply(m,arguments)},{buffer:220,dup:217}],521:[function(t,f,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,f,m){arguments[4][218][0].apply(m,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,f,m){(function(d,s){(function(){var a=t("process/browser.js").nextTick,i=Function.prototype.apply,r=Array.prototype.slice,n={},l=0;function o(c,p){this._id=c,this._clearFn=p}m.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},m.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},m.clearTimeout=m.clearInterval=function(c){c.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},m.enroll=function(c,p){clearTimeout(c._idleTimeoutId),c._idleTimeout=p},m.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},m._unrefActive=m.active=function(c){clearTimeout(c._idleTimeoutId);var p=c._idleTimeout;p>=0&&(c._idleTimeoutId=setTimeout((function(){c._onTimeout&&c._onTimeout()}),p))},m.setImmediate=typeof d=="function"?d:function(c){var p=l++,g=!(arguments.length<2)&&r.call(arguments,1);return n[p]=!0,a((function(){n[p]&&(g?c.apply(null,g):c.call(null),m.clearImmediate(p))})),p},m.clearImmediate=typeof s=="function"?s:function(c){delete n[c]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,f,m){(function(d){(function(){function s(a){try{if(!d.localStorage)return!1}catch{return!1}var i=d.localStorage[a];return i!=null&&String(i).toLowerCase()==="true"}f.exports=function(a,i){if(s("noDeprecation"))return a;var r=!1;return function(){if(!r){if(s("throwDeprecation"))throw new Error(i);s("traceDeprecation")?console.trace(i):console.warn(i),r=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,f,m){typeof Object.create=="function"?f.exports=function(d,s){d.super_=s,d.prototype=Object.create(s.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:f.exports=function(d,s){d.super_=s;var a=function(){};a.prototype=s.prototype,d.prototype=new a,d.prototype.constructor=d}},{}],526:[function(t,f,m){f.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},{}],527:[function(t,f,m){(function(d,s){(function(){var a=/%[sdj%]/g;m.format=function(N){if(!T(N)){for(var S=[],w=0;w<arguments.length;w++)S.push(n(arguments[w]));return S.join(" ")}w=1;for(var j=arguments,E=j.length,I=String(N).replace(a,(function(G){if(G==="%%")return"%";if(w>=E)return G;switch(G){case"%s":return String(j[w++]);case"%d":return Number(j[w++]);case"%j":try{return JSON.stringify(j[w++])}catch{return"[Circular]"}default:return G}})),L=j[w];w<E;L=j[++w])b(L)||!H(L)?I+=" "+L:I+=" "+n(L);return I},m.deprecate=function(N,S){if(D(s.process))return function(){return m.deprecate(N,S).apply(this,arguments)};if(d.noDeprecation===!0)return N;var w=!1;return function(){if(!w){if(d.throwDeprecation)throw new Error(S);d.traceDeprecation?console.trace(S):console.error(S),w=!0}return N.apply(this,arguments)}};var i,r={};function n(N,S){var w={seen:[],stylize:o};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),y(S)?w.showHidden=S:S&&m._extend(w,S),D(w.showHidden)&&(w.showHidden=!1),D(w.depth)&&(w.depth=2),D(w.colors)&&(w.colors=!1),D(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=l),c(w,N,w.depth)}function l(N,S){var w=n.styles[S];return w?"\x1B["+n.colors[w][0]+"m"+N+"\x1B["+n.colors[w][1]+"m":N}function o(N,S){return N}function c(N,S,w){if(N.customInspect&&S&&B(S.inspect)&&S.inspect!==m.inspect&&(!S.constructor||S.constructor.prototype!==S)){var j=S.inspect(w,N);return T(j)||(j=c(N,j,w)),j}var E=(function(R,z){if(D(z))return R.stylize("undefined","undefined");if(T(z)){var W="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(W,"string")}if(C(z))return R.stylize(""+z,"number");if(y(z))return R.stylize(""+z,"boolean");if(b(z))return R.stylize("null","null")})(N,S);if(E)return E;var I=Object.keys(S),L=(function(R){var z={};return R.forEach((function(W,se){z[W]=!0})),z})(I);if(N.showHidden&&(I=Object.getOwnPropertyNames(S)),$(S)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return p(S);if(I.length===0){if(B(S)){var G=S.name?": "+S.name:"";return N.stylize("[Function"+G+"]","special")}if(F(S))return N.stylize(RegExp.prototype.toString.call(S),"regexp");if(O(S))return N.stylize(Date.prototype.toString.call(S),"date");if($(S))return p(S)}var X,re="",q=!1,ee=["{","}"];return h(S)&&(q=!0,ee=["[","]"]),B(S)&&(re=" [Function"+(S.name?": "+S.name:"")+"]"),F(S)&&(re=" "+RegExp.prototype.toString.call(S)),O(S)&&(re=" "+Date.prototype.toUTCString.call(S)),$(S)&&(re=" "+p(S)),I.length!==0||q&&S.length!=0?w<0?F(S)?N.stylize(RegExp.prototype.toString.call(S),"regexp"):N.stylize("[Object]","special"):(N.seen.push(S),X=q?(function(R,z,W,se,he){for(var ne=[],me=0,Se=z.length;me<Se;++me)A(z,String(me))?ne.push(g(R,z,W,se,String(me),!0)):ne.push("");return he.forEach((function(Ee){Ee.match(/^\d+$/)||ne.push(g(R,z,W,se,Ee,!0))})),ne})(N,S,w,L,I):I.map((function(R){return g(N,S,w,L,R,q)})),N.seen.pop(),(function(R,z,W){return R.reduce((function(se,he){return he.indexOf(`
`)>=0,se+he.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?W[0]+(z===""?"":z+`
 `)+" "+R.join(`,
  `)+" "+W[1]:W[0]+z+" "+R.join(", ")+" "+W[1]})(X,re,ee)):ee[0]+re+ee[1]}function p(N){return"["+Error.prototype.toString.call(N)+"]"}function g(N,S,w,j,E,I){var L,G,X;if((X=Object.getOwnPropertyDescriptor(S,E)||{value:S[E]}).get?G=X.set?N.stylize("[Getter/Setter]","special"):N.stylize("[Getter]","special"):X.set&&(G=N.stylize("[Setter]","special")),A(j,E)||(L="["+E+"]"),G||(N.seen.indexOf(X.value)<0?(G=b(w)?c(N,X.value,null):c(N,X.value,w-1)).indexOf(`
`)>-1&&(G=I?G.split(`
`).map((function(re){return"  "+re})).join(`
`).substr(2):`
`+G.split(`
`).map((function(re){return"   "+re})).join(`
`)):G=N.stylize("[Circular]","special")),D(L)){if(I&&E.match(/^\d+$/))return G;(L=JSON.stringify(""+E)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=N.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=N.stylize(L,"string"))}return L+": "+G}function h(N){return Array.isArray(N)}function y(N){return typeof N=="boolean"}function b(N){return N===null}function C(N){return typeof N=="number"}function T(N){return typeof N=="string"}function D(N){return N===void 0}function F(N){return H(N)&&K(N)==="[object RegExp]"}function H(N){return typeof N=="object"&&N!==null}function O(N){return H(N)&&K(N)==="[object Date]"}function $(N){return H(N)&&(K(N)==="[object Error]"||N instanceof Error)}function B(N){return typeof N=="function"}function K(N){return Object.prototype.toString.call(N)}function U(N){return N<10?"0"+N.toString(10):N.toString(10)}m.debuglog=function(N){if(D(i)&&(i=d.env.NODE_DEBUG||""),N=N.toUpperCase(),!r[N])if(new RegExp("\\b"+N+"\\b","i").test(i)){var S=d.pid;r[N]=function(){var w=m.format.apply(m,arguments);console.error("%s %d: %s",N,S,w)}}else r[N]=function(){};return r[N]},m.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},m.isArray=h,m.isBoolean=y,m.isNull=b,m.isNullOrUndefined=function(N){return N==null},m.isNumber=C,m.isString=T,m.isSymbol=function(N){return typeof N=="symbol"},m.isUndefined=D,m.isRegExp=F,m.isObject=H,m.isDate=O,m.isError=$,m.isFunction=B,m.isPrimitive=function(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||N===void 0},m.isBuffer=t("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var N=new Date,S=[U(N.getHours()),U(N.getMinutes()),U(N.getSeconds())].join(":");return[N.getDate(),_[N.getMonth()],S].join(" ")}function A(N,S){return Object.prototype.hasOwnProperty.call(N,S)}m.log=function(){console.log("%s - %s",M(),m.format.apply(m,arguments))},m.inherits=t("inherits"),m._extend=function(N,S){if(!S||!H(S))return N;for(var w=Object.keys(S),j=w.length;j--;)N[w[j]]=S[w[j]];return N}}).call(this)}).call(this,t("_process"),typeof Ar<"u"?Ar:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"v1",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(m,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(m,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(m,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(m,"NIL",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(m,"version",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(m,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(m,"stringify",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(m,"parse",{enumerable:!0,get:function(){return c.default}});var d=p(t("./v1.js")),s=p(t("./v3.js")),a=p(t("./v4.js")),i=p(t("./v5.js")),r=p(t("./nil.js")),n=p(t("./version.js")),l=p(t("./validate.js")),o=p(t("./stringify.js")),c=p(t("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,f,m){function d(c){return 14+(c+64>>>9<<4)+1}function s(c,p){const g=(65535&c)+(65535&p);return(c>>16)+(p>>16)+(g>>16)<<16|65535&g}function a(c,p,g,h,y,b){return s((C=s(s(p,c),s(h,b)))<<(T=y)|C>>>32-T,g);var C,T}function i(c,p,g,h,y,b,C){return a(p&g|~p&h,c,p,y,b,C)}function r(c,p,g,h,y,b,C){return a(p&h|g&~h,c,p,y,b,C)}function n(c,p,g,h,y,b,C){return a(p^g^h,c,p,y,b,C)}function l(c,p,g,h,y,b,C){return a(g^(p|~h),c,p,y,b,C)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var o=function(c){if(typeof c=="string"){const p=unescape(encodeURIComponent(c));c=new Uint8Array(p.length);for(let g=0;g<p.length;++g)c[g]=p.charCodeAt(g)}return(function(p){const g=[],h=32*p.length;for(let y=0;y<h;y+=8){const b=p[y>>5]>>>y%32&255,C=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);g.push(C)}return g})((function(p,g){p[g>>5]|=128<<g%32,p[d(g)-1]=g;let h=1732584193,y=-271733879,b=-1732584194,C=271733878;for(let T=0;T<p.length;T+=16){const D=h,F=y,H=b,O=C;h=i(h,y,b,C,p[T],7,-680876936),C=i(C,h,y,b,p[T+1],12,-389564586),b=i(b,C,h,y,p[T+2],17,606105819),y=i(y,b,C,h,p[T+3],22,-1044525330),h=i(h,y,b,C,p[T+4],7,-176418897),C=i(C,h,y,b,p[T+5],12,1200080426),b=i(b,C,h,y,p[T+6],17,-1473231341),y=i(y,b,C,h,p[T+7],22,-45705983),h=i(h,y,b,C,p[T+8],7,1770035416),C=i(C,h,y,b,p[T+9],12,-1958414417),b=i(b,C,h,y,p[T+10],17,-42063),y=i(y,b,C,h,p[T+11],22,-1990404162),h=i(h,y,b,C,p[T+12],7,1804603682),C=i(C,h,y,b,p[T+13],12,-40341101),b=i(b,C,h,y,p[T+14],17,-1502002290),y=i(y,b,C,h,p[T+15],22,1236535329),h=r(h,y,b,C,p[T+1],5,-165796510),C=r(C,h,y,b,p[T+6],9,-1069501632),b=r(b,C,h,y,p[T+11],14,643717713),y=r(y,b,C,h,p[T],20,-373897302),h=r(h,y,b,C,p[T+5],5,-701558691),C=r(C,h,y,b,p[T+10],9,38016083),b=r(b,C,h,y,p[T+15],14,-660478335),y=r(y,b,C,h,p[T+4],20,-405537848),h=r(h,y,b,C,p[T+9],5,568446438),C=r(C,h,y,b,p[T+14],9,-1019803690),b=r(b,C,h,y,p[T+3],14,-187363961),y=r(y,b,C,h,p[T+8],20,1163531501),h=r(h,y,b,C,p[T+13],5,-1444681467),C=r(C,h,y,b,p[T+2],9,-51403784),b=r(b,C,h,y,p[T+7],14,1735328473),y=r(y,b,C,h,p[T+12],20,-1926607734),h=n(h,y,b,C,p[T+5],4,-378558),C=n(C,h,y,b,p[T+8],11,-2022574463),b=n(b,C,h,y,p[T+11],16,1839030562),y=n(y,b,C,h,p[T+14],23,-35309556),h=n(h,y,b,C,p[T+1],4,-1530992060),C=n(C,h,y,b,p[T+4],11,1272893353),b=n(b,C,h,y,p[T+7],16,-155497632),y=n(y,b,C,h,p[T+10],23,-1094730640),h=n(h,y,b,C,p[T+13],4,681279174),C=n(C,h,y,b,p[T],11,-358537222),b=n(b,C,h,y,p[T+3],16,-722521979),y=n(y,b,C,h,p[T+6],23,76029189),h=n(h,y,b,C,p[T+9],4,-640364487),C=n(C,h,y,b,p[T+12],11,-421815835),b=n(b,C,h,y,p[T+15],16,530742520),y=n(y,b,C,h,p[T+2],23,-995338651),h=l(h,y,b,C,p[T],6,-198630844),C=l(C,h,y,b,p[T+7],10,1126891415),b=l(b,C,h,y,p[T+14],15,-1416354905),y=l(y,b,C,h,p[T+5],21,-57434055),h=l(h,y,b,C,p[T+12],6,1700485571),C=l(C,h,y,b,p[T+3],10,-1894986606),b=l(b,C,h,y,p[T+10],15,-1051523),y=l(y,b,C,h,p[T+1],21,-2054922799),h=l(h,y,b,C,p[T+8],6,1873313359),C=l(C,h,y,b,p[T+15],10,-30611744),b=l(b,C,h,y,p[T+6],15,-1560198380),y=l(y,b,C,h,p[T+13],21,1309151649),h=l(h,y,b,C,p[T+4],6,-145523070),C=l(C,h,y,b,p[T+11],10,-1120210379),b=l(b,C,h,y,p[T+2],15,718787259),y=l(y,b,C,h,p[T+9],21,-343485551),h=s(h,D),y=s(y,F),b=s(b,H),C=s(C,O)}return[h,y,b,C]})((function(p){if(p.length===0)return[];const g=8*p.length,h=new Uint32Array(d(g));for(let y=0;y<g;y+=8)h[y>>5]|=(255&p[y/8])<<y%32;return h})(c),8*c.length))};m.default=o},{}],530:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d,s=(d=t("./validate.js"))&&d.__esModule?d:{default:d},a=function(i){if(!(0,s.default)(i))throw TypeError("Invalid UUID");let r;const n=new Uint8Array(16);return n[0]=(r=parseInt(i.slice(0,8),16))>>>24,n[1]=r>>>16&255,n[2]=r>>>8&255,n[3]=255&r,n[4]=(r=parseInt(i.slice(9,13),16))>>>8,n[5]=255&r,n[6]=(r=parseInt(i.slice(14,18),16))>>>8,n[7]=255&r,n[8]=(r=parseInt(i.slice(19,23),16))>>>8,n[9]=255&r,n[10]=(r=parseInt(i.slice(24,36),16))/1099511627776&255,n[11]=r/4294967296&255,n[12]=r>>>24&255,n[13]=r>>>16&255,n[14]=r>>>8&255,n[15]=255&r,n};m.default=a},{"./validate.js":541}],532:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0,m.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,f,m){let d;Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(s)};const s=new Uint8Array(16)},{}],534:[function(t,f,m){function d(i,r,n,l){switch(i){case 0:return r&n^~r&l;case 1:return r^n^l;case 2:return r&n^r&l^n&l;case 3:return r^n^l}}function s(i,r){return i<<r|i>>>32-r}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var a=function(i){const r=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const p=unescape(encodeURIComponent(i));i=[];for(let g=0;g<p.length;++g)i.push(p.charCodeAt(g))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const l=i.length/4+2,o=Math.ceil(l/16),c=new Array(o);for(let p=0;p<o;++p){const g=new Uint32Array(16);for(let h=0;h<16;++h)g[h]=i[64*p+4*h]<<24|i[64*p+4*h+1]<<16|i[64*p+4*h+2]<<8|i[64*p+4*h+3];c[p]=g}c[o-1][14]=8*(i.length-1)/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=8*(i.length-1)&4294967295;for(let p=0;p<o;++p){const g=new Uint32Array(80);for(let D=0;D<16;++D)g[D]=c[p][D];for(let D=16;D<80;++D)g[D]=s(g[D-3]^g[D-8]^g[D-14]^g[D-16],1);let h=n[0],y=n[1],b=n[2],C=n[3],T=n[4];for(let D=0;D<80;++D){const F=Math.floor(D/20),H=s(h,5)+d(F,y,b,C)+T+r[F]+g[D]>>>0;T=C,C=b,b=s(y,30)>>>0,y=h,h=H}n[0]=n[0]+h>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+T>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};m.default=a},{}],535:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d,s=(d=t("./validate.js"))&&d.__esModule?d:{default:d};const a=[];for(let r=0;r<256;++r)a.push((r+256).toString(16).substr(1));var i=function(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const l=(a[r[n+0]]+a[r[n+1]]+a[r[n+2]]+a[r[n+3]]+"-"+a[r[n+4]]+a[r[n+5]]+"-"+a[r[n+6]]+a[r[n+7]]+"-"+a[r[n+8]]+a[r[n+9]]+"-"+a[r[n+10]]+a[r[n+11]]+a[r[n+12]]+a[r[n+13]]+a[r[n+14]]+a[r[n+15]]).toLowerCase();if(!(0,s.default)(l))throw TypeError("Stringified UUID is invalid");return l};m.default=i},{"./validate.js":541}],536:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d=a(t("./rng.js")),s=a(t("./stringify.js"));function a(c){return c&&c.__esModule?c:{default:c}}let i,r,n=0,l=0;var o=function(c,p,g){let h=p&&g||0;const y=p||new Array(16);let b=(c=c||{}).node||i,C=c.clockseq!==void 0?c.clockseq:r;if(b==null||C==null){const $=c.random||(c.rng||d.default)();b==null&&(b=i=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),C==null&&(C=r=16383&($[6]<<8|$[7]))}let T=c.msecs!==void 0?c.msecs:Date.now(),D=c.nsecs!==void 0?c.nsecs:l+1;const F=T-n+(D-l)/1e4;if(F<0&&c.clockseq===void 0&&(C=C+1&16383),(F<0||T>n)&&c.nsecs===void 0&&(D=0),D>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=T,l=D,r=C,T+=122192928e5;const H=(1e4*(268435455&T)+D)%4294967296;y[h++]=H>>>24&255,y[h++]=H>>>16&255,y[h++]=H>>>8&255,y[h++]=255&H;const O=T/4294967296*1e4&268435455;y[h++]=O>>>8&255,y[h++]=255&O,y[h++]=O>>>24&15|16,y[h++]=O>>>16&255,y[h++]=C>>>8|128,y[h++]=255&C;for(let $=0;$<6;++$)y[h+$]=b[$];return p||(0,s.default)(y)};m.default=o},{"./rng.js":533,"./stringify.js":535}],537:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d=a(t("./v35.js")),s=a(t("./md5.js"));function a(r){return r&&r.__esModule?r:{default:r}}var i=(0,d.default)("v3",48,s.default);m.default=i},{"./md5.js":529,"./v35.js":538}],538:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(n,l,o){function c(p,g,h,y){if(typeof p=="string"&&(p=(function(C){C=unescape(encodeURIComponent(C));const T=[];for(let D=0;D<C.length;++D)T.push(C.charCodeAt(D));return T})(p)),typeof g=="string"&&(g=(0,s.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+p.length);if(b.set(g),b.set(p,g.length),b=o(b),b[6]=15&b[6]|l,b[8]=63&b[8]|128,h){y=y||0;for(let C=0;C<16;++C)h[y+C]=b[C];return h}return(0,d.default)(b)}try{c.name=n}catch{}return c.DNS=i,c.URL=r,c},m.URL=m.DNS=void 0;var d=a(t("./stringify.js")),s=a(t("./parse.js"));function a(n){return n&&n.__esModule?n:{default:n}}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";m.DNS=i;const r="6ba7b811-9dad-11d1-80b4-00c04fd430c8";m.URL=r},{"./parse.js":531,"./stringify.js":535}],539:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d=a(t("./rng.js")),s=a(t("./stringify.js"));function a(r){return r&&r.__esModule?r:{default:r}}var i=function(r,n,l){const o=(r=r||{}).random||(r.rng||d.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){l=l||0;for(let c=0;c<16;++c)n[l+c]=o[c];return n}return(0,s.default)(o)};m.default=i},{"./rng.js":533,"./stringify.js":535}],540:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d=a(t("./v35.js")),s=a(t("./sha1.js"));function a(r){return r&&r.__esModule?r:{default:r}}var i=(0,d.default)("v5",80,s.default);m.default=i},{"./sha1.js":534,"./v35.js":538}],541:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d,s=(d=t("./regex.js"))&&d.__esModule?d:{default:d},a=function(i){return typeof i=="string"&&s.default.test(i)};m.default=a},{"./regex.js":532}],542:[function(t,f,m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var d,s=(d=t("./validate.js"))&&d.__esModule?d:{default:d},a=function(i){if(!(0,s.default)(i))throw TypeError("Invalid UUID");return parseInt(i.substr(14,1),16)};m.default=a},{"./validate.js":541}],543:[function(t,f,m){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR=`	
\r ---`,m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-z-----------",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9--",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function d(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isS=function(s){return s===32||s===10||s===13||s===9},m.isNameStartChar=d,m.isNameChar=function(s){return d(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(t,f,m){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(m,"__esModule",{value:!0}),m.CHAR="---",m.RESTRICTED_CHAR="-\b\v\f---",m.S=` 	\r
`,m.NAME_START_CHAR=":A-Z_a-z-----------",m.NAME_CHAR="-"+m.NAME_START_CHAR+".0-9--",m.CHAR_RE=new RegExp("^["+m.CHAR+"]$","u"),m.RESTRICTED_CHAR_RE=new RegExp("^["+m.RESTRICTED_CHAR+"]$","u"),m.S_RE=new RegExp("^["+m.S+"]+$","u"),m.NAME_START_CHAR_RE=new RegExp("^["+m.NAME_START_CHAR+"]$","u"),m.NAME_CHAR_RE=new RegExp("^["+m.NAME_CHAR+"]$","u"),m.NAME_RE=new RegExp("^["+m.NAME_START_CHAR+"]["+m.NAME_CHAR+"]*$","u"),m.NMTOKEN_RE=new RegExp("^["+m.NAME_CHAR+"]+$","u");function d(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}m.S_LIST=[32,10,13,9],m.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},m.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},m.isS=function(s){return s===32||s===10||s===13||s===9},m.isNameStartChar=d,m.isNameChar=function(s){return d(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(t,f,m){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function d(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(m,"__esModule",{value:!0}),m.NC_NAME_START_CHAR="A-Z_a-z------------",m.NC_NAME_CHAR="-"+m.NC_NAME_START_CHAR+".0-9--",m.NC_NAME_START_CHAR_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]$","u"),m.NC_NAME_CHAR_RE=new RegExp("^["+m.NC_NAME_CHAR+"]$","u"),m.NC_NAME_RE=new RegExp("^["+m.NC_NAME_START_CHAR+"]["+m.NC_NAME_CHAR+"]*$","u"),m.isNCNameStartChar=d,m.isNCNameChar=function(s){return d(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(dm)),dm.exports}var yg=E6();const Dc={name:"",address:"",taxNumber:"",taxOffice:"",phone:"",email:"",website:"",logoDataUrl:"",iban:"",bankAccountId:void 0},T6=[],P6=["Genel"],D6=[],I6={success:"border-emerald-200 bg-emerald-50 text-emerald-900",info:"border-indigo-200 bg-indigo-50 text-indigo-900",error:"border-red-200 bg-red-50 text-red-900"},Ic=k=>`${k>=0?"+":""}${k.toFixed(1)}%`,M6=()=>{const{isAuthenticated:k,user:x,logout:t,tenant:f}=wn(),{formatCurrency:m}=$r(),{t:d,i18n:s}=Vt(),{prefs:a}=f0(),[i,r]=Z.useState("dashboard"),[n,l]=Z.useState(void 0);Z.useEffect(()=>{console.log("CurrentPage deiti:",i)},[i]),Z.useEffect(()=>{try{i.startsWith("legal-")&&(window.scrollTo({top:0,behavior:"auto"}),window.scrollY>0&&window.scrollTo(0,0))}catch{}},[i]),Z.useEffect(()=>{const Q="true".toLowerCase()==="true",oe=x?.isEmailVerified===!0;if(Q&&k&&!oe){const de=new Set(["verify-email","verify-notice","landing","about","api"]),xe=i.startsWith("legal-");if(!de.has(i)&&!xe){try{window.location.hash="verify-notice"}catch{}r("verify-notice")}}},[k,x,i]),Z.useEffect(()=>{Sm.setConfig({googleAnalytics:{measurementId:"G-XXXXXXXXXX",enabled:!0},matomo:{siteId:"1",url:"https://your-matomo-domain.com",enabled:!1},hotjar:{hjid:"0000000",hjsv:"6",enabled:!1}})},[]);const[o,c]=Z.useState({name:x?.firstName||"User",email:x?.email||""}),[p,g]=Z.useState([]),[h,y]=Z.useState(()=>Dc);Z.useEffect(()=>{let Q=!1;(async()=>{try{const de=localStorage.getItem("tenantId")||"",xe=de?`companyProfile_${de}`:"companyProfile",Me=await Qi.getJSON(xe);let Ve=Me;if(!Ve)try{const Le=de?`companyProfile_${de}`:"companyProfile",Je=localStorage.getItem(Le)||localStorage.getItem(`${Le}_plain`)||localStorage.getItem("company");Ve=Je?JSON.parse(Je):null}catch{}if(!Q&&Ve&&(y({...Dc,...Ve}),!Me))try{await Qi.setJSON(xe,Ve)}catch{}}catch{}})();const oe=()=>{(async()=>{try{const de=localStorage.getItem("tenantId")||"",xe=de?`companyProfile_${de}`:"companyProfile",Me=await Qi.getJSON(xe);if(Me){y({...Dc,...Me});return}const Ve=de?`companyProfile_${de}`:"companyProfile",Le=localStorage.getItem(Ve)||localStorage.getItem(`${Ve}_plain`)||localStorage.getItem("company");if(Le){const Je=JSON.parse(Le);y({...Dc,...Je})}}catch{}})()};return window.addEventListener("company-profile-updated",oe),()=>{Q=!0,window.removeEventListener("company-profile-updated",oe)}},[]),Z.useEffect(()=>{let Q=!1;return(async()=>{try{if(!localStorage.getItem("auth_token")||!k)return;const{tenantsApi:de}=await _r(async()=>{const{tenantsApi:Le}=await Promise.resolve().then(()=>TS);return{tenantsApi:Le}},void 0),xe=await de.getMyTenant();if(!xe)return;const Me=(xe.settings||{})?.brand||{};try{const Le=localStorage.getItem("tenantId")||f?.id||"",Je=Le?`companyProfile_${Le}`:"companyProfile",He=await Qi.getJSON(Je).catch(()=>null),We=(()=>{try{const wt=Le?`companyProfile_${Le}`:"companyProfile",$t=localStorage.getItem(wt)||localStorage.getItem(`${wt}_plain`)||localStorage.getItem("company");return $t?JSON.parse($t):null}catch{return null}})(),Xe=He||We,gt=!!(Me?.logoDataUrl||Me?.bankAccountId||Me?.country),jt=!!(xe?.taxNumber||xe?.taxOffice||xe?.address||xe?.phone||xe?.email||xe?.website||xe?.siretNumber||xe?.sirenNumber||xe?.tvaNumber||xe?.apeCode||xe?.rcsNumber||xe?.steuernummer||xe?.umsatzsteuerID||xe?.handelsregisternummer||xe?.geschaeftsfuehrer||xe?.einNumber||xe?.taxId||xe?.businessLicenseNumber||xe?.stateOfIncorporation);if(!!(Xe&&(Xe.logoDataUrl||Xe.taxNumber||Xe.taxOffice||Xe.address||Xe.phone||Xe.email||Xe.website||Xe.siretNumber||Xe.sirenNumber||Xe.tvaNumber||Xe.apeCode||Xe.rcsNumber||Xe.steuernummer||Xe.umsatzsteuerID||Xe.handelsregisternummer||Xe.geschaeftsfuehrer||Xe.einNumber||Xe.taxId||Xe.businessLicenseNumber||Xe.stateOfIncorporation))&&!gt&&!jt)try{await de.updateMyTenant({companyName:xe?.companyName||Xe.name||void 0,address:Xe.address||void 0,taxNumber:Xe.taxNumber||void 0,taxOffice:Xe.taxOffice||void 0,phone:Xe.phone||void 0,email:Xe.email||void 0,website:Xe.website||void 0,siretNumber:Xe.siretNumber||void 0,sirenNumber:Xe.sirenNumber||void 0,apeCode:Xe.apeCode||void 0,tvaNumber:Xe.tvaNumber||void 0,rcsNumber:Xe.rcsNumber||void 0,steuernummer:Xe.steuernummer||void 0,umsatzsteuerID:Xe.umsatzsteuerID||void 0,handelsregisternummer:Xe.handelsregisternummer||void 0,geschaeftsfuehrer:Xe.geschaeftsfuehrer||void 0,einNumber:Xe.einNumber||void 0,taxId:Xe.taxId||void 0,businessLicenseNumber:Xe.businessLicenseNumber||void 0,stateOfIncorporation:Xe.stateOfIncorporation||void 0,settings:{brand:{logoDataUrl:Xe.logoDataUrl||"",bankAccountId:Xe.bankAccountId||void 0,country:Xe.country||""}}});const wt=await de.getMyTenant();wt&&(xe.settings=wt.settings,xe.address=wt.address,xe.taxNumber=wt.taxNumber,xe.taxOffice=wt.taxOffice,xe.phone=wt.phone,xe.email=wt.email,xe.website=wt.website,Object.assign(xe,{siretNumber:wt.siretNumber,sirenNumber:wt.sirenNumber,apeCode:wt.apeCode,tvaNumber:wt.tvaNumber,rcsNumber:wt.rcsNumber,steuernummer:wt.steuernummer,umsatzsteuerID:wt.umsatzsteuerID,handelsregisternummer:wt.handelsregisternummer,geschaeftsfuehrer:wt.geschaeftsfuehrer,einNumber:wt.einNumber,taxId:wt.taxId,businessLicenseNumber:wt.businessLicenseNumber,stateOfIncorporation:wt.stateOfIncorporation}))}catch{}}catch{}const Ve={name:xe.companyName||xe.name||"",address:xe.address||"",taxNumber:xe.taxNumber||"",taxOffice:xe.taxOffice||"",phone:xe.phone||"",email:xe.email||"",website:xe.website||"",logoDataUrl:Me.logoDataUrl||"",bankAccountId:Me.bankAccountId||Me.defaultBankAccountId||void 0,country:Me.country||void 0,mersisNumber:xe.mersisNumber||"",kepAddress:xe.kepAddress||"",siretNumber:xe.siretNumber||"",sirenNumber:xe.sirenNumber||"",apeCode:xe.apeCode||"",tvaNumber:xe.tvaNumber||"",rcsNumber:xe.rcsNumber||"",steuernummer:xe.steuernummer||"",umsatzsteuerID:xe.umsatzsteuerID||"",handelsregisternummer:xe.handelsregisternummer||"",geschaeftsfuehrer:xe.geschaeftsfuehrer||"",einNumber:xe.einNumber||"",taxId:xe.taxId||"",businessLicenseNumber:xe.businessLicenseNumber||"",stateOfIncorporation:xe.stateOfIncorporation||""};if(!Q){y(Ve);try{const Le=localStorage.getItem("tenantId")||"",Je=Le?`companyProfile_${Le}`:"companyProfile";await Qi.setJSON(Je,Ve),window.dispatchEvent(new Event("company-profile-updated"))}catch{}}}catch{}})(),()=>{Q=!0}},[k]);const[b,C]=Z.useState(()=>{const Q=localStorage.getItem("tenantId")||"",oe=Q?`notifications_${Q}`:"notifications",de=localStorage.getItem(oe);if(de)try{return JSON.parse(de).map((Me,Ve)=>({...Me,id:Me.relatedId?`${Me.relatedId}-${Date.now()}-${Ve}-${Math.random().toString(36).substr(2,9)}`:`notif-${Date.now()}-${Ve}-${Math.random().toString(36).substr(2,9)}`}))}catch(xe){console.error("Notifications parse error:",xe)}return T6}),[T,D]=Z.useState(!1),[F,H]=Z.useState(!1),[O,$]=Z.useState(!1),[B,K]=Z.useState(!1),[U,_]=Z.useState(!1),[M,A]=Z.useState(!1),[N,S]=Z.useState(!1),[w,j]=Z.useState(!1),[E,I]=Z.useState(!1),[L,G]=Z.useState(!1),[X,re]=Z.useState(!1),[q,ee]=Z.useState(!1),[R,z]=Z.useState(!1),[W,se]=Z.useState(!1),[he,ne]=Z.useState(!1),[me,Se]=Z.useState(!1),[Ee,le]=Z.useState(!1),[ie,ce]=Z.useState(!1),[ae,ge]=Z.useState(!1),[pe,Ae]=Z.useState(!1),[fe,te]=Z.useState(!1),[ye,Te]=Z.useState(!1),[Ce,je]=Z.useState(!1),[tt,Pe]=Z.useState(!1),[ke,ze]=Z.useState(!1),[qe,Fe]=Z.useState(null),[at,we]=Z.useState(!1),[Qe,ut]=Z.useState(null),[be,Be]=Z.useState(null),[ot,lt]=Z.useState(null),[Et,Rt]=Z.useState(null),[yt,Ut]=Z.useState(null),[$e,Ke]=Z.useState(null),[ht,St]=Z.useState(null),[xt,Ne]=Z.useState(null),[Ie,Ge]=Z.useState(null),[ct,Mt]=Z.useState(null),[Ct,Jt]=Z.useState(null),[Pt,Ot]=Z.useState([]),[tr,Wt]=Z.useState([]),[Lt,gr]=Z.useState([]),[pt,De]=Z.useState([]),[st,At]=Z.useState([]),[ve,Re]=Z.useState([]),[nt,dt]=Z.useState(()=>P6),[Ft,bt]=Z.useState(()=>D6),[Nt,Kt]=Z.useState([]),[ir,rr]=Z.useState([]),[nr,ur]=Z.useState(!0),[kr,ar]=Z.useState(null),[Lr,Vr]=Z.useState(null);Z.useEffect(()=>{try{const Q=(localStorage.getItem("tenantId")||"").toString(),oe=Q?`customers_cache_${Q}`:"customers_cache",de=JSON.stringify(Pt.map(xe=>({id:xe.id,name:xe.name,email:xe.email||"",phone:xe.phone||"",address:xe.address||"",taxNumber:xe.taxNumber||"",company:xe.company||""})));localStorage.setItem(oe,de)}catch(Q){console.warn("customers_cache yazlamad",Q)}},[Pt]),Z.useEffect(()=>{try{const de=(window.location.pathname||"").match(/\/public\/quote\/(.+)$/);de&&de[1]&&Vr(decodeURIComponent(de[1]))}catch{}(async()=>{if(!localStorage.getItem("auth_token")||!k){console.log(" Token yok veya authenticated deil, state temizleniyor"),Ot([]),Wt([]),Re([]),gr([]),De([]),ur(!1);return}try{ur(!0),console.log(" Backend verisi ykleniyor..."),console.log(" Customers ykleniyor...");const de=await K4();console.log(" Suppliers ykleniyor...");const xe=await dS();console.log(" Products ykleniyor...");const Me=await Y4();console.log(" Invoices ykleniyor...");const Ve=await Q4();console.log(" Expenses ykleniyor...");const Le=await nS();console.log(" Sales ykleniyor...");let Je=[];try{Je=await tS()}catch(Tt){console.warn("Sales yklenemedi, offline cache kullanlacak:",Tt)}console.log(" Categories ykleniyor...");const He=await _r(async()=>{const{productCategoriesApi:Tt}=await import("./product-categories-D0ycK-X5.js");return{productCategoriesApi:Tt}},[]).then(({productCategoriesApi:Tt})=>Tt.getAll());console.log(" Backend verisi yklendi. Raw data:",{customers:de,suppliers:xe,products:Me,invoices:Ve,expenses:Le,categories:He,sales:Je});const We=Array.isArray(de)?de:[],Xe=Array.isArray(xe)?xe:[],gt=Array.isArray(Me)?Me:[],jt=Array.isArray(Ve)?Ve:[],ft=Array.isArray(Le)?Le:[],wt=Array.isArray(He)?He:[];console.log(" Gvenli veri boyutlar:",{customers:We.length,suppliers:Xe.length,products:gt.length,invoices:jt.length,expenses:ft.length,categories:wt.length}),Ot(We),Wt(Xe),bt(wt);const $t=wt.map(Tt=>Tt.name);dt(Tt=>{const Yt=new Set([...Tt,...$t]);return Array.from(Yt)});const Ht=gt.map(Tt=>({...Tt,sku:Tt.code,unitPrice:Number(Tt.price)||0,costPrice:Number(Tt.cost)||0,stockQuantity:Number(Tt.stock)||0,reorderLevel:Number(Tt.minStock)||0,taxRate:Number(Tt.taxRate)||0,categoryTaxRateOverride:Tt.categoryTaxRateOverride?Number(Tt.categoryTaxRateOverride):null,status:Tt.stock===0?"out-of-stock":Tt.stock<=Tt.minStock?"low":"active"}));Re(Ht);const br=ft.map(Tt=>{let Yt=null;Tt&&typeof Tt.supplier=="object"&&Tt.supplier!==null?Yt=Tt.supplier:typeof Tt?.supplier=="string"&&Tt.supplier.trim()?Yt={name:String(Tt.supplier).trim()}:typeof Tt?.supplierName=="string"&&Tt.supplierName.trim()&&(Yt={name:String(Tt.supplierName).trim()});const Ir=String(Yt?.name||"").trim().toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(Ir)&&(Yt=null),{...Tt,supplier:Yt,expenseDate:typeof Tt.expenseDate=="string"?Tt.expenseDate:new Date(Tt.expenseDate).toISOString().split("T")[0],dueDate:Tt.dueDate||Tt.expenseDate}});if(gr(jt),De(br),Array.isArray(Je)){const Tt=Je.map(Yt=>{const Ir=Yt?.customer?.name,Nr=Yt?.customerName,Hr=Yt?.customerId?We.find(zt=>String(zt.id)===String(Yt.customerId)):void 0,Xt=Ir||Nr||Hr?.name||"",cr=Yt?.customerEmail||Hr?.email||"",vr=Array.isArray(Yt?.items)&&Yt.items.length>0?Yt.items[0]:void 0,ks=Yt?.productId||vr?.productId,fn=Yt?.productName||vr?.productName||vr?.description||"",ls=Number(Yt?.quantity??vr?.quantity??1);let zn=Number(Yt?.unitPrice??vr?.unitPrice??0);const Ns=ks?Ht.find(zt=>String(zt.id)===String(ks)):void 0,Qn=Yt?.productUnit||Ns?.unit||"";(!Number.isFinite(zn)||zn===0)&&Number.isFinite(Number(Yt?.subtotal))&&ls>0&&(zn=Number(Yt.subtotal)/ls);const Oa=(()=>{const zt=String(Yt?.status||"").toLowerCase();return zt==="created"||zt==="invoiced"?"completed":zt==="refunded"?"cancelled":zt==="cancelled"||zt==="completed"||zt==="pending"?zt:"completed"})();return{...Yt,customerName:Xt,customerEmail:cr,productId:ks,productName:fn,productUnit:Qn,quantity:ls,unitPrice:zn,date:Yt.saleDate?String(Yt.saleDate).slice(0,10):Yt.date,amount:Number(Yt.total??Yt.amount??0),status:Oa}});At(Yt=>{const Ir=new Map,Nr=Hr=>`${Hr?.saleNumber||""}#${Hr?.id||""}`;for(const Hr of Array.isArray(Yt)?Yt:[])Ir.set(Nr(Hr),Hr);for(const Hr of Tt)Ir.set(Nr(Hr),Hr);return Array.from(Ir.values())})}console.log(" Loaded expenses sample (first 10):",br.slice(0,10).map(Tt=>({id:Tt.id,amount:Tt.amount,status:Tt.status,expenseDate:Tt.expenseDate})));try{const Tt=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Yt=Tt?`customers_cache_${Tt}`:"customers_cache",Ir=Tt?`suppliers_cache_${Tt}`:"suppliers_cache",Nr=Tt?`products_cache_${Tt}`:"products_cache",Hr=Tt?`invoices_cache_${Tt}`:"invoices_cache",Xt=Tt?`expenses_cache_${Tt}`:"expenses_cache";localStorage.setItem(Yt,JSON.stringify(We)),localStorage.setItem(Ir,JSON.stringify(Xe)),localStorage.setItem(Nr,JSON.stringify(Ht)),localStorage.setItem(Hr,JSON.stringify(jt)),localStorage.setItem(Xt,JSON.stringify(ft))}catch{}if(Array.isArray(Je)){const Tt=localStorage.getItem("tenantId")||"",Yt=Tt?`sales_cache_${Tt}`:"sales_cache";try{localStorage.setItem(Yt,JSON.stringify(Je))}catch{}}console.log(" Tm veriler localStorage'a kaydedildi")}catch(de){console.error(" Backend veri ykleme hatas:",de),Bt("Veriler yklenirken hata olutu","error")}finally{ur(!1)}})()},[k,f?.id,x?.tenantId]),Z.useEffect(()=>{try{const Q=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",oe=Q?`bankAccounts_${Q}`:"bankAccounts";localStorage.setItem(oe,JSON.stringify(Nt))}catch{}},[Nt,f?.id,x?.tenantId]);const qr=sr.useRef(!1);Z.useEffect(()=>{if(!qr.current)try{const Q=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",oe=Q?`sales_${Q}`:"sales",de=Q?`sales_backup_${Q}`:"sales_backup",xe=Q?`sales_last_seen_ts_${Q}`:"sales_last_seen_ts";localStorage.setItem(oe,JSON.stringify(st)),localStorage.setItem(de,JSON.stringify(Array.isArray(st)?st:[])),localStorage.setItem(xe,String(Date.now()))}catch{}},[st,f?.id,x?.tenantId]),Z.useEffect(()=>{try{if(k)return;const Q=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",oe=Q?`sales_${Q}`:"sales",de=Q?`sales_cache_${Q}`:"sales_cache";if(localStorage.getItem(oe)!==null||localStorage.getItem(de)!==null)return;const Me=Q?`sales_migration_done_${Q}`:"sales_migration_done";if(localStorage.getItem(Me))return;const Ve=[];try{const He=localStorage.getItem("sales");if(He){const We=JSON.parse(He);Array.isArray(We)&&Ve.push(...We)}}catch{}try{const He=localStorage.getItem("sales_cache");if(He){const We=JSON.parse(He);Array.isArray(We)&&Ve.push(...We)}}catch{}if(Ve.length===0)return;const Le=new Map;Ve.forEach(He=>{const We=`${He?.saleNumber||""}#${He?.id||""}`;Le.has(We)||Le.set(We,He)});const Je=Array.from(Le.values());try{localStorage.setItem(de,JSON.stringify(Je))}catch{}(!Array.isArray(st)||st.length===0)&&At(Je);try{localStorage.setItem(Me,"1")}catch{}try{localStorage.removeItem("sales")}catch{}try{localStorage.removeItem("sales_cache")}catch{}}catch{}},[f?.id,x?.tenantId,k]),Z.useEffect(()=>{if(Lt.length>0)try{const Q=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",oe=Q?`invoices_cache_${Q}`:"invoices_cache";localStorage.setItem(oe,JSON.stringify(Lt))}catch{}},[Lt]),Z.useEffect(()=>{const Q=localStorage.getItem("tenantId")||"",oe=Q?`notifications_${Q}`:"notifications";try{localStorage.setItem(oe,JSON.stringify(b))}catch{}},[b]),Z.useEffect(()=>{if(x){let oe=`${x.firstName||""} ${x.lastName||""}`.trim();if(!oe)try{const de=localStorage.getItem("user");if(de){const xe=JSON.parse(de),Me=`${xe?.firstName||""} ${xe?.lastName||""}`.trim()||xe?.name||"";Me&&(oe=Me)}}catch{}c(de=>({name:oe||de.name||"User",email:x.email||de.email||""})),console.log(" authUser deiti, App.tsx user state gncelleniyor:",{name:oe||"User",email:x.email||""});try{x.tenantId!=null&&localStorage.setItem("tenantId",String(x.tenantId))}catch{}}},[x]),sr.useEffect(()=>{const Q=oe=>{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`sales_${de}`:"sales",Me=de?`sales_cache_${de}`:"sales_cache";if(oe.key===xe||oe.key===Me)try{const Ve=localStorage.getItem(xe),Le=localStorage.getItem(Me),Je=Ve?JSON.parse(Ve):[],He=Le?JSON.parse(Le):[],We=[...Array.isArray(Je)?Je:[],...Array.isArray(He)?He:[]],Xe=new Map;We.forEach(jt=>{const ft=`${jt.saleNumber||""}#${jt.id||""}`;Xe.has(ft)||Xe.set(ft,jt)});const gt=Array.from(Xe.values());At(gt)}catch{}};return window.addEventListener("storage",Q),()=>window.removeEventListener("storage",Q)},[]),Z.useEffect(()=>{if(!localStorage.getItem("auth_token")&&!k){console.log(" Kullanc authenticated deil - offline sales ykleniyor");try{const ft=localStorage.getItem("sales");if(ft){const wt=JSON.parse(ft);Array.isArray(wt)&&(At(wt),console.log(" Offline satlar yklendi:",wt.length))}}catch(ft){console.error("Offline sales load error:",ft)}ur(!1);return}const oe=f?.id||x?.tenantId||"";console.log(" localStorage cache ykleniyor (authenticated user)...");const de=oe?`bankAccounts_${oe}`:"bankAccounts",xe=localStorage.getItem(de);if(!oe){ur(!1);return}const Me=oe?`sales_${oe}`:"sales",Ve=oe?`sales_cache_${oe}`:"sales_cache",Le=localStorage.getItem(Me),Je=localStorage.getItem(Ve),He=localStorage.getItem(oe?`customers_cache_${oe}`:"customers_cache"),We=localStorage.getItem(oe?`suppliers_cache_${oe}`:"suppliers_cache"),Xe=localStorage.getItem(oe?`products_cache_${oe}`:"products_cache"),gt=localStorage.getItem(oe?`invoices_cache_${oe}`:"invoices_cache"),jt=localStorage.getItem(oe?`expenses_cache_${oe}`:"expenses_cache");if(xe)try{const ft=JSON.parse(xe);Array.isArray(ft)&&(console.log(" Bankalar cache'den yklendi:",ft.length),Kt(ft.map(wt=>({...wt,id:String(wt.id)}))))}catch(ft){console.error("Error loading banks:",ft)}if((async()=>{try{const{bankAccountsApi:ft}=await _r(async()=>{const{bankAccountsApi:$t}=await import("./bank-accounts-CvK9KGDJ.js");return{bankAccountsApi:$t}},[]),wt=await ft.list();Kt(wt.map($t=>({...$t,id:String($t.id),accountName:$t.name})));try{localStorage.setItem(de,JSON.stringify(wt))}catch{}}catch(ft){console.warn("Bank accounts fetch failed, cache ile devam",ft)}})(),Le||Je)try{const ft=Le?JSON.parse(Le):[],wt=Je?JSON.parse(Je):[],$t=Array.isArray(ft)||Array.isArray(wt)?[...Array.isArray(ft)?ft:[],...Array.isArray(wt)?wt:[]]:[];let Ht=$t;const br=new Map;for(const Xt of Ht){const cr=`${Xt.saleNumber||""}#${Xt.id||""}`;br.has(cr)||br.set(cr,Xt)}Ht=Array.from(br.values());const Tt=()=>`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,Yt=new Set,Ir=Ht.map(Xt=>{const cr=String(Xt?.id??"");if(!cr||Yt.has(cr)){const vr=Tt();return{...Xt,id:vr}}return Yt.add(cr),{...Xt,id:cr}});let Nr=[];try{Nr=He?JSON.parse(He):[],Array.isArray(Nr)||(Nr=[])}catch{Nr=[]}const Hr=Ir.map(Xt=>{const cr=Xt?.customer?.name,vr=Xt?.customerName,ks=Xt?.customerId?Nr.find(zr=>String(zr.id)===String(Xt.customerId))?.name:void 0,fn=Xt?.customerId?Nr.find(zr=>String(zr.id)===String(Xt.customerId))?.email:void 0,ls=cr||vr||ks||"",zn=Xt?.customerEmail||fn||"",Ns=Array.isArray(Xt?.items)&&Xt.items.length>0?Xt.items[0]:void 0,Qn=Xt?.productId||Ns?.productId,Oa=Xt?.productName||Ns?.productName||Ns?.description||"",zt=Number(Xt?.quantity??Ns?.quantity??1);let Mr=Number(Xt?.unitPrice??Ns?.unitPrice??0);(!Number.isFinite(Mr)||Mr===0)&&Number.isFinite(Number(Xt?.subtotal))&&zt>0&&(Mr=Number(Xt.subtotal)/zt);const Vs=(()=>{const zr=String(Xt?.status||"").toLowerCase();return zr==="created"||zr==="invoiced"?"completed":zr==="refunded"?"cancelled":zr==="cancelled"||zr==="completed"||zr==="pending"?zr:"completed"})();return{...Xt,customerName:ls,customerEmail:zn,productId:Qn,productName:Oa,quantity:zt,unitPrice:Mr,status:Vs}});console.log(" Satlar cache'den yklendi:",{total:($t||[]).length,filtered:(Ht||[]).length,unique:Ir.length}),At(Hr)}catch(ft){console.error("Error loading sales:",ft)}if(He)try{const ft=JSON.parse(He);console.log(" Mteriler cache'den yklendi:",ft.length),Ot(ft)}catch(ft){console.error("Error loading customers cache:",ft)}if(We)try{const ft=JSON.parse(We);console.log(" Tedarikiler cache'den yklendi:",ft.length),Wt(ft)}catch(ft){console.error("Error loading suppliers cache:",ft)}if(Xe)try{const ft=JSON.parse(Xe),wt=Array.isArray(ft)?ft:[];console.log(" rnler cache'den yklendi:",wt.length);const $t=wt.map(Ht=>({...Ht,unitPrice:Number(Ht.unitPrice)||0,costPrice:Number(Ht.costPrice)||0,stockQuantity:Number(Ht.stockQuantity)||0,reorderLevel:Number(Ht.reorderLevel)||0}));Re($t)}catch(ft){console.error("Error loading products cache:",ft)}if(gt)try{const ft=JSON.parse(gt);console.log(" Faturalar cache'den yklendi:",ft.length),gr(ft)}catch(ft){console.error("Error loading invoices cache:",ft)}if(jt)try{const ft=JSON.parse(jt);console.log(" Giderler cache'den yklendi:",ft.length);const wt=ft.map($t=>{const Ht=typeof $t.expenseDate=="string"?$t.expenseDate:$t.expenseDate?new Date($t.expenseDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],br=$t.dueDate||$t.expenseDate;let Tt=null;$t&&typeof $t.supplier=="object"&&$t.supplier!==null?Tt=$t.supplier:typeof $t?.supplier=="string"&&$t.supplier.trim()?Tt={name:String($t.supplier).trim()}:typeof $t?.supplierName=="string"&&$t.supplierName.trim()&&(Tt={name:String($t.supplierName).trim()});const Yt=String(Tt?.name||"").trim().toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(Yt)&&(Tt=null),{...$t,expenseDate:Ht,dueDate:br,supplier:Tt}});De(wt)}catch(ft){console.error("Error loading expenses cache:",ft)}},[k,f?.id,x?.tenantId]),Z.useEffect(()=>{const Q=f?.id||x?.tenantId;!k||!Q||(Ot([]),Wt([]),Re([]),gr([]),De([]),At([]),Kt([]))},[f?.id,x?.tenantId]),Z.useEffect(()=>{const Q=()=>{const de=Date.now(),xe=1440*60*1e3;C(Me=>{const Ve=Me.filter(He=>He.persistent||He.repeatDaily||!He.read||!He.readAt?!0:de-He.readAt<xe),Le=Ve.map(He=>(He.persistent||He.repeatDaily)&&He.read&&He.readAt&&de-He.readAt>=xe?(console.log(` Kalc bildirim sfrland: ${He.title}`),{...He,read:!1,readAt:void 0}):He),Je=Me.length-Ve.length;return Je>0&&console.log(` ${Je} eski bildirim temizlendi`),Le})};Q();const oe=setInterval(Q,3600*1e3);return()=>clearInterval(oe)},[]);const os=Z.useMemo(()=>b.filter(Q=>!Q.read).length,[b]);Z.useEffect(()=>{if(!k)return;const Q=()=>{const Ve=a.invoiceReminders!==!1,Le=a.expenseAlerts!==!1,Je=a.lowStockAlerts!==!1,He=new Date;He.setHours(0,0,0,0);const We=He.getTime(),Xe=new Date(He);if(Xe.setDate(Xe.getDate()+3),Ve&&Lt.forEach(gt=>{if(gt.status==="paid"||gt.status==="cancelled")return;const jt=gt.dueDate?new Date(gt.dueDate):null;if(!jt)return;jt.setHours(0,0,0,0);const ft=jt.getTime(),wt=gt.customer?.name||"Mteri",$t=gt.invoiceNumber||`#${gt.id}`;if(ft<We){const Ht=Math.floor((We-ft)/864e5);Er("Gecikmi fatura demesi",`${$t} - ${wt} (${Ht} gn gecikmi)`,"danger","invoices",{persistent:!0,repeatDaily:!0,relatedId:`invoice-${gt.id}`})}else if(ft<=Xe.getTime()){const Ht=Math.ceil((ft-We)/864e5);Er("Yaklaan fatura demesi",`${$t} - ${wt} (${Ht} gn kald)`,"warning","invoices",{persistent:!0,repeatDaily:!0,relatedId:`invoice-${gt.id}`})}}),Le&&pt.forEach(gt=>{if(gt.status==="paid"||gt.status==="cancelled")return;const jt=gt.dueDate||gt.expenseDate?new Date(gt.dueDate||gt.expenseDate):null;if(!jt)return;jt.setHours(0,0,0,0);const ft=jt.getTime(),wt=gt.supplier?.name||gt.supplier||"Tedariki",$t=gt.description||"Gider";if(ft<We){const Ht=Math.floor((We-ft)/864e5);Er("Gecikmi gider demesi",`${$t} - ${wt} (${Ht} gn gecikmi)`,"danger","expenses",{persistent:!0,repeatDaily:!0,relatedId:`expense-${gt.id}`})}else if(ft<=Xe.getTime()){const Ht=Math.ceil((ft-We)/864e5);Er("Yaklaan gider demesi",`${$t} - ${wt} (${Ht} gn kald)`,"warning","expenses",{persistent:!0,repeatDaily:!0,relatedId:`expense-${gt.id}`})}}),Je)try{ve.filter(jt=>Number(jt.stockQuantity||0)<=Number(jt.reorderLevel||0)).forEach(jt=>{const ft=Number(jt.stockQuantity||0),wt=Number(jt.reorderLevel||0);ft<=0?Er("Stok tkendi",`${jt.name} - Stok tkendi!`,"danger","products",{persistent:!0,repeatDaily:!0,relatedId:`out-of-stock-${jt.id}`}):Er("Dk stok uyars",`${jt.name} - Stok seviyesi minimum limitin altnda! (${ft}/${wt})`,"warning","products",{persistent:!0,repeatDaily:!0,relatedId:`low-stock-${jt.id}`})})}catch{}};Q();const oe=new Date,de=new Date(oe);de.setHours(9,0,0,0),de<=oe&&de.setDate(de.getDate()+1);const xe=de.getTime()-oe.getTime(),Me=setTimeout(()=>{Q(),setInterval(Q,1440*60*1e3)},xe);return()=>clearTimeout(Me)},[Lt,pt,ve,k,a]),Z.useEffect(()=>{const Q=()=>{(async()=>{try{const{productCategoriesApi:oe}=await _r(async()=>{const{productCategoriesApi:xe}=await import("./product-categories-D0ycK-X5.js");return{productCategoriesApi:xe}},[]),de=await oe.getAll();bt(de),dt(xe=>{const Me=new Set([...xe,...de.map(Ve=>Ve.name.trim()).filter(Boolean)]);return Array.from(Me).sort((Ve,Le)=>Ve.localeCompare(Le,"tr-TR"))})}catch(oe){console.warn("Kategori gncelleme yeniden ykleme hatas:",oe)}})()};return window.addEventListener("product-categories-updated",Q),()=>window.removeEventListener("product-categories-updated",Q)},[]),Z.useEffect(()=>{if(!k)return;const Q=()=>{try{const de=localStorage.getItem("tenantId")||"default",xe=de?`quotes_cache_${de}`:"quotes_cache",Me=localStorage.getItem(xe),Ve=Me?JSON.parse(Me):[];if(!Array.isArray(Ve)||a.quoteReminders===!1)return;const Le=new Date;Le.setHours(0,0,0,0);const Je=Le.getTime();Ve.forEach(He=>{if(!He?.validUntil)return;const We=String(He.status||"").toLowerCase();if(["accepted","declined","expired"].includes(We))return;const Xe=new Date(He.validUntil);Xe.setHours(0,0,0,0);const gt=Xe.getTime(),jt=Math.ceil((gt-Je)/864e5);gt<Je?Er("Teklif sresi doldu",`${He.quoteNumber||"Teklif"} - sre doldu`,"danger","quotes",{persistent:!0,repeatDaily:!0,relatedId:`quote-expired-${He.id}`}):jt<=3&&Er("Teklif sresi yaklayor",`${He.quoteNumber||"Teklif"} - ${jt} gn kald`,"warning","quotes",{persistent:!0,repeatDaily:!0,relatedId:`quote-due-${He.id}`})})}catch{}};Q();const oe=setInterval(Q,360*60*1e3);return()=>clearInterval(oe)},[k,a]);const Os=Q=>String(Q??Date.now());Z.useEffect(()=>{const Q=()=>{const oe=window.location.hash.replace("#","");if(console.log("Hash deiti:",oe),oe==="admin")console.log("Admin sayfasna ynlendiriliyor..."),r("admin");else if(oe==="register")console.log("Kayt sayfasna ynlendiriliyor..."),r("register");else if(oe==="login")console.log("Giri sayfasna ynlendiriliyor..."),r("login");else if(oe==="forgot-password")console.log("ifre sfrlama istei sayfasna ynlendiriliyor..."),r("forgot-password");else if(oe.startsWith("reset-password"))console.log("ifre sfrlama sayfasna ynlendiriliyor..."),r("reset-password");else if(oe.startsWith("verify-email"))console.log("E-posta dorulama sayfasna ynlendiriliyor..."),r("verify-email");else if(oe==="verify-notice")console.log("Dorulama bilgilendirme sayfasna ynlendiriliyor..."),r("verify-notice");else if(oe==="help")console.log("Yardm Merkezi sayfasna ynlendiriliyor..."),r("help");else if(oe.startsWith("legal/")){const de=oe.replace("legal/","");console.log("Legal sayfasna ynlendiriliyor:",de),r(`legal-${de}`)}else if(oe==="settings/organization/members")console.log("Organization members sayfasna ynlendiriliyor..."),r("organization-members");else if(oe.startsWith("join?token=")){const de=oe.replace("join?token=","");console.log("Join organization sayfasna ynlendiriliyor, token:",de),r(`join-organization:${de}`)}else oe===""?k?(console.log("Authenticated user - Ana sayfaya ynlendiriliyor..."),r("dashboard")):(console.log("Non-authenticated user - Landing sayfasna ynlendiriliyor..."),r("landing")):oe==="about"?(console.log("Hakknda sayfasna ynlendiriliyor..."),r("about")):oe==="api"?(console.log("API sayfasna ynlendiriliyor..."),r("api")):oe.startsWith("customer-history:")&&(console.log("Mteri gemii sayfasna ynlendiriliyor..."),r(oe))};return console.log("lk hash kontrol:",window.location.hash),Q(),window.addEventListener("hashchange",Q),()=>{window.removeEventListener("hashchange",Q)}},[k]);const kn=sr.useCallback(Q=>{rr(oe=>oe.filter(de=>de.id!==Q))},[]),Bt=sr.useCallback((Q,oe="success")=>{const de=`${Date.now()}-${Math.random().toString(16).slice(2)}`;return rr(xe=>[...xe,{id:de,message:Q,tone:oe}]),typeof window<"u"&&window.setTimeout(()=>kn(de),3600),de},[kn]);Z.useEffect(()=>{const Q=oe=>{try{const de=oe,xe=de?.detail?.message,Me=de?.detail?.tone||"error";xe&&Bt(xe,Me)}catch{}};return typeof window<"u"&&window.addEventListener("showToast",Q),()=>{typeof window<"u"&&window.removeEventListener("showToast",Q)}},[Bt]);const _s=Q=>typeof window>"u"?!1:window.confirm(Q),Sr=Q=>{y(Q);try{const oe=localStorage.getItem("tenantId")||"",de=oe?`companyProfile_${oe}`:"companyProfile";Qi.setJSON(de,Q)}catch{}try{const de=localStorage.getItem("tenantId")||"",xe=de?`companyProfile_${de}`:"companyProfile";localStorage.setItem(`${xe}_plain`,JSON.stringify(Q))}catch{}try{window.dispatchEvent(new Event("company-profile-updated"))}catch{}},yr=sr.useCallback(()=>{const Q=String(f?.subscriptionPlan||"").toLowerCase();return Q.includes("free")||Q.includes("starter")?"free":Q.includes("basic")?"basic":Q.includes("pro")||Q.includes("professional")?"pro":Q||"free"},[f?.subscriptionPlan]),ws=sr.useMemo(()=>yr()==="free",[yr]),In=sr.useCallback(()=>{const Q=new Date,oe=new Date(Q.getFullYear(),Q.getMonth(),1,0,0,0,0),de=new Date(Q.getFullYear(),Q.getMonth()+1,0,23,59,59,999);return Lt.filter(xe=>{if(xe?.isVoided)return!1;const Me=xe?.createdAt?new Date(xe.createdAt):xe?.issueDate?new Date(xe.issueDate):null;return!Me||Number.isNaN(Me.getTime())?!1:Me>=oe&&Me<=de}).length},[Lt]),Wn=sr.useCallback(()=>{const Q=new Date,oe=new Date(Q.getFullYear(),Q.getMonth(),1,0,0,0,0),de=new Date(Q.getFullYear(),Q.getMonth()+1,0,23,59,59,999);return pt.filter(xe=>{if(xe?.isVoided)return!1;const Me=xe?.createdAt?new Date(xe.createdAt):xe?.expenseDate?new Date(xe.expenseDate):null;return!Me||Number.isNaN(Me.getTime())?!1:Me>=oe&&Me<=de}).length},[pt]),pr=()=>{D(Q=>{const oe=!Q;if(!Q){const de=Date.now();C(xe=>xe.map(Me=>Me.read?Me:{...Me,read:!0,readAt:de}))}return oe})},Es=()=>D(!1),un=Q=>{if(console.log(" Bildirime tkland:",Q),Q.persistent||Q.repeatDaily){const oe=Date.now();C(de=>de.map(xe=>xe.id===Q.id?{...xe,read:!0,readAt:oe}:xe)),console.log(" Kalc bildirim - ertesi gn tekrar grnecek")}else{const oe=Date.now();C(de=>de.map(xe=>xe.id===Q.id?{...xe,read:!0,readAt:oe}:xe))}Es(),Q.link&&Xr(Q.link)},Xr=Q=>{r(Q),H(!1),D(!1),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})},li=async Q=>{try{const oe={};typeof Q.status<"u"&&(oe.status=Q.status),typeof Q.dueDate<"u"&&(oe.dueDate=Q.dueDate),typeof Q.issueDate<"u"&&(oe.issueDate=Q.issueDate);const de=await Up(String(Q.id),oe);gr(xe=>{const Me=xe.map(Ve=>String(Ve.id)===String(de.id)?de:Ve);try{const Ve=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Le=Ve?`invoices_cache_${Ve}`:"invoices_cache";localStorage.setItem(Le,JSON.stringify(Me))}catch{}return Me}),Bt("Fatura gncellendi","success")}catch(oe){console.error("Inline invoice update error:",oe),Bt(oe?.response?.data?.message||"Fatura gncellenemedi","error")}},Mn=Q=>{l(Q),Xr("settings")},mn=()=>{r("dashboard"),Es(),qr.current=!0,At([]),Ot([]),Wt([]),Re([]),gr([]),De([]),Kt([]),t(),setTimeout(()=>{qr.current=!1},0)},ji=()=>H(Q=>!Q),Rn=()=>H(!1),Er=(Q,oe,de="info",xe,Me)=>{const Ve=new Set(["invoices","expenses","sales","products","quotes"]),Le=xe||"",Je=()=>{try{const Xe=localStorage.getItem("tenantId")||"default";let gt="anon";const jt=localStorage.getItem("user");if(jt){const $t=JSON.parse(jt);gt=$t?.id||$t?._id||gt}const ft=`notif_prefs:${Xe}:${gt}`,wt=localStorage.getItem(ft);return wt?JSON.parse(wt):{}}catch{return{}}};if(Le&&!Ve.has(Le))return;if(Le==="products"){const Xe=Me?.relatedId||"";if(!/^low-stock-|^out-of-stock-/.test(Xe)||Je()?.lowStockAlerts===!1)return}if(Le==="sales"&&Je()?.salesNotifications===!1||Le==="quotes"&&Je()?.quoteReminders===!1||Le==="invoices"&&Je()?.invoiceReminders===!1||Le==="expenses"&&Je()?.expenseAlerts===!1)return;const We={id:Me?.relatedId?`${Me.relatedId}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:Q,description:oe,time:"imdi",type:de,read:!1,link:xe,persistent:Me?.persistent,repeatDaily:Me?.repeatDaily,relatedId:Me?.relatedId};C(Xe=>{if(Me?.relatedId){const gt=Xe.filter(jt=>jt.relatedId!==Me.relatedId);return[We,...gt]}return[We,...Xe]}),console.log(" Yeni bildirim eklendi:",We)},Ls=async Q=>{try{const oe={name:Q.name||"",email:Q.email?.trim()||void 0,phone:Q.phone?.trim()||void 0,address:Q.address?.trim()||void 0,taxNumber:Q.taxNumber?.trim()||void 0,company:Q.company?.trim()||void 0};if(Q.id){const de=await G4(String(Q.id),oe);Ot(xe=>xe.map(Me=>Me.id===de.id?de:Me)),Bt("Mteri gncellendi","success")}else{const de=(oe.email||"").trim().toLowerCase();if(de){const Me=Pt.find(Ve=>String(Ve?.email||"").trim().toLowerCase()===de);if(Me){ar({title:d("customers.duplicate.title")||"Mteri zaten kaytl",message:d("customers.duplicate.message",{email:oe.email,name:Me.name})||`Bu e-posta (${oe.email}) ile bir mteri zaten kaytl (${Me.name}). Ltfen listeden mevcut kayd sein.`,tone:"error",confirmLabel:d("customers.duplicate.openExisting")||"Mevcut mteriyi a",onConfirm:()=>{lt(Me),ee(!0),Xr("customers"),ar(null)}});return}}const xe=await Lp(oe);Ot(Me=>[...Me,xe]),Bt("Mteri eklendi","success"),Er("Yeni mteri eklendi",`${xe.name} sisteme kaydedildi.`,"success","customers")}}catch(oe){console.error("Customer upsert error:",oe),console.error("Error details:",oe.response?.data);const de=oe?.response?.status,xe=oe?.response?.data?.message,Me=Array.isArray(xe)?xe.join(", "):xe||oe.message||"Mteri kaydedilemedi",Ve=String(Q?.email||"").trim().toLowerCase();if(de===400&&typeof Me=="string"&&(Me.toLowerCase().includes("zaten bir mteri")||Me.toLowerCase().includes("duplicate"))){const Le=Pt.find(Je=>String(Je?.email||"").trim().toLowerCase()===Ve);if(Le){ar({title:d("customers.duplicate.title")||"Mteri zaten kaytl",message:d("customers.duplicate.message",{email:Q.email,name:Le.name})||Me,tone:"error",confirmLabel:d("customers.duplicate.openExisting")||"Mevcut mteriyi a",onConfirm:()=>{lt(Le),ee(!0),Xr("customers"),ar(null)}});return}}Bt(Me,"error")}},Fs=async Q=>{if(!(typeof window<"u"&&!window.confirm("Bu mteriyi silmek istediinizden emin misiniz?")))try{await W4(String(Q)),Ot(oe=>oe.filter(de=>String(de.id)!==String(Q))),Bt("Mteri silindi","success")}catch(oe){console.error("Customer delete error:",oe),oe.response?.data?.relatedInvoices?(ut({title:"Mteri Silinemez",message:oe.response.data.message,relatedItems:oe.response.data.relatedInvoices,itemType:"invoice"}),we(!0)):Bt(oe.response?.data?.message||"Mteri silinemedi","error")}},Yn=async Q=>{try{console.log("Starting customer import, file:",Q.name,Q.type);const oe=await Q.arrayBuffer();let de=[];if(Q.type==="text/csv"||Q.name.toLowerCase().endsWith(".csv")){console.log("Processing as CSV file");const Je=new TextDecoder("utf-8").decode(oe).split(`
`).filter(We=>We.trim());if(Je.length<2){console.log("CSV file has insufficient data"),ar({title:d("common.warning"),message:d("customers.import.noDataFound")});return}const He=Je[0].split(",").map(We=>We.trim().replace(/"/g,""));console.log("CSV headers:",He);for(let We=1;We<Je.length;We++){const Xe=Je[We].split(",").map(jt=>jt.trim().replace(/"/g,"")),gt={};He.forEach((jt,ft)=>{gt[jt]=Xe[ft]||""}),de.push(gt)}}else{console.log("Processing as Excel file");const Le=new yg.Workbook;await Le.xlsx.load(oe);const Je=Le.worksheets[0];if(!Je){console.log("No worksheet found in file"),ar({title:d("common.warning"),message:d("customers.import.noDataFound")});return}console.log("Worksheet found, row count:",Je.rowCount),Je.eachRow((He,We)=>{if(We===1)return;const Xe={};He.eachCell((gt,jt)=>{const ft=Je.getRow(1).getCell(jt).value?.toString()||`col${jt}`;Xe[ft]=gt.value}),de.push(Xe)})}const xe=Le=>String(Le??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Me=Le=>{if(!Le)return;if(Le instanceof Date)return Le.toISOString().split("T")[0];if(typeof Le=="number"){const We=new Date(1899,11,30);return new Date(We.getTime()+Le*864e5).toISOString().split("T")[0]}const Je=String(Le).trim();if(!Je)return;const He=new Date(Je);if(!Number.isNaN(He.getTime()))return He.toISOString().split("T")[0]},Ve=de.map(Le=>{if(!Le||typeof Le!="object")return null;const Je=Object.entries(Le).reduce((Tt,[Yt,Ir])=>(Tt[xe(Yt)]=Ir,Tt),{}),He=(...Tt)=>{for(const Yt of Tt)if(Je[Yt]!==void 0&&Je[Yt]!=="")return Je[Yt]},We=He("name","musteriadi","musteriad","musteri","adsoyad","ad"),Xe=We?String(We).trim():"";if(!Xe)return null;const gt=He("email","eposta","mail"),jt=He("phone","telefon","tel","gsm"),ft=He("address","adres"),wt=He("taxnumber","vergino","vkn","tc","tcno"),$t=He("company","firma","sirket","unvan"),Ht=He("createdat","kayittarihi","olusturmatarihi","tarih"),br=He("id","musteriid");return{id:br?String(br):void 0,name:Xe,email:gt?String(gt).trim():"",phone:jt?String(jt).trim():"",address:ft?String(ft).trim():"",taxNumber:wt?String(wt).trim():"",company:$t?String($t).trim():"",createdAt:Me(Ht)}}).filter(Le=>!!Le);if(console.log("Processed customers:",Ve.length,Ve),Ve.length===0){console.log("No valid customers found after processing"),ar({title:d("common.warning"),message:d("customers.import.noCustomersFound")});return}try{console.log("Attempting to persist imported customers to backend...",Ve);const Le=await Promise.allSettled(Ve.map((We,Xe)=>(console.log("Requesting createCustomer for index",Xe,We),Lp({name:We.name,email:We.email||void 0,phone:We.phone||void 0,address:We.address||void 0,taxNumber:We.taxNumber||void 0,company:We.company||void 0}).then(gt=>(console.log("createCustomer fulfilled for index",Xe,gt),gt)).catch(gt=>{throw console.error("createCustomer rejected for index",Xe,gt),gt})))),Je=[],He=[];if(Le.forEach((We,Xe)=>{We.status==="fulfilled"?Je.push(We.value):He.push({index:Xe,reason:We.reason})}),Ot(We=>{const Xe=[...We];return Je.forEach(gt=>{const jt=Xe.findIndex(ft=>ft.id===gt.id);jt>=0?Xe[jt]={...Xe[jt],...gt}:Xe.push(gt)}),Xe}),He.length===0)ar({title:d("common.success"),message:d("customers.import.success",{count:Je.length})});else{const We=`${d("customers.import.success",{count:Je.length})}
${He.length} kayt baarsz.`;ar({title:d("common.warning"),message:We}),console.error("Import failures:",He)}}catch(Le){console.error("Error while persisting imported customers",Le),ar({title:d("common.error"),message:d("customers.import.error")+`

Detay: `+(Le instanceof Error?Le.message:String(Le))})}}catch(oe){console.error("Customer import failed",oe),ar({title:d("common.error"),message:d("customers.import.error")+`

Detay: `+(oe instanceof Error?oe.message:String(oe))})}},Nn=async Q=>{try{console.log("Starting product import, file:",Q.name,Q.type);const oe=await Q.arrayBuffer();let de=[];if(Q.type==="text/csv"||Q.name.toLowerCase().endsWith(".csv")){console.log("Processing as CSV file");const Je=new TextDecoder("utf-8").decode(oe).split(`
`).filter(We=>We.trim());if(Je.length<2){ar({title:d("common.warning"),message:d("customers.import.noDataFound")});return}const He=Je[0].split(",").map(We=>We.trim().replace(/"/g,""));for(let We=1;We<Je.length;We++){const Xe=Je[We].split(",").map(jt=>jt.trim().replace(/"/g,"")),gt={};He.forEach((jt,ft)=>{gt[jt]=Xe[ft]??""}),de.push(gt)}}else{console.log("Processing as Excel file");const Le=new yg.Workbook;await Le.xlsx.load(oe);const Je=Le.worksheets[0];if(!Je){ar({title:d("common.warning"),message:d("customers.import.noDataFound")});return}Je.eachRow((He,We)=>{if(We===1)return;const Xe={};He.eachCell((gt,jt)=>{const ft=Je.getRow(1).getCell(jt).value?.toString()||`col${jt}`;Xe[ft]=gt.value}),de.push(Xe)})}const xe=Le=>String(Le??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Me=Le=>{if(Le==null||Le==="")return;if(typeof Le=="number")return Le;const Je=String(Le).trim();if(/^\d+\.?\d*$/.test(Je)){const Xe=parseFloat(Je);return Number.isFinite(Xe)?Xe:void 0}if(Je.includes(",")){const Xe=Je.replace(/\./g,"").replace(/,/g,"."),gt=parseFloat(Xe);return Number.isFinite(gt)?gt:void 0}const He=Je.replace(/\s/g,""),We=parseFloat(He);return Number.isFinite(We)?We:void 0},Ve=de.map(Le=>{if(!Le||typeof Le!="object")return null;const Je=Object.entries(Le).reduce((Yt,[Ir,Nr])=>(Yt[xe(Ir)]=Nr,Yt),{}),He=(...Yt)=>{for(const Ir of Yt)if(Je[Ir]!==void 0&&Je[Ir]!=="")return Je[Ir]},We=String(He("name","urunadi","urun","productname")??"").trim();if(!We)return null;const Xe=String(He("sku","code","kod","barkod")??"").trim()||void 0,gt=Me(He("unitprice","price","satisfiyati","fiyat")),jt=Me(He("costprice","cost","maliyet"));let ft=Me(He("taxrate","kdv","vergi"));ft!=null&&(ft=Math.max(0,Math.min(100,ft)));const wt=Me(He("stockquantity","stock","stok","adet")),$t=Me(He("reorderlevel","minstock","kritikstok")),Ht=String(He("unit","birim")??"").trim()||void 0,br=String(He("category","kategori")??"").trim()||"Genel",Tt=String(He("description","aciklama")??"").trim()||void 0;return{name:We,sku:Xe,unitPrice:gt,costPrice:jt,taxRate:ft,stockQuantity:wt,reorderLevel:$t,unit:Ht,category:br,description:Tt}}).filter(Le=>!!Le);if(Ve.length===0){ar({title:d("common.warning"),message:d("customers.import.noDataFound")});return}try{const Le=await Promise.allSettled(Ve.map(We=>{const Xe={name:We.name,code:We.sku||We.name,price:Number(We.unitPrice??0),cost:We.costPrice!=null?Number(We.costPrice):void 0,stock:We.stockQuantity!=null?Number(We.stockQuantity):void 0,minStock:We.reorderLevel!=null?Number(We.reorderLevel):void 0,unit:We.unit,category:We.category||"Genel",description:We.description,taxRate:We.taxRate!=null?Number(We.taxRate):void 0};return Fp(Xe).then(gt=>gt)})),Je=[],He=[];if(Le.forEach((We,Xe)=>{We.status==="fulfilled"?Je.push(We.value):He.push({index:Xe,reason:We.reason})}),Je.length>0){const We=Je.map(Xe=>({...Xe,sku:Xe.code,unitPrice:Number(Xe.price)||0,costPrice:Number(Xe.cost)||0,stockQuantity:Number(Xe.stock)||0,reorderLevel:Number(Xe.minStock)||0,taxRate:Number(Xe.taxRate)||0,status:Xe.stock===0?"out-of-stock":Xe.stock<=Xe.minStock?"low":"active"}));Re(Xe=>{const gt=[...Xe,...We];try{const jt=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",ft=jt?`products_cache_${jt}`:"products_cache";localStorage.setItem(ft,JSON.stringify(gt))}catch{}return gt})}He.length===0?ar({title:d("common.success"),message:`${Je.length} rn baaryla ie aktarld!`}):(ar({title:d("common.warning"),message:`${Je.length} rn ie aktarld, ${He.length} kayt baarsz.`}),console.error("Product import failures:",He))}catch(Le){console.error("Error while persisting imported products",Le),ar({title:d("common.error"),message:(d("customers.import.error")||"e aktarma hatas")+`

Detay: `+(Le instanceof Error?Le.message:String(Le))})}}catch(oe){console.error("Product import failed",oe),ar({title:d("common.error"),message:(d("customers.import.error")||"e aktarma hatas")+`

Detay: `+(oe instanceof Error?oe.message:String(oe))})}},Bs=async Q=>{try{const oe={name:Q.name||"",email:Q.email?.trim()||void 0,phone:Q.phone?.trim()||void 0,address:Q.address?.trim()||void 0,taxNumber:Q.taxNumber?.trim()||void 0};if(Q.id){const de=await mS(String(Q.id),oe);Wt(xe=>xe.map(Me=>Me.id===de.id?de:Me)),Bt("Tedariki gncellendi","success")}else{const de=await uS(oe);Wt(xe=>[...xe,de]),Bt("Tedariki eklendi","success"),Er("Yeni tedariki eklendi",`${de.name} sisteme kaydedildi.`,"success","suppliers")}}catch(oe){console.error("Supplier upsert error:",oe);const de=oe.response?.data?.message||oe.message||"Tedariki kaydedilemedi";Bt(Array.isArray(de)?de.join(", "):de,"error")}},ad=async Q=>{if(!(typeof window<"u"&&!window.confirm("Bu tedarikiyi silmek istediinizden emin misiniz?")))try{await hS(String(Q)),Wt(oe=>oe.filter(de=>String(de.id)!==String(Q))),Bt("Tedariki silindi","success")}catch(oe){console.error("Supplier delete error:",oe),oe.response?.data?.relatedExpenses?(ut({title:"Tedariki Silinemez",message:oe.response.data.message,relatedItems:oe.response.data.relatedExpenses,itemType:"expense"}),we(!0)):Bt(oe.response?.data?.message||"Tedariki silinemedi","error")}},bo=async Q=>{try{if(console.log(" upsertInvoice arld:",{id:Q.id,saleId:Q.saleId,customerId:Q.customerId,customerName:Q.customerName,invoiceNumber:Q.invoiceNumber}),!Q.customerId){console.error(" customerId eksik!",{customerName:Q.customerName,availableCustomers:Pt.map(de=>({id:de.id,name:de.name}))}),Bt("Mteri seilmedi! Ltfen geerli bir mteri sein.","error");return}const oe={customerId:Q.customerId,type:Q.type||"product",issueDate:Q.issueDate||new Date().toISOString().split("T")[0],dueDate:Q.dueDate,items:(Q.items||Q.lineItems||[]).map(de=>({productId:de.productId,productName:de.description||de.productName,description:de.description||de.productName,quantity:Number(de.quantity)||1,unitPrice:Number(de.unitPrice)||0,total:Number(de.total)||0,taxRate:Number(de.taxRate??18)})),taxAmount:Number(Q.taxAmount||0),discountAmount:Number(Q.discountAmount||0),notes:Q.notes||"",saleId:Q.saleId,refundedInvoiceId:Q.originalInvoiceId||void 0};if(console.log(" Backend'e gnderilecek data:",{customerId:oe.customerId,items:oe.items.length,firstItem:oe.items[0],taxAmount:oe.taxAmount,discountAmount:oe.discountAmount,saleId:oe.saleId}),Q.status&&(oe.status=Q.status),!Q.id&&ws){const de=In(),xe=5;if(de>=xe){ar({title:"Plan Limiti Ald",message:"Starter/Free planda bir ayda en fazla 5 fatura oluturabilirsiniz. Daha fazla fatura iin plannz ykseltin."});return}else de===xe-1&&Er("Plan limiti uyars","Bu ay 5/5 limitine yaklamaktasnz (4/5).","info","invoices",{relatedId:"plan-limit-invoices"})}if(Q.id){const de=await Up(String(Q.id),oe),xe=Lt.map(Me=>Me.id===de.id?de:Me);gr(xe);try{const Me=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Ve=Me?`invoices_cache_${Me}`:"invoices_cache";localStorage.setItem(Ve,JSON.stringify(xe))}catch{}return console.log(" Fatura cache gncellendi (update)"),Bt("Fatura gncellendi","success"),de}else{const de=await Bp(oe);if(console.log(" Fatura oluturuldu:",{id:de.id,invoiceNumber:de.invoiceNumber,type:de.type,customer:de.customer,items:de.items,lineItems:de.lineItems}),!oe.saleId&&oe.items&&oe.items.length>0)try{console.log(" Otomatik sat oluturuluyor...");const Ve=Pt.find(Xt=>Xt.id===oe.customerId),Le=Ve?.name||Q.customerName||"N/A",Je=Ve?.email||Q.customerEmail||"";console.log(" Mteri bilgileri hazrland:",{customerId:oe.customerId,customerName:Le,customerEmail:Je,backendCustomer:de.customer?.name,frontendCustomer:Ve?.name});const He=oe.items.map(Xt=>({productName:Xt.productName||Xt.description||"rn/Hizmet",productId:Xt.productId,quantity:Number(Xt.quantity)||1,unitPrice:Number(Xt.unitPrice)||0,total:Number(Xt.total)||0})),We=Number(de.total)||He.reduce((Xt,cr)=>Xt+cr.total,0),Xe=He[0],gt={customerName:Le,customerEmail:Je,productName:He.length===1?Xe.productName:`${He.length} rn`,quantity:He.length===1?Xe.quantity:He.length,unitPrice:He.length===1?Xe.unitPrice:We,items:He,amount:We,date:oe.issueDate,paymentMethod:"card",notes:`${de.invoiceNumber} numaral faturadan otomatik oluturuldu.`,invoiceId:de.id};console.log(" Sat oluturuldu:",{itemCount:He.length,items:He,totalAmount:We});for(const Xt of He)if(Xt.productId){const cr=ve.find(vr=>String(vr.id)===String(Xt.productId));if(cr){const vr=Number(cr.stockQuantity||0)-Number(Xt.quantity);vr<0&&(console.warn(` Stok yetersiz: ${cr.name} (Mevcut: ${cr.stockQuantity}, stenen: ${Xt.quantity})`),Bt(`Uyar: ${cr.name} stou yetersiz!`,"error"));try{const ks={stock:vr<0?0:vr};await Xu(String(cr.id),ks),Re(fn=>fn.map(ls=>String(ls.id)===String(cr.id)?{...ls,stockQuantity:vr<0?0:vr,status:vr<=0?"out-of-stock":vr<=(ls.reorderLevel||0)?"low":"active"}:ls)),console.log(` Stok gncellendi: ${cr.name} (${cr.stockQuantity}  ${vr<0?0:vr})`),vr>0&&vr<=(cr.reorderLevel||0)&&Er("Dk stok uyars",`${cr.name} - Stok seviyesi minimum limitin altnda! (${vr}/${cr.reorderLevel})`,"info","products",{persistent:!0,repeatDaily:!0,relatedId:`low-stock-${cr.id}`})}catch(ks){console.error("Stok gncellenemedi:",ks)}}}const jt=new Date,ft=jt.getFullYear(),wt=String(jt.getMonth()+1).padStart(2,"0"),$t=`SAL-${ft}-${wt}-`,Ht=st.filter(Xt=>Xt.saleNumber&&Xt.saleNumber.startsWith($t));let br=1;if(Ht.length>0){const Xt=Ht.map(cr=>{const vr=cr.saleNumber?.split("-");return vr?parseInt(vr[vr.length-1]||"0",10):0}).filter(cr=>!isNaN(cr));Xt.length>0&&(br=Math.max(...Xt)+1)}const Tt=`${$t}${String(br).padStart(3,"0")}`,Yt=x?.tenantId??localStorage.getItem("tenantId")??void 0,Ir=Yt!=null?String(Yt):void 0,Nr={...gt,id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,saleNumber:Tt,status:"completed",invoiceId:de.id,tenantId:Ir},Hr=[...st,Nr];At(Hr);try{const Xt=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",cr=Xt?`sales_${Xt}`:"sales";localStorage.setItem(cr,JSON.stringify(Hr))}catch{}console.log(" Otomatik sat oluturuldu:",{id:Nr.id,saleNumber:Nr.saleNumber,customer:Nr.customerName,amount:Nr.amount,invoiceId:Nr.invoiceId});try{const Xt=localStorage.getItem("tenantId")||"default",cr=localStorage.getItem("user");let vr="anon";if(cr){const ls=JSON.parse(cr);vr=ls?.id||ls?._id||vr}const ks=`notif_prefs:${Xt}:${vr}`;JSON.parse(localStorage.getItem(ks)||"{}")?.salesNotifications!==!1&&Er("Yeni sat gerekleti",`${Nr.saleNumber} - ${Nr.customerName}: ${Nr.amount} TL`,"success","sales")}catch{}}catch(Ve){console.error(" Otomatik sat oluturulamad:",Ve)}const xe=[...Lt,de];gr(xe);try{const Ve=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Le=Ve?`invoices_cache_${Ve}`:"invoices_cache";localStorage.setItem(Le,JSON.stringify(xe))}catch{}console.log(" Fatura cache gncellendi (create)"),Bt("Fatura ve sat oluturuldu","success");const Me=Pt.find(Ve=>Ve.id===oe.customerId);return Er("Yeni fatura oluturuldu",`${de.invoiceNumber} - ${Me?.name||"Mteri"} iin fatura hazr.`,"success","invoices"),de}}catch(oe){console.error("Invoice upsert error:",oe),console.error("Error details:",oe.response?.data);const de=jc(oe);Bt(de,"error")}},ta=async Q=>{if(_s(d("invoices.deleteConfirm")))try{await Z4(String(Q));const oe=Lt.filter(de=>String(de.id)!==String(Q));gr(oe);try{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`invoices_cache_${de}`:"invoices_cache";localStorage.setItem(xe,JSON.stringify(oe))}catch{}console.log(" Fatura cache gncellendi (delete)"),Bt(d("invoices.deleteSuccess"),"success")}catch(oe){console.error("Invoice delete error:",oe);const de=oe.response?.data?.message||"";console.log(" Fatura silinemedi, cache gncellenmedi"),de.includes("locked period")||de.includes("kilitli dnem")||de.includes("Cannot modify records")?Bt(d("common.periodLockedError"),"error"):Bt(de||d("invoices.deleteError"),"error")}},od=async(Q,oe)=>{try{await J4(Q,oe);const de=Lt.map(xe=>xe.id===Q?{...xe,isVoided:!0,voidReason:oe,voidedAt:new Date().toISOString()}:xe);gr(de);try{const xe=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Me=xe?`invoices_cache_${xe}`:"invoices_cache";localStorage.setItem(Me,JSON.stringify(de))}catch{}Bt("Fatura iptal edildi","success")}catch(de){console.error("Invoice void error:",de),Bt(de.response?.data?.message||"Fatura iptal edilemedi","error")}},fl=async Q=>{try{await eS(Q);const oe=Lt.map(de=>de.id===Q?{...de,isVoided:!1,voidReason:void 0,voidedAt:void 0}:de);gr(oe);try{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`invoices_cache_${de}`:"invoices_cache";localStorage.setItem(xe,JSON.stringify(oe))}catch{}Bt("Fatura geri yklendi","success")}catch(oe){console.error("Invoice restore error:",oe),Bt(oe.response?.data?.message||"Fatura geri yklenemedi","error")}},Aa=async Q=>{try{if(!Q.id&&ws){const de=Wn(),xe=5;if(de>=xe){ar({title:"Plan Limiti Ald",message:"Starter/Free planda bir ayda en fazla 5 gider kayd oluturabilirsiniz. Daha fazlas iin plannz ykseltin."});return}else de===xe-1&&Er("Plan limiti uyars","Bu ay 5/5 limitine yaklamaktasnz (4/5).","info","expenses",{relatedId:"plan-limit-expenses"})}const oe={description:Q.description||"",amount:Number(Q.amount||0),category:Q.category||"other",status:Q.status||"pending",date:Q.date||Q.expenseDate||new Date().toISOString().split("T")[0],supplierId:Q.supplierId===null?null:Q.supplierId||void 0,notes:Q.notes||""};if(Q.id){const de=await aS(String(Q.id),oe),xe={...de,supplier:de.supplier||null,expenseDate:de.expenseDate?typeof de.expenseDate=="string"?de.expenseDate:new Date(de.expenseDate).toISOString().split("T")[0]:oe.date,dueDate:de.dueDate||de.expenseDate||oe.date},Me=pt.map(Ve=>Ve.id===xe.id?xe:Ve);De(Me);try{const Ve=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Le=Ve?`expenses_cache_${Ve}`:"expenses_cache";localStorage.setItem(Le,JSON.stringify(Me))}catch{}Bt("Gider gncellendi","success")}else{const de=await iS(oe),xe={...de,supplier:de.supplier||null,expenseDate:de.expenseDate?typeof de.expenseDate=="string"?de.expenseDate:new Date(de.expenseDate).toISOString().split("T")[0]:oe.date,dueDate:de.dueDate||de.expenseDate||oe.date},Me=[...pt,xe];De(Me);try{const Le=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Je=Le?`expenses_cache_${Le}`:"expenses_cache";localStorage.setItem(Je,JSON.stringify(Me))}catch{}Bt("Gider eklendi","success");const Ve=xe.supplier?.name||"Tedariki";Er("Yeni gider kaydedildi",`${Ve} - ${xe.description}: ${xe.amount} TL`,"info","expenses")}}catch(oe){console.error("Expense upsert error:",oe),console.error("Error details:",oe.response?.data);const de=jc(oe);Bt(de,"error")}},pl=async Q=>{if(_s(d("expenses.deleteConfirm")))try{await oS(String(Q));const oe=pt.filter(de=>String(de.id)!==String(Q));De(oe);try{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`expenses_cache_${de}`:"expenses_cache";localStorage.setItem(xe,JSON.stringify(oe))}catch{}console.log(" Gider cache gncellendi (delete)"),Bt(d("expenses.deleteSuccess"),"success")}catch(oe){console.error("Expense delete error:",oe);const de=oe.response?.data?.message||"";console.log(" Gider silinemedi, cache gncellenmedi"),de.includes("locked period")||de.includes("kilitli dnem")||de.includes("Cannot modify records")?Bt(d("common.periodLockedError"),"error"):Bt(de||d("expenses.deleteError"),"error")}},ld=async(Q,oe)=>{try{await lS(Q,oe);const de=pt.map(xe=>xe.id===Q?{...xe,isVoided:!0,voidReason:oe,voidedAt:new Date().toISOString()}:xe);De(de);try{const xe=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Me=xe?`expenses_cache_${xe}`:"expenses_cache";localStorage.setItem(Me,JSON.stringify(de))}catch{}Bt("Gider iptal edildi","success")}catch(de){console.error("Expense void error:",de),Bt(de.response?.data?.message||"Gider iptal edilemedi","error")}},ra=async Q=>{try{await cS(Q);const oe=pt.map(de=>de.id===Q?{...de,isVoided:!1,voidReason:void 0,voidedAt:void 0}:de);De(oe);try{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`expenses_cache_${de}`:"expenses_cache";localStorage.setItem(xe,JSON.stringify(oe))}catch{}Bt("Gider geri yklendi","success")}catch(oe){console.error("Expense restore error:",oe),Bt(oe.response?.data?.message||"Gider geri yklenemedi","error")}},ci=async Q=>{if(!Q.id){const de=Array.isArray(Q.items)&&Q.items.length>0?Q.items:Q.productId?[{productId:Q.productId,quantity:Q.quantity||0,productName:Q.productName||"",unitPrice:Q.unitPrice||0,total:Q.amount||0}]:[];for(const xe of de){if(!xe?.productId)continue;const Me=ve.find(Je=>String(Je.id)===String(xe.productId));if(!Me)continue;const Ve=Number(Me.stockQuantity||0),Le=Number(xe.quantity||0);if(Ve<Le){Bt(` Yetersiz stok! ${Me.name} - Mevcut: ${Ve}, stenen: ${Le}`,"error");return}}}let oe=!Q?.id;try{let de;if(Q.customerId)de=String(Q.customerId);else if(Q.customerName){const We=String(Q.customerName).trim().toLowerCase(),Xe=String(Q.customerEmail||"").trim().toLowerCase(),gt=Pt.find(jt=>(jt.name||"").toLowerCase()===We||(jt.email||"").toLowerCase()===Xe);gt&&(de=String(gt.id))}const xe=Number(Q.quantity||1),Me=Number(Q.unitPrice||Q.amount||0),Ve=Q.productId?String(Q.productId):void 0,Le=Q.productName||ve.find(We=>String(We.id)===String(Ve))?.name||"rn/Hizmet",Je=(()=>{const We=ve.find(Xe=>String(Xe.id)===String(Ve));return We?.taxRate!=null?Number(We.taxRate):18})(),He={customerId:de,customerName:de?void 0:Q.customerName,customerEmail:de?void 0:Q.customerEmail,saleDate:Q?.date||Q?.saleDate||new Date().toISOString().split("T")[0],items:[{productId:Ve,productName:Le,quantity:Number.isFinite(xe)?xe:1,unitPrice:Number.isFinite(Me)?Me:0,taxRate:Je}],discountAmount:0,notes:Q?.notes||void 0,sourceQuoteId:Q?.sourceQuoteId};if(oe){const We=await $p(He),Xe={id:We.id,saleNumber:We.saleNumber||Q.saleNumber||`SAL-${new Date().toISOString().slice(0,7)}-???`,customerName:Q.customerName||We.customer?.name||"",customerEmail:Q.customerEmail||We.customer?.email||"",items:Array.isArray(We.items)?We.items:He.items,productName:Le,quantity:xe,unitPrice:Me,amount:Number(We.total??xe*Me)||0,total:Number(We.total??xe*Me)||0,date:We.saleDate?String(We.saleDate).slice(0,10):He.saleDate,status:"completed",paymentMethod:Q.paymentMethod||"cash",notes:He.notes,invoiceId:We.invoiceId};At(gt=>{const jt=[...gt,Xe],ft=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",wt=ft?`sales_${ft}`:"sales",$t=ft?`sales_cache_${ft}`:"sales_cache";localStorage.setItem(wt,JSON.stringify(jt));try{localStorage.setItem($t,JSON.stringify(jt))}catch{}return jt}),Bt("Sat kaydedildi","success")}else{const We=String(Q.id),Xe={customerId:de,saleDate:He.saleDate,items:He.items,discountAmount:He.discountAmount,notes:He.notes},gt=await rS(We,Xe);At(jt=>{const ft=jt.map(br=>String(br.id)===We?{...br,saleNumber:gt.saleNumber||br.saleNumber,date:gt.saleDate?String(gt.saleDate).slice(0,10):br.date,amount:Number(gt.total??br.amount)||0,total:Number(gt.total??br.total)||0,items:Array.isArray(gt.items)?gt.items:br.items,notes:gt.notes??br.notes}:br),wt=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",$t=wt?`sales_${wt}`:"sales",Ht=wt?`sales_cache_${wt}`:"sales_cache";localStorage.setItem($t,JSON.stringify(ft));try{localStorage.setItem(Ht,JSON.stringify(ft))}catch{}return ft}),Bt("Sat gncellendi","success")}}catch(de){console.error(" Sales upsert error:",de),At(xe=>{const Me={...Q,id:Q.id||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,saleNumber:Q.saleNumber||`SAL-${new Date().toISOString().slice(0,7)}-OFF`,date:Q?.date||new Date().toISOString().split("T")[0],amount:Q.amount||Number(Q.quantity||1)*Number(Q.unitPrice||0)},Ve=xe.findIndex(Xe=>String(Xe.id)===String(Me.id)),Le=Ve>=0?xe.map((Xe,gt)=>gt===Ve?Me:Xe):[...xe,Me],Je=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",He=Je?`sales_${Je}`:"sales",We=Je?`sales_cache_${Je}`:"sales_cache";localStorage.setItem(He,JSON.stringify(Le));try{localStorage.setItem(We,JSON.stringify(Le))}catch{}return Le}),Bt(jc(de)||"Sat yerel olarak kaydedildi (offline)","info")}if(oe){const de=Array.isArray(Q.items)&&Q.items.length>0?Q.items:Q.productId?[{productId:Q.productId,quantity:Q.quantity||0}]:[];for(const xe of de){if(!xe?.productId)continue;const Me=ve.find(Je=>String(Je.id)===String(xe.productId));if(!Me)continue;const Ve=Number(xe.quantity||0),Le=Number(Me.stockQuantity||0)-Ve;try{const Je={stock:Le<0?0:Le};await Xu(String(Me.id),Je),Re(He=>He.map(We=>String(We.id)===String(Me.id)?{...We,stockQuantity:Le<0?0:Le,status:Le<=0?"out-of-stock":Le<=(We.reorderLevel||0)?"low":"active"}:We)),Le>0&&Le<=(Me.reorderLevel||0)&&Er("Dk stok uyars",`${Me.name} - Stok seviyesi minimum limitin altnda! (${Le}/${Me.reorderLevel})`,"info","products",{persistent:!0,repeatDaily:!0,relatedId:`low-stock-${Me.id}`}),Le<=0&&Er("Stok tkendi",`${Me.name} - Stok tkendi!`,"info","products",{persistent:!0,repeatDaily:!0,relatedId:`out-of-stock-${Me.id}`})}catch(Je){console.error("Manuel sat - Stok gncellenemedi:",Je),Bt("Sat kaydedildi ancak stok gncellenemedi","error")}}}if(oe){const de=Array.isArray(Q.items)&&Q.items.length>0?`${Q.items[0]?.productName||"rn"}${Q.items.length>1?` +${Q.items.length-1}`:""}`:`${Q.productName}`,xe=Array.isArray(Q.items)&&Q.items.length>0?Q.items.reduce((Me,Ve)=>Me+Number(Ve.total||Ve.quantity*Ve.unitPrice||0),0):Q.amount||Q.quantity*Q.unitPrice;Er("Yeni sat kaydedildi",`${Q.customerName} - ${de}: ${xe} TL`,"success","sales")}},Si=async Q=>{if(confirm("Bu sat silmek istediinizden emin misiniz?")){console.log(" Sat silme talebi:",Q),[...st];try{await sS(String(Q))}catch(oe){console.error(" Sat backend zerinde silinemedi:",oe),Bt(jc(oe)||"Sat silinemedi","error");return}At(oe=>{const de=oe.filter(xe=>String(xe.id)!==String(Q));try{const xe=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Me=xe?`sales_${xe}`:"sales",Ve=xe?`sales_cache_${xe}`:"sales_cache";localStorage.setItem(Me,JSON.stringify(de)),localStorage.setItem(Ve,JSON.stringify(de))}catch{}return console.log(" Sat silindi, kalan sat says:",de.length),de}),Bt("Sat baaryla silindi","success"),Se(!1),St(null)}};sr.useEffect(()=>{if(!qr.current)try{const Q=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",oe=Q?`sales_cache_${Q}`:"sales_cache";localStorage.setItem(oe,JSON.stringify(st)),window.dispatchEvent(new Event("sales-cache-updated"))}catch{}},[st,f?.id,x?.tenantId]);const _a=async Q=>{try{const oe=(Q?.category?String(Q.category):"").trim()||"Genel";Ea(oe);const de={name:Q.name||"",code:Q.sku||`PROD-${Date.now()}`,description:Q.description||void 0,price:Number(Q.unitPrice??0),cost:Number(Q.costPrice??0),stock:Number(Q.stockQuantity??0),minStock:Number(Q.reorderLevel??0),unit:Q.unit||"adet",category:oe,taxRate:Number(Q.taxRate??18),categoryTaxRateOverride:Q.categoryTaxRateOverride?Number(Q.categoryTaxRateOverride):void 0};if(console.log(" Frontend: Backend'e gnderiliyor:",{name:de.name,category:de.category,taxRate:de.taxRate,categoryTaxRateOverride:de.categoryTaxRateOverride}),Q?.id){const xe=await Xu(String(Q.id),de);Re(Me=>Me.map(Ve=>Ve.id===xe.id?{...xe,sku:xe.code,unitPrice:Number(xe.price)||0,costPrice:Number(xe.cost)||0,stockQuantity:Number(xe.stock)||0,reorderLevel:Number(xe.minStock)||0,taxRate:Number(xe.taxRate)||0,categoryTaxRateOverride:xe.categoryTaxRateOverride?Number(xe.categoryTaxRateOverride):void 0,status:xe.stock===0?"out-of-stock":xe.stock<=xe.minStock?"low":"active"}:Ve)),Bt("rn gncellendi","success")}else{const xe=await Fp(de);Re(Me=>[...Me,{...xe,sku:xe.code,unitPrice:Number(xe.price)||0,costPrice:Number(xe.cost)||0,stockQuantity:Number(xe.stock)||0,reorderLevel:Number(xe.minStock)||0,taxRate:Number(xe.taxRate)||0,categoryTaxRateOverride:xe.categoryTaxRateOverride?Number(xe.categoryTaxRateOverride):void 0,status:xe.stock===0?"out-of-stock":xe.stock<=xe.minStock?"low":"active"}]),Bt("rn eklendi","success"),xe.stock<=xe.minStock&&Er("Dk stok uyars",`${xe.name} - Stok seviyesi minimum limitin altnda! (${xe.stock}/${xe.minStock})`,"warning","products")}}catch(oe){console.error("Product upsert error:",oe),console.error("Error details:",oe.response?.data);const de=oe.response?.data?.message||oe.message||"rn kaydedilemedi";Bt(Array.isArray(de)?de.join(", "):de,"error")}},cd=async Q=>{if(_s("Bu rn silmek istediinizden emin misiniz?"))try{await X4(String(Q)),Re(oe=>oe.filter(de=>de.id!==String(Q))),Bt("rn silindi","success")}catch(oe){console.error("Product delete error:",oe),Bt(oe.response?.data?.message||"rn silinemedi","error")}},jn=(Q,oe)=>Q.localeCompare(oe,"tr-TR",{sensitivity:"accent"})===0,Ea=async(Q,oe)=>{const de=Q.trim();if(de)try{if(oe!==void 0){const{productCategoriesApi:xe}=await _r(async()=>{const{productCategoriesApi:Ve}=await import("./product-categories-D0ycK-X5.js");return{productCategoriesApi:Ve}},[]),Me=await xe.create({name:de,taxRate:oe});console.log(" Kategori backend'e eklendi:",Me),bt(Ve=>[...Ve,Me])}dt(xe=>xe.some(Ve=>jn(Ve,de))?xe:[...xe,de].sort((Ve,Le)=>Ve.localeCompare(Le,"tr-TR"))),oe!==void 0&&Bt(`${de} kategorisi eklendi (KDV: %${oe})`,"success")}catch(xe){console.error("Kategori ekleme hatas:",xe),Bt(xe.response?.data?.message||"Kategori eklenemedi","error")}},Ta=(Q,oe)=>{const de=Q.trim(),xe=oe.trim();if(!de||!xe)return;let Me=!1;dt(Ve=>!Ve.some(Le=>jn(Le,de))||Ve.some(Le=>!jn(Le,de)&&jn(Le,xe))?Ve:(Me=!0,Ve.map(Le=>jn(Le,de)?xe:Le).sort((Le,Je)=>Le.localeCompare(Je,"tr-TR")))),Me&&(Re(Ve=>Ve.map(Le=>Le?.category&&jn(Le.category,de)?{...Le,category:xe}:Le)),Bt("Kategori guncellendi","success"))},vo=Q=>{const oe=Q.trim();if(!oe)return;const de="Genel";if(jn(oe,de))return;let xe=!1;dt(Me=>{const Ve=Me.filter(Le=>!jn(Le,oe));return Ve.length===Me.length?Me:(xe=!0,Ve.some(Le=>jn(Le,de))||Ve.push(de),Array.from(new Set(Ve)).sort((Le,Je)=>Le.localeCompare(Je,"tr-TR")))}),xe&&(Re(Me=>Me.map(Ve=>Ve?.category&&jn(Ve.category,oe)?{...Ve,category:de}:Ve)),Bt("Kategori silindi","success"))},gl=(Q,oe)=>{if(oe.length){if(Q==="delete"){if(!_s(`${oe.length} urunu silmek istiyor musunuz?`))return;Re(de=>{const xe=de.filter(Ve=>!oe.includes(Ve.id)),Me=de.length-xe.length;return Me>0?Bt(`${Me} urun silindi`,"success"):Bt("Secilen urunler bulunamadi","info"),xe});return}if(Q==="archive"){Re(de=>{let xe=0;const Me=de.map(Ve=>oe.includes(Ve.id)?(xe+=1,{...Ve,status:"archived"}):Ve);return xe>0?Bt(`${xe} urun arsivlendi`,"success"):Bt("Secilen urunler zaten arsivde","info"),Me});return}if(Q==="update-price"){Bt("Toplu fiyat guncelleme icin seciminizi kaydettik. Duzenlemeyi urun detayinda yapabilirsiniz.","info");return}Q==="assign-category"&&Bt("Kategori atamasi icin sol paneldeki kategori duzenini kullanabilirsiniz.","info")}},Xn=async Q=>{try{const{bankAccountsApi:oe}=await _r(async()=>{const{bankAccountsApi:de}=await import("./bank-accounts-CvK9KGDJ.js");return{bankAccountsApi:de}},[]);if(Q.id){const de=await oe.update(String(Q.id),{name:Q.accountName,iban:Q.iban,bankName:Q.bankName,currency:Q.currency});Kt(xe=>xe.map(Me=>String(Me.id)===String(de.id)?{...Me,...de,accountName:de.name}:Me)),Bt("Banka hesab gncellendi","success")}else{const de=await oe.create({name:Q.accountName,iban:Q.iban,bankName:Q.bankName,currency:Q.currency});Kt(xe=>[...xe,{...de,id:String(de.id),accountName:de.name}]),Bt("Banka hesab eklendi","success")}}catch(oe){console.error("Bank upsert failed:",oe),Bt(oe?.response?.data?.message||"Banka ilemi baarsz","error")}},wo=async Q=>{if(_s("Bu banka hesabn silmek istediinizden emin misiniz?"))try{const{bankAccountsApi:oe}=await _r(async()=>{const{bankAccountsApi:de}=await import("./bank-accounts-CvK9KGDJ.js");return{bankAccountsApi:de}},[]);await oe.remove(String(Q)),Kt(de=>de.filter(xe=>String(xe.id)!==String(Q))),Bt("Banka hesab silindi","success")}catch(oe){console.error("Bank delete failed:",oe),Bt(oe?.response?.data?.message||"Banka silinemedi","error")}},di=Q=>{lt(Q??null),$(!0)},Pa=Q=>{Rt(Q??null),K(!0)},Us=async Q=>{if(Q){let oe=Q;const de=Array.isArray(Q.items)&&Q.items.length>0,xe=Array.isArray(Q.lineItems)&&Q.lineItems.length>0;try{!de&&!xe&&Q.id&&(oe=await Sc(String(Q.id)))}catch(Me){console.warn("Fatura detay alnamad, mevcut veri kullanlacak:",Me)}Ut(Pi(oe)),_(!0)}else je(!0)},Da=()=>{je(!1),Ut(qe?{id:Os(qe.id),customerName:qe.name,customerEmail:qe.email,customerAddress:qe.address,status:"draft",issueDate:new Date().toISOString().split("T")[0]}:null),_(!0)},xl=()=>{je(!1),Pe(!0)},$s=()=>{je(!1),Ut(qe?{_isReturnInvoice:!0,id:Os(qe.id),customerName:qe.name,customerEmail:qe.email,customerAddress:qe.address,status:"draft",issueDate:new Date().toISOString().split("T")[0]}:{_isReturnInvoice:!0}),_(!0)},Ci=Q=>{Be(Q),Pe(!1),ze(!0)},ko=async Q=>{try{console.log(" Invoice data gnderilecek:",Q);let oe=Q.customerId;if(!oe&&be&&(oe=Pt.find(He=>He.name===be.customerName)?.id,console.log(" Sattan mteri ID bulundu:",{saleCustomerName:be.customerName,foundCustomerId:oe})),!oe&&Q.customerName&&(oe=Pt.find(He=>He.name===Q.customerName)?.id,console.log(" Mteri adndan ID bulundu:",{customerName:Q.customerName,foundCustomerId:oe,availableCustomers:Pt.map(He=>({id:He.id,name:He.name}))})),!oe)throw Bt("Mteri bulunamad! Ltfen nce mteri oluturun.","error"),new Error("customerId gerekli");const de={customerId:oe,issueDate:Q.issueDate||new Date().toISOString().split("T")[0],dueDate:Q.dueDate,type:Q.type||"service",lineItems:(Q.items||[]).map(Je=>({productId:Je.productId,description:Je.description||Je.productName||"rn/Hizmet",quantity:Number(Je.quantity)||1,unitPrice:Number(Je.unitPrice)||0,total:Number(Je.total)||0})),taxAmount:Number(Q.taxAmount)||0,discountAmount:Number(Q.discountAmount)||0,notes:Q.notes||"",status:Q.status||"draft"};be?.id&&(de.saleId=be.id),console.log(" Backend formatnda gnderilecek veri:",de);const xe=await Bp(de);console.log(" Fatura oluturuldu:",{id:xe.id,invoiceNumber:xe.invoiceNumber,lineItems:xe.lineItems});const Me=be?.id&&!xe.saleId?{...xe,saleId:be.id}:xe,Ve=[...Lt,Me];gr(Ve);try{const Je=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",He=Je?`invoices_cache_${Je}`:"invoices_cache";localStorage.setItem(He,JSON.stringify(Ve))}catch{}if(be){const Je={...be,invoiceId:xe.id},He=st.map(We=>We.id===be.id?Je:We);At(He);try{const We=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",Xe=We?`sales_${We}`:"sales",gt=We?`sales_cache_${We}`:"sales_cache";localStorage.setItem(gt,JSON.stringify(He)),localStorage.setItem(Xe,JSON.stringify(He))}catch{}console.log(" Sat fatura ile ilikilendirildi:",{saleId:be.id,invoiceId:xe.id})}const Le=Pt.find(Je=>Je.id===oe);return Er("Yeni fatura oluturuldu",`${xe.invoiceNumber} - ${Le?.name||"Mteri"} iin fatura hazr.`,"success","invoices"),Bt("Fatura baaryla oluturuldu","success"),ze(!1),Be(null),xe}catch(oe){console.error("Invoice creation error:",oe);const de=oe.response?.data?.message||oe.message||"Fatura oluturulamad";throw Bt(Array.isArray(de)?de.join(", "):de,"error"),oe}},hn=(Q,oe)=>{Ke(Q??null),Jt(oe??null),A(!0)},Ai=Q=>{if(console.log(" openSaleModal arld:",{modalAcikMi:N,saleId:Q?.id,isNewSale:!Q}),!N){console.log(" Modal kapal, direkt alyor"),St(Q||null),S(!0);return}console.log(" Modal ak, kapatp yeniden alacak"),S(!1),setTimeout(()=>{console.log(" 100ms sonra state gncelleniyor"),St(Q||null),setTimeout(()=>{console.log(" 50ms sonra modal alyor"),S(!0)},50)},100)},_i=Q=>{Ge(Q??null),j(!0)},No=()=>{I(!0)},sa=Q=>{Ge(Q),G(!0)},Ei=Q=>{Mt(Q??null),re(!0)},jo=()=>{$(!1),lt(null)},yl=()=>{K(!1),Rt(null)},bl=()=>{_(!1),Ut(null),Fe(null)},vl=()=>{A(!1),Ke(null),Jt(null)},Ia=()=>{console.log(" closeSaleModal arld"),S(!1),setTimeout(()=>{console.log(" 100ms sonra selectedSale temizleniyor"),St(null)},100)},wl=()=>{j(!1),Ge(null)},dd=()=>{I(!1)},kl=()=>{re(!1),Mt(null)},ud=()=>ee(!1),md=()=>z(!1),Nl=()=>se(!1),hd=()=>ne(!1),fd=()=>Se(!1),pd=()=>{G(!1)},gd=()=>ge(!1),Ti=()=>Ae(!1),xd=()=>te(!1),jl=Q=>{Fe(Q||null),ee(!1),Ae(!1),je(!0)},yd=Q=>{gr(oe=>oe.map(de=>de.customerName===Q.name&&de.status!=="paid"?{...de,status:"paid"}:de))},So=Q=>{hn(null,{name:Q?.name,category:Q?.category}),z(!1),te(!1)},Pi=sr.useCallback(Q=>{if(!Q||typeof Q!="object")return Q;const oe=Q?.customer?.name||Q?.customerName||"",de=Q?.customer?.email||Q?.customerEmail||"",xe=Q?.customer?.address||Q?.customerAddress||"";let Me=Array.isArray(Q.items)?Q.items:[];(!Me||Me.length===0)&&Array.isArray(Q.lineItems)&&(Me=Q.lineItems.map((He,We)=>({id:He?.id||`${Date.now()}-${We}-${Math.random().toString(36).slice(2,8)}`,description:He?.description||He?.productName||"",quantity:Number(He?.quantity)||1,unitPrice:Number(He?.unitPrice)||0,total:Number(He?.total)||(Number(He?.quantity)||1)*(Number(He?.unitPrice)||0),productId:He?.productId,unit:He?.unit,taxRate:Number(He?.taxRate??18)})));const Ve=()=>{try{if(!Array.isArray(Me)||Me.length===0)return Q.type;const He=new Set,We=new Map;ve.forEach(jt=>We.set(String(jt.id),jt));const Xe=new Map;Ft.forEach(jt=>Xe.set((jt.name||"").toLowerCase(),jt));const gt=jt=>{if(!jt)return;const ft=Xe.get(String(jt).toLowerCase());if(!ft)return String(jt);let wt=ft;const $t=new Map(Ft.map(Ht=>[Ht.id,Ht]));for(;wt&&wt.parentId;)wt=$t.get(wt.parentId);return wt?.name||ft.name};for(const jt of Me){const wt=((jt.productId?We.get(String(jt.productId)):void 0)||ve.find(br=>(br.name||"").toLowerCase()===String(jt.productName||jt.description||"").toLowerCase()))?.category,$t=gt(wt)?.toLowerCase()||"",Ht=$t.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");Ht.includes("hizmet")||$t.includes("hizmet")?He.add("service"):(Ht.includes("urun")||$t.includes("rn"))&&He.add("product")}return He.size===0?Q.type:He.size>1?"general":He.values().next().value}catch{return Q.type}},Le=Q.customer||(Q.customerId?{id:String(Q.customerId),name:oe||void 0,email:de||void 0,address:xe||void 0}:void 0),Je=Ve();return{...Q,items:Me,customerName:oe,customerEmail:de,customerAddress:xe,customer:Le,type:Je||Q.type}},[ve,Ft]),Di=async Q=>{try{let oe=Q;const de=Array.isArray(Q?.items)&&Q.items.length>0,xe=Array.isArray(Q?.lineItems)&&Q.lineItems.length>0;if(!de&&!xe&&Q?.id)try{oe=await Sc(String(Q.id))}catch(Le){console.warn("PDF iin fatura detay alnamad, mevcut veri kullanlacak:",Le)}const Me=Pi(oe);await(await _r(()=>import("./pdfGenerator-35WlICye.js").then(Le=>Le.p),[])).generateInvoicePDF(Me,{company:h,lang:s.language})}catch(oe){console.error(oe)}},Ma=sr.useCallback(async Q=>{try{let oe=Q;const de=Array.isArray(Q?.items)&&Q.items.length>0,xe=Array.isArray(Q?.lineItems)&&Q.lineItems.length>0;if(!de&&!xe&&Q?.id)try{oe=await Sc(String(Q.id))}catch(Me){console.warn("Fatura grntleme: detay alnamad, mevcut veri kullanlacak:",Me)}Ut(Pi(oe)),se(!0)}catch(oe){console.error("openInvoiceView failed:",oe),Ut(Pi(Q)),se(!0)}},[Pi]);sr.useEffect(()=>{const Q=Me=>{const Ve=Me,Le=Ve.detail&&(Ve.detail.invoice||Ve.detail);Le&&Us(Le)},oe=Me=>{const Ve=Me,Le=Ve.detail&&(Ve.detail.invoice||Ve.detail);Le&&Di(Le)},de=Me=>{const Ve=Me,Le=Ve.detail&&(Ve.detail.quote||Ve.detail);Le&&(Ne(Le),ce(!0))},xe=Me=>{const Ve=Me,Le=Ve.detail&&(Ve.detail.sale||Ve.detail);Le&&Ai(Le)};return window.addEventListener("open-invoice-edit",Q),window.addEventListener("download-invoice",oe),window.addEventListener("open-quote-edit",de),window.addEventListener("open-sale-edit",xe),()=>{window.removeEventListener("open-invoice-edit",Q),window.removeEventListener("download-invoice",oe),window.removeEventListener("open-quote-edit",de),window.removeEventListener("open-sale-edit",xe)}},[Us,Di]);const Ra=async Q=>{try{await(await _r(()=>import("./pdfGenerator-35WlICye.js").then(de=>de.p),[])).generateExpensePDF(Q,{company:h,lang:s.language})}catch(oe){console.error(oe)}},za=async Q=>{try{await(await _r(()=>import("./pdfGenerator-35WlICye.js").then(de=>de.p),[])).generateSalePDF(Q,{company:h,lang:s.language})}catch(oe){console.error(oe)}},bd=Z.useMemo(()=>{const Q=new Date,oe=Q.getMonth(),de=Q.getFullYear(),xe=new Date(de,oe-1,1),Me=xe.getMonth(),Ve=xe.getFullYear(),Le=(zt,Mr,Vs)=>{if(!zt)return!1;const zr=new Date(zt);return!isNaN(zr.getTime())&&zr.getMonth()===Mr&&zr.getFullYear()===Vs},Je=zt=>Number(zt?.amount??(zt?.quantity||0)*(zt?.unitPrice||0)),He=zt=>Number(zt?.amount??0),We=zt=>Number(zt?.total??0),Xe=(zt,Mr)=>zt.reduce((Vs,zr)=>Vs+Mr(zr),0),gt=pt.filter(zt=>{const Mr=String(zt.status||"").toLowerCase();return Mr.includes("paid")||Mr.includes("den")||Mr.includes("odendi")||Mr.includes("denendi")}),jt=zt=>!!zt?.invoiceId||Lt.some(Mr=>String(Mr?.saleId||"")===String(zt?.id||"")),ft=Lt.filter(zt=>zt.status==="paid"&&Le(zt?.issueDate,oe,de)),wt=Lt.filter(zt=>zt.status==="paid"&&Le(zt?.issueDate,Me,Ve)),$t=st.filter(zt=>String(zt?.status).toLowerCase()==="completed"&&Le(zt?.date||zt?.saleDate,oe,de)&&!jt(zt)),Ht=st.filter(zt=>String(zt?.status).toLowerCase()==="completed"&&Le(zt?.date||zt?.saleDate,Me,Ve)&&!jt(zt)),br=Xe(ft,We)+Xe($t,Je),Tt=Xe(wt,We)+Xe(Ht,Je),Yt=Xe(gt.filter(zt=>Le(zt?.expenseDate,oe,de)),He),Ir=Xe(gt.filter(zt=>Le(zt?.expenseDate,Me,Ve)),He),Nr=Lt.filter(zt=>zt.status!=="paid"),Hr=Xe(Nr,We),Xt=Nr.filter(zt=>Le(zt?.dueDate||zt?.issueDate,oe,de)).length,cr=Nr.filter(zt=>Le(zt?.dueDate||zt?.issueDate,Me,Ve)).length,vr=zt=>typeof zt=="string"?zt.trim().toLowerCase():"",ks=(zt,Mr)=>{const Vs=new Set;return Lt.forEach(zr=>{Le(zr?.issueDate,zt,Mr)&&zr?.customerName&&Vs.add(vr(zr.customerName))}),st.forEach(zr=>{const _l=zr?.date||zr?.saleDate;Le(_l,zt,Mr)&&zr?.customerName&&Vs.add(vr(zr.customerName))}),Vs.size},fn=ks(oe,de),ls=ks(Me,Ve),zn=Nt.reduce((zt,Mr)=>Mr?.currency&&Mr.currency!=="TRY"?zt:zt+Number(Mr?.balance??0),0),Ns=(zt,Mr)=>zt===0?Mr===0?0:100:(Mr-zt)/zt*100,Qn=(zt,Mr)=>Ns(zt,Mr)>=0?"increase":"decrease";return{statsCards:[{title:d("dashboard.totalRevenue"),value:m(br),change:Ic(Ns(Tt,br)),changeType:Qn(Tt,br),icon:vs,color:"green"},{title:d("dashboard.totalExpense"),value:m(Yt),change:Ic(Ns(Ir,Yt)),changeType:Qn(Ir,Yt),icon:Kn,color:"red"},{title:d("dashboard.pendingInvoices"),value:m(Hr),change:Ic(Ns(cr,Xt)),changeType:Qn(cr,Xt),icon:Or,color:"purple",subtitle:d("stats.all")},{title:d("dashboard.activeCustomers"),value:String(fn),change:Ic(Ns(ls,fn)),changeType:Qn(ls,fn),icon:hs,color:"blue"}],outstandingAmount:Hr,totalCash:zn}},[Lt,pt,st,Pt,Nt,d]),Co=()=>{console.info("Exported data",{customers:Pt,suppliers:tr,invoices:Lt,expenses:pt,sales:st,products:ve,bankAccounts:Nt,company:h})},na=Q=>{if(Q){if(Array.isArray(Q.customers)&&Ot(Q.customers.map(oe=>({...oe,id:String(oe.id)}))),Array.isArray(Q.suppliers)&&Wt(Q.suppliers.map(oe=>({...oe,id:String(oe.id)}))),Array.isArray(Q.invoices)&&gr(Q.invoices.map(oe=>({...oe,id:String(oe.id)}))),Array.isArray(Q.expenses)&&De(Q.expenses.map(oe=>({...oe,id:String(oe.id)}))),Array.isArray(Q.sales)&&At(Q.sales.map(oe=>({...oe,id:String(oe.id)}))),Array.isArray(Q.products)){const oe=Q.products.map(xe=>({...xe,id:String(xe.id),category:xe.category||"Genel"}));Re(oe);const de=oe.map(xe=>xe.category?String(xe.category).trim():"").filter(xe=>!!xe);de.length&&dt(xe=>{const Me=new Set(xe);return de.forEach(Ve=>{Me.add(Ve)}),Array.from(Me).sort((Ve,Le)=>Ve.localeCompare(Le,"tr-TR"))})}Array.isArray(Q.bankAccounts)&&Kt(Q.bankAccounts.map(oe=>({...oe,id:String(oe.id)})))}},Ii=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:bd.statsCards.map(Q=>e.jsx(gS,{title:Q.title,value:Q.value,change:Q.change,changeType:Q.changeType,icon:Q.icon,color:Q.color,subtitle:Q.subtitle},Q.title))}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsx(xS,{sales:st,expenses:pt,invoices:Lt}),(()=>{let Q=[];try{const oe=f?.id,de=oe?`quotes_cache_${oe}`:"quotes_cache",xe=typeof window<"u"?localStorage.getItem(de):null,Me=xe?JSON.parse(xe):[];Array.isArray(Me)&&(Q=Me)}catch{}return e.jsx(yS,{invoices:Lt,expenses:pt,sales:st,quotes:Q,onViewInvoice:oe=>{Ma(oe)},onEditInvoice:oe=>Us(oe),onDownloadInvoice:Di,onViewExpense:oe=>{Ke(oe),ne(!0)},onEditExpense:oe=>hn(oe),onDownloadExpense:Ra,onViewSale:oe=>{St(oe),Se(!0)},onEditSale:oe=>Ai(oe),onDownloadSale:za,onViewQuote:oe=>{Ne(oe),le(!0)},onViewAllTransactions:()=>Xr("general-ledger")})})()]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(bS,{onNewInvoice:()=>Us(),onNewExpense:()=>hn(),onNewSale:()=>Ai(),onNewQuote:()=>Te(!0),onNewCustomer:()=>di(),onNewProduct:()=>_i(),onViewCustomers:()=>Xr("customers"),onViewSuppliers:()=>Xr("suppliers"),onViewBanks:()=>Xr("banks"),onViewProducts:()=>Xr("products"),customers:Pt,suppliers:tr,banks:Nt,products:ve}),e.jsx(L3,{onNavigateToFiscalPeriods:()=>Xr("fiscal-periods")}),e.jsx(vS,{invoices:Lt,expenses:pt,onViewOverdueInvoices:()=>Xr("invoices"),onViewPendingExpenses:()=>Xr("expenses")})]})]})]}),vd=()=>{if(i.startsWith("customer-history:")){const Q=sr.lazy(()=>_r(()=>import("./CustomerHistoryPage-BnrkkcbB.js"),[]));return e.jsx(sr.Suspense,{fallback:e.jsx("div",{className:"p-6",children:"Ykleniyor..."}),children:e.jsx(Q,{})})}switch(i){case"dashboard":return Ii();case"customers":return e.jsx(m3,{customers:Pt,onAddCustomer:()=>di(),onEditCustomer:Q=>di(Q),onDeleteCustomer:Q=>Fs(Q),onViewCustomer:Q=>{lt(Q),ee(!0)},onImportCustomers:Yn});case"products":return e.jsx(h3,{products:ve,categories:nt,onAddProduct:()=>_i(),onEditProduct:Q=>_i(Q),onDeleteProduct:Q=>cd(Q),onViewProduct:Q=>sa(Q),onAddCategory:No,onEditCategory:Ta,onDeleteCategory:vo,onBulkAction:gl,onImportProducts:Nn});case"suppliers":return e.jsx(f3,{suppliers:tr,onAddSupplier:()=>Pa(),onEditSupplier:Q=>Pa(Q),onDeleteSupplier:ad,onViewSupplier:Q=>{Rt(Q),z(!0)}});case"invoices":return e.jsx(b3,{invoices:Lt,onAddInvoice:()=>Us(),onEditInvoice:Q=>Us(Q),onDeleteInvoice:ta,onViewInvoice:Q=>{Ma(Q)},onUpdateInvoice:li,onDownloadInvoice:Di,onVoidInvoice:od,onRestoreInvoice:fl});case"expenses":return e.jsx(v3,{expenses:pt,onAddExpense:()=>hn(),onEditExpense:Q=>hn(Q),onDeleteExpense:Q=>pl(Q),onViewExpense:Q=>{Ke(Q),ne(!0)},onUpdateExpense:Q=>De(oe=>oe.map(de=>de.id===Q.id?Q:de)),onDownloadExpense:Ra,onVoidExpense:ld,onRestoreExpense:ra});case"banks":return e.jsx(w3,{bankAccounts:Nt,onAddBank:()=>Ei(),onEditBank:Q=>Ei(Q),onDeleteBank:Q=>wo(Q),onViewBank:Q=>{Mt(Q),ge(!0)}});case"sales":return e.jsx(T3,{customers:Pt,sales:st,invoices:Lt,products:ve,onSalesUpdate:Q=>{console.log(" SimpleSalesPage sales gncelleme:",Q.length),At(Q)},onUpsertSale:ci,onCreateInvoice:bo,onEditInvoice:Q=>Us(Q),onDownloadSale:za});case"quotes":return e.jsx(O3,{customers:Pt,products:ve});case"reports":return e.jsx(C3,{invoices:Lt,expenses:pt,sales:st,customers:Pt});case"general-ledger":return e.jsx(E3,{invoices:Lt,expenses:pt,sales:st,onViewInvoice:Q=>{Ma(Q)},onEditInvoice:Q=>Us(Q),onViewExpense:Q=>{Ke(Q),ne(!0)},onEditExpense:Q=>hn(Q),onViewSale:Q=>{St(Q),Se(!0)},onEditSale:Q=>Ai(Q),onInvoicesUpdate:gr,onExpensesUpdate:De,onSalesUpdate:At});case"chart-of-accounts":return e.jsx(A3,{accounts:p,onAccountsUpdate:g,invoices:Lt,expenses:pt,sales:st,customers:Pt});case"archive":return e.jsx(_3,{invoices:Lt,expenses:pt,sales:st,customers:Pt,suppliers:tr,onViewInvoice:Q=>{Ma(Q)},onViewExpense:Q=>{Ke(Q),ne(!0)},onViewSale:Q=>{St(Q),Se(!0)},onViewCustomer:Q=>{lt(Q),ee(!0)},onViewSupplier:Q=>{Rt(Q),z(!0)},onDownloadInvoice:Di,onDownloadExpense:Ra,onDownloadSale:za});case"settings":return e.jsx(Zu,{user:o,company:h,bankAccounts:Nt,onUserUpdate:c,onCompanyUpdate:Sr,onExportData:Co,onImportData:na,initialTab:n});case"fiscal-periods":return e.jsx(Zu,{user:o,company:h,bankAccounts:Nt,onUserUpdate:c,onCompanyUpdate:Sr,onExportData:Co,onImportData:na,initialTab:"fiscal-periods"});case"admin":return e.jsx(qp,{});case"legal-terms":return e.jsx(Jp,{});case"legal-privacy":return e.jsx(eg,{});case"legal-subprocessors":return e.jsx(tg,{});case"legal-dpa":return e.jsx(rg,{});case"legal-cookies":return e.jsx(sg,{});case"legal-imprint":return e.jsx(ng,{});case"legal-email-policy":return e.jsx(ig,{});case"organization-members":return e.jsx(Zu,{user:o,company:h,bankAccounts:Nt,onUserUpdate:c,onCompanyUpdate:Sr,onExportData:Co,onImportData:na,initialTab:"organization"});default:if(i.startsWith("join-organization:")){const Q=i.replace("join-organization:","");return e.jsx(lg,{token:Q,onJoinSuccess:()=>{r("dashboard"),window.location.hash=""},onNavigateHome:()=>{r("landing"),window.location.hash=""},onNavigateDashboard:()=>{r("dashboard"),window.location.hash=""}})}return Ii()}},Sl=()=>ir.length===0?null:e.jsx("div",{className:"pointer-events-none fixed bottom-6 right-6 z-50 flex w-80 flex-col gap-2",children:ir.map(Q=>e.jsx("div",{className:`pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${I6[Q.tone]}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("span",{className:"text-sm font-medium",children:Q.message}),e.jsx("button",{type:"button",onClick:()=>kn(Q.id),className:"rounded text-xs font-semibold text-current transition-opacity hover:opacity-75",children:"X"})]})},Q.id))}),Cl=()=>e.jsxs(e.Fragment,{children:[ye&&e.jsx(T0,{isOpen:ye,onClose:()=>Te(!1),customers:Pt,products:ve,onCreate:Q=>{try{const oe=x?.tenantId!=null?String(x.tenantId):localStorage.getItem("tenantId")||"",de=oe?`quotes_cache_${oe}`:"quotes_cache",xe=localStorage.getItem(de),Me=xe?JSON.parse(xe):[],Ve=(Array.isArray(Me)?Me.length:0)+1,Le=`q${Date.now()}`,Je=`Q-${new Date().getFullYear()}-${String(Ve).padStart(4,"0")}`,We=[{id:Le,quoteNumber:Je,customerName:Q.customer.name,customerId:String(Q.customer.id??""),issueDate:Q.issueDate,validUntil:Q.validUntil,currency:Q.currency,total:Q.total,status:"draft",version:1,items:Q.items},...Array.isArray(Me)?Me:[]];localStorage.setItem(de,JSON.stringify(We)),Te(!1),Bt("Teklif oluturuldu","success")}catch(oe){console.error("Quote create (dashboard) failed:",oe),Bt("Teklif oluturulamad","error")}}}),O&&e.jsx(wS,{isOpen:O,onClose:jo,onSave:Q=>{Ls(Q),jo()},customer:ot}),B&&e.jsx(SS,{isOpen:B,onClose:yl,onSave:Q=>{Bs(Q),yl()},supplier:Et}),Ce&&e.jsx(t3,{isOpen:Ce,onClose:()=>je(!1),onSelectNewSale:Da,onSelectExistingSale:xl,onSelectReturn:$s}),tt&&e.jsx(r3,{isOpen:tt,onClose:()=>Pe(!1),onSelectSale:Ci,sales:qe?st.filter(Q=>Q.customerName&&qe?.name&&String(Q.customerName)===String(qe.name)||Q.customerEmail&&qe?.email&&String(Q.customerEmail)===String(qe.email)):st,existingInvoices:Lt}),ke&&be&&e.jsx(s3,{isOpen:ke,onClose:()=>{ze(!1),Be(null)},onSave:ko,sale:be}),U&&e.jsx(CS,{onClose:bl,onSave:async Q=>{await bo(Q),bl()},invoice:yt,customers:Pt,products:ve,invoices:Lt}),M&&e.jsx(_S,{isOpen:M,onClose:vl,onSave:Q=>{Aa(Q),vl()},expense:$e,suppliers:tr,supplierInfo:Ct}),w&&e.jsx(kS,{isOpen:w,onClose:wl,onSave:Q=>{_a(Q),wl()},categories:nt,categoryObjects:Ft,product:Ie}),N&&e.jsx(v0,{isOpen:N,onClose:Ia,onSave:Q=>{ci(Q),Ia()},sale:ht,customers:Pt,products:ve}),X&&e.jsx(ES,{isOpen:X,onClose:kl,onSave:Q=>{Xn(Q),kl()},bank:ct,bankAccount:ct,country:h?.country}),e.jsx(n3,{isOpen:q,onClose:ud,customer:ot,onEdit:Q=>{ee(!1),setTimeout(()=>di(Q),50)},onCreateInvoice:jl,onRecordPayment:yd,onViewHistory:Q=>{try{const oe=`${window.location.origin}/#customer-history:${encodeURIComponent(String(Q?.id||""))}`;window.open(oe,"_blank")}catch{r(`customer-history:${String(Q?.id||"")}`)}}}),e.jsx(a3,{isOpen:R,onClose:md,supplier:Et,onEdit:Q=>Pa(Q),onCreateExpense:So,onViewHistory:Q=>{Rt(Q),te(!0)}}),e.jsx(Bm,{isOpen:W,onClose:Nl,invoice:yt,onEdit:Q=>Us(Q),onDownload:Di}),e.jsx(S0,{isOpen:he,onClose:hd,expense:$e,onEdit:Q=>hn(Q),onDownload:Ra}),e.jsx(Um,{isOpen:me,onClose:fd,sale:ht,onEdit:Q=>Ai(Q),onDelete:Si,onDownload:za}),e.jsx(A0,{isOpen:Ee,onClose:()=>le(!1),quote:xt,onEdit:Q=>{le(!1),setTimeout(()=>{Ne(Q),ce(!0)},50)}}),ie&&e.jsx(E0,{isOpen:ie,onClose:()=>ce(!1),quote:xt,products:ve,onSave:async Q=>{try{const oe=await co(String(Q.id),{customerId:Q.customerId,customerName:Q.customerName,issueDate:Q.issueDate,validUntil:Q.validUntil,currency:Q.currency,total:Q.total,items:(Q.items||[]).map(de=>({description:de.description,quantity:de.quantity,unitPrice:de.unitPrice,total:de.total,productId:de.productId,unit:de.unit})),scopeOfWorkHtml:Q.scopeOfWorkHtml||"",status:Q.status});try{const de=localStorage.getItem("tenantId")||"",xe=de?`quotes_cache_${de}`:"quotes_cache",Me=localStorage.getItem(xe),Ve=Me?JSON.parse(Me):[],Le=Array.isArray(Ve)?Ve.map(Je=>String(Je.id)===String(oe.id)?{...Je,quoteNumber:oe.quoteNumber??Je.quoteNumber,customerName:oe.customer?.name||oe.customerName||Q.customerName,customerId:oe.customerId??Je.customerId,issueDate:String(oe.issueDate||Q.issueDate).slice(0,10),validUntil:oe.validUntil?String(oe.validUntil).slice(0,10):Q.validUntil||null,currency:oe.currency??Q.currency,total:Number(oe.total??Q.total)||0,status:oe.status??Q.status,version:oe.version??Je.version,scopeOfWorkHtml:oe.scopeOfWorkHtml??Je.scopeOfWorkHtml,items:Array.isArray(oe.items)?oe.items:Je.items||Q.items||[]}:Je):[];localStorage.setItem(xe,JSON.stringify(Le));try{window.dispatchEvent(new Event("quotes-cache-updated"))}catch{}}catch(de){console.warn("Quotes cache update failed:",de)}}catch(oe){console.error("Quote update failed:",oe)}finally{ce(!1)}}}),e.jsx(i3,{isOpen:L,onClose:pd,product:Ie,onEdit:Q=>_i(Q)}),e.jsx(b0,{isOpen:E,onClose:dd,onSubmit:Ea,categories:nt}),e.jsx(l3,{isOpen:ae,onClose:gd,bankAccount:ct,onEdit:Q=>Ei(Q)}),e.jsx(c3,{isOpen:pe,onClose:Ti,customer:ot,invoices:Lt.filter(Q=>{const oe=ot;if(!oe)return!1;const de=String(Q?.customerId||Q?.customer?.id||""),xe=String(oe?.id||"");if(de&&xe)return de===xe;const Me=String(Q?.customer?.name||Q?.customerName||"").trim(),Ve=String(oe?.name||"").trim();return Me&&Ve&&Me===Ve}),sales:st.filter(Q=>Q.customerName===ot?.name),onViewInvoice:async Q=>{Ti(),setTimeout(async()=>{let oe=Q;const de=Array.isArray(Q?.items)&&Q.items.length>0,xe=Array.isArray(Q?.lineItems)&&Q.lineItems.length>0;if(!de&&!xe&&Q?.id)try{oe=await Sc(String(Q.id))}catch(Me){console.warn("Gemiten fatura grntleme: detay alnamad, mevcut veri kullanlacak:",Me)}Ut(Pi(oe)),se(!0)},50)},onViewSale:Q=>{Ti(),setTimeout(()=>{St(Q),Se(!0)},50)},onViewQuote:Q=>{Ti(),setTimeout(()=>{Ne(Q),le(!0)},50)},onCreateInvoice:jl}),e.jsx(d3,{isOpen:fe,onClose:xd,supplier:Et,expenses:pt.filter(Q=>Q.supplier===Et?.name),onViewExpense:Q=>{Ke(Q),ne(!0)},onCreateExpense:So}),Qe&&e.jsx(u3,{isOpen:at,onClose:()=>{we(!1),ut(null)},title:Qe.title,message:Qe.message,relatedItems:Qe.relatedItems,itemType:Qe.itemType}),kr&&e.jsx(mo,{isOpen:!0,title:kr.title,message:kr.message,tone:kr.tone,confirmLabel:kr.confirmLabel||d("common.ok"),onConfirm:kr.onConfirm,onClose:()=>ar(null)})]});if(sr.useEffect(()=>{const Q=async()=>{try{const xe=x?.tenantId!=null?String(x.tenantId):localStorage.getItem("tenantId")||"",Me=xe?`quotes_cache_${xe}`:"quotes_cache",Ve=localStorage.getItem(Me);if(!Ve)return;const Le=JSON.parse(Ve);if(!Array.isArray(Le)||Le.length===0)return;let Je=!1;for(const He of Le)if(He&&He.status==="accepted"){const We=`quote_converted_${He.id}`,Xe=localStorage.getItem(We);if(Xe==="done"||He.convertedToSale||Xe&&Xe.startsWith("pending:"))continue;const gt=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`;try{localStorage.setItem(We,`pending:${gt}`)}catch{}if(localStorage.getItem(We)!==`pending:${gt}`)continue;const wt=(Array.isArray(He.items)?He.items:[]).map(Ht=>({productId:Ht?.productId,productName:Ht?.description||Ht?.productName||"rn/Hizmet",quantity:Number(Ht?.quantity||1),unitPrice:Number(Ht?.unitPrice||0),total:Number(Ht?.total||Number(Ht?.unitPrice||0)*Number(Ht?.quantity||1))})),$t=wt.reduce((Ht,br)=>Ht+Number(br.total||0),0);try{const Ht=await $p({customerId:He.customerId,saleDate:new Date().toISOString().split("T")[0],items:wt.map(Tt=>({productId:Tt.productId,productName:Tt.productName,quantity:Number(Tt.quantity)||1,unitPrice:Number(Tt.unitPrice)||0,taxRate:Number(Tt.taxRate??18)})),discountAmount:0,notes:"Teklif kabul edildi (otomatik oluturuldu)".trim(),sourceQuoteId:String(He.id)}),br={id:Ht.id,saleNumber:Ht.saleNumber||void 0,customerName:He.customerName,customerEmail:void 0,items:Array.isArray(Ht.items)?Ht.items:wt,productName:wt.length>0?`${wt[0].productName}${wt.length>1?` +${wt.length-1}`:""}`:"Tekliften Sat",quantity:wt[0]?.quantity||void 0,unitPrice:wt[0]?.unitPrice||void 0,amount:Number(Ht.total??$t)||$t,total:Number(Ht.total??$t)||$t,date:Ht.saleDate?String(Ht.saleDate).slice(0,10):new Date().toISOString().slice(0,10),status:"completed",sourceQuoteId:String(He.id)};At(Tt=>{const Ir=Tt.some(Nr=>String(Nr.sourceQuoteId||"")===String(He.id)||String(Nr.id)===String(Ht.id))?Tt:[...Tt,br];try{const Nr=localStorage.getItem("tenantId")||"",Hr=Nr?`sales_${Nr}`:"sales",Xt=Nr?`sales_cache_${Nr}`:"sales_cache";localStorage.setItem(Hr,JSON.stringify(Ir)),localStorage.setItem(Xt,JSON.stringify(Ir))}catch{}return Ir})}catch(Ht){console.warn("QuoteSale dnmnde backend hatas, local fallback kullanlacak:",Ht);const br={customerName:He.customerName,productName:wt.length>0?`${wt[0].productName}${wt.length>1?` +${wt.length-1}`:""}`:"Tekliften Sat",amount:$t,total:$t,items:wt,date:new Date().toISOString().split("T")[0],status:"completed",sourceType:"quote",sourceQuoteId:String(He.id)};try{await ci(br)}catch{}}He.convertedToSale=!0;try{localStorage.setItem(We,"done")}catch{}Je=!0}Je&&localStorage.setItem(Me,JSON.stringify(Le))}catch(xe){console.warn("Accepted quotes processing failed:",xe)}},oe=xe=>{const Me=x?.tenantId!=null?String(x.tenantId):localStorage.getItem("tenantId")||"",Ve=Me?`quotes_cache_${Me}`:"quotes_cache";xe.key===Ve&&Q()},de=()=>{document.visibilityState==="visible"&&Q()};return window.addEventListener("storage",oe),window.addEventListener("quotes-cache-updated",Q),document.addEventListener("visibilitychange",de),Q(),()=>{window.removeEventListener("storage",oe),window.removeEventListener("quotes-cache-updated",Q),document.removeEventListener("visibilitychange",de)}},[]),Lr)return e.jsx("div",{className:"min-h-screen",children:e.jsx(_6,{quoteId:Lr})});if(i==="admin")return e.jsx(qp,{});if(i==="register")return e.jsx(F3,{});if(i==="landing")return e.jsx(t6,{});if(!k&&i==="login")return e.jsx(Xp,{});if(!k&&typeof i=="string"&&i.startsWith("join-organization:")){const Q=i.replace("join-organization:","");return e.jsx(lg,{token:Q,onJoinSuccess:()=>{r("dashboard"),window.location.hash=""},onNavigateHome:()=>{r("landing"),window.location.hash=""},onNavigateDashboard:()=>{r("dashboard"),window.location.hash=""}})}if(!k&&i==="forgot-password")return e.jsx(B3,{});if(!k&&i==="reset-password")return e.jsx(U3,{});if(!k&&i==="verify-email")return e.jsx($3,{});if(!k&&i==="verify-notice")return e.jsx(V3,{});if(!k&&i.startsWith("legal-")){const Q=()=>{switch(i){case"legal-terms":return e.jsx(Jp,{});case"legal-privacy":return e.jsx(eg,{});case"legal-subprocessors":return e.jsx(tg,{});case"legal-dpa":return e.jsx(rg,{});case"legal-cookies":return e.jsx(sg,{});case"legal-imprint":return e.jsx(ng,{});case"legal-email-policy":return e.jsx(ig,{});default:return e.jsx("div",{children:"Legal page not found"})}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(oi,{}),e.jsx(ag,{}),e.jsx(og,{}),Q()]})}if(i==="help")return e.jsx(n6,{});if(i==="about")return e.jsx(r6,{});if(i==="api")return e.jsx(s6,{});if(!k)return e.jsx(Xp,{});const Al=(()=>{if(typeof i=="string"&&i.startsWith("customer-history:")){const Q=i.split(":")[1];if(Q){const oe=Pt.find(de=>String(de.id)===String(Q));if(oe?.name)return String(oe.name);try{const de=f?.id||x?.tenantId||localStorage.getItem("tenantId")||"",xe=de?`customers_cache_${de}`:"customers_cache",Me=localStorage.getItem(xe);if(Me){const Ve=JSON.parse(Me);if(Array.isArray(Ve)){const Le=Ve.find(Je=>String(Je.id)===String(Q));if(Le?.name)return String(Le.name)}}}catch{}}return}})();return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(pS,{currentPage:i,onPageChange:Xr,invoices:Lt,expenses:pt,isOpen:F,onClose:Rn}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(fS,{user:o,onLogout:mn,onNewInvoice:()=>Us(),onNewSale:()=>Ai(),activePage:i,customTitle:Al,onToggleSidebar:ji,notifications:b,unreadCount:os,isNotificationsOpen:T,onToggleNotifications:pr,onCloseNotifications:Es,onNotificationClick:un,onOpenSettingsProfile:()=>Mn("profile")}),e.jsx("main",{className:"flex-1 px-3 py-6 sm:px-6 lg:px-8",children:vd()})]})]}),Sl(),Cl(),e.jsx(ag,{}),e.jsx(og,{})]})},R6=()=>e.jsx(Jv,{children:e.jsx(mv,{children:e.jsx(e1,{children:e.jsx(t1,{children:e.jsx(M6,{})})})})}),z6=typeof localStorage<"u"&&localStorage.getItem("debug")==="1";z6&&(console.log("=== ENVIRONMENT DEBUG (safe) ==="),console.log("VITE_API_URL:","http://localhost:3000"),console.log("MODE:","production","| DEV:",!1,"| PROD:",!0),console.log("Final API URL will be:","http://localhost:3000"));window.envDebug=()=>{console.log("Current API Base URL:","http://localhost:3000")};wr.installConsoleMute();const z0=document.getElementById("root");if(!z0)throw new Error("Root element bulunamad!");const bg=Ox.createRoot(z0);try{bg.render(e.jsx(Z.StrictMode,{children:e.jsx(bb,{children:e.jsx(R6,{})})})),wr.info(" MoneyFlow uygulamas baaryla yklendi!")}catch(k){k instanceof Error?(wr.error(" Uygulama yklenemedi:",k),wr.error("Stack trace:",k.stack)):wr.error(" Uygulama yklenemedi:",k),bg.render(e.jsx(Z.StrictMode,{children:e.jsxs("div",{style:{color:"red",padding:"40px",textAlign:"center",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{children:" Uygulama Yklenemedi"}),e.jsxs("p",{style:{margin:"20px 0"},children:[e.jsx("strong",{children:"Hata:"})," ",k instanceof Error?k.message:String(k)]}),e.jsxs("details",{style:{textAlign:"left",background:"#f8f9fa",padding:"20px",borderRadius:"5px"},children:[e.jsx("summary",{children:"Teknik Detaylar"}),e.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:k instanceof Error?k.stack:JSON.stringify(k,null,2)})]}),e.jsx("p",{style:{marginTop:"20px"},children:e.jsx("a",{href:"/clear-storage.html",style:{color:"#007bff"},children:"Storage' temizle ve tekrar dene"})})]})}))}export{Dr as C,cn as D,ss as E,Bm as I,A0 as Q,sr as R,Um as S,_r as _,it as a,$r as b,wn as c,Q4 as d,tS as e,P3 as f,t5 as g,Sc as h,Jr as i,e as j,co as k,wr as l,r5 as m,s5 as n,_x as o,R0 as p,Ar as q,n5 as r,Qi as s,Vt as u};
